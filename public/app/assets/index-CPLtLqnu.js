(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function oc(n){const t=Object.create(null);for(const s of n.split(","))t[s]=1;return s=>s in t}const Oe={},Ci=[],An=()=>{},R5=()=>!1,cl=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),Zd=n=>n.startsWith("onUpdate:"),Ke=Object.assign,Yd=(n,t)=>{const s=n.indexOf(t);s>-1&&n.splice(s,1)},$5=Object.prototype.hasOwnProperty,Fe=(n,t)=>$5.call(n,t),ae=Array.isArray,wi=n=>Ki(n)==="[object Map]",Kr=n=>Ki(n)==="[object Set]",l1=n=>Ki(n)==="[object Date]",F5=n=>Ki(n)==="[object RegExp]",be=n=>typeof n=="function",Je=n=>typeof n=="string",Pn=n=>typeof n=="symbol",ze=n=>n!==null&&typeof n=="object",Xd=n=>(ze(n)||be(n))&&be(n.then)&&be(n.catch),c0=Object.prototype.toString,Ki=n=>c0.call(n),B5=n=>Ki(n).slice(8,-1),lc=n=>Ki(n)==="[object Object]",Qd=n=>Je(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,bi=oc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ac=n=>{const t=Object.create(null);return s=>t[s]||(t[s]=n(s))},V5=/-(\w)/g,_t=ac(n=>n.replace(V5,(t,s)=>s?s.toUpperCase():"")),H5=/\B([A-Z])/g,Xt=ac(n=>n.replace(H5,"-$1").toLowerCase()),ul=ac(n=>n.charAt(0).toUpperCase()+n.slice(1)),So=ac(n=>n?`on${ul(n)}`:""),Ut=(n,t)=>!Object.is(n,t),ki=(n,...t)=>{for(let s=0;s<n.length;s++)n[s](...t)},u0=(n,t,s,r=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:r,value:s})},ga=n=>{const t=parseFloat(n);return isNaN(t)?n:t},ya=n=>{const t=Je(n)?Number(n):NaN;return isNaN(t)?n:t};let a1;const cc=()=>a1||(a1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),U5="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",j5=oc(U5);function dl(n){if(ae(n)){const t={};for(let s=0;s<n.length;s++){const r=n[s],i=Je(r)?K5(r):dl(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(Je(n)||ze(n))return n}const z5=/;(?![^(]*\))/g,q5=/:([^]+)/,W5=/\/\*[^]*?\*\//g;function K5(n){const t={};return n.replace(W5,"").split(z5).forEach(s=>{if(s){const r=s.split(q5);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Be(n){let t="";if(Je(n))t=n;else if(ae(n))for(let s=0;s<n.length;s++){const r=Be(n[s]);r&&(t+=r+" ")}else if(ze(n))for(const s in n)n[s]&&(t+=s+" ");return t.trim()}function G5(n){if(!n)return null;let{class:t,style:s}=n;return t&&!Je(t)&&(n.class=Be(t)),s&&(n.style=dl(s)),n}const J5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Z5=oc(J5);function d0(n){return!!n||n===""}function Y5(n,t){if(n.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<n.length;r++)s=lr(n[r],t[r]);return s}function lr(n,t){if(n===t)return!0;let s=l1(n),r=l1(t);if(s||r)return s&&r?n.getTime()===t.getTime():!1;if(s=Pn(n),r=Pn(t),s||r)return n===t;if(s=ae(n),r=ae(t),s||r)return s&&r?Y5(n,t):!1;if(s=ze(n),r=ze(t),s||r){if(!s||!r)return!1;const i=Object.keys(n).length,o=Object.keys(t).length;if(i!==o)return!1;for(const l in n){const a=n.hasOwnProperty(l),c=t.hasOwnProperty(l);if(a&&!c||!a&&c||!lr(n[l],t[l]))return!1}}return String(n)===String(t)}function uc(n,t){return n.findIndex(s=>lr(s,t))}const h0=n=>!!(n&&n.__v_isRef===!0),pe=n=>Je(n)?n:n==null?"":ae(n)||ze(n)&&(n.toString===c0||!be(n.toString))?h0(n)?pe(n.value):JSON.stringify(n,f0,2):String(n),f0=(n,t)=>h0(t)?f0(n,t.value):wi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,i],o)=>(s[ou(r,o)+" =>"]=i,s),{})}:Kr(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>ou(s))}:Pn(t)?ou(t):ze(t)&&!ae(t)&&!lc(t)?String(t):t,ou=(n,t="")=>{var s;return Pn(n)?`Symbol(${(s=n.description)!=null?s:t})`:n};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vt;class eh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Vt,!t&&Vt&&(this.index=(Vt.scopes||(Vt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Vt;try{return Vt=this,t()}finally{Vt=s}}}on(){Vt=this}off(){Vt=this.parent}stop(t){if(this._active){let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.scopes)for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function th(n){return new eh(n)}function nh(){return Vt}function p0(n,t=!1){Vt&&Vt.cleanups.push(n)}let Ge;const lu=new WeakSet;class zo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Vt&&Vt.active&&Vt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,lu.has(this)&&(lu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||g0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,c1(this),y0(this);const t=Ge,s=In;Ge=this,In=!0;try{return this.fn()}finally{v0(this),Ge=t,In=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ih(t);this.deps=this.depsTail=void 0,c1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?lu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yu(this)&&this.run()}get dirty(){return Yu(this)}}let m0=0,To,Eo;function g0(n,t=!1){if(n.flags|=8,t){n.next=Eo,Eo=n;return}n.next=To,To=n}function sh(){m0++}function rh(){if(--m0>0)return;if(Eo){let t=Eo;for(Eo=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let n;for(;To;){let t=To;for(To=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){n||(n=r)}t=s}}if(n)throw n}function y0(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function v0(n){let t,s=n.depsTail,r=s;for(;r;){const i=r.prevDep;r.version===-1?(r===s&&(s=i),ih(r),X5(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}n.deps=t,n.depsTail=s}function Yu(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(C0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function C0(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===qo))return;n.globalVersion=qo;const t=n.dep;if(n.flags|=2,t.version>0&&!n.isSSR&&n.deps&&!Yu(n)){n.flags&=-3;return}const s=Ge,r=In;Ge=n,In=!0;try{y0(n);const i=n.fn(n._value);(t.version===0||Ut(i,n._value))&&(n._value=i,t.version++)}catch(i){throw t.version++,i}finally{Ge=s,In=r,v0(n),n.flags&=-3}}function ih(n,t=!1){const{dep:s,prevSub:r,nextSub:i}=n;if(r&&(r.nextSub=i,n.prevSub=void 0),i&&(i.prevSub=r,n.nextSub=void 0),s.subs===n&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)ih(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function X5(n){const{prevDep:t,nextDep:s}=n;t&&(t.nextDep=s,n.prevDep=void 0),s&&(s.prevDep=t,n.nextDep=void 0)}function Q5(n,t){n.effect instanceof zo&&(n=n.effect.fn);const s=new zo(n);t&&Ke(s,t);try{s.run()}catch(i){throw s.stop(),i}const r=s.run.bind(s);return r.effect=s,r}function e4(n){n.effect.stop()}let In=!0;const w0=[];function dr(){w0.push(In),In=!1}function hr(){const n=w0.pop();In=n===void 0?!0:n}function c1(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const s=Ge;Ge=void 0;try{t()}finally{Ge=s}}}let qo=0;class t4{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ge||!In||Ge===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ge)s=this.activeLink=new t4(Ge,this),Ge.deps?(s.prevDep=Ge.depsTail,Ge.depsTail.nextDep=s,Ge.depsTail=s):Ge.deps=Ge.depsTail=s,b0(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Ge.depsTail,s.nextDep=void 0,Ge.depsTail.nextDep=s,Ge.depsTail=s,Ge.deps===s&&(Ge.deps=r)}return s}trigger(t){this.version++,qo++,this.notify(t)}notify(t){sh();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{rh()}}}function b0(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)b0(r)}const s=n.dep.subs;s!==n&&(n.prevSub=s,s&&(s.nextSub=n)),n.dep.subs=n}}const va=new WeakMap,Ar=Symbol(""),Xu=Symbol(""),Wo=Symbol("");function It(n,t,s){if(In&&Ge){let r=va.get(n);r||va.set(n,r=new Map);let i=r.get(s);i||(r.set(s,i=new dc),i.map=r,i.key=s),i.track()}}function rs(n,t,s,r,i,o){const l=va.get(n);if(!l){qo++;return}const a=c=>{c&&c.trigger()};if(sh(),t==="clear")l.forEach(a);else{const c=ae(n),u=c&&Qd(s);if(c&&s==="length"){const h=Number(r);l.forEach((f,p)=>{(p==="length"||p===Wo||!Pn(p)&&p>=h)&&a(f)})}else switch((s!==void 0||l.has(void 0))&&a(l.get(s)),u&&a(l.get(Wo)),t){case"add":c?u&&a(l.get("length")):(a(l.get(Ar)),wi(n)&&a(l.get(Xu)));break;case"delete":c||(a(l.get(Ar)),wi(n)&&a(l.get(Xu)));break;case"set":wi(n)&&a(l.get(Ar));break}}rh()}function n4(n,t){const s=va.get(n);return s&&s.get(t)}function oi(n){const t=Ie(n);return t===n?t:(It(t,"iterate",Wo),an(n)?t:t.map(Ot))}function hc(n){return It(n=Ie(n),"iterate",Wo),n}const s4={__proto__:null,[Symbol.iterator](){return au(this,Symbol.iterator,Ot)},concat(...n){return oi(this).concat(...n.map(t=>ae(t)?oi(t):t))},entries(){return au(this,"entries",n=>(n[1]=Ot(n[1]),n))},every(n,t){return Xn(this,"every",n,t,void 0,arguments)},filter(n,t){return Xn(this,"filter",n,t,s=>s.map(Ot),arguments)},find(n,t){return Xn(this,"find",n,t,Ot,arguments)},findIndex(n,t){return Xn(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return Xn(this,"findLast",n,t,Ot,arguments)},findLastIndex(n,t){return Xn(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return Xn(this,"forEach",n,t,void 0,arguments)},includes(...n){return cu(this,"includes",n)},indexOf(...n){return cu(this,"indexOf",n)},join(n){return oi(this).join(n)},lastIndexOf(...n){return cu(this,"lastIndexOf",n)},map(n,t){return Xn(this,"map",n,t,void 0,arguments)},pop(){return po(this,"pop")},push(...n){return po(this,"push",n)},reduce(n,...t){return u1(this,"reduce",n,t)},reduceRight(n,...t){return u1(this,"reduceRight",n,t)},shift(){return po(this,"shift")},some(n,t){return Xn(this,"some",n,t,void 0,arguments)},splice(...n){return po(this,"splice",n)},toReversed(){return oi(this).toReversed()},toSorted(n){return oi(this).toSorted(n)},toSpliced(...n){return oi(this).toSpliced(...n)},unshift(...n){return po(this,"unshift",n)},values(){return au(this,"values",Ot)}};function au(n,t,s){const r=hc(n),i=r[t]();return r!==n&&!an(n)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=s(o.value)),o}),i}const r4=Array.prototype;function Xn(n,t,s,r,i,o){const l=hc(n),a=l!==n&&!an(n),c=l[t];if(c!==r4[t]){const f=c.apply(n,o);return a?Ot(f):f}let u=s;l!==n&&(a?u=function(f,p){return s.call(this,Ot(f),p,n)}:s.length>2&&(u=function(f,p){return s.call(this,f,p,n)}));const h=c.call(l,u,r);return a&&i?i(h):h}function u1(n,t,s,r){const i=hc(n);let o=s;return i!==n&&(an(n)?s.length>3&&(o=function(l,a,c){return s.call(this,l,a,c,n)}):o=function(l,a,c){return s.call(this,l,Ot(a),c,n)}),i[t](o,...r)}function cu(n,t,s){const r=Ie(n);It(r,"iterate",Wo);const i=r[t](...s);return(i===-1||i===!1)&&mc(s[0])?(s[0]=Ie(s[0]),r[t](...s)):i}function po(n,t,s=[]){dr(),sh();const r=Ie(n)[t].apply(n,s);return rh(),hr(),r}const i4=oc("__proto__,__v_isRef,__isVue"),k0=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Pn));function o4(n){Pn(n)||(n=String(n));const t=Ie(this);return It(t,"has",n),t.hasOwnProperty(n)}class x0{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return r===(i?o?A0:M0:o?E0:T0).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const l=ae(t);if(!i){let c;if(l&&(c=s4[s]))return c;if(s==="hasOwnProperty")return o4}const a=Reflect.get(t,s,nt(t)?t:r);return(Pn(s)?k0.has(s):i4(s))||(i||It(t,"get",s),o)?a:nt(a)?l&&Qd(s)?a:a.value:ze(a)?i?lh(a):Gr(a):a}}class _0 extends x0{constructor(t=!1){super(!1,t)}set(t,s,r,i){let o=t[s];if(!this._isShallow){const c=ar(o);if(!an(r)&&!ar(r)&&(o=Ie(o),r=Ie(r)),!ae(t)&&nt(o)&&!nt(r))return c?!1:(o.value=r,!0)}const l=ae(t)&&Qd(s)?Number(s)<t.length:Fe(t,s),a=Reflect.set(t,s,r,nt(t)?t:i);return t===Ie(i)&&(l?Ut(r,o)&&rs(t,"set",s,r):rs(t,"add",s,r)),a}deleteProperty(t,s){const r=Fe(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&r&&rs(t,"delete",s,void 0),i}has(t,s){const r=Reflect.has(t,s);return(!Pn(s)||!k0.has(s))&&It(t,"has",s),r}ownKeys(t){return It(t,"iterate",ae(t)?"length":Ar),Reflect.ownKeys(t)}}class S0 extends x0{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const l4=new _0,a4=new S0,c4=new _0(!0),u4=new S0(!0),Qu=n=>n,Bl=n=>Reflect.getPrototypeOf(n);function d4(n,t,s){return function(...r){const i=this.__v_raw,o=Ie(i),l=wi(o),a=n==="entries"||n===Symbol.iterator&&l,c=n==="keys"&&l,u=i[n](...r),h=s?Qu:t?ed:Ot;return!t&&It(o,"iterate",c?Xu:Ar),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function Vl(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function h4(n,t){const s={get(i){const o=this.__v_raw,l=Ie(o),a=Ie(i);n||(Ut(i,a)&&It(l,"get",i),It(l,"get",a));const{has:c}=Bl(l),u=t?Qu:n?ed:Ot;if(c.call(l,i))return u(o.get(i));if(c.call(l,a))return u(o.get(a));o!==l&&o.get(i)},get size(){const i=this.__v_raw;return!n&&It(Ie(i),"iterate",Ar),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,l=Ie(o),a=Ie(i);return n||(Ut(i,a)&&It(l,"has",i),It(l,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const l=this,a=l.__v_raw,c=Ie(a),u=t?Qu:n?ed:Ot;return!n&&It(c,"iterate",Ar),a.forEach((h,f)=>i.call(o,u(h),u(f),l))}};return Ke(s,n?{add:Vl("add"),set:Vl("set"),delete:Vl("delete"),clear:Vl("clear")}:{add(i){!t&&!an(i)&&!ar(i)&&(i=Ie(i));const o=Ie(this);return Bl(o).has.call(o,i)||(o.add(i),rs(o,"add",i,i)),this},set(i,o){!t&&!an(o)&&!ar(o)&&(o=Ie(o));const l=Ie(this),{has:a,get:c}=Bl(l);let u=a.call(l,i);u||(i=Ie(i),u=a.call(l,i));const h=c.call(l,i);return l.set(i,o),u?Ut(o,h)&&rs(l,"set",i,o):rs(l,"add",i,o),this},delete(i){const o=Ie(this),{has:l,get:a}=Bl(o);let c=l.call(o,i);c||(i=Ie(i),c=l.call(o,i)),a&&a.call(o,i);const u=o.delete(i);return c&&rs(o,"delete",i,void 0),u},clear(){const i=Ie(this),o=i.size!==0,l=i.clear();return o&&rs(i,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=d4(i,n,t)}),s}function fc(n,t){const s=h4(n,t);return(r,i,o)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(Fe(s,i)&&i in r?s:r,i,o)}const f4={get:fc(!1,!1)},p4={get:fc(!1,!0)},m4={get:fc(!0,!1)},g4={get:fc(!0,!0)},T0=new WeakMap,E0=new WeakMap,M0=new WeakMap,A0=new WeakMap;function y4(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function v4(n){return n.__v_skip||!Object.isExtensible(n)?0:y4(B5(n))}function Gr(n){return ar(n)?n:pc(n,!1,l4,f4,T0)}function oh(n){return pc(n,!1,c4,p4,E0)}function lh(n){return pc(n,!0,a4,m4,M0)}function C4(n){return pc(n,!0,u4,g4,A0)}function pc(n,t,s,r,i){if(!ze(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=i.get(n);if(o)return o;const l=v4(n);if(l===0)return n;const a=new Proxy(n,l===2?r:s);return i.set(n,a),a}function jn(n){return ar(n)?jn(n.__v_raw):!!(n&&n.__v_isReactive)}function ar(n){return!!(n&&n.__v_isReadonly)}function an(n){return!!(n&&n.__v_isShallow)}function mc(n){return n?!!n.__v_raw:!1}function Ie(n){const t=n&&n.__v_raw;return t?Ie(t):n}function hl(n){return!Fe(n,"__v_skip")&&Object.isExtensible(n)&&u0(n,"__v_skip",!0),n}const Ot=n=>ze(n)?Gr(n):n,ed=n=>ze(n)?lh(n):n;function nt(n){return n?n.__v_isRef===!0:!1}function fe(n){return I0(n,!1)}function ah(n){return I0(n,!0)}function I0(n,t){return nt(n)?n:new w4(n,t)}class w4{constructor(t,s){this.dep=new dc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ie(t),this._value=s?t:Ot(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||an(t)||ar(t);t=r?t:Ie(t),Ut(t,s)&&(this._rawValue=t,this._value=r?t:Ot(t),this.dep.trigger())}}function b4(n){n.dep&&n.dep.trigger()}function rt(n){return nt(n)?n.value:n}function k4(n){return be(n)?n():rt(n)}const x4={get:(n,t,s)=>t==="__v_raw"?n:rt(Reflect.get(n,t,s)),set:(n,t,s,r)=>{const i=n[t];return nt(i)&&!nt(s)?(i.value=s,!0):Reflect.set(n,t,s,r)}};function ch(n){return jn(n)?n:new Proxy(n,x4)}class _4{constructor(t){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new dc,{get:r,set:i}=t(s.track.bind(s),s.trigger.bind(s));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function uh(n){return new _4(n)}function O0(n){const t=ae(n)?new Array(n.length):{};for(const s in n)t[s]=L0(n,s);return t}class S4{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return n4(Ie(this._object),this._key)}}class T4{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function E4(n,t,s){return nt(n)?n:be(n)?new T4(n):ze(n)&&arguments.length>1?L0(n,t,s):fe(n)}function L0(n,t,s){const r=n[t];return nt(r)?r:new S4(n,t,s)}class M4{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new dc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ge!==this)return g0(this,!0),!0}get value(){const t=this.dep.track();return C0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function A4(n,t,s=!1){let r,i;return be(n)?r=n:(r=n.get,i=n.set),new M4(r,i,s)}const I4={GET:"get",HAS:"has",ITERATE:"iterate"},O4={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Hl={},Ca=new WeakMap;let $s;function L4(){return $s}function P0(n,t=!1,s=$s){if(s){let r=Ca.get(s);r||Ca.set(s,r=[]),r.push(n)}}function P4(n,t,s=Oe){const{immediate:r,deep:i,once:o,scheduler:l,augmentJob:a,call:c}=s,u=N=>i?N:an(N)||i===!1||i===0?is(N,1):is(N);let h,f,p,m,v=!1,C=!1;if(nt(n)?(f=()=>n.value,v=an(n)):jn(n)?(f=()=>u(n),v=!0):ae(n)?(C=!0,v=n.some(N=>jn(N)||an(N)),f=()=>n.map(N=>{if(nt(N))return N.value;if(jn(N))return u(N);if(be(N))return c?c(N,2):N()})):be(n)?t?f=c?()=>c(n,2):n:f=()=>{if(p){dr();try{p()}finally{hr()}}const N=$s;$s=h;try{return c?c(n,3,[m]):n(m)}finally{$s=N}}:f=An,t&&i){const N=f,R=i===!0?1/0:i;f=()=>is(N(),R)}const x=nh(),_=()=>{h.stop(),x&&Yd(x.effects,h)};if(o&&t){const N=t;t=(...R)=>{N(...R),_()}}let M=C?new Array(n.length).fill(Hl):Hl;const E=N=>{if(!(!(h.flags&1)||!h.dirty&&!N))if(t){const R=h.run();if(i||v||(C?R.some((B,A)=>Ut(B,M[A])):Ut(R,M))){p&&p();const B=$s;$s=h;try{const A=[R,M===Hl?void 0:C&&M[0]===Hl?[]:M,m];c?c(t,3,A):t(...A),M=R}finally{$s=B}}}else h.run()};return a&&a(E),h=new zo(f),h.scheduler=l?()=>l(E,!1):E,m=N=>P0(N,!1,h),p=h.onStop=()=>{const N=Ca.get(h);if(N){if(c)c(N,4);else for(const R of N)R();Ca.delete(h)}},t?r?E(!0):M=h.run():l?l(E.bind(null,!0),!0):h.run(),_.pause=h.pause.bind(h),_.resume=h.resume.bind(h),_.stop=_,_}function is(n,t=1/0,s){if(t<=0||!ze(n)||n.__v_skip||(s=s||new Set,s.has(n)))return n;if(s.add(n),t--,nt(n))is(n.value,t,s);else if(ae(n))for(let r=0;r<n.length;r++)is(n[r],t,s);else if(Kr(n)||wi(n))n.forEach(r=>{is(r,t,s)});else if(lc(n)){for(const r in n)is(n[r],t,s);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&is(n[r],t,s)}return n}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const N0=[];function N4(n){N0.push(n)}function D4(){N0.pop()}function R4(n,t){}const $4={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},F4={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Gi(n,t,s,r){try{return r?n(...r):n()}catch(i){Jr(i,t,s)}}function bn(n,t,s,r){if(be(n)){const i=Gi(n,t,s,r);return i&&Xd(i)&&i.catch(o=>{Jr(o,t,s)}),i}if(ae(n)){const i=[];for(let o=0;o<n.length;o++)i.push(bn(n[o],t,s,r));return i}}function Jr(n,t,s,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Oe;if(t){let a=t.parent;const c=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](n,c,u)===!1)return}a=a.parent}if(o){dr(),Gi(o,null,10,[n,c,u]),hr();return}}B4(n,s,i,r,l)}function B4(n,t,s,r=!0,i=!1){if(i)throw n;console.error(n)}const jt=[];let Fn=-1;const xi=[];let Fs=null,di=0;const D0=Promise.resolve();let wa=null;function Zr(n){const t=wa||D0;return n?t.then(this?n.bind(this):n):t}function V4(n){let t=Fn+1,s=jt.length;for(;t<s;){const r=t+s>>>1,i=jt[r],o=Ko(i);o<n||o===n&&i.flags&2?t=r+1:s=r}return t}function dh(n){if(!(n.flags&1)){const t=Ko(n),s=jt[jt.length-1];!s||!(n.flags&2)&&t>=Ko(s)?jt.push(n):jt.splice(V4(t),0,n),n.flags|=1,R0()}}function R0(){wa||(wa=D0.then($0))}function ba(n){ae(n)?xi.push(...n):Fs&&n.id===-1?Fs.splice(di+1,0,n):n.flags&1||(xi.push(n),n.flags|=1),R0()}function d1(n,t,s=Fn+1){for(;s<jt.length;s++){const r=jt[s];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;jt.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ka(n){if(xi.length){const t=[...new Set(xi)].sort((s,r)=>Ko(s)-Ko(r));if(xi.length=0,Fs){Fs.push(...t);return}for(Fs=t,di=0;di<Fs.length;di++){const s=Fs[di];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Fs=null,di=0}}const Ko=n=>n.id==null?n.flags&2?-1:1/0:n.id;function $0(n){try{for(Fn=0;Fn<jt.length;Fn++){const t=jt[Fn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Gi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Fn<jt.length;Fn++){const t=jt[Fn];t&&(t.flags&=-2)}Fn=-1,jt.length=0,ka(),wa=null,(jt.length||xi.length)&&$0()}}let hi,Ul=[];function F0(n,t){var s,r;hi=n,hi?(hi.enabled=!0,Ul.forEach(({event:i,args:o})=>hi.emit(i,...o)),Ul=[]):typeof window<"u"&&window.HTMLElement&&!((r=(s=window.navigator)==null?void 0:s.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{F0(o,t)}),setTimeout(()=>{hi||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ul=[])},3e3)):Ul=[]}let ut=null,gc=null;function Go(n){const t=ut;return ut=n,gc=n&&n.type.__scopeId||null,t}function H4(n){gc=n}function U4(){gc=null}const j4=n=>Ye;function Ye(n,t=ut,s){if(!t||n._n)return n;const r=(...i)=>{r._d&&ad(-1);const o=Go(t);let l;try{l=n(...i)}finally{Go(o),r._d&&ad(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function ve(n,t){if(ut===null)return n;const s=gl(ut),r=n.dirs||(n.dirs=[]);for(let i=0;i<t.length;i++){let[o,l,a,c=Oe]=t[i];o&&(be(o)&&(o={mounted:o,updated:o}),o.deep&&is(l),r.push({dir:o,instance:s,value:l,oldValue:void 0,arg:a,modifiers:c}))}return n}function Vn(n,t,s,r){const i=n.dirs,o=t&&t.dirs;for(let l=0;l<i.length;l++){const a=i[l];o&&(a.oldValue=o[l].value);let c=a.dir[r];c&&(dr(),bn(c,s,8,[n.el,a,n,t]),hr())}}const B0=Symbol("_vte"),V0=n=>n.__isTeleport,Mo=n=>n&&(n.disabled||n.disabled===""),z4=n=>n&&(n.defer||n.defer===""),h1=n=>typeof SVGElement<"u"&&n instanceof SVGElement,f1=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,td=(n,t)=>{const s=n&&n.to;return Je(s)?t?t(s):null:s},q4={name:"Teleport",__isTeleport:!0,process(n,t,s,r,i,o,l,a,c,u){const{mc:h,pc:f,pbc:p,o:{insert:m,querySelector:v,createText:C,createComment:x}}=u,_=Mo(t.props);let{shapeFlag:M,children:E,dynamicChildren:N}=t;if(n==null){const R=t.el=C(""),B=t.anchor=C("");m(R,s,r),m(B,s,r);const A=(b,S)=>{M&16&&(i&&i.isCE&&(i.ce._teleportTarget=b),h(E,b,S,i,o,l,a,c))},k=()=>{const b=t.target=td(t.props,v),S=U0(b,t,C,m);b&&(l!=="svg"&&h1(b)?l="svg":l!=="mathml"&&f1(b)&&(l="mathml"),_||(A(b,S),ra(t,!1)))};_&&(A(s,B),ra(t,!0)),z4(t.props)?ht(k,o):k()}else{t.el=n.el,t.targetStart=n.targetStart;const R=t.anchor=n.anchor,B=t.target=n.target,A=t.targetAnchor=n.targetAnchor,k=Mo(n.props),b=k?s:B,S=k?R:A;if(l==="svg"||h1(B)?l="svg":(l==="mathml"||f1(B))&&(l="mathml"),N?(p(n.dynamicChildren,N,b,i,o,l,a),kh(n,t,!0)):c||f(n,t,b,S,i,o,l,a,!1),_)k?t.props&&n.props&&t.props.to!==n.props.to&&(t.props.to=n.props.to):jl(t,s,R,u,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const L=t.target=td(t.props,v);L&&jl(t,L,null,u,0)}else k&&jl(t,B,A,u,1);ra(t,_)}},remove(n,t,s,{um:r,o:{remove:i}},o){const{shapeFlag:l,children:a,anchor:c,targetStart:u,targetAnchor:h,target:f,props:p}=n;if(f&&(i(u),i(h)),o&&i(c),l&16){const m=o||!Mo(p);for(let v=0;v<a.length;v++){const C=a[v];r(C,t,s,m,!!C.dynamicChildren)}}},move:jl,hydrate:W4};function jl(n,t,s,{o:{insert:r},m:i},o=2){o===0&&r(n.targetAnchor,t,s);const{el:l,anchor:a,shapeFlag:c,children:u,props:h}=n,f=o===2;if(f&&r(l,t,s),(!f||Mo(h))&&c&16)for(let p=0;p<u.length;p++)i(u[p],t,s,2);f&&r(a,t,s)}function W4(n,t,s,r,i,o,{o:{nextSibling:l,parentNode:a,querySelector:c,insert:u,createText:h}},f){const p=t.target=td(t.props,c);if(p){const m=Mo(t.props),v=p._lpa||p.firstChild;if(t.shapeFlag&16)if(m)t.anchor=f(l(n),t,a(n),s,r,i,o),t.targetStart=v,t.targetAnchor=v&&l(v);else{t.anchor=l(n);let C=v;for(;C;){if(C&&C.nodeType===8){if(C.data==="teleport start anchor")t.targetStart=C;else if(C.data==="teleport anchor"){t.targetAnchor=C,p._lpa=t.targetAnchor&&l(t.targetAnchor);break}}C=l(C)}t.targetAnchor||U0(p,t,h,u),f(v&&l(v),t,p,s,r,i,o)}ra(t,m)}return t.anchor&&l(t.anchor)}const H0=q4;function ra(n,t){const s=n.ctx;if(s&&s.ut){let r,i;for(t?(r=n.el,i=n.anchor):(r=n.targetStart,i=n.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",s.uid),r=r.nextSibling;s.ut()}}function U0(n,t,s,r){const i=t.targetStart=s(""),o=t.targetAnchor=s("");return i[B0]=o,n&&(r(i,n),r(o,n)),o}const Bs=Symbol("_leaveCb"),zl=Symbol("_enterCb");function hh(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Rn(()=>{n.isMounted=!0}),pl(()=>{n.isUnmounting=!0}),n}const mn=[Function,Array],fh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mn,onEnter:mn,onAfterEnter:mn,onEnterCancelled:mn,onBeforeLeave:mn,onLeave:mn,onAfterLeave:mn,onLeaveCancelled:mn,onBeforeAppear:mn,onAppear:mn,onAfterAppear:mn,onAppearCancelled:mn},j0=n=>{const t=n.subTree;return t.component?j0(t.component):t},K4={name:"BaseTransition",props:fh,setup(n,{slots:t}){const s=un(),r=hh();return()=>{const i=t.default&&yc(t.default(),!0);if(!i||!i.length)return;const o=z0(i),l=Ie(n),{mode:a}=l;if(r.isLeaving)return uu(o);const c=p1(o);if(!c)return uu(o);let u=Li(c,l,r,s,p=>u=p);c.type!==ot&&ys(c,u);const h=s.subTree,f=h&&p1(h);if(f&&f.type!==ot&&!Tn(c,f)&&j0(s).type!==ot){const p=Li(f,l,r,s);if(ys(f,p),a==="out-in"&&c.type!==ot)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete p.afterLeave},uu(o);a==="in-out"&&c.type!==ot&&(p.delayLeave=(m,v,C)=>{const x=W0(r,f);x[String(f.key)]=f,m[Bs]=()=>{v(),m[Bs]=void 0,delete u.delayedLeave},u.delayedLeave=C})}return o}}};function z0(n){let t=n[0];if(n.length>1){for(const s of n)if(s.type!==ot){t=s;break}}return t}const q0=K4;function W0(n,t){const{leavingVNodes:s}=n;let r=s.get(t.type);return r||(r=Object.create(null),s.set(t.type,r)),r}function Li(n,t,s,r,i){const{appear:o,mode:l,persisted:a=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:m,onAfterLeave:v,onLeaveCancelled:C,onBeforeAppear:x,onAppear:_,onAfterAppear:M,onAppearCancelled:E}=t,N=String(n.key),R=W0(s,n),B=(b,S)=>{b&&bn(b,r,9,S)},A=(b,S)=>{const L=S[1];B(b,S),ae(b)?b.every(O=>O.length<=1)&&L():b.length<=1&&L()},k={mode:l,persisted:a,beforeEnter(b){let S=c;if(!s.isMounted)if(o)S=x||c;else return;b[Bs]&&b[Bs](!0);const L=R[N];L&&Tn(n,L)&&L.el[Bs]&&L.el[Bs](),B(S,[b])},enter(b){let S=u,L=h,O=f;if(!s.isMounted)if(o)S=_||u,L=M||h,O=E||f;else return;let I=!1;const Ce=b[zl]=Me=>{I||(I=!0,Me?B(O,[b]):B(L,[b]),k.delayedLeave&&k.delayedLeave(),b[zl]=void 0)};S?A(S,[b,Ce]):Ce()},leave(b,S){const L=String(n.key);if(b[zl]&&b[zl](!0),s.isUnmounting)return S();B(p,[b]);let O=!1;const I=b[Bs]=Ce=>{O||(O=!0,S(),Ce?B(C,[b]):B(v,[b]),b[Bs]=void 0,R[L]===n&&delete R[L])};R[L]=n,m?A(m,[b,I]):I()},clone(b){const S=Li(b,t,s,r,i);return i&&i(S),S}};return k}function uu(n){if(fl(n))return n=qn(n),n.children=null,n}function p1(n){if(!fl(n))return V0(n.type)&&n.children?z0(n.children):n;const{shapeFlag:t,children:s}=n;if(s){if(t&16)return s[0];if(t&32&&be(s.default))return s.default()}}function ys(n,t){n.shapeFlag&6&&n.component?(n.transition=t,ys(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function yc(n,t=!1,s){let r=[],i=0;for(let o=0;o<n.length;o++){let l=n[o];const a=s==null?l.key:String(s)+String(l.key!=null?l.key:o);l.type===Pe?(l.patchFlag&128&&i++,r=r.concat(yc(l.children,t,a))):(t||l.type!==ot)&&r.push(a!=null?qn(l,{key:a}):l)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Ji(n,t){return be(n)?Ke({name:n.name},t,{setup:n}):n}function G4(){const n=un();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function ph(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function J4(n){const t=un(),s=ah(null);if(t){const i=t.refs===Oe?t.refs={}:t.refs;Object.defineProperty(i,n,{enumerable:!0,get:()=>s.value,set:o=>s.value=o})}return s}function xa(n,t,s,r,i=!1){if(ae(n)){n.forEach((v,C)=>xa(v,t&&(ae(t)?t[C]:t),s,r,i));return}if(Xs(r)&&!i)return;const o=r.shapeFlag&4?gl(r.component):r.el,l=i?null:o,{i:a,r:c}=n,u=t&&t.r,h=a.refs===Oe?a.refs={}:a.refs,f=a.setupState,p=Ie(f),m=f===Oe?()=>!1:v=>Fe(p,v);if(u!=null&&u!==c&&(Je(u)?(h[u]=null,m(u)&&(f[u]=null)):nt(u)&&(u.value=null)),be(c))Gi(c,a,12,[l,h]);else{const v=Je(c),C=nt(c);if(v||C){const x=()=>{if(n.f){const _=v?m(c)?f[c]:h[c]:c.value;i?ae(_)&&Yd(_,o):ae(_)?_.includes(o)||_.push(o):v?(h[c]=[o],m(c)&&(f[c]=h[c])):(c.value=[o],n.k&&(h[n.k]=c.value))}else v?(h[c]=l,m(c)&&(f[c]=l)):C&&(c.value=l,n.k&&(h[n.k]=l))};l?(x.id=-1,ht(x,s)):x()}}}let m1=!1;const li=()=>{m1||(console.error("Hydration completed but contains mismatches."),m1=!0)},Z4=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",Y4=n=>n.namespaceURI.includes("MathML"),ql=n=>{if(n.nodeType===1){if(Z4(n))return"svg";if(Y4(n))return"mathml"}},gi=n=>n.nodeType===8;function X4(n){const{mt:t,p:s,o:{patchProp:r,createText:i,nextSibling:o,parentNode:l,remove:a,insert:c,createComment:u}}=n,h=(E,N)=>{if(!N.hasChildNodes()){s(null,E,N),ka(),N._vnode=E;return}f(N.firstChild,E,null,null,null),ka(),N._vnode=E},f=(E,N,R,B,A,k=!1)=>{k=k||!!N.dynamicChildren;const b=gi(E)&&E.data==="[",S=()=>C(E,N,R,B,A,b),{type:L,ref:O,shapeFlag:I,patchFlag:Ce}=N;let Me=E.nodeType;N.el=E,Ce===-2&&(k=!1,N.dynamicChildren=null);let se=null;switch(L){case Qs:Me!==3?N.children===""?(c(N.el=i(""),l(E),E),se=E):se=S():(E.data!==N.children&&(li(),E.data=N.children),se=o(E));break;case ot:M(E)?(se=o(E),_(N.el=E.content.firstChild,E,R)):Me!==8||b?se=S():se=o(E);break;case Or:if(b&&(E=o(E),Me=E.nodeType),Me===1||Me===3){se=E;const ce=!N.children.length;for(let ie=0;ie<N.staticCount;ie++)ce&&(N.children+=se.nodeType===1?se.outerHTML:se.data),ie===N.staticCount-1&&(N.anchor=se),se=o(se);return b?o(se):se}else S();break;case Pe:b?se=v(E,N,R,B,A,k):se=S();break;default:if(I&1)(Me!==1||N.type.toLowerCase()!==E.tagName.toLowerCase())&&!M(E)?se=S():se=p(E,N,R,B,A,k);else if(I&6){N.slotScopeIds=A;const ce=l(E);if(b?se=x(E):gi(E)&&E.data==="teleport start"?se=x(E,E.data,"teleport end"):se=o(E),t(N,ce,null,R,B,ql(ce),k),Xs(N)){let ie;b?(ie=X(Pe),ie.anchor=se?se.previousSibling:ce.lastChild):ie=E.nodeType===3?xe(""):X("div"),ie.el=E,N.component.subTree=ie}}else I&64?Me!==8?se=S():se=N.type.hydrate(E,N,R,B,A,k,n,m):I&128&&(se=N.type.hydrate(E,N,R,B,ql(l(E)),A,k,n,f))}return O!=null&&xa(O,null,B,N),se},p=(E,N,R,B,A,k)=>{k=k||!!N.dynamicChildren;const{type:b,props:S,patchFlag:L,shapeFlag:O,dirs:I,transition:Ce}=N,Me=b==="input"||b==="option";if(Me||L!==-1){I&&Vn(N,null,R,"created");let se=!1;if(M(E)){se=vm(null,Ce)&&R&&R.vnode.props&&R.vnode.props.appear;const ie=E.content.firstChild;se&&Ce.beforeEnter(ie),_(ie,E,R),N.el=E=ie}if(O&16&&!(S&&(S.innerHTML||S.textContent))){let ie=m(E.firstChild,N,E,R,B,A,k);for(;ie;){Wl(E,1)||li();const Xe=ie;ie=ie.nextSibling,a(Xe)}}else if(O&8){let ie=N.children;ie[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(ie=ie.slice(1)),E.textContent!==ie&&(Wl(E,0)||li(),E.textContent=N.children)}if(S){if(Me||!k||L&48){const ie=E.tagName.includes("-");for(const Xe in S)(Me&&(Xe.endsWith("value")||Xe==="indeterminate")||cl(Xe)&&!bi(Xe)||Xe[0]==="."||ie)&&r(E,Xe,null,S[Xe],void 0,R)}else if(S.onClick)r(E,"onClick",null,S.onClick,void 0,R);else if(L&4&&jn(S.style))for(const ie in S.style)S.style[ie]}let ce;(ce=S&&S.onVnodeBeforeMount)&&Zt(ce,R,N),I&&Vn(N,null,R,"beforeMount"),((ce=S&&S.onVnodeMounted)||I||se)&&Mm(()=>{ce&&Zt(ce,R,N),se&&Ce.enter(E),I&&Vn(N,null,R,"mounted")},B)}return E.nextSibling},m=(E,N,R,B,A,k,b)=>{b=b||!!N.dynamicChildren;const S=N.children,L=S.length;for(let O=0;O<L;O++){const I=b?S[O]:S[O]=Yt(S[O]),Ce=I.type===Qs;E?(Ce&&!b&&O+1<L&&Yt(S[O+1]).type===Qs&&(c(i(E.data.slice(I.children.length)),R,o(E)),E.data=I.children),E=f(E,I,B,A,k,b)):Ce&&!I.children?c(I.el=i(""),R):(Wl(R,1)||li(),s(null,I,R,null,B,A,ql(R),k))}return E},v=(E,N,R,B,A,k)=>{const{slotScopeIds:b}=N;b&&(A=A?A.concat(b):b);const S=l(E),L=m(o(E),N,S,R,B,A,k);return L&&gi(L)&&L.data==="]"?o(N.anchor=L):(li(),c(N.anchor=u("]"),S,L),L)},C=(E,N,R,B,A,k)=>{if(Wl(E.parentElement,1)||li(),N.el=null,k){const L=x(E);for(;;){const O=o(E);if(O&&O!==L)a(O);else break}}const b=o(E),S=l(E);return a(E),s(null,N,S,b,R,B,ql(S),A),b},x=(E,N="[",R="]")=>{let B=0;for(;E;)if(E=o(E),E&&gi(E)&&(E.data===N&&B++,E.data===R)){if(B===0)return o(E);B--}return E},_=(E,N,R)=>{const B=N.parentNode;B&&B.replaceChild(E,N);let A=R;for(;A;)A.vnode.el===N&&(A.vnode.el=A.subTree.el=E),A=A.parent},M=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[h,f]}const g1="data-allow-mismatch",Q4={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Wl(n,t){if(t===0||t===1)for(;n&&!n.hasAttribute(g1);)n=n.parentElement;const s=n&&n.getAttribute(g1);if(s==null)return!1;if(s==="")return!0;{const r=s.split(",");return t===0&&r.includes("children")?!0:s.split(",").includes(Q4[t])}}const e7=cc().requestIdleCallback||(n=>setTimeout(n,1)),t7=cc().cancelIdleCallback||(n=>clearTimeout(n)),n7=(n=1e4)=>t=>{const s=e7(t,{timeout:n});return()=>t7(s)};function s7(n){const{top:t,left:s,bottom:r,right:i}=n.getBoundingClientRect(),{innerHeight:o,innerWidth:l}=window;return(t>0&&t<o||r>0&&r<o)&&(s>0&&s<l||i>0&&i<l)}const r7=n=>(t,s)=>{const r=new IntersectionObserver(i=>{for(const o of i)if(o.isIntersecting){r.disconnect(),t();break}},n);return s(i=>{if(i instanceof Element){if(s7(i))return t(),r.disconnect(),!1;r.observe(i)}}),()=>r.disconnect()},i7=n=>t=>{if(n){const s=matchMedia(n);if(s.matches)t();else return s.addEventListener("change",t,{once:!0}),()=>s.removeEventListener("change",t)}},o7=(n=[])=>(t,s)=>{Je(n)&&(n=[n]);let r=!1;const i=l=>{r||(r=!0,o(),t(),l.target.dispatchEvent(new l.constructor(l.type,l)))},o=()=>{s(l=>{for(const a of n)l.removeEventListener(a,i)})};return s(l=>{for(const a of n)l.addEventListener(a,i,{once:!0})}),o};function l7(n,t){if(gi(n)&&n.data==="["){let s=1,r=n.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(gi(r))if(r.data==="]"){if(--s===0)break}else r.data==="["&&s++;r=r.nextSibling}}else t(n)}const Xs=n=>!!n.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function a7(n){be(n)&&(n={loader:n});const{loader:t,loadingComponent:s,errorComponent:r,delay:i=200,hydrate:o,timeout:l,suspensible:a=!0,onError:c}=n;let u=null,h,f=0;const p=()=>(f++,u=null,m()),m=()=>{let v;return u||(v=u=t().catch(C=>{if(C=C instanceof Error?C:new Error(String(C)),c)return new Promise((x,_)=>{c(C,()=>x(p()),()=>_(C),f+1)});throw C}).then(C=>v!==u&&u?u:(C&&(C.__esModule||C[Symbol.toStringTag]==="Module")&&(C=C.default),h=C,C)))};return Ji({name:"AsyncComponentWrapper",__asyncLoader:m,__asyncHydrate(v,C,x){const _=o?()=>{const M=o(x,E=>l7(v,E));M&&(C.bum||(C.bum=[])).push(M)}:x;h?_():m().then(()=>!C.isUnmounted&&_())},get __asyncResolved(){return h},setup(){const v=ct;if(ph(v),h)return()=>du(h,v);const C=E=>{u=null,Jr(E,v,13,!r)};if(a&&v.suspense||Pi)return m().then(E=>()=>du(E,v)).catch(E=>(C(E),()=>r?X(r,{error:E}):null));const x=fe(!1),_=fe(),M=fe(!!i);return i&&setTimeout(()=>{M.value=!1},i),l!=null&&setTimeout(()=>{if(!x.value&&!_.value){const E=new Error(`Async component timed out after ${l}ms.`);C(E),_.value=E}},l),m().then(()=>{x.value=!0,v.parent&&fl(v.parent.vnode)&&v.parent.update()}).catch(E=>{C(E),_.value=E}),()=>{if(x.value&&h)return du(h,v);if(_.value&&r)return X(r,{error:_.value});if(s&&!M.value)return X(s)}}})}function du(n,t){const{ref:s,props:r,children:i,ce:o}=t.vnode,l=X(n,r,i);return l.ref=s,l.ce=o,delete t.vnode.ce,l}const fl=n=>n.type.__isKeepAlive,c7={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:t}){const s=un(),r=s.ctx;if(!r.renderer)return()=>{const M=t.default&&t.default();return M&&M.length===1?M[0]:M};const i=new Map,o=new Set;let l=null;const a=s.suspense,{renderer:{p:c,m:u,um:h,o:{createElement:f}}}=r,p=f("div");r.activate=(M,E,N,R,B)=>{const A=M.component;u(M,E,N,0,a),c(A.vnode,M,E,N,A,a,R,M.slotScopeIds,B),ht(()=>{A.isDeactivated=!1,A.a&&ki(A.a);const k=M.props&&M.props.onVnodeMounted;k&&Zt(k,A.parent,M)},a)},r.deactivate=M=>{const E=M.component;Sa(E.m),Sa(E.a),u(M,p,null,1,a),ht(()=>{E.da&&ki(E.da);const N=M.props&&M.props.onVnodeUnmounted;N&&Zt(N,E.parent,M),E.isDeactivated=!0},a)};function m(M){hu(M),h(M,s,a,!0)}function v(M){i.forEach((E,N)=>{const R=fd(E.type);R&&!M(R)&&C(N)})}function C(M){const E=i.get(M);E&&(!l||!Tn(E,l))?m(E):l&&hu(l),i.delete(M),o.delete(M)}ps(()=>[n.include,n.exclude],([M,E])=>{M&&v(N=>wo(M,N)),E&&v(N=>!wo(E,N))},{flush:"post",deep:!0});let x=null;const _=()=>{x!=null&&(Ta(s.subTree.type)?ht(()=>{i.set(x,Kl(s.subTree))},s.subTree.suspense):i.set(x,Kl(s.subTree)))};return Rn(_),Cc(_),pl(()=>{i.forEach(M=>{const{subTree:E,suspense:N}=s,R=Kl(E);if(M.type===R.type&&M.key===R.key){hu(R);const B=R.component.da;B&&ht(B,N);return}m(M)})}),()=>{if(x=null,!t.default)return l=null;const M=t.default(),E=M[0];if(M.length>1)return l=null,M;if(!Cs(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return l=null,E;let N=Kl(E);if(N.type===ot)return l=null,N;const R=N.type,B=fd(Xs(N)?N.type.__asyncResolved||{}:R),{include:A,exclude:k,max:b}=n;if(A&&(!B||!wo(A,B))||k&&B&&wo(k,B))return N.shapeFlag&=-257,l=N,E;const S=N.key==null?R:N.key,L=i.get(S);return N.el&&(N=qn(N),E.shapeFlag&128&&(E.ssContent=N)),x=S,L?(N.el=L.el,N.component=L.component,N.transition&&ys(N,N.transition),N.shapeFlag|=512,o.delete(S),o.add(S)):(o.add(S),b&&o.size>parseInt(b,10)&&C(o.values().next().value)),N.shapeFlag|=256,l=N,Ta(E.type)?E:N}}},u7=c7;function wo(n,t){return ae(n)?n.some(s=>wo(s,t)):Je(n)?n.split(",").includes(t):F5(n)?(n.lastIndex=0,n.test(t)):!1}function K0(n,t){J0(n,"a",t)}function G0(n,t){J0(n,"da",t)}function J0(n,t,s=ct){const r=n.__wdc||(n.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(vc(t,r,s),s){let i=s.parent;for(;i&&i.parent;)fl(i.parent.vnode)&&d7(r,t,s,i),i=i.parent}}function d7(n,t,s,r){const i=vc(t,n,r,!0);wc(()=>{Yd(r[t],i)},s)}function hu(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function Kl(n){return n.shapeFlag&128?n.ssContent:n}function vc(n,t,s=ct,r=!1){if(s){const i=s[n]||(s[n]=[]),o=t.__weh||(t.__weh=(...l)=>{dr();const a=Hr(s),c=bn(t,s,n,l);return a(),hr(),c});return r?i.unshift(o):i.push(o),o}}const _s=n=>(t,s=ct)=>{(!Pi||n==="sp")&&vc(n,(...r)=>t(...r),s)},mh=_s("bm"),Rn=_s("m"),Z0=_s("bu"),Cc=_s("u"),pl=_s("bum"),wc=_s("um"),Y0=_s("sp"),X0=_s("rtg"),Q0=_s("rtc");function em(n,t=ct){vc("ec",n,t)}const gh="components",h7="directives";function fr(n,t){return yh(gh,n,!0,t)||n}const tm=Symbol.for("v-ndc");function f7(n){return Je(n)?yh(gh,n,!1)||n:n||tm}function vs(n){return yh(h7,n)}function yh(n,t,s=!0,r=!1){const i=ut||ct;if(i){const o=i.type;if(n===gh){const a=fd(o,!1);if(a&&(a===t||a===_t(t)||a===ul(_t(t))))return o}const l=y1(i[n]||o[n],t)||y1(i.appContext[n],t);return!l&&r?o:l}}function y1(n,t){return n&&(n[t]||n[_t(t)]||n[ul(_t(t))])}function bc(n,t,s,r){let i;const o=s&&s[r],l=ae(n);if(l||Je(n)){const a=l&&jn(n);let c=!1;a&&(c=!an(n),n=hc(n)),i=new Array(n.length);for(let u=0,h=n.length;u<h;u++)i[u]=t(c?Ot(n[u]):n[u],u,void 0,o&&o[u])}else if(typeof n=="number"){i=new Array(n);for(let a=0;a<n;a++)i[a]=t(a+1,a,void 0,o&&o[a])}else if(ze(n))if(n[Symbol.iterator])i=Array.from(n,(a,c)=>t(a,c,void 0,o&&o[c]));else{const a=Object.keys(n);i=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const h=a[c];i[c]=t(n[h],h,c,o&&o[c])}}else i=[];return s&&(s[r]=i),i}function p7(n,t){for(let s=0;s<t.length;s++){const r=t[s];if(ae(r))for(let i=0;i<r.length;i++)n[r[i].name]=r[i].fn;else r&&(n[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return n}function vh(n,t,s={},r,i){if(ut.ce||ut.parent&&Xs(ut.parent)&&ut.parent.ce)return t!=="default"&&(s.name=t),F(),Ne(Pe,null,[X("slot",s,r&&r())],64);let o=n[t];o&&o._c&&(o._d=!1),F();const l=o&&Ch(o(s)),a=s.key||l&&l.key,c=Ne(Pe,{key:(a&&!Pn(a)?a:`_${t}`)+(!l&&r?"_fb":"")},l||(r?r():[]),l&&n._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function Ch(n){return n.some(t=>Cs(t)?!(t.type===ot||t.type===Pe&&!Ch(t.children)):!0)?n:null}function m7(n,t){const s={};for(const r in n)s[t&&/[A-Z]/.test(r)?`on:${r}`:So(r)]=n[r];return s}const nd=n=>n?Dm(n)?gl(n):nd(n.parent):null,Ao=Ke(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>nd(n.parent),$root:n=>nd(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>wh(n),$forceUpdate:n=>n.f||(n.f=()=>{dh(n.update)}),$nextTick:n=>n.n||(n.n=Zr.bind(n.proxy)),$watch:n=>z7.bind(n)}),fu=(n,t)=>n!==Oe&&!n.__isScriptSetup&&Fe(n,t),sd={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:i,props:o,accessCache:l,type:a,appContext:c}=n;let u;if(t[0]!=="$"){const m=l[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(fu(r,t))return l[t]=1,r[t];if(i!==Oe&&Fe(i,t))return l[t]=2,i[t];if((u=n.propsOptions[0])&&Fe(u,t))return l[t]=3,o[t];if(s!==Oe&&Fe(s,t))return l[t]=4,s[t];rd&&(l[t]=0)}}const h=Ao[t];let f,p;if(h)return t==="$attrs"&&It(n.attrs,"get",""),h(n);if((f=a.__cssModules)&&(f=f[t]))return f;if(s!==Oe&&Fe(s,t))return l[t]=4,s[t];if(p=c.config.globalProperties,Fe(p,t))return p[t]},set({_:n},t,s){const{data:r,setupState:i,ctx:o}=n;return fu(i,t)?(i[t]=s,!0):r!==Oe&&Fe(r,t)?(r[t]=s,!0):Fe(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(o[t]=s,!0)},has({_:{data:n,setupState:t,accessCache:s,ctx:r,appContext:i,propsOptions:o}},l){let a;return!!s[l]||n!==Oe&&Fe(n,l)||fu(t,l)||(a=o[0])&&Fe(a,l)||Fe(r,l)||Fe(Ao,l)||Fe(i.config.globalProperties,l)},defineProperty(n,t,s){return s.get!=null?n._.accessCache[t]=0:Fe(s,"value")&&this.set(n,t,s.value,null),Reflect.defineProperty(n,t,s)}},g7=Ke({},sd,{get(n,t){if(t!==Symbol.unscopables)return sd.get(n,t,n)},has(n,t){return t[0]!=="_"&&!j5(t)}});function y7(){return null}function v7(){return null}function C7(n){}function w7(n){}function b7(){return null}function k7(){}function x7(n,t){return null}function _7(){return nm().slots}function S7(){return nm().attrs}function nm(){const n=un();return n.setupContext||(n.setupContext=Fm(n))}function Jo(n){return ae(n)?n.reduce((t,s)=>(t[s]=null,t),{}):n}function T7(n,t){const s=Jo(n);for(const r in t){if(r.startsWith("__skip"))continue;let i=s[r];i?ae(i)||be(i)?i=s[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=s[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return s}function E7(n,t){return!n||!t?n||t:ae(n)&&ae(t)?n.concat(t):Ke({},Jo(n),Jo(t))}function M7(n,t){const s={};for(const r in n)t.includes(r)||Object.defineProperty(s,r,{enumerable:!0,get:()=>n[r]});return s}function A7(n){const t=un();let s=n();return ud(),Xd(s)&&(s=s.catch(r=>{throw Hr(t),r})),[s,()=>Hr(t)]}let rd=!0;function I7(n){const t=wh(n),s=n.proxy,r=n.ctx;rd=!1,t.beforeCreate&&v1(t.beforeCreate,n,"bc");const{data:i,computed:o,methods:l,watch:a,provide:c,inject:u,created:h,beforeMount:f,mounted:p,beforeUpdate:m,updated:v,activated:C,deactivated:x,beforeDestroy:_,beforeUnmount:M,destroyed:E,unmounted:N,render:R,renderTracked:B,renderTriggered:A,errorCaptured:k,serverPrefetch:b,expose:S,inheritAttrs:L,components:O,directives:I,filters:Ce}=t;if(u&&O7(u,r,null),l)for(const ce in l){const ie=l[ce];be(ie)&&(r[ce]=ie.bind(s))}if(i){const ce=i.call(s,s);ze(ce)&&(n.data=Gr(ce))}if(rd=!0,o)for(const ce in o){const ie=o[ce],Xe=be(ie)?ie.bind(s,s):be(ie.get)?ie.get.bind(s,s):An,kn=!be(ie)&&be(ie.set)?ie.set.bind(s):An,hn=he({get:Xe,set:kn});Object.defineProperty(r,ce,{enumerable:!0,configurable:!0,get:()=>hn.value,set:Qe=>hn.value=Qe})}if(a)for(const ce in a)sm(a[ce],r,s,ce);if(c){const ce=be(c)?c.call(s):c;Reflect.ownKeys(ce).forEach(ie=>{Io(ie,ce[ie])})}h&&v1(h,n,"c");function se(ce,ie){ae(ie)?ie.forEach(Xe=>ce(Xe.bind(s))):ie&&ce(ie.bind(s))}if(se(mh,f),se(Rn,p),se(Z0,m),se(Cc,v),se(K0,C),se(G0,x),se(em,k),se(Q0,B),se(X0,A),se(pl,M),se(wc,N),se(Y0,b),ae(S))if(S.length){const ce=n.exposed||(n.exposed={});S.forEach(ie=>{Object.defineProperty(ce,ie,{get:()=>s[ie],set:Xe=>s[ie]=Xe})})}else n.exposed||(n.exposed={});R&&n.render===An&&(n.render=R),L!=null&&(n.inheritAttrs=L),O&&(n.components=O),I&&(n.directives=I),b&&ph(n)}function O7(n,t,s=An){ae(n)&&(n=id(n));for(const r in n){const i=n[r];let o;ze(i)?"default"in i?o=cn(i.from||r,i.default,!0):o=cn(i.from||r):o=cn(i),nt(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[r]=o}}function v1(n,t,s){bn(ae(n)?n.map(r=>r.bind(t.proxy)):n.bind(t.proxy),t,s)}function sm(n,t,s,r){let i=r.includes(".")?_m(s,r):()=>s[r];if(Je(n)){const o=t[n];be(o)&&ps(i,o)}else if(be(n))ps(i,n.bind(s));else if(ze(n))if(ae(n))n.forEach(o=>sm(o,t,s,r));else{const o=be(n.handler)?n.handler.bind(s):t[n.handler];be(o)&&ps(i,o,n)}}function wh(n){const t=n.type,{mixins:s,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:l}}=n.appContext,a=o.get(t);let c;return a?c=a:!i.length&&!s&&!r?c=t:(c={},i.length&&i.forEach(u=>_a(c,u,l,!0)),_a(c,t,l)),ze(t)&&o.set(t,c),c}function _a(n,t,s,r=!1){const{mixins:i,extends:o}=t;o&&_a(n,o,s,!0),i&&i.forEach(l=>_a(n,l,s,!0));for(const l in t)if(!(r&&l==="expose")){const a=L7[l]||s&&s[l];n[l]=a?a(n[l],t[l]):t[l]}return n}const L7={data:C1,props:w1,emits:w1,methods:bo,computed:bo,beforeCreate:Bt,created:Bt,beforeMount:Bt,mounted:Bt,beforeUpdate:Bt,updated:Bt,beforeDestroy:Bt,beforeUnmount:Bt,destroyed:Bt,unmounted:Bt,activated:Bt,deactivated:Bt,errorCaptured:Bt,serverPrefetch:Bt,components:bo,directives:bo,watch:N7,provide:C1,inject:P7};function C1(n,t){return t?n?function(){return Ke(be(n)?n.call(this,this):n,be(t)?t.call(this,this):t)}:t:n}function P7(n,t){return bo(id(n),id(t))}function id(n){if(ae(n)){const t={};for(let s=0;s<n.length;s++)t[n[s]]=n[s];return t}return n}function Bt(n,t){return n?[...new Set([].concat(n,t))]:t}function bo(n,t){return n?Ke(Object.create(null),n,t):t}function w1(n,t){return n?ae(n)&&ae(t)?[...new Set([...n,...t])]:Ke(Object.create(null),Jo(n),Jo(t??{})):t}function N7(n,t){if(!n)return t;if(!t)return n;const s=Ke(Object.create(null),n);for(const r in t)s[r]=Bt(n[r],t[r]);return s}function rm(){return{app:null,config:{isNativeTag:R5,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let D7=0;function R7(n,t){return function(r,i=null){be(r)||(r=Ke({},r)),i!=null&&!ze(i)&&(i=null);const o=rm(),l=new WeakSet,a=[];let c=!1;const u=o.app={_uid:D7++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Vm,get config(){return o.config},set config(h){},use(h,...f){return l.has(h)||(h&&be(h.install)?(l.add(h),h.install(u,...f)):be(h)&&(l.add(h),h(u,...f))),u},mixin(h){return o.mixins.includes(h)||o.mixins.push(h),u},component(h,f){return f?(o.components[h]=f,u):o.components[h]},directive(h,f){return f?(o.directives[h]=f,u):o.directives[h]},mount(h,f,p){if(!c){const m=u._ceVNode||X(r,i);return m.appContext=o,p===!0?p="svg":p===!1&&(p=void 0),f&&t?t(m,h):n(m,h,p),c=!0,u._container=h,h.__vue_app__=u,gl(m.component)}},onUnmount(h){a.push(h)},unmount(){c&&(bn(a,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(h,f){return o.provides[h]=f,u},runWithContext(h){const f=Ir;Ir=u;try{return h()}finally{Ir=f}}};return u}}let Ir=null;function Io(n,t){if(ct){let s=ct.provides;const r=ct.parent&&ct.parent.provides;r===s&&(s=ct.provides=Object.create(r)),s[n]=t}}function cn(n,t,s=!1){const r=ct||ut;if(r||Ir){const i=Ir?Ir._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&n in i)return i[n];if(arguments.length>1)return s&&be(t)?t.call(r&&r.proxy):t}}function im(){return!!(ct||ut||Ir)}const om={},lm=()=>Object.create(om),am=n=>Object.getPrototypeOf(n)===om;function $7(n,t,s,r=!1){const i={},o=lm();n.propsDefaults=Object.create(null),cm(n,t,i,o);for(const l in n.propsOptions[0])l in i||(i[l]=void 0);s?n.props=r?i:oh(i):n.type.props?n.props=i:n.props=o,n.attrs=o}function F7(n,t,s,r){const{props:i,attrs:o,vnode:{patchFlag:l}}=n,a=Ie(i),[c]=n.propsOptions;let u=!1;if((r||l>0)&&!(l&16)){if(l&8){const h=n.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(kc(n.emitsOptions,p))continue;const m=t[p];if(c)if(Fe(o,p))m!==o[p]&&(o[p]=m,u=!0);else{const v=_t(p);i[v]=od(c,a,v,m,n,!1)}else m!==o[p]&&(o[p]=m,u=!0)}}}else{cm(n,t,i,o)&&(u=!0);let h;for(const f in a)(!t||!Fe(t,f)&&((h=Xt(f))===f||!Fe(t,h)))&&(c?s&&(s[f]!==void 0||s[h]!==void 0)&&(i[f]=od(c,a,f,void 0,n,!0)):delete i[f]);if(o!==a)for(const f in o)(!t||!Fe(t,f))&&(delete o[f],u=!0)}u&&rs(n.attrs,"set","")}function cm(n,t,s,r){const[i,o]=n.propsOptions;let l=!1,a;if(t)for(let c in t){if(bi(c))continue;const u=t[c];let h;i&&Fe(i,h=_t(c))?!o||!o.includes(h)?s[h]=u:(a||(a={}))[h]=u:kc(n.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,l=!0)}if(o){const c=Ie(s),u=a||Oe;for(let h=0;h<o.length;h++){const f=o[h];s[f]=od(i,c,f,u[f],n,!Fe(u,f))}}return l}function od(n,t,s,r,i,o){const l=n[s];if(l!=null){const a=Fe(l,"default");if(a&&r===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&be(c)){const{propsDefaults:u}=i;if(s in u)r=u[s];else{const h=Hr(i);r=u[s]=c.call(null,t),h()}}else r=c;i.ce&&i.ce._setProp(s,r)}l[0]&&(o&&!a?r=!1:l[1]&&(r===""||r===Xt(s))&&(r=!0))}return r}const B7=new WeakMap;function um(n,t,s=!1){const r=s?B7:t.propsCache,i=r.get(n);if(i)return i;const o=n.props,l={},a=[];let c=!1;if(!be(n)){const h=f=>{c=!0;const[p,m]=um(f,t,!0);Ke(l,p),m&&a.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(h),n.extends&&h(n.extends),n.mixins&&n.mixins.forEach(h)}if(!o&&!c)return ze(n)&&r.set(n,Ci),Ci;if(ae(o))for(let h=0;h<o.length;h++){const f=_t(o[h]);b1(f)&&(l[f]=Oe)}else if(o)for(const h in o){const f=_t(h);if(b1(f)){const p=o[h],m=l[f]=ae(p)||be(p)?{type:p}:Ke({},p),v=m.type;let C=!1,x=!0;if(ae(v))for(let _=0;_<v.length;++_){const M=v[_],E=be(M)&&M.name;if(E==="Boolean"){C=!0;break}else E==="String"&&(x=!1)}else C=be(v)&&v.name==="Boolean";m[0]=C,m[1]=x,(C||Fe(m,"default"))&&a.push(f)}}const u=[l,a];return ze(n)&&r.set(n,u),u}function b1(n){return n[0]!=="$"&&!bi(n)}const dm=n=>n[0]==="_"||n==="$stable",bh=n=>ae(n)?n.map(Yt):[Yt(n)],V7=(n,t,s)=>{if(t._n)return t;const r=Ye((...i)=>bh(t(...i)),s);return r._c=!1,r},hm=(n,t,s)=>{const r=n._ctx;for(const i in n){if(dm(i))continue;const o=n[i];if(be(o))t[i]=V7(i,o,r);else if(o!=null){const l=bh(o);t[i]=()=>l}}},fm=(n,t)=>{const s=bh(t);n.slots.default=()=>s},pm=(n,t,s)=>{for(const r in t)(s||r!=="_")&&(n[r]=t[r])},H7=(n,t,s)=>{const r=n.slots=lm();if(n.vnode.shapeFlag&32){const i=t._;i?(pm(r,t,s),s&&u0(r,"_",i,!0)):hm(t,r)}else t&&fm(n,t)},U7=(n,t,s)=>{const{vnode:r,slots:i}=n;let o=!0,l=Oe;if(r.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:pm(i,t,s):(o=!t.$stable,hm(t,i)),l=t}else t&&(fm(n,t),l={default:1});if(o)for(const a in i)!dm(a)&&l[a]==null&&delete i[a]},ht=Mm;function mm(n){return ym(n)}function gm(n){return ym(n,X4)}function ym(n,t){const s=cc();s.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:l,createText:a,createComment:c,setText:u,setElementText:h,parentNode:f,nextSibling:p,setScopeId:m=An,insertStaticContent:v}=n,C=(P,D,V,q=null,j=null,W=null,Q=void 0,Z=null,J=!!D.dynamicChildren)=>{if(P===D)return;P&&!Tn(P,D)&&(q=z(P),Qe(P,j,W,!0),P=null),D.patchFlag===-2&&(J=!1,D.dynamicChildren=null);const{type:G,ref:ge,shapeFlag:te}=D;switch(G){case Qs:x(P,D,V,q);break;case ot:_(P,D,V,q);break;case Or:P==null&&M(D,V,q,Q);break;case Pe:O(P,D,V,q,j,W,Q,Z,J);break;default:te&1?R(P,D,V,q,j,W,Q,Z,J):te&6?I(P,D,V,q,j,W,Q,Z,J):(te&64||te&128)&&G.process(P,D,V,q,j,W,Q,Z,J,oe)}ge!=null&&j&&xa(ge,P&&P.ref,W,D||P,!D)},x=(P,D,V,q)=>{if(P==null)r(D.el=a(D.children),V,q);else{const j=D.el=P.el;D.children!==P.children&&u(j,D.children)}},_=(P,D,V,q)=>{P==null?r(D.el=c(D.children||""),V,q):D.el=P.el},M=(P,D,V,q)=>{[P.el,P.anchor]=v(P.children,D,V,q,P.el,P.anchor)},E=({el:P,anchor:D},V,q)=>{let j;for(;P&&P!==D;)j=p(P),r(P,V,q),P=j;r(D,V,q)},N=({el:P,anchor:D})=>{let V;for(;P&&P!==D;)V=p(P),i(P),P=V;i(D)},R=(P,D,V,q,j,W,Q,Z,J)=>{D.type==="svg"?Q="svg":D.type==="math"&&(Q="mathml"),P==null?B(D,V,q,j,W,Q,Z,J):b(P,D,j,W,Q,Z,J)},B=(P,D,V,q,j,W,Q,Z)=>{let J,G;const{props:ge,shapeFlag:te,transition:me,dirs:ue}=P;if(J=P.el=l(P.type,W,ge&&ge.is,ge),te&8?h(J,P.children):te&16&&k(P.children,J,null,q,j,pu(P,W),Q,Z),ue&&Vn(P,null,q,"created"),A(J,P,P.scopeId,Q,q),ge){for(const $e in ge)$e!=="value"&&!bi($e)&&o(J,$e,null,ge[$e],W,q);"value"in ge&&o(J,"value",null,ge.value,W),(G=ge.onVnodeBeforeMount)&&Zt(G,q,P)}ue&&Vn(P,null,q,"beforeMount");const we=vm(j,me);we&&me.beforeEnter(J),r(J,D,V),((G=ge&&ge.onVnodeMounted)||we||ue)&&ht(()=>{G&&Zt(G,q,P),we&&me.enter(J),ue&&Vn(P,null,q,"mounted")},j)},A=(P,D,V,q,j)=>{if(V&&m(P,V),q)for(let W=0;W<q.length;W++)m(P,q[W]);if(j){let W=j.subTree;if(D===W||Ta(W.type)&&(W.ssContent===D||W.ssFallback===D)){const Q=j.vnode;A(P,Q,Q.scopeId,Q.slotScopeIds,j.parent)}}},k=(P,D,V,q,j,W,Q,Z,J=0)=>{for(let G=J;G<P.length;G++){const ge=P[G]=Z?Vs(P[G]):Yt(P[G]);C(null,ge,D,V,q,j,W,Q,Z)}},b=(P,D,V,q,j,W,Q)=>{const Z=D.el=P.el;let{patchFlag:J,dynamicChildren:G,dirs:ge}=D;J|=P.patchFlag&16;const te=P.props||Oe,me=D.props||Oe;let ue;if(V&&wr(V,!1),(ue=me.onVnodeBeforeUpdate)&&Zt(ue,V,D,P),ge&&Vn(D,P,V,"beforeUpdate"),V&&wr(V,!0),(te.innerHTML&&me.innerHTML==null||te.textContent&&me.textContent==null)&&h(Z,""),G?S(P.dynamicChildren,G,Z,V,q,pu(D,j),W):Q||ie(P,D,Z,null,V,q,pu(D,j),W,!1),J>0){if(J&16)L(Z,te,me,V,j);else if(J&2&&te.class!==me.class&&o(Z,"class",null,me.class,j),J&4&&o(Z,"style",te.style,me.style,j),J&8){const we=D.dynamicProps;for(let $e=0;$e<we.length;$e++){const De=we[$e],St=te[De],dt=me[De];(dt!==St||De==="value")&&o(Z,De,St,dt,j,V)}}J&1&&P.children!==D.children&&h(Z,D.children)}else!Q&&G==null&&L(Z,te,me,V,j);((ue=me.onVnodeUpdated)||ge)&&ht(()=>{ue&&Zt(ue,V,D,P),ge&&Vn(D,P,V,"updated")},q)},S=(P,D,V,q,j,W,Q)=>{for(let Z=0;Z<D.length;Z++){const J=P[Z],G=D[Z],ge=J.el&&(J.type===Pe||!Tn(J,G)||J.shapeFlag&70)?f(J.el):V;C(J,G,ge,null,q,j,W,Q,!0)}},L=(P,D,V,q,j)=>{if(D!==V){if(D!==Oe)for(const W in D)!bi(W)&&!(W in V)&&o(P,W,D[W],null,j,q);for(const W in V){if(bi(W))continue;const Q=V[W],Z=D[W];Q!==Z&&W!=="value"&&o(P,W,Z,Q,j,q)}"value"in V&&o(P,"value",D.value,V.value,j)}},O=(P,D,V,q,j,W,Q,Z,J)=>{const G=D.el=P?P.el:a(""),ge=D.anchor=P?P.anchor:a("");let{patchFlag:te,dynamicChildren:me,slotScopeIds:ue}=D;ue&&(Z=Z?Z.concat(ue):ue),P==null?(r(G,V,q),r(ge,V,q),k(D.children||[],V,ge,j,W,Q,Z,J)):te>0&&te&64&&me&&P.dynamicChildren?(S(P.dynamicChildren,me,V,j,W,Q,Z),(D.key!=null||j&&D===j.subTree)&&kh(P,D,!0)):ie(P,D,V,ge,j,W,Q,Z,J)},I=(P,D,V,q,j,W,Q,Z,J)=>{D.slotScopeIds=Z,P==null?D.shapeFlag&512?j.ctx.activate(D,V,q,Q,J):Ce(D,V,q,j,W,Q,J):Me(P,D,J)},Ce=(P,D,V,q,j,W,Q)=>{const Z=P.component=Nm(P,q,j);if(fl(P)&&(Z.ctx.renderer=oe),Rm(Z,!1,Q),Z.asyncDep){if(j&&j.registerDep(Z,se,Q),!P.el){const J=Z.subTree=X(ot);_(null,J,D,V)}}else se(Z,P,D,V,j,W,Q)},Me=(P,D,V)=>{const q=D.component=P.component;if(Z7(P,D,V))if(q.asyncDep&&!q.asyncResolved){ce(q,D,V);return}else q.next=D,q.update();else D.el=P.el,q.vnode=D},se=(P,D,V,q,j,W,Q)=>{const Z=()=>{if(P.isMounted){let{next:te,bu:me,u:ue,parent:we,vnode:$e}=P;{const Tt=Cm(P);if(Tt){te&&(te.el=$e.el,ce(P,te,Q)),Tt.asyncDep.then(()=>{P.isUnmounted||Z()});return}}let De=te,St;wr(P,!1),te?(te.el=$e.el,ce(P,te,Q)):te=$e,me&&ki(me),(St=te.props&&te.props.onVnodeBeforeUpdate)&&Zt(St,we,te,$e),wr(P,!0);const dt=ia(P),Ct=P.subTree;P.subTree=dt,C(Ct,dt,f(Ct.el),z(Ct),P,j,W),te.el=dt.el,De===null&&_h(P,dt.el),ue&&ht(ue,j),(St=te.props&&te.props.onVnodeUpdated)&&ht(()=>Zt(St,we,te,$e),j)}else{let te;const{el:me,props:ue}=D,{bm:we,m:$e,parent:De,root:St,type:dt}=P,Ct=Xs(D);if(wr(P,!1),we&&ki(we),!Ct&&(te=ue&&ue.onVnodeBeforeMount)&&Zt(te,De,D),wr(P,!0),me&&Ue){const Tt=()=>{P.subTree=ia(P),Ue(me,P.subTree,P,j,null)};Ct&&dt.__asyncHydrate?dt.__asyncHydrate(me,P,Tt):Tt()}else{St.ce&&St.ce._injectChildStyle(dt);const Tt=P.subTree=ia(P);C(null,Tt,V,q,P,j,W),D.el=Tt.el}if($e&&ht($e,j),!Ct&&(te=ue&&ue.onVnodeMounted)){const Tt=D;ht(()=>Zt(te,De,Tt),j)}(D.shapeFlag&256||De&&Xs(De.vnode)&&De.vnode.shapeFlag&256)&&P.a&&ht(P.a,j),P.isMounted=!0,D=V=q=null}};P.scope.on();const J=P.effect=new zo(Z);P.scope.off();const G=P.update=J.run.bind(J),ge=P.job=J.runIfDirty.bind(J);ge.i=P,ge.id=P.uid,J.scheduler=()=>dh(ge),wr(P,!0),G()},ce=(P,D,V)=>{D.component=P;const q=P.vnode.props;P.vnode=D,P.next=null,F7(P,D.props,q,V),U7(P,D.children,V),dr(),d1(P),hr()},ie=(P,D,V,q,j,W,Q,Z,J=!1)=>{const G=P&&P.children,ge=P?P.shapeFlag:0,te=D.children,{patchFlag:me,shapeFlag:ue}=D;if(me>0){if(me&128){kn(G,te,V,q,j,W,Q,Z,J);return}else if(me&256){Xe(G,te,V,q,j,W,Q,Z,J);return}}ue&8?(ge&16&&Jt(G,j,W),te!==G&&h(V,te)):ge&16?ue&16?kn(G,te,V,q,j,W,Q,Z,J):Jt(G,j,W,!0):(ge&8&&h(V,""),ue&16&&k(te,V,q,j,W,Q,Z,J))},Xe=(P,D,V,q,j,W,Q,Z,J)=>{P=P||Ci,D=D||Ci;const G=P.length,ge=D.length,te=Math.min(G,ge);let me;for(me=0;me<te;me++){const ue=D[me]=J?Vs(D[me]):Yt(D[me]);C(P[me],ue,V,null,j,W,Q,Z,J)}G>ge?Jt(P,j,W,!0,!1,te):k(D,V,q,j,W,Q,Z,J,te)},kn=(P,D,V,q,j,W,Q,Z,J)=>{let G=0;const ge=D.length;let te=P.length-1,me=ge-1;for(;G<=te&&G<=me;){const ue=P[G],we=D[G]=J?Vs(D[G]):Yt(D[G]);if(Tn(ue,we))C(ue,we,V,null,j,W,Q,Z,J);else break;G++}for(;G<=te&&G<=me;){const ue=P[te],we=D[me]=J?Vs(D[me]):Yt(D[me]);if(Tn(ue,we))C(ue,we,V,null,j,W,Q,Z,J);else break;te--,me--}if(G>te){if(G<=me){const ue=me+1,we=ue<ge?D[ue].el:q;for(;G<=me;)C(null,D[G]=J?Vs(D[G]):Yt(D[G]),V,we,j,W,Q,Z,J),G++}}else if(G>me)for(;G<=te;)Qe(P[G],j,W,!0),G++;else{const ue=G,we=G,$e=new Map;for(G=we;G<=me;G++){const $t=D[G]=J?Vs(D[G]):Yt(D[G]);$t.key!=null&&$e.set($t.key,G)}let De,St=0;const dt=me-we+1;let Ct=!1,Tt=0;const Es=new Array(dt);for(G=0;G<dt;G++)Es[G]=0;for(G=ue;G<=te;G++){const $t=P[G];if(St>=dt){Qe($t,j,W,!0);continue}let fn;if($t.key!=null)fn=$e.get($t.key);else for(De=we;De<=me;De++)if(Es[De-we]===0&&Tn($t,D[De])){fn=De;break}fn===void 0?Qe($t,j,W,!0):(Es[fn-we]=G+1,fn>=Tt?Tt=fn:Ct=!0,C($t,D[fn],V,null,j,W,Q,Z,J),St++)}const Qr=Ct?j7(Es):Ci;for(De=Qr.length-1,G=dt-1;G>=0;G--){const $t=we+G,fn=D[$t],ei=$t+1<ge?D[$t+1].el:q;Es[G]===0?C(null,fn,V,ei,j,W,Q,Z,J):Ct&&(De<0||G!==Qr[De]?hn(fn,V,ei,2):De--)}}},hn=(P,D,V,q,j=null)=>{const{el:W,type:Q,transition:Z,children:J,shapeFlag:G}=P;if(G&6){hn(P.component.subTree,D,V,q);return}if(G&128){P.suspense.move(D,V,q);return}if(G&64){Q.move(P,D,V,oe);return}if(Q===Pe){r(W,D,V);for(let te=0;te<J.length;te++)hn(J[te],D,V,q);r(P.anchor,D,V);return}if(Q===Or){E(P,D,V);return}if(q!==2&&G&1&&Z)if(q===0)Z.beforeEnter(W),r(W,D,V),ht(()=>Z.enter(W),j);else{const{leave:te,delayLeave:me,afterLeave:ue}=Z,we=()=>r(W,D,V),$e=()=>{te(W,()=>{we(),ue&&ue()})};me?me(W,we,$e):$e()}else r(W,D,V)},Qe=(P,D,V,q=!1,j=!1)=>{const{type:W,props:Q,ref:Z,children:J,dynamicChildren:G,shapeFlag:ge,patchFlag:te,dirs:me,cacheIndex:ue}=P;if(te===-2&&(j=!1),Z!=null&&xa(Z,null,V,P,!0),ue!=null&&(D.renderCache[ue]=void 0),ge&256){D.ctx.deactivate(P);return}const we=ge&1&&me,$e=!Xs(P);let De;if($e&&(De=Q&&Q.onVnodeBeforeUnmount)&&Zt(De,D,P),ge&6)$n(P.component,V,q);else{if(ge&128){P.suspense.unmount(V,q);return}we&&Vn(P,null,D,"beforeUnmount"),ge&64?P.type.remove(P,D,V,oe,q):G&&!G.hasOnce&&(W!==Pe||te>0&&te&64)?Jt(G,D,V,!1,!0):(W===Pe&&te&384||!j&&ge&16)&&Jt(J,D,V),q&&et(P)}($e&&(De=Q&&Q.onVnodeUnmounted)||we)&&ht(()=>{De&&Zt(De,D,P),we&&Vn(P,null,D,"unmounted")},V)},et=P=>{const{type:D,el:V,anchor:q,transition:j}=P;if(D===Pe){Ts(V,q);return}if(D===Or){N(P);return}const W=()=>{i(V),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(P.shapeFlag&1&&j&&!j.persisted){const{leave:Q,delayLeave:Z}=j,J=()=>Q(V,W);Z?Z(P.el,W,J):J()}else W()},Ts=(P,D)=>{let V;for(;P!==D;)V=p(P),i(P),P=V;i(D)},$n=(P,D,V)=>{const{bum:q,scope:j,job:W,subTree:Q,um:Z,m:J,a:G}=P;Sa(J),Sa(G),q&&ki(q),j.stop(),W&&(W.flags|=8,Qe(Q,P,D,V)),Z&&ht(Z,D),ht(()=>{P.isUnmounted=!0},D),D&&D.pendingBranch&&!D.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===D.pendingId&&(D.deps--,D.deps===0&&D.resolve())},Jt=(P,D,V,q=!1,j=!1,W=0)=>{for(let Q=W;Q<P.length;Q++)Qe(P[Q],D,V,q,j)},z=P=>{if(P.shapeFlag&6)return z(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const D=p(P.anchor||P.el),V=D&&D[B0];return V?p(V):D};let re=!1;const ee=(P,D,V)=>{P==null?D._vnode&&Qe(D._vnode,null,null,!0):C(D._vnode||null,P,D,null,null,null,V),D._vnode=P,re||(re=!0,d1(),ka(),re=!1)},oe={p:C,um:Qe,m:hn,r:et,mt:Ce,mc:k,pc:ie,pbc:S,n:z,o:n};let Ae,Ue;return t&&([Ae,Ue]=t(oe)),{render:ee,hydrate:Ae,createApp:R7(ee,Ae)}}function pu({type:n,props:t},s){return s==="svg"&&n==="foreignObject"||s==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function wr({effect:n,job:t},s){s?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function vm(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function kh(n,t,s=!1){const r=n.children,i=t.children;if(ae(r)&&ae(i))for(let o=0;o<r.length;o++){const l=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Vs(i[o]),a.el=l.el),!s&&a.patchFlag!==-2&&kh(l,a)),a.type===Qs&&(a.el=l.el)}}function j7(n){const t=n.slice(),s=[0];let r,i,o,l,a;const c=n.length;for(r=0;r<c;r++){const u=n[r];if(u!==0){if(i=s[s.length-1],n[i]<u){t[r]=i,s.push(r);continue}for(o=0,l=s.length-1;o<l;)a=o+l>>1,n[s[a]]<u?o=a+1:l=a;u<n[s[o]]&&(o>0&&(t[r]=s[o-1]),s[o]=r)}}for(o=s.length,l=s[o-1];o-- >0;)s[o]=l,l=t[l];return s}function Cm(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Cm(t)}function Sa(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const wm=Symbol.for("v-scx"),bm=()=>cn(wm);function xh(n,t){return ml(n,null,t)}function km(n,t){return ml(n,null,{flush:"post"})}function xm(n,t){return ml(n,null,{flush:"sync"})}function ps(n,t,s){return ml(n,t,s)}function ml(n,t,s=Oe){const{immediate:r,deep:i,flush:o,once:l}=s,a=Ke({},s),c=t&&r||!t&&o!=="post";let u;if(Pi){if(o==="sync"){const m=bm();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=An,m.resume=An,m.pause=An,m}}const h=ct;a.call=(m,v,C)=>bn(m,h,v,C);let f=!1;o==="post"?a.scheduler=m=>{ht(m,h&&h.suspense)}:o!=="sync"&&(f=!0,a.scheduler=(m,v)=>{v?m():dh(m)}),a.augmentJob=m=>{t&&(m.flags|=4),f&&(m.flags|=2,h&&(m.id=h.uid,m.i=h))};const p=P4(n,t,a);return Pi&&(u?u.push(p):c&&p()),p}function z7(n,t,s){const r=this.proxy,i=Je(n)?n.includes(".")?_m(r,n):()=>r[n]:n.bind(r,r);let o;be(t)?o=t:(o=t.handler,s=t);const l=Hr(this),a=ml(i,o.bind(r),s);return l(),a}function _m(n,t){const s=t.split(".");return()=>{let r=n;for(let i=0;i<s.length&&r;i++)r=r[s[i]];return r}}function q7(n,t,s=Oe){const r=un(),i=_t(t),o=Xt(t),l=Sm(n,i),a=uh((c,u)=>{let h,f=Oe,p;return xm(()=>{const m=n[i];Ut(h,m)&&(h=m,u())}),{get(){return c(),s.get?s.get(h):h},set(m){const v=s.set?s.set(m):m;if(!Ut(v,h)&&!(f!==Oe&&Ut(m,f)))return;const C=r.vnode.props;C&&(t in C||i in C||o in C)&&(`onUpdate:${t}`in C||`onUpdate:${i}`in C||`onUpdate:${o}`in C)||(h=m,u()),r.emit(`update:${t}`,v),Ut(m,v)&&Ut(m,f)&&!Ut(v,p)&&u(),f=m,p=v}}});return a[Symbol.iterator]=()=>{let c=0;return{next(){return c<2?{value:c++?l||Oe:a,done:!1}:{done:!0}}}},a}const Sm=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${_t(t)}Modifiers`]||n[`${Xt(t)}Modifiers`];function W7(n,t,...s){if(n.isUnmounted)return;const r=n.vnode.props||Oe;let i=s;const o=t.startsWith("update:"),l=o&&Sm(r,t.slice(7));l&&(l.trim&&(i=s.map(h=>Je(h)?h.trim():h)),l.number&&(i=s.map(ga)));let a,c=r[a=So(t)]||r[a=So(_t(t))];!c&&o&&(c=r[a=So(Xt(t))]),c&&bn(c,n,6,i);const u=r[a+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,bn(u,n,6,i)}}function Tm(n,t,s=!1){const r=t.emitsCache,i=r.get(n);if(i!==void 0)return i;const o=n.emits;let l={},a=!1;if(!be(n)){const c=u=>{const h=Tm(u,t,!0);h&&(a=!0,Ke(l,h))};!s&&t.mixins.length&&t.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!o&&!a?(ze(n)&&r.set(n,null),null):(ae(o)?o.forEach(c=>l[c]=null):Ke(l,o),ze(n)&&r.set(n,l),l)}function kc(n,t){return!n||!cl(t)?!1:(t=t.slice(2).replace(/Once$/,""),Fe(n,t[0].toLowerCase()+t.slice(1))||Fe(n,Xt(t))||Fe(n,t))}function ia(n){const{type:t,vnode:s,proxy:r,withProxy:i,propsOptions:[o],slots:l,attrs:a,emit:c,render:u,renderCache:h,props:f,data:p,setupState:m,ctx:v,inheritAttrs:C}=n,x=Go(n);let _,M;try{if(s.shapeFlag&4){const N=i||r,R=N;_=Yt(u.call(R,N,h,f,m,p,v)),M=a}else{const N=t;_=Yt(N.length>1?N(f,{attrs:a,slots:l,emit:c}):N(f,null)),M=t.props?a:G7(a)}}catch(N){Oo.length=0,Jr(N,n,1),_=X(ot)}let E=_;if(M&&C!==!1){const N=Object.keys(M),{shapeFlag:R}=E;N.length&&R&7&&(o&&N.some(Zd)&&(M=J7(M,o)),E=qn(E,M,!1,!0))}return s.dirs&&(E=qn(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&ys(E,s.transition),_=E,Go(x),_}function K7(n,t=!0){let s;for(let r=0;r<n.length;r++){const i=n[r];if(Cs(i)){if(i.type!==ot||i.children==="v-if"){if(s)return;s=i}}else return}return s}const G7=n=>{let t;for(const s in n)(s==="class"||s==="style"||cl(s))&&((t||(t={}))[s]=n[s]);return t},J7=(n,t)=>{const s={};for(const r in n)(!Zd(r)||!(r.slice(9)in t))&&(s[r]=n[r]);return s};function Z7(n,t,s){const{props:r,children:i,component:o}=n,{props:l,children:a,patchFlag:c}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return r?k1(r,l,u):!!l;if(c&8){const h=t.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(l[p]!==r[p]&&!kc(u,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===l?!1:r?l?k1(r,l,u):!0:!!l;return!1}function k1(n,t,s){const r=Object.keys(t);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==n[o]&&!kc(s,o))return!0}return!1}function _h({vnode:n,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=t.vnode).el=s,t=t.parent;else break}}const Ta=n=>n.__isSuspense;let ld=0;const Y7={name:"Suspense",__isSuspense:!0,process(n,t,s,r,i,o,l,a,c,u){if(n==null)Q7(t,s,r,i,o,l,a,c,u);else{if(o&&o.deps>0&&!n.suspense.isInFallback){t.suspense=n.suspense,t.suspense.vnode=t,t.el=n.el;return}e9(n,t,s,r,i,l,a,c,u)}},hydrate:t9,normalize:n9},X7=Y7;function Zo(n,t){const s=n.props&&n.props[t];be(s)&&s()}function Q7(n,t,s,r,i,o,l,a,c){const{p:u,o:{createElement:h}}=c,f=h("div"),p=n.suspense=Em(n,i,r,t,f,s,o,l,a,c);u(null,p.pendingBranch=n.ssContent,f,null,r,p,o,l),p.deps>0?(Zo(n,"onPending"),Zo(n,"onFallback"),u(null,n.ssFallback,t,s,r,null,o,l),_i(p,n.ssFallback)):p.resolve(!1,!0)}function e9(n,t,s,r,i,o,l,a,{p:c,um:u,o:{createElement:h}}){const f=t.suspense=n.suspense;f.vnode=t,t.el=n.el;const p=t.ssContent,m=t.ssFallback,{activeBranch:v,pendingBranch:C,isInFallback:x,isHydrating:_}=f;if(C)f.pendingBranch=p,Tn(p,C)?(c(C,p,f.hiddenContainer,null,i,f,o,l,a),f.deps<=0?f.resolve():x&&(_||(c(v,m,s,r,i,null,o,l,a),_i(f,m)))):(f.pendingId=ld++,_?(f.isHydrating=!1,f.activeBranch=C):u(C,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),x?(c(null,p,f.hiddenContainer,null,i,f,o,l,a),f.deps<=0?f.resolve():(c(v,m,s,r,i,null,o,l,a),_i(f,m))):v&&Tn(p,v)?(c(v,p,s,r,i,f,o,l,a),f.resolve(!0)):(c(null,p,f.hiddenContainer,null,i,f,o,l,a),f.deps<=0&&f.resolve()));else if(v&&Tn(p,v))c(v,p,s,r,i,f,o,l,a),_i(f,p);else if(Zo(t,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=ld++,c(null,p,f.hiddenContainer,null,i,f,o,l,a),f.deps<=0)f.resolve();else{const{timeout:M,pendingId:E}=f;M>0?setTimeout(()=>{f.pendingId===E&&f.fallback(m)},M):M===0&&f.fallback(m)}}function Em(n,t,s,r,i,o,l,a,c,u,h=!1){const{p:f,m:p,um:m,n:v,o:{parentNode:C,remove:x}}=u;let _;const M=s9(n);M&&t&&t.pendingBranch&&(_=t.pendingId,t.deps++);const E=n.props?ya(n.props.timeout):void 0,N=o,R={vnode:n,parent:t,parentComponent:s,namespace:l,container:r,hiddenContainer:i,deps:0,pendingId:ld++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(B=!1,A=!1){const{vnode:k,activeBranch:b,pendingBranch:S,pendingId:L,effects:O,parentComponent:I,container:Ce}=R;let Me=!1;R.isHydrating?R.isHydrating=!1:B||(Me=b&&S.transition&&S.transition.mode==="out-in",Me&&(b.transition.afterLeave=()=>{L===R.pendingId&&(p(S,Ce,o===N?v(b):o,0),ba(O))}),b&&(C(b.el)===Ce&&(o=v(b)),m(b,I,R,!0)),Me||p(S,Ce,o,0)),_i(R,S),R.pendingBranch=null,R.isInFallback=!1;let se=R.parent,ce=!1;for(;se;){if(se.pendingBranch){se.effects.push(...O),ce=!0;break}se=se.parent}!ce&&!Me&&ba(O),R.effects=[],M&&t&&t.pendingBranch&&_===t.pendingId&&(t.deps--,t.deps===0&&!A&&t.resolve()),Zo(k,"onResolve")},fallback(B){if(!R.pendingBranch)return;const{vnode:A,activeBranch:k,parentComponent:b,container:S,namespace:L}=R;Zo(A,"onFallback");const O=v(k),I=()=>{R.isInFallback&&(f(null,B,S,O,b,null,L,a,c),_i(R,B))},Ce=B.transition&&B.transition.mode==="out-in";Ce&&(k.transition.afterLeave=I),R.isInFallback=!0,m(k,b,null,!0),Ce||I()},move(B,A,k){R.activeBranch&&p(R.activeBranch,B,A,k),R.container=B},next(){return R.activeBranch&&v(R.activeBranch)},registerDep(B,A,k){const b=!!R.pendingBranch;b&&R.deps++;const S=B.vnode.el;B.asyncDep.catch(L=>{Jr(L,B,0)}).then(L=>{if(B.isUnmounted||R.isUnmounted||R.pendingId!==B.suspenseId)return;B.asyncResolved=!0;const{vnode:O}=B;dd(B,L,!1),S&&(O.el=S);const I=!S&&B.subTree.el;A(B,O,C(S||B.subTree.el),S?null:v(B.subTree),R,l,k),I&&x(I),_h(B,O.el),b&&--R.deps===0&&R.resolve()})},unmount(B,A){R.isUnmounted=!0,R.activeBranch&&m(R.activeBranch,s,B,A),R.pendingBranch&&m(R.pendingBranch,s,B,A)}};return R}function t9(n,t,s,r,i,o,l,a,c){const u=t.suspense=Em(t,r,s,n.parentNode,document.createElement("div"),null,i,o,l,a,!0),h=c(n,u.pendingBranch=t.ssContent,s,u,o,l);return u.deps===0&&u.resolve(!1,!0),h}function n9(n){const{shapeFlag:t,children:s}=n,r=t&32;n.ssContent=x1(r?s.default:s),n.ssFallback=r?x1(s.fallback):X(ot)}function x1(n){let t;if(be(n)){const s=Vr&&n._c;s&&(n._d=!1,F()),n=n(),s&&(n._d=!0,t=Lt,Am())}return ae(n)&&(n=K7(n)),n=Yt(n),t&&!n.dynamicChildren&&(n.dynamicChildren=t.filter(s=>s!==n)),n}function Mm(n,t){t&&t.pendingBranch?ae(n)?t.effects.push(...n):t.effects.push(n):ba(n)}function _i(n,t){n.activeBranch=t;const{vnode:s,parentComponent:r}=n;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;s.el=i,r&&r.subTree===s&&(r.vnode.el=i,_h(r,i))}function s9(n){const t=n.props&&n.props.suspensible;return t!=null&&t!==!1}const Pe=Symbol.for("v-fgt"),Qs=Symbol.for("v-txt"),ot=Symbol.for("v-cmt"),Or=Symbol.for("v-stc"),Oo=[];let Lt=null;function F(n=!1){Oo.push(Lt=n?null:[])}function Am(){Oo.pop(),Lt=Oo[Oo.length-1]||null}let Vr=1;function ad(n){Vr+=n,n<0&&Lt&&(Lt.hasOnce=!0)}function Im(n){return n.dynamicChildren=Vr>0?Lt||Ci:null,Am(),Vr>0&&Lt&&Lt.push(n),n}function U(n,t,s,r,i,o){return Im(y(n,t,s,r,i,o,!0))}function Ne(n,t,s,r,i){return Im(X(n,t,s,r,i,!0))}function Cs(n){return n?n.__v_isVNode===!0:!1}function Tn(n,t){return n.type===t.type&&n.key===t.key}function r9(n){}const Om=({key:n})=>n??null,oa=({ref:n,ref_key:t,ref_for:s})=>(typeof n=="number"&&(n=""+n),n!=null?Je(n)||nt(n)||be(n)?{i:ut,r:n,k:t,f:!!s}:n:null);function y(n,t=null,s=null,r=0,i=null,o=n===Pe?0:1,l=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&Om(t),ref:t&&oa(t),scopeId:gc,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ut};return a?(Sh(c,s),o&128&&n.normalize(c)):s&&(c.shapeFlag|=Je(s)?8:16),Vr>0&&!l&&Lt&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&Lt.push(c),c}const X=i9;function i9(n,t=null,s=null,r=0,i=null,o=!1){if((!n||n===tm)&&(n=ot),Cs(n)){const a=qn(n,t,!0);return s&&Sh(a,s),Vr>0&&!o&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(n)]=a:Lt.push(a)),a.patchFlag=-2,a}if(h9(n)&&(n=n.__vccOpts),t){t=Lm(t);let{class:a,style:c}=t;a&&!Je(a)&&(t.class=Be(a)),ze(c)&&(mc(c)&&!ae(c)&&(c=Ke({},c)),t.style=dl(c))}const l=Je(n)?1:Ta(n)?128:V0(n)?64:ze(n)?4:be(n)?2:0;return y(n,t,s,r,i,l,o,!0)}function Lm(n){return n?mc(n)||am(n)?Ke({},n):n:null}function qn(n,t,s=!1,r=!1){const{props:i,ref:o,patchFlag:l,children:a,transition:c}=n,u=t?Pm(i||{},t):i,h={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&Om(u),ref:t&&t.ref?s&&o?ae(o)?o.concat(oa(t)):[o,oa(t)]:oa(t):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Pe?l===-1?16:l|16:l,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:c,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&qn(n.ssContent),ssFallback:n.ssFallback&&qn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return c&&r&&ys(h,c.clone(h)),h}function xe(n=" ",t=0){return X(Qs,null,n,t)}function tt(n,t){const s=X(Or,null,n);return s.staticCount=t,s}function le(n="",t=!1){return t?(F(),Ne(ot,null,n)):X(ot,null,n)}function Yt(n){return n==null||typeof n=="boolean"?X(ot):ae(n)?X(Pe,null,n.slice()):Cs(n)?Vs(n):X(Qs,null,String(n))}function Vs(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:qn(n)}function Sh(n,t){let s=0;const{shapeFlag:r}=n;if(t==null)t=null;else if(ae(t))s=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Sh(n,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!am(t)?t._ctx=ut:i===3&&ut&&(ut.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:ut},s=32):(t=String(t),r&64?(s=16,t=[xe(t)]):s=8);n.children=t,n.shapeFlag|=s}function Pm(...n){const t={};for(let s=0;s<n.length;s++){const r=n[s];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Be([t.class,r.class]));else if(i==="style")t.style=dl([t.style,r.style]);else if(cl(i)){const o=t[i],l=r[i];l&&o!==l&&!(ae(o)&&o.includes(l))&&(t[i]=o?[].concat(o,l):l)}else i!==""&&(t[i]=r[i])}return t}function Zt(n,t,s,r=null){bn(n,t,7,[s,r])}const o9=rm();let l9=0;function Nm(n,t,s){const r=n.type,i=(t?t.appContext:n.appContext)||o9,o={uid:l9++,vnode:n,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new eh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:um(r,i),emitsOptions:Tm(r,i),emit:null,emitted:null,propsDefaults:Oe,inheritAttrs:r.inheritAttrs,ctx:Oe,data:Oe,props:Oe,attrs:Oe,slots:Oe,refs:Oe,setupState:Oe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=W7.bind(null,o),n.ce&&n.ce(o),o}let ct=null;const un=()=>ct||ut;let Ea,cd;{const n=cc(),t=(s,r)=>{let i;return(i=n[s])||(i=n[s]=[]),i.push(r),o=>{i.length>1?i.forEach(l=>l(o)):i[0](o)}};Ea=t("__VUE_INSTANCE_SETTERS__",s=>ct=s),cd=t("__VUE_SSR_SETTERS__",s=>Pi=s)}const Hr=n=>{const t=ct;return Ea(n),n.scope.on(),()=>{n.scope.off(),Ea(t)}},ud=()=>{ct&&ct.scope.off(),Ea(null)};function Dm(n){return n.vnode.shapeFlag&4}let Pi=!1;function Rm(n,t=!1,s=!1){t&&cd(t);const{props:r,children:i}=n.vnode,o=Dm(n);$7(n,r,o,t),H7(n,i,s);const l=o?a9(n,t):void 0;return t&&cd(!1),l}function a9(n,t){const s=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,sd);const{setup:r}=s;if(r){dr();const i=n.setupContext=r.length>1?Fm(n):null,o=Hr(n),l=Gi(r,n,0,[n.props,i]),a=Xd(l);if(hr(),o(),(a||n.sp)&&!Xs(n)&&ph(n),a){if(l.then(ud,ud),t)return l.then(c=>{dd(n,c,t)}).catch(c=>{Jr(c,n,0)});n.asyncDep=l}else dd(n,l,t)}else $m(n,t)}function dd(n,t,s){be(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:ze(t)&&(n.setupState=ch(t)),$m(n,s)}let Ma,hd;function c9(n){Ma=n,hd=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,g7))}}const u9=()=>!Ma;function $m(n,t,s){const r=n.type;if(!n.render){if(!t&&Ma&&!r.render){const i=r.template||wh(n).template;if(i){const{isCustomElement:o,compilerOptions:l}=n.appContext.config,{delimiters:a,compilerOptions:c}=r,u=Ke(Ke({isCustomElement:o,delimiters:a},l),c);r.render=Ma(i,u)}}n.render=r.render||An,hd&&hd(n)}{const i=Hr(n);dr();try{I7(n)}finally{hr(),i()}}}const d9={get(n,t){return It(n,"get",""),n[t]}};function Fm(n){const t=s=>{n.exposed=s||{}};return{attrs:new Proxy(n.attrs,d9),slots:n.slots,emit:n.emit,expose:t}}function gl(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(ch(hl(n.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ao)return Ao[s](n)},has(t,s){return s in t||s in Ao}})):n.proxy}function fd(n,t=!0){return be(n)?n.displayName||n.name:n.name||t&&n.__name}function h9(n){return be(n)&&"__vccOpts"in n}const he=(n,t)=>A4(n,t,Pi);function yl(n,t,s){const r=arguments.length;return r===2?ze(t)&&!ae(t)?Cs(t)?X(n,null,[t]):X(n,t):X(n,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Cs(s)&&(s=[s]),X(n,t,s))}function f9(){}function p9(n,t,s,r){const i=s[r];if(i&&Bm(i,n))return i;const o=t();return o.memo=n.slice(),o.cacheIndex=r,s[r]=o}function Bm(n,t){const s=n.memo;if(s.length!=t.length)return!1;for(let r=0;r<s.length;r++)if(Ut(s[r],t[r]))return!1;return Vr>0&&Lt&&Lt.push(n),!0}const Vm="3.5.12",m9=An,g9=F4,y9=hi,v9=F0,C9={createComponentInstance:Nm,setupComponent:Rm,renderComponentRoot:ia,setCurrentRenderingInstance:Go,isVNode:Cs,normalizeVNode:Yt,getComponentPublicInstance:gl,ensureValidVNode:Ch,pushWarningContext:N4,popWarningContext:D4},w9=C9,b9=null,k9=null,x9=null;/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pd;const _1=typeof window<"u"&&window.trustedTypes;if(_1)try{pd=_1.createPolicy("vue",{createHTML:n=>n})}catch{}const Hm=pd?n=>pd.createHTML(n):n=>n,_9="http://www.w3.org/2000/svg",S9="http://www.w3.org/1998/Math/MathML",ns=typeof document<"u"?document:null,S1=ns&&ns.createElement("template"),T9={insert:(n,t,s)=>{t.insertBefore(n,s||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,s,r)=>{const i=t==="svg"?ns.createElementNS(_9,n):t==="mathml"?ns.createElementNS(S9,n):s?ns.createElement(n,{is:s}):ns.createElement(n);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>ns.createTextNode(n),createComment:n=>ns.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ns.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,s,r,i,o){const l=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{S1.innerHTML=Hm(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const a=S1.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Os="transition",mo="animation",Ni=Symbol("_vtc"),Um={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},jm=Ke({},fh,Um),E9=n=>(n.displayName="Transition",n.props=jm,n),M9=E9((n,{slots:t})=>yl(q0,zm(n),t)),br=(n,t=[])=>{ae(n)?n.forEach(s=>s(...t)):n&&n(...t)},T1=n=>n?ae(n)?n.some(t=>t.length>1):n.length>1:!1;function zm(n){const t={};for(const O in n)O in Um||(t[O]=n[O]);if(n.css===!1)return t;const{name:s="v",type:r,duration:i,enterFromClass:o=`${s}-enter-from`,enterActiveClass:l=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:c=o,appearActiveClass:u=l,appearToClass:h=a,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:m=`${s}-leave-to`}=n,v=A9(i),C=v&&v[0],x=v&&v[1],{onBeforeEnter:_,onEnter:M,onEnterCancelled:E,onLeave:N,onLeaveCancelled:R,onBeforeAppear:B=_,onAppear:A=M,onAppearCancelled:k=E}=t,b=(O,I,Ce)=>{Ns(O,I?h:a),Ns(O,I?u:l),Ce&&Ce()},S=(O,I)=>{O._isLeaving=!1,Ns(O,f),Ns(O,m),Ns(O,p),I&&I()},L=O=>(I,Ce)=>{const Me=O?A:M,se=()=>b(I,O,Ce);br(Me,[I,se]),E1(()=>{Ns(I,O?c:o),ts(I,O?h:a),T1(Me)||M1(I,r,C,se)})};return Ke(t,{onBeforeEnter(O){br(_,[O]),ts(O,o),ts(O,l)},onBeforeAppear(O){br(B,[O]),ts(O,c),ts(O,u)},onEnter:L(!1),onAppear:L(!0),onLeave(O,I){O._isLeaving=!0;const Ce=()=>S(O,I);ts(O,f),ts(O,p),Wm(),E1(()=>{O._isLeaving&&(Ns(O,f),ts(O,m),T1(N)||M1(O,r,x,Ce))}),br(N,[O,Ce])},onEnterCancelled(O){b(O,!1),br(E,[O])},onAppearCancelled(O){b(O,!0),br(k,[O])},onLeaveCancelled(O){S(O),br(R,[O])}})}function A9(n){if(n==null)return null;if(ze(n))return[mu(n.enter),mu(n.leave)];{const t=mu(n);return[t,t]}}function mu(n){return ya(n)}function ts(n,t){t.split(/\s+/).forEach(s=>s&&n.classList.add(s)),(n[Ni]||(n[Ni]=new Set)).add(t)}function Ns(n,t){t.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const s=n[Ni];s&&(s.delete(t),s.size||(n[Ni]=void 0))}function E1(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let I9=0;function M1(n,t,s,r){const i=n._endId=++I9,o=()=>{i===n._endId&&r()};if(s!=null)return setTimeout(o,s);const{type:l,timeout:a,propCount:c}=qm(n,t);if(!l)return r();const u=l+"end";let h=0;const f=()=>{n.removeEventListener(u,p),o()},p=m=>{m.target===n&&++h>=c&&f()};setTimeout(()=>{h<c&&f()},a+1),n.addEventListener(u,p)}function qm(n,t){const s=window.getComputedStyle(n),r=v=>(s[v]||"").split(", "),i=r(`${Os}Delay`),o=r(`${Os}Duration`),l=A1(i,o),a=r(`${mo}Delay`),c=r(`${mo}Duration`),u=A1(a,c);let h=null,f=0,p=0;t===Os?l>0&&(h=Os,f=l,p=o.length):t===mo?u>0&&(h=mo,f=u,p=c.length):(f=Math.max(l,u),h=f>0?l>u?Os:mo:null,p=h?h===Os?o.length:c.length:0);const m=h===Os&&/\b(transform|all)(,|$)/.test(r(`${Os}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:m}}function A1(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((s,r)=>I1(s)+I1(n[r])))}function I1(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function Wm(){return document.body.offsetHeight}function O9(n,t,s){const r=n[Ni];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?n.removeAttribute("class"):s?n.setAttribute("class",t):n.className=t}const Aa=Symbol("_vod"),Km=Symbol("_vsh"),Lo={beforeMount(n,{value:t},{transition:s}){n[Aa]=n.style.display==="none"?"":n.style.display,s&&t?s.beforeEnter(n):go(n,t)},mounted(n,{value:t},{transition:s}){s&&t&&s.enter(n)},updated(n,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(n),go(n,!0),r.enter(n)):r.leave(n,()=>{go(n,!1)}):go(n,t))},beforeUnmount(n,{value:t}){go(n,t)}};function go(n,t){n.style.display=t?n[Aa]:"none",n[Km]=!t}function L9(){Lo.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const Gm=Symbol("");function P9(n){const t=un();if(!t)return;const s=t.ut=(i=n(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>Ia(o,i))},r=()=>{const i=n(t.proxy);t.ce?Ia(t.ce,i):md(t.subTree,i),s(i)};mh(()=>{km(r)}),Rn(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),wc(()=>i.disconnect())})}function md(n,t){if(n.shapeFlag&128){const s=n.suspense;n=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{md(s.activeBranch,t)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Ia(n.el,t);else if(n.type===Pe)n.children.forEach(s=>md(s,t));else if(n.type===Or){let{el:s,anchor:r}=n;for(;s&&(Ia(s,t),s!==r);)s=s.nextSibling}}function Ia(n,t){if(n.nodeType===1){const s=n.style;let r="";for(const i in t)s.setProperty(`--${i}`,t[i]),r+=`--${i}: ${t[i]};`;s[Gm]=r}}const N9=/(^|;)\s*display\s*:/;function D9(n,t,s){const r=n.style,i=Je(s);let o=!1;if(s&&!i){if(t)if(Je(t))for(const l of t.split(";")){const a=l.slice(0,l.indexOf(":")).trim();s[a]==null&&la(r,a,"")}else for(const l in t)s[l]==null&&la(r,l,"");for(const l in s)l==="display"&&(o=!0),la(r,l,s[l])}else if(i){if(t!==s){const l=r[Gm];l&&(s+=";"+l),r.cssText=s,o=N9.test(s)}}else t&&n.removeAttribute("style");Aa in n&&(n[Aa]=o?r.display:"",n[Km]&&(r.display="none"))}const O1=/\s*!important$/;function la(n,t,s){if(ae(s))s.forEach(r=>la(n,t,r));else if(s==null&&(s=""),t.startsWith("--"))n.setProperty(t,s);else{const r=R9(n,t);O1.test(s)?n.setProperty(Xt(r),s.replace(O1,""),"important"):n[r]=s}}const L1=["Webkit","Moz","ms"],gu={};function R9(n,t){const s=gu[t];if(s)return s;let r=_t(t);if(r!=="filter"&&r in n)return gu[t]=r;r=ul(r);for(let i=0;i<L1.length;i++){const o=L1[i]+r;if(o in n)return gu[t]=o}return t}const P1="http://www.w3.org/1999/xlink";function N1(n,t,s,r,i,o=Z5(t)){r&&t.startsWith("xlink:")?s==null?n.removeAttributeNS(P1,t.slice(6,t.length)):n.setAttributeNS(P1,t,s):s==null||o&&!d0(s)?n.removeAttribute(t):n.setAttribute(t,o?"":Pn(s)?String(s):s)}function D1(n,t,s,r,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(n[t]=t==="innerHTML"?Hm(s):s);return}const o=n.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?n.getAttribute("value")||"":n.value,c=s==null?n.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in n))&&(n.value=c),s==null&&n.removeAttribute(t),n._value=s;return}let l=!1;if(s===""||s==null){const a=typeof n[t];a==="boolean"?s=d0(s):s==null&&a==="string"?(s="",l=!0):a==="number"&&(s=0,l=!0)}try{n[t]=s}catch{}l&&n.removeAttribute(i||t)}function ls(n,t,s,r){n.addEventListener(t,s,r)}function $9(n,t,s,r){n.removeEventListener(t,s,r)}const R1=Symbol("_vei");function F9(n,t,s,r,i=null){const o=n[R1]||(n[R1]={}),l=o[t];if(r&&l)l.value=r;else{const[a,c]=B9(t);if(r){const u=o[t]=U9(r,i);ls(n,a,u,c)}else l&&($9(n,a,l,c),o[t]=void 0)}}const $1=/(?:Once|Passive|Capture)$/;function B9(n){let t;if($1.test(n)){t={};let r;for(;r=n.match($1);)n=n.slice(0,n.length-r[0].length),t[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Xt(n.slice(2)),t]}let yu=0;const V9=Promise.resolve(),H9=()=>yu||(V9.then(()=>yu=0),yu=Date.now());function U9(n,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;bn(j9(r,s.value),t,5,[r])};return s.value=n,s.attached=H9(),s}function j9(n,t){if(ae(t)){const s=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{s.call(n),n._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const F1=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,z9=(n,t,s,r,i,o)=>{const l=i==="svg";t==="class"?O9(n,r,l):t==="style"?D9(n,s,r):cl(t)?Zd(t)||F9(n,t,s,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):q9(n,t,r,l))?(D1(n,t,r),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&N1(n,t,r,l,o,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!Je(r))?D1(n,_t(t),r,o,t):(t==="true-value"?n._trueValue=r:t==="false-value"&&(n._falseValue=r),N1(n,t,r,l))};function q9(n,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in n&&F1(t)&&be(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return F1(t)&&Je(s)?!1:t in n}const B1={};/*! #__NO_SIDE_EFFECTS__ */function Jm(n,t,s){const r=Ji(n,t);lc(r)&&Ke(r,t);class i extends xc{constructor(l){super(r,l,s)}}return i.def=r,i}/*! #__NO_SIDE_EFFECTS__ */const W9=(n,t)=>Jm(n,t,l6),K9=typeof HTMLElement<"u"?HTMLElement:class{};class xc extends K9{constructor(t,s={},r=La){super(),this._def=t,this._props=s,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==La?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof xc){this._parent=t;break}this._instance||(this._resolved?(this._setParent(),this._update()):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._instance.provides=t._instance.provides)}disconnectedCallback(){this._connected=!1,Zr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(r,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:o,styles:l}=r;let a;if(o&&!ae(o))for(const c in o){const u=o[c];(u===Number||u&&u.type===Number)&&(c in this._props&&(this._props[c]=ya(this._props[c])),(a||(a=Object.create(null)))[_t(c)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this.shadowRoot&&this._applyStyles(l),this._mount(r)},s=this._def.__asyncLoader;s?this._pendingResolve=s().then(r=>t(this._def=r,!0)):t(this._def)}_mount(t){this._app=this._createApp(t),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const s=this._instance&&this._instance.exposed;if(s)for(const r in s)Fe(this,r)||Object.defineProperty(this,r,{get:()=>rt(s[r])})}_resolveProps(t){const{props:s}=t,r=ae(s)?s:Object.keys(s||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i]);for(const i of r.map(_t))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const s=this.hasAttribute(t);let r=s?this.getAttribute(t):B1;const i=_t(t);s&&this._numberProps&&this._numberProps[i]&&(r=ya(r)),this._setProp(i,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,s,r=!0,i=!1){s!==this._props[t]&&(s===B1?delete this._props[t]:(this._props[t]=s,t==="key"&&this._app&&(this._app._ceVNode.key=s)),i&&this._instance&&this._update(),r&&(s===!0?this.setAttribute(Xt(t),""):typeof s=="string"||typeof s=="number"?this.setAttribute(Xt(t),s+""):s||this.removeAttribute(Xt(t))))}_update(){o6(this._createVNode(),this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const s=X(this._def,Ke(t,this._props));return this._instance||(s.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const i=(o,l)=>{this.dispatchEvent(new CustomEvent(o,lc(l[0])?Ke({detail:l},l[0]):{detail:l}))};r.emit=(o,...l)=>{i(o,l),Xt(o)!==o&&i(Xt(o),l)},this._setParent()}),s}_applyStyles(t,s){if(!t)return;if(s){if(s===this._def||this._styleChildren.has(s))return;this._styleChildren.add(s)}const r=this._nonce;for(let i=t.length-1;i>=0;i--){const o=document.createElement("style");r&&o.setAttribute("nonce",r),o.textContent=t[i],this.shadowRoot.prepend(o)}}_parseSlots(){const t=this._slots={};let s;for(;s=this.firstChild;){const r=s.nodeType===1&&s.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(s),this.removeChild(s)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),s=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const i=t[r],o=i.getAttribute("name")||"default",l=this._slots[o],a=i.parentNode;if(l)for(const c of l){if(s&&c.nodeType===1){const u=s+"-s",h=document.createTreeWalker(c,1);c.setAttribute(u,"");let f;for(;f=h.nextNode();)f.setAttribute(u,"")}a.insertBefore(c,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function Zm(n){const t=un(),s=t&&t.ce;return s||null}function G9(){const n=Zm();return n&&n.shadowRoot}function J9(n="$style"){{const t=un();if(!t)return Oe;const s=t.type.__cssModules;if(!s)return Oe;const r=s[n];return r||Oe}}const Ym=new WeakMap,Xm=new WeakMap,Oa=Symbol("_moveCb"),V1=Symbol("_enterCb"),Z9=n=>(delete n.props.mode,n),Y9=Z9({name:"TransitionGroup",props:Ke({},jm,{tag:String,moveClass:String}),setup(n,{slots:t}){const s=un(),r=hh();let i,o;return Cc(()=>{if(!i.length)return;const l=n.moveClass||`${n.name||"v"}-move`;if(!n8(i[0].el,s.vnode.el,l))return;i.forEach(Q9),i.forEach(e8);const a=i.filter(t8);Wm(),a.forEach(c=>{const u=c.el,h=u.style;ts(u,l),h.transform=h.webkitTransform=h.transitionDuration="";const f=u[Oa]=p=>{p&&p.target!==u||(!p||/transform$/.test(p.propertyName))&&(u.removeEventListener("transitionend",f),u[Oa]=null,Ns(u,l))};u.addEventListener("transitionend",f)})}),()=>{const l=Ie(n),a=zm(l);let c=l.tag||Pe;if(i=[],o)for(let u=0;u<o.length;u++){const h=o[u];h.el&&h.el instanceof Element&&(i.push(h),ys(h,Li(h,a,r,s)),Ym.set(h,h.el.getBoundingClientRect()))}o=t.default?yc(t.default()):[];for(let u=0;u<o.length;u++){const h=o[u];h.key!=null&&ys(h,Li(h,a,r,s))}return X(c,null,o)}}}),X9=Y9;function Q9(n){const t=n.el;t[Oa]&&t[Oa](),t[V1]&&t[V1]()}function e8(n){Xm.set(n,n.el.getBoundingClientRect())}function t8(n){const t=Ym.get(n),s=Xm.get(n),r=t.left-s.left,i=t.top-s.top;if(r||i){const o=n.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",n}}function n8(n,t,s){const r=n.cloneNode(),i=n[Ni];i&&i.forEach(a=>{a.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),s.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const o=t.nodeType===1?t:t.parentNode;o.appendChild(r);const{hasTransform:l}=qm(r);return o.removeChild(r),l}const cr=n=>{const t=n.props["onUpdate:modelValue"]||!1;return ae(t)?s=>ki(t,s):t};function s8(n){n.target.composing=!0}function H1(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Cn=Symbol("_assign"),je={created(n,{modifiers:{lazy:t,trim:s,number:r}},i){n[Cn]=cr(i);const o=r||i.props&&i.props.type==="number";ls(n,t?"change":"input",l=>{if(l.target.composing)return;let a=n.value;s&&(a=a.trim()),o&&(a=ga(a)),n[Cn](a)}),s&&ls(n,"change",()=>{n.value=n.value.trim()}),t||(ls(n,"compositionstart",s8),ls(n,"compositionend",H1),ls(n,"change",H1))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:s,modifiers:{lazy:r,trim:i,number:o}},l){if(n[Cn]=cr(l),n.composing)return;const a=(o||n.type==="number")&&!/^0\d/.test(n.value)?ga(n.value):n.value,c=t??"";a!==c&&(document.activeElement===n&&n.type!=="range"&&(r&&t===s||i&&n.value.trim()===c)||(n.value=c))}},Hn={deep:!0,created(n,t,s){n[Cn]=cr(s),ls(n,"change",()=>{const r=n._modelValue,i=Di(n),o=n.checked,l=n[Cn];if(ae(r)){const a=uc(r,i),c=a!==-1;if(o&&!c)l(r.concat(i));else if(!o&&c){const u=[...r];u.splice(a,1),l(u)}}else if(Kr(r)){const a=new Set(r);o?a.add(i):a.delete(i),l(a)}else l(e6(n,o))})},mounted:U1,beforeUpdate(n,t,s){n[Cn]=cr(s),U1(n,t,s)}};function U1(n,{value:t,oldValue:s},r){n._modelValue=t;let i;if(ae(t))i=uc(t,r.props.value)>-1;else if(Kr(t))i=t.has(r.props.value);else{if(t===s)return;i=lr(t,e6(n,!0))}n.checked!==i&&(n.checked=i)}const _n={created(n,{value:t},s){n.checked=lr(t,s.props.value),n[Cn]=cr(s),ls(n,"change",()=>{n[Cn](Di(n))})},beforeUpdate(n,{value:t,oldValue:s},r){n[Cn]=cr(r),t!==s&&(n.checked=lr(t,r.props.value))}},Qm={deep:!0,created(n,{value:t,modifiers:{number:s}},r){const i=Kr(t);ls(n,"change",()=>{const o=Array.prototype.filter.call(n.options,l=>l.selected).map(l=>s?ga(Di(l)):Di(l));n[Cn](n.multiple?i?new Set(o):o:o[0]),n._assigning=!0,Zr(()=>{n._assigning=!1})}),n[Cn]=cr(r)},mounted(n,{value:t}){j1(n,t)},beforeUpdate(n,t,s){n[Cn]=cr(s)},updated(n,{value:t}){n._assigning||j1(n,t)}};function j1(n,t){const s=n.multiple,r=ae(t);if(!(s&&!r&&!Kr(t))){for(let i=0,o=n.options.length;i<o;i++){const l=n.options[i],a=Di(l);if(s)if(r){const c=typeof a;c==="string"||c==="number"?l.selected=t.some(u=>String(u)===String(a)):l.selected=uc(t,a)>-1}else l.selected=t.has(a);else if(lr(Di(l),t)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!s&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function Di(n){return"_value"in n?n._value:n.value}function e6(n,t){const s=t?"_trueValue":"_falseValue";return s in n?n[s]:t}const t6={created(n,t,s){Gl(n,t,s,null,"created")},mounted(n,t,s){Gl(n,t,s,null,"mounted")},beforeUpdate(n,t,s,r){Gl(n,t,s,r,"beforeUpdate")},updated(n,t,s,r){Gl(n,t,s,r,"updated")}};function n6(n,t){switch(n){case"SELECT":return Qm;case"TEXTAREA":return je;default:switch(t){case"checkbox":return Hn;case"radio":return _n;default:return je}}}function Gl(n,t,s,r,i){const l=n6(n.tagName,s.props&&s.props.type)[i];l&&l(n,t,s,r)}function r8(){je.getSSRProps=({value:n})=>({value:n}),_n.getSSRProps=({value:n},t)=>{if(t.props&&lr(t.props.value,n))return{checked:!0}},Hn.getSSRProps=({value:n},t)=>{if(ae(n)){if(t.props&&uc(n,t.props.value)>-1)return{checked:!0}}else if(Kr(n)){if(t.props&&n.has(t.props.value))return{checked:!0}}else if(n)return{checked:!0}},t6.getSSRProps=(n,t)=>{if(typeof t.type!="string")return;const s=n6(t.type.toUpperCase(),t.props&&t.props.type);if(s.getSSRProps)return s.getSSRProps(n,t)}}const i8=["ctrl","shift","alt","meta"],o8={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>i8.some(s=>n[`${s}Key`]&&!t.includes(s))},cs=(n,t)=>{const s=n._withMods||(n._withMods={}),r=t.join(".");return s[r]||(s[r]=(i,...o)=>{for(let l=0;l<t.length;l++){const a=o8[t[l]];if(a&&a(i,t))return}return n(i,...o)})},l8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},a8=(n,t)=>{const s=n._withKeys||(n._withKeys={}),r=t.join(".");return s[r]||(s[r]=i=>{if(!("key"in i))return;const o=Xt(i.key);if(t.some(l=>l===o||l8[l]===o))return n(i)})},s6=Ke({patchProp:z9},T9);let Po,z1=!1;function r6(){return Po||(Po=mm(s6))}function i6(){return Po=z1?Po:gm(s6),z1=!0,Po}const o6=(...n)=>{r6().render(...n)},c8=(...n)=>{i6().hydrate(...n)},La=(...n)=>{const t=r6().createApp(...n),{mount:s}=t;return t.mount=r=>{const i=c6(r);if(!i)return;const o=t._component;!be(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const l=s(i,!1,a6(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},t},l6=(...n)=>{const t=i6().createApp(...n),{mount:s}=t;return t.mount=r=>{const i=c6(r);if(i)return s(i,!0,a6(i))},t};function a6(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function c6(n){return Je(n)?document.querySelector(n):n}let q1=!1;const u8=()=>{q1||(q1=!0,r8(),L9())};/**
* vue v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const d8=()=>{},h8=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:q0,BaseTransitionPropsValidators:fh,Comment:ot,DeprecationTypes:x9,EffectScope:eh,ErrorCodes:$4,ErrorTypeStrings:g9,Fragment:Pe,KeepAlive:u7,ReactiveEffect:zo,Static:Or,Suspense:X7,Teleport:H0,Text:Qs,TrackOpTypes:I4,Transition:M9,TransitionGroup:X9,TriggerOpTypes:O4,VueElement:xc,assertNumber:R4,callWithAsyncErrorHandling:bn,callWithErrorHandling:Gi,camelize:_t,capitalize:ul,cloneVNode:qn,compatUtils:k9,compile:d8,computed:he,createApp:La,createBlock:Ne,createCommentVNode:le,createElementBlock:U,createElementVNode:y,createHydrationRenderer:gm,createPropsRestProxy:M7,createRenderer:mm,createSSRApp:l6,createSlots:p7,createStaticVNode:tt,createTextVNode:xe,createVNode:X,customRef:uh,defineAsyncComponent:a7,defineComponent:Ji,defineCustomElement:Jm,defineEmits:v7,defineExpose:C7,defineModel:k7,defineOptions:w7,defineProps:y7,defineSSRCustomElement:W9,defineSlots:b7,devtools:y9,effect:Q5,effectScope:th,getCurrentInstance:un,getCurrentScope:nh,getCurrentWatcher:L4,getTransitionRawChildren:yc,guardReactiveProps:Lm,h:yl,handleError:Jr,hasInjectionContext:im,hydrate:c8,hydrateOnIdle:n7,hydrateOnInteraction:o7,hydrateOnMediaQuery:i7,hydrateOnVisible:r7,initCustomFormatter:f9,initDirectivesForSSR:u8,inject:cn,isMemoSame:Bm,isProxy:mc,isReactive:jn,isReadonly:ar,isRef:nt,isRuntimeOnly:u9,isShallow:an,isVNode:Cs,markRaw:hl,mergeDefaults:T7,mergeModels:E7,mergeProps:Pm,nextTick:Zr,normalizeClass:Be,normalizeProps:G5,normalizeStyle:dl,onActivated:K0,onBeforeMount:mh,onBeforeUnmount:pl,onBeforeUpdate:Z0,onDeactivated:G0,onErrorCaptured:em,onMounted:Rn,onRenderTracked:Q0,onRenderTriggered:X0,onScopeDispose:p0,onServerPrefetch:Y0,onUnmounted:wc,onUpdated:Cc,onWatcherCleanup:P0,openBlock:F,popScopeId:U4,provide:Io,proxyRefs:ch,pushScopeId:H4,queuePostFlushCb:ba,reactive:Gr,readonly:lh,ref:fe,registerRuntimeCompiler:c9,render:o6,renderList:bc,renderSlot:vh,resolveComponent:fr,resolveDirective:vs,resolveDynamicComponent:f7,resolveFilter:b9,resolveTransitionHooks:Li,setBlockTracking:ad,setDevtoolsHook:v9,setTransitionHooks:ys,shallowReactive:oh,shallowReadonly:C4,shallowRef:ah,ssrContextKey:wm,ssrUtils:w9,stop:e4,toDisplayString:pe,toHandlerKey:So,toHandlers:m7,toRaw:Ie,toRef:E4,toRefs:O0,toValue:k4,transformVNodeArgs:r9,triggerRef:b4,unref:rt,useAttrs:S7,useCssModule:J9,useCssVars:P9,useHost:Zm,useId:G4,useModel:q7,useSSRContext:bm,useShadowRoot:G9,useSlots:_7,useTemplateRef:J4,useTransitionState:hh,vModelCheckbox:Hn,vModelDynamic:t6,vModelRadio:_n,vModelSelect:Qm,vModelText:je,vShow:Lo,version:Vm,warn:m9,watch:ps,watchEffect:xh,watchPostEffect:km,watchSyncEffect:xm,withAsyncContext:A7,withCtx:Ye,withDefaults:x7,withDirectives:ve,withKeys:a8,withMemo:p9,withModifiers:cs,withScopeId:j4},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const fi=typeof document<"u";function u6(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function f8(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&u6(n.default)}const He=Object.assign;function vu(n,t){const s={};for(const r in t){const i=t[r];s[r]=Nn(i)?i.map(n):n(i)}return s}const No=()=>{},Nn=Array.isArray,d6=/#/g,p8=/&/g,m8=/\//g,g8=/=/g,y8=/\?/g,h6=/\+/g,v8=/%5B/g,C8=/%5D/g,f6=/%5E/g,w8=/%60/g,p6=/%7B/g,b8=/%7C/g,m6=/%7D/g,k8=/%20/g;function Th(n){return encodeURI(""+n).replace(b8,"|").replace(v8,"[").replace(C8,"]")}function x8(n){return Th(n).replace(p6,"{").replace(m6,"}").replace(f6,"^")}function gd(n){return Th(n).replace(h6,"%2B").replace(k8,"+").replace(d6,"%23").replace(p8,"%26").replace(w8,"`").replace(p6,"{").replace(m6,"}").replace(f6,"^")}function _8(n){return gd(n).replace(g8,"%3D")}function S8(n){return Th(n).replace(d6,"%23").replace(y8,"%3F")}function T8(n){return n==null?"":S8(n).replace(m8,"%2F")}function Yo(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const E8=/\/$/,M8=n=>n.replace(E8,"");function Cu(n,t,s="/"){let r,i={},o="",l="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=t.slice(0,c),o=t.slice(c+1,a>-1?a:t.length),i=n(o)),a>-1&&(r=r||t.slice(0,a),l=t.slice(a,t.length)),r=L8(r??t,s),{fullPath:r+(o&&"?")+o+l,path:r,query:i,hash:Yo(l)}}function A8(n,t){const s=t.query?n(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function W1(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function I8(n,t,s){const r=t.matched.length-1,i=s.matched.length-1;return r>-1&&r===i&&Ri(t.matched[r],s.matched[i])&&g6(t.params,s.params)&&n(t.query)===n(s.query)&&t.hash===s.hash}function Ri(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function g6(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const s in n)if(!O8(n[s],t[s]))return!1;return!0}function O8(n,t){return Nn(n)?K1(n,t):Nn(t)?K1(t,n):n===t}function K1(n,t){return Nn(t)?n.length===t.length&&n.every((s,r)=>s===t[r]):n.length===1&&n[0]===t}function L8(n,t){if(n.startsWith("/"))return n;if(!n)return t;const s=t.split("/"),r=n.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=s.length-1,l,a;for(l=0;l<r.length;l++)if(a=r[l],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+r.slice(l).join("/")}const Ls={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Xo;(function(n){n.pop="pop",n.push="push"})(Xo||(Xo={}));var Do;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Do||(Do={}));function P8(n){if(!n)if(fi){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),M8(n)}const N8=/^[^#]+#/;function D8(n,t){return n.replace(N8,"#")+t}function R8(n,t){const s=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const _c=()=>({left:window.scrollX,top:window.scrollY});function $8(n){let t;if("el"in n){const s=n.el,r=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=R8(i,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function G1(n,t){return(history.state?history.state.position-t:-1)+n}const yd=new Map;function F8(n,t){yd.set(n,t)}function B8(n){const t=yd.get(n);return yd.delete(n),t}let V8=()=>location.protocol+"//"+location.host;function y6(n,t){const{pathname:s,search:r,hash:i}=t,o=n.indexOf("#");if(o>-1){let a=i.includes(n.slice(o))?n.slice(o).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),W1(c,"")}return W1(s,n)+r+i}function H8(n,t,s,r){let i=[],o=[],l=null;const a=({state:p})=>{const m=y6(n,location),v=s.value,C=t.value;let x=0;if(p){if(s.value=m,t.value=p,l&&l===v){l=null;return}x=C?p.position-C.position:0}else r(m);i.forEach(_=>{_(s.value,v,{delta:x,type:Xo.pop,direction:x?x>0?Do.forward:Do.back:Do.unknown})})};function c(){l=s.value}function u(p){i.push(p);const m=()=>{const v=i.indexOf(p);v>-1&&i.splice(v,1)};return o.push(m),m}function h(){const{history:p}=window;p.state&&p.replaceState(He({},p.state,{scroll:_c()}),"")}function f(){for(const p of o)p();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:u,destroy:f}}function J1(n,t,s,r=!1,i=!1){return{back:n,current:t,forward:s,replaced:r,position:window.history.length,scroll:i?_c():null}}function U8(n){const{history:t,location:s}=window,r={value:y6(n,s)},i={value:t.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,u,h){const f=n.indexOf("#"),p=f>-1?(s.host&&document.querySelector("base")?n:n.slice(f))+c:V8()+n+c;try{t[h?"replaceState":"pushState"](u,"",p),i.value=u}catch(m){console.error(m),s[h?"replace":"assign"](p)}}function l(c,u){const h=He({},t.state,J1(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});o(c,h,!0),r.value=c}function a(c,u){const h=He({},i.value,t.state,{forward:c,scroll:_c()});o(h.current,h,!0);const f=He({},J1(r.value,c,null),{position:h.position+1},u);o(c,f,!1),r.value=c}return{location:r,state:i,push:a,replace:l}}function j8(n){n=P8(n);const t=U8(n),s=H8(n,t.state,t.location,t.replace);function r(o,l=!0){l||s.pauseListeners(),history.go(o)}const i=He({location:"",base:n,go:r,createHref:D8.bind(null,n)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function z8(n){return typeof n=="string"||n&&typeof n=="object"}function v6(n){return typeof n=="string"||typeof n=="symbol"}const C6=Symbol("");var Z1;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Z1||(Z1={}));function $i(n,t){return He(new Error,{type:n,[C6]:!0},t)}function Qn(n,t){return n instanceof Error&&C6 in n&&(t==null||!!(n.type&t))}const Y1="[^/]+?",q8={sensitive:!1,strict:!1,start:!0,end:!0},W8=/[.+*?^${}()[\]/\\]/g;function K8(n,t){const s=He({},q8,t),r=[];let i=s.start?"^":"";const o=[];for(const u of n){const h=u.length?[]:[90];s.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const p=u[f];let m=40+(s.sensitive?.25:0);if(p.type===0)f||(i+="/"),i+=p.value.replace(W8,"\\$&"),m+=40;else if(p.type===1){const{value:v,repeatable:C,optional:x,regexp:_}=p;o.push({name:v,repeatable:C,optional:x});const M=_||Y1;if(M!==Y1){m+=10;try{new RegExp(`(${M})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${v}" (${M}): `+N.message)}}let E=C?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;f||(E=x&&u.length<2?`(?:/${E})`:"/"+E),x&&(E+="?"),i+=E,m+=20,x&&(m+=-8),C&&(m+=-20),M===".*"&&(m+=-50)}h.push(m)}r.push(h)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&(i+="(?:/|$)");const l=new RegExp(i,s.sensitive?"":"i");function a(u){const h=u.match(l),f={};if(!h)return null;for(let p=1;p<h.length;p++){const m=h[p]||"",v=o[p-1];f[v.name]=m&&v.repeatable?m.split("/"):m}return f}function c(u){let h="",f=!1;for(const p of n){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const m of p)if(m.type===0)h+=m.value;else if(m.type===1){const{value:v,repeatable:C,optional:x}=m,_=v in u?u[v]:"";if(Nn(_)&&!C)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const M=Nn(_)?_.join("/"):_;if(!M)if(x)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);h+=M}}return h||"/"}return{re:l,score:r,keys:o,parse:a,stringify:c}}function G8(n,t){let s=0;for(;s<n.length&&s<t.length;){const r=t[s]-n[s];if(r)return r;s++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function w6(n,t){let s=0;const r=n.score,i=t.score;for(;s<r.length&&s<i.length;){const o=G8(r[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-r.length)===1){if(X1(r))return 1;if(X1(i))return-1}return i.length-r.length}function X1(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const J8={type:0,value:""},Z8=/[a-zA-Z0-9_]/;function Y8(n){if(!n)return[[]];if(n==="/")return[[J8]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(m){throw new Error(`ERR (${s})/"${u}": ${m}`)}let s=0,r=s;const i=[];let o;function l(){o&&i.push(o),o=[]}let a=0,c,u="",h="";function f(){u&&(s===0?o.push({type:0,value:u}):s===1||s===2||s===3?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),u="")}function p(){u+=c}for(;a<n.length;){if(c=n[a++],c==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:c==="/"?(u&&f(),l()):c===":"?(f(),s=1):p();break;case 4:p(),s=r;break;case 1:c==="("?s=2:Z8.test(c)?p():(f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:s=3:h+=c;break;case 3:f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),l(),i}function X8(n,t,s){const r=K8(Y8(n.path),s),i=He(r,{record:n,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Q8(n,t){const s=[],r=new Map;t=np({strict:!1,end:!0,sensitive:!1},t);function i(f){return r.get(f)}function o(f,p,m){const v=!m,C=ep(f);C.aliasOf=m&&m.record;const x=np(t,f),_=[C];if("alias"in f){const N=typeof f.alias=="string"?[f.alias]:f.alias;for(const R of N)_.push(ep(He({},C,{components:m?m.record.components:C.components,path:R,aliasOf:m?m.record:C})))}let M,E;for(const N of _){const{path:R}=N;if(p&&R[0]!=="/"){const B=p.record.path,A=B[B.length-1]==="/"?"":"/";N.path=p.record.path+(R&&A+R)}if(M=X8(N,p,x),m?m.alias.push(M):(E=E||M,E!==M&&E.alias.push(M),v&&f.name&&!tp(M)&&l(f.name)),b6(M)&&c(M),C.children){const B=C.children;for(let A=0;A<B.length;A++)o(B[A],M,m&&m.children[A])}m=m||M}return E?()=>{l(E)}:No}function l(f){if(v6(f)){const p=r.get(f);p&&(r.delete(f),s.splice(s.indexOf(p),1),p.children.forEach(l),p.alias.forEach(l))}else{const p=s.indexOf(f);p>-1&&(s.splice(p,1),f.record.name&&r.delete(f.record.name),f.children.forEach(l),f.alias.forEach(l))}}function a(){return s}function c(f){const p=ny(f,s);s.splice(p,0,f),f.record.name&&!tp(f)&&r.set(f.record.name,f)}function u(f,p){let m,v={},C,x;if("name"in f&&f.name){if(m=r.get(f.name),!m)throw $i(1,{location:f});x=m.record.name,v=He(Q1(p.params,m.keys.filter(E=>!E.optional).concat(m.parent?m.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&Q1(f.params,m.keys.map(E=>E.name))),C=m.stringify(v)}else if(f.path!=null)C=f.path,m=s.find(E=>E.re.test(C)),m&&(v=m.parse(C),x=m.record.name);else{if(m=p.name?r.get(p.name):s.find(E=>E.re.test(p.path)),!m)throw $i(1,{location:f,currentLocation:p});x=m.record.name,v=He({},p.params,f.params),C=m.stringify(v)}const _=[];let M=m;for(;M;)_.unshift(M.record),M=M.parent;return{name:x,path:C,params:v,matched:_,meta:ty(_)}}n.forEach(f=>o(f));function h(){s.length=0,r.clear()}return{addRoute:o,resolve:u,removeRoute:l,clearRoutes:h,getRoutes:a,getRecordMatcher:i}}function Q1(n,t){const s={};for(const r of t)r in n&&(s[r]=n[r]);return s}function ep(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:ey(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function ey(n){const t={},s=n.props||!1;if("component"in n)t.default=s;else for(const r in n.components)t[r]=typeof s=="object"?s[r]:s;return t}function tp(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function ty(n){return n.reduce((t,s)=>He(t,s.meta),{})}function np(n,t){const s={};for(const r in n)s[r]=r in t?t[r]:n[r];return s}function ny(n,t){let s=0,r=t.length;for(;s!==r;){const o=s+r>>1;w6(n,t[o])<0?r=o:s=o+1}const i=sy(n);return i&&(r=t.lastIndexOf(i,r-1)),r}function sy(n){let t=n;for(;t=t.parent;)if(b6(t)&&w6(n,t)===0)return t}function b6({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function ry(n){const t={};if(n===""||n==="?")return t;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(h6," "),l=o.indexOf("="),a=Yo(l<0?o:o.slice(0,l)),c=l<0?null:Yo(o.slice(l+1));if(a in t){let u=t[a];Nn(u)||(u=t[a]=[u]),u.push(c)}else t[a]=c}return t}function sp(n){let t="";for(let s in n){const r=n[s];if(s=_8(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(Nn(r)?r.map(o=>o&&gd(o)):[r&&gd(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function iy(n){const t={};for(const s in n){const r=n[s];r!==void 0&&(t[s]=Nn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const oy=Symbol(""),rp=Symbol(""),Sc=Symbol(""),Eh=Symbol(""),vd=Symbol("");function yo(){let n=[];function t(r){return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}function s(){n=[]}return{add:t,list:()=>n.slice(),reset:s}}function Hs(n,t,s,r,i,o=l=>l()){const l=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const u=p=>{p===!1?c($i(4,{from:s,to:t})):p instanceof Error?c(p):z8(p)?c($i(2,{from:t,to:p})):(l&&r.enterCallbacks[i]===l&&typeof p=="function"&&l.push(p),a())},h=o(()=>n.call(r&&r.instances[i],t,s,u));let f=Promise.resolve(h);n.length<3&&(f=f.then(u)),f.catch(p=>c(p))})}function wu(n,t,s,r,i=o=>o()){const o=[];for(const l of n)for(const a in l.components){let c=l.components[a];if(!(t!=="beforeRouteEnter"&&!l.instances[a]))if(u6(c)){const h=(c.__vccOpts||c)[t];h&&o.push(Hs(h,s,r,l,a,i))}else{let u=c();o.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${l.path}"`);const f=f8(h)?h.default:h;l.mods[a]=h,l.components[a]=f;const m=(f.__vccOpts||f)[t];return m&&Hs(m,s,r,l,a,i)()}))}}return o}function ip(n){const t=cn(Sc),s=cn(Eh),r=he(()=>{const c=rt(n.to);return t.resolve(c)}),i=he(()=>{const{matched:c}=r.value,{length:u}=c,h=c[u-1],f=s.matched;if(!h||!f.length)return-1;const p=f.findIndex(Ri.bind(null,h));if(p>-1)return p;const m=op(c[u-2]);return u>1&&op(h)===m&&f[f.length-1].path!==m?f.findIndex(Ri.bind(null,c[u-2])):p}),o=he(()=>i.value>-1&&cy(s.params,r.value.params)),l=he(()=>i.value>-1&&i.value===s.matched.length-1&&g6(s.params,r.value.params));function a(c={}){return ay(c)?t[rt(n.replace)?"replace":"push"](rt(n.to)).catch(No):Promise.resolve()}return{route:r,href:he(()=>r.value.href),isActive:o,isExactActive:l,navigate:a}}const ly=Ji({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ip,setup(n,{slots:t}){const s=Gr(ip(n)),{options:r}=cn(Sc),i=he(()=>({[lp(n.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[lp(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=t.default&&t.default(s);return n.custom?o:yl("a",{"aria-current":s.isExactActive?n.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),ms=ly;function ay(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function cy(n,t){for(const s in t){const r=t[s],i=n[s];if(typeof r=="string"){if(r!==i)return!1}else if(!Nn(i)||i.length!==r.length||r.some((o,l)=>o!==i[l]))return!1}return!0}function op(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const lp=(n,t,s)=>n??t??s,uy=Ji({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:s}){const r=cn(vd),i=he(()=>n.route||r.value),o=cn(rp,0),l=he(()=>{let u=rt(o);const{matched:h}=i.value;let f;for(;(f=h[u])&&!f.components;)u++;return u}),a=he(()=>i.value.matched[l.value]);Io(rp,he(()=>l.value+1)),Io(oy,a),Io(vd,i);const c=fe();return ps(()=>[c.value,a.value,n.name],([u,h,f],[p,m,v])=>{h&&(h.instances[f]=u,m&&m!==h&&u&&u===p&&(h.leaveGuards.size||(h.leaveGuards=m.leaveGuards),h.updateGuards.size||(h.updateGuards=m.updateGuards))),u&&h&&(!m||!Ri(h,m)||!p)&&(h.enterCallbacks[f]||[]).forEach(C=>C(u))},{flush:"post"}),()=>{const u=i.value,h=n.name,f=a.value,p=f&&f.components[h];if(!p)return ap(s.default,{Component:p,route:u});const m=f.props[h],v=m?m===!0?u.params:typeof m=="function"?m(u):m:null,x=yl(p,He({},v,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(f.instances[h]=null)},ref:c}));return ap(s.default,{Component:x,route:u})||x}}});function ap(n,t){if(!n)return null;const s=n(t);return s.length===1?s[0]:s}const k6=uy;function dy(n){const t=Q8(n.routes,n),s=n.parseQuery||ry,r=n.stringifyQuery||sp,i=n.history,o=yo(),l=yo(),a=yo(),c=ah(Ls);let u=Ls;fi&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=vu.bind(null,z=>""+z),f=vu.bind(null,T8),p=vu.bind(null,Yo);function m(z,re){let ee,oe;return v6(z)?(ee=t.getRecordMatcher(z),oe=re):oe=z,t.addRoute(oe,ee)}function v(z){const re=t.getRecordMatcher(z);re&&t.removeRoute(re)}function C(){return t.getRoutes().map(z=>z.record)}function x(z){return!!t.getRecordMatcher(z)}function _(z,re){if(re=He({},re||c.value),typeof z=="string"){const D=Cu(s,z,re.path),V=t.resolve({path:D.path},re),q=i.createHref(D.fullPath);return He(D,V,{params:p(V.params),hash:Yo(D.hash),redirectedFrom:void 0,href:q})}let ee;if(z.path!=null)ee=He({},z,{path:Cu(s,z.path,re.path).path});else{const D=He({},z.params);for(const V in D)D[V]==null&&delete D[V];ee=He({},z,{params:f(D)}),re.params=f(re.params)}const oe=t.resolve(ee,re),Ae=z.hash||"";oe.params=h(p(oe.params));const Ue=A8(r,He({},z,{hash:x8(Ae),path:oe.path})),P=i.createHref(Ue);return He({fullPath:Ue,hash:Ae,query:r===sp?iy(z.query):z.query||{}},oe,{redirectedFrom:void 0,href:P})}function M(z){return typeof z=="string"?Cu(s,z,c.value.path):He({},z)}function E(z,re){if(u!==z)return $i(8,{from:re,to:z})}function N(z){return A(z)}function R(z){return N(He(M(z),{replace:!0}))}function B(z){const re=z.matched[z.matched.length-1];if(re&&re.redirect){const{redirect:ee}=re;let oe=typeof ee=="function"?ee(z):ee;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=M(oe):{path:oe},oe.params={}),He({query:z.query,hash:z.hash,params:oe.path!=null?{}:z.params},oe)}}function A(z,re){const ee=u=_(z),oe=c.value,Ae=z.state,Ue=z.force,P=z.replace===!0,D=B(ee);if(D)return A(He(M(D),{state:typeof D=="object"?He({},Ae,D.state):Ae,force:Ue,replace:P}),re||ee);const V=ee;V.redirectedFrom=re;let q;return!Ue&&I8(r,oe,ee)&&(q=$i(16,{to:V,from:oe}),hn(oe,oe,!0,!1)),(q?Promise.resolve(q):S(V,oe)).catch(j=>Qn(j)?Qn(j,2)?j:kn(j):ie(j,V,oe)).then(j=>{if(j){if(Qn(j,2))return A(He({replace:P},M(j.to),{state:typeof j.to=="object"?He({},Ae,j.to.state):Ae,force:Ue}),re||V)}else j=O(V,oe,!0,P,Ae);return L(V,oe,j),j})}function k(z,re){const ee=E(z,re);return ee?Promise.reject(ee):Promise.resolve()}function b(z){const re=Ts.values().next().value;return re&&typeof re.runWithContext=="function"?re.runWithContext(z):z()}function S(z,re){let ee;const[oe,Ae,Ue]=hy(z,re);ee=wu(oe.reverse(),"beforeRouteLeave",z,re);for(const D of oe)D.leaveGuards.forEach(V=>{ee.push(Hs(V,z,re))});const P=k.bind(null,z,re);return ee.push(P),Jt(ee).then(()=>{ee=[];for(const D of o.list())ee.push(Hs(D,z,re));return ee.push(P),Jt(ee)}).then(()=>{ee=wu(Ae,"beforeRouteUpdate",z,re);for(const D of Ae)D.updateGuards.forEach(V=>{ee.push(Hs(V,z,re))});return ee.push(P),Jt(ee)}).then(()=>{ee=[];for(const D of Ue)if(D.beforeEnter)if(Nn(D.beforeEnter))for(const V of D.beforeEnter)ee.push(Hs(V,z,re));else ee.push(Hs(D.beforeEnter,z,re));return ee.push(P),Jt(ee)}).then(()=>(z.matched.forEach(D=>D.enterCallbacks={}),ee=wu(Ue,"beforeRouteEnter",z,re,b),ee.push(P),Jt(ee))).then(()=>{ee=[];for(const D of l.list())ee.push(Hs(D,z,re));return ee.push(P),Jt(ee)}).catch(D=>Qn(D,8)?D:Promise.reject(D))}function L(z,re,ee){a.list().forEach(oe=>b(()=>oe(z,re,ee)))}function O(z,re,ee,oe,Ae){const Ue=E(z,re);if(Ue)return Ue;const P=re===Ls,D=fi?history.state:{};ee&&(oe||P?i.replace(z.fullPath,He({scroll:P&&D&&D.scroll},Ae)):i.push(z.fullPath,Ae)),c.value=z,hn(z,re,ee,P),kn()}let I;function Ce(){I||(I=i.listen((z,re,ee)=>{if(!$n.listening)return;const oe=_(z),Ae=B(oe);if(Ae){A(He(Ae,{replace:!0}),oe).catch(No);return}u=oe;const Ue=c.value;fi&&F8(G1(Ue.fullPath,ee.delta),_c()),S(oe,Ue).catch(P=>Qn(P,12)?P:Qn(P,2)?(A(P.to,oe).then(D=>{Qn(D,20)&&!ee.delta&&ee.type===Xo.pop&&i.go(-1,!1)}).catch(No),Promise.reject()):(ee.delta&&i.go(-ee.delta,!1),ie(P,oe,Ue))).then(P=>{P=P||O(oe,Ue,!1),P&&(ee.delta&&!Qn(P,8)?i.go(-ee.delta,!1):ee.type===Xo.pop&&Qn(P,20)&&i.go(-1,!1)),L(oe,Ue,P)}).catch(No)}))}let Me=yo(),se=yo(),ce;function ie(z,re,ee){kn(z);const oe=se.list();return oe.length?oe.forEach(Ae=>Ae(z,re,ee)):console.error(z),Promise.reject(z)}function Xe(){return ce&&c.value!==Ls?Promise.resolve():new Promise((z,re)=>{Me.add([z,re])})}function kn(z){return ce||(ce=!z,Ce(),Me.list().forEach(([re,ee])=>z?ee(z):re()),Me.reset()),z}function hn(z,re,ee,oe){const{scrollBehavior:Ae}=n;if(!fi||!Ae)return Promise.resolve();const Ue=!ee&&B8(G1(z.fullPath,0))||(oe||!ee)&&history.state&&history.state.scroll||null;return Zr().then(()=>Ae(z,re,Ue)).then(P=>P&&$8(P)).catch(P=>ie(P,z,re))}const Qe=z=>i.go(z);let et;const Ts=new Set,$n={currentRoute:c,listening:!0,addRoute:m,removeRoute:v,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:C,resolve:_,options:n,push:N,replace:R,go:Qe,back:()=>Qe(-1),forward:()=>Qe(1),beforeEach:o.add,beforeResolve:l.add,afterEach:a.add,onError:se.add,isReady:Xe,install(z){const re=this;z.component("RouterLink",ms),z.component("RouterView",k6),z.config.globalProperties.$router=re,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>rt(c)}),fi&&!et&&c.value===Ls&&(et=!0,N(i.location).catch(Ae=>{}));const ee={};for(const Ae in Ls)Object.defineProperty(ee,Ae,{get:()=>c.value[Ae],enumerable:!0});z.provide(Sc,re),z.provide(Eh,oh(ee)),z.provide(vd,c);const oe=z.unmount;Ts.add(z),z.unmount=function(){Ts.delete(z),Ts.size<1&&(u=Ls,I&&I(),I=null,c.value=Ls,et=!1,ce=!1),oe()}}};function Jt(z){return z.reduce((re,ee)=>re.then(()=>b(ee)),Promise.resolve())}return $n}function hy(n,t){const s=[],r=[],i=[],o=Math.max(t.matched.length,n.matched.length);for(let l=0;l<o;l++){const a=t.matched[l];a&&(n.matched.find(u=>Ri(u,a))?r.push(a):s.push(a));const c=n.matched[l];c&&(t.matched.find(u=>Ri(u,c))||i.push(c))}return[s,r,i]}function Mh(){return cn(Sc)}function fy(n){return cn(Eh)}const Ah=(n,t)=>{const s=n.__vccOpts||n;for(const[r,i]of t)s[r]=i;return s},py={},my={class:"modal-wrapper"};function gy(n,t){return F(),U("div",my,t[0]||(t[0]=[tt('<svg viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-11391480><path class="spin2" d="M392.5 728C573.373 728 720 581.373 720 400.5C720 219.627 573.373 73 392.5 73C211.627 73 65 219.627 65 400.5C65 581.373 211.627 728 392.5 728Z" stroke="url(#paint0_radial_136_36)" stroke-width="80" stroke-linecap="round" stroke-dasharray="700 1000" data-v-11391480></path><defs data-v-11391480><radialGradient id="paint0_radial_136_36" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(261.5 273.867) rotate(73.9092) scale(472.65)" data-v-11391480><stop stop-color="#05FF75" data-v-11391480></stop><stop offset="1" stop-color="#50A5FF" data-v-11391480></stop></radialGradient></defs></svg>',1)]))}const x6=Ah(py,[["render",gy],["__scopeId","data-v-11391480"]]);var yy=!1;/*!
 * pinia v2.2.5
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let _6;const Tc=n=>_6=n,S6=Symbol();function Cd(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Ro;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Ro||(Ro={}));function vy(){const n=th(!0),t=n.run(()=>fe({}));let s=[],r=[];const i=hl({install(o){Tc(i),i._a=o,o.provide(S6,i),o.config.globalProperties.$pinia=i,r.forEach(l=>s.push(l)),r=[]},use(o){return!this._a&&!yy?r.push(o):s.push(o),this},_p:s,_a:null,_e:n,_s:new Map,state:t});return i}const T6=()=>{};function cp(n,t,s,r=T6){n.push(t);const i=()=>{const o=n.indexOf(t);o>-1&&(n.splice(o,1),r())};return!s&&nh()&&p0(i),i}function ai(n,...t){n.slice().forEach(s=>{s(...t)})}const Cy=n=>n(),up=Symbol(),bu=Symbol();function wd(n,t){n instanceof Map&&t instanceof Map?t.forEach((s,r)=>n.set(r,s)):n instanceof Set&&t instanceof Set&&t.forEach(n.add,n);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],i=n[s];Cd(i)&&Cd(r)&&n.hasOwnProperty(s)&&!nt(r)&&!jn(r)?n[s]=wd(i,r):n[s]=r}return n}const wy=Symbol();function by(n){return!Cd(n)||!n.hasOwnProperty(wy)}const{assign:Ds}=Object;function ky(n){return!!(nt(n)&&n.effect)}function xy(n,t,s,r){const{state:i,actions:o,getters:l}=t,a=s.state.value[n];let c;function u(){a||(s.state.value[n]=i?i():{});const h=O0(s.state.value[n]);return Ds(h,o,Object.keys(l||{}).reduce((f,p)=>(f[p]=hl(he(()=>{Tc(s);const m=s._s.get(n);return l[p].call(m,m)})),f),{}))}return c=E6(n,u,t,s,r,!0),c}function E6(n,t,s={},r,i,o){let l;const a=Ds({actions:{}},s),c={deep:!0};let u,h,f=[],p=[],m;const v=r.state.value[n];!o&&!v&&(r.state.value[n]={}),fe({});let C;function x(k){let b;u=h=!1,typeof k=="function"?(k(r.state.value[n]),b={type:Ro.patchFunction,storeId:n,events:m}):(wd(r.state.value[n],k),b={type:Ro.patchObject,payload:k,storeId:n,events:m});const S=C=Symbol();Zr().then(()=>{C===S&&(u=!0)}),h=!0,ai(f,b,r.state.value[n])}const _=o?function(){const{state:b}=s,S=b?b():{};this.$patch(L=>{Ds(L,S)})}:T6;function M(){l.stop(),f=[],p=[],r._s.delete(n)}const E=(k,b="")=>{if(up in k)return k[bu]=b,k;const S=function(){Tc(r);const L=Array.from(arguments),O=[],I=[];function Ce(ce){O.push(ce)}function Me(ce){I.push(ce)}ai(p,{args:L,name:S[bu],store:R,after:Ce,onError:Me});let se;try{se=k.apply(this&&this.$id===n?this:R,L)}catch(ce){throw ai(I,ce),ce}return se instanceof Promise?se.then(ce=>(ai(O,ce),ce)).catch(ce=>(ai(I,ce),Promise.reject(ce))):(ai(O,se),se)};return S[up]=!0,S[bu]=b,S},N={_p:r,$id:n,$onAction:cp.bind(null,p),$patch:x,$reset:_,$subscribe(k,b={}){const S=cp(f,k,b.detached,()=>L()),L=l.run(()=>ps(()=>r.state.value[n],O=>{(b.flush==="sync"?h:u)&&k({storeId:n,type:Ro.direct,events:m},O)},Ds({},c,b)));return S},$dispose:M},R=Gr(N);r._s.set(n,R);const A=(r._a&&r._a.runWithContext||Cy)(()=>r._e.run(()=>(l=th()).run(()=>t({action:E}))));for(const k in A){const b=A[k];if(nt(b)&&!ky(b)||jn(b))o||(v&&by(b)&&(nt(b)?b.value=v[k]:wd(b,v[k])),r.state.value[n][k]=b);else if(typeof b=="function"){const S=E(b,k);A[k]=S,a.actions[k]=b}}return Ds(R,A),Ds(Ie(R),A),Object.defineProperty(R,"$state",{get:()=>r.state.value[n],set:k=>{x(b=>{Ds(b,k)})}}),r._p.forEach(k=>{Ds(R,l.run(()=>k({store:R,app:r._a,pinia:r,options:a})))}),v&&o&&s.hydrate&&s.hydrate(R.$state,v),u=!0,h=!0,R}/*! #__NO_SIDE_EFFECTS__ */function Ec(n,t,s){let r,i;const o=typeof t=="function";typeof n=="string"?(r=n,i=o?s:t):(i=n,r=n.id);function l(a,c){const u=im();return a=a||(u?cn(S6,null):null),a&&Tc(a),a=_6,a._s.has(r)||(o?E6(r,t,i,a):xy(r,i,a)),a._s.get(r)}return l.$id=r,l}const sn=Ec("user",()=>{const n=fe(!0),t=fe(null),s=fe(!0),r=fe({}),i=fe({}),o=he(()=>!s.value&&!r.value.fullName),l=he(()=>!s.value&&(!r.value||!i));function a(h){t.value=h,n.value=!1}function c(h){s.value=!1,h&&(r.value=h)}function u(h){i.value=h}return{loading:n,user:t,setUser:a,loadingUserProfile:s,userProfile:r,setUserProfile:c,profileNotFound:o,notSubscribed:l,subscription:i,setSubscription:u}}),dn=Ec("global",()=>{const n=fe(!0);function t(s){n.value=s}return{globalLoading:n,setGlobalLoading:t}});var dp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=function(n){const t=[];let s=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[s++]=i:i<2048?(t[s++]=i>>6|192,t[s++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),t[s++]=i>>18|240,t[s++]=i>>12&63|128,t[s++]=i>>6&63|128,t[s++]=i&63|128):(t[s++]=i>>12|224,t[s++]=i>>6&63|128,t[s++]=i&63|128)}return t},_y=function(n){const t=[];let s=0,r=0;for(;s<n.length;){const i=n[s++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[s++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[s++],l=n[s++],a=n[s++],c=((i&7)<<18|(o&63)<<12|(l&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const o=n[s++],l=n[s++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return t.join("")},A6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,a=l?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;c||(m=64,l||(p=64)),r.push(s[h],s[f],s[p],s[m])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(M6(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):_y(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=s[n.charAt(i++)],a=i<n.length?s[n.charAt(i)]:0;++i;const u=i<n.length?s[n.charAt(i)]:64;++i;const f=i<n.length?s[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Sy;const p=o<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Sy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ty=function(n){const t=M6(n);return A6.encodeByteArray(t,!0)},Pa=function(n){return Ty(n).replace(/\./g,"")},I6=function(n){try{return A6.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=()=>Ey().__FIREBASE_DEFAULTS__,Ay=()=>{if(typeof process>"u"||typeof dp>"u")return;const n=dp.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Iy=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&I6(n[1]);return t&&JSON.parse(t)},Ih=()=>{try{return My()||Ay()||Iy()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O6=n=>{var t,s;return(s=(t=Ih())===null||t===void 0?void 0:t.emulatorHosts)===null||s===void 0?void 0:s[n]},Oy=n=>{const t=O6(n);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),r]:[t.substring(0,s),r]},L6=()=>{var n;return(n=Ih())===null||n===void 0?void 0:n.config},P6=n=>{var t;return(t=Ih())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=t||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pa(JSON.stringify(s)),Pa(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ny(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function Dy(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ry(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $y(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fy(){const n=zt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function By(){try{return typeof indexedDB=="object"}catch{return!1}}function Vy(){return new Promise((n,t)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),s||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{s=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(s){t(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="FirebaseError";class Ss extends Error{constructor(t,s,r){super(s),this.code=t,this.customData=r,this.name=Hy,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(t,s,r){this.service=t,this.serviceName=s,this.errors=r}create(t,...s){const r=s[0]||{},i=`${this.service}/${t}`,o=this.errors[t],l=o?Uy(o,r):"Error",a=`${this.serviceName}: ${l} (${i}).`;return new Ss(i,a,r)}}function Uy(n,t){return n.replace(jy,(s,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const jy=/\{\$([^}]+)}/g;function zy(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Na(n,t){if(n===t)return!0;const s=Object.keys(n),r=Object.keys(t);for(const i of s){if(!r.includes(i))return!1;const o=n[i],l=t[i];if(hp(o)&&hp(l)){if(!Na(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!s.includes(i))return!1;return!0}function hp(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(n){const t=[];for(const[s,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function qy(n,t){const s=new Wy(n,t);return s.subscribe.bind(s)}class Wy{constructor(t,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(s=>{s.next(t)})}error(t){this.forEachObserver(s=>{s.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,s,r){let i;if(t===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");Ky(t,["next","error","complete"])?i=t:i={next:t,error:s,complete:r},i.next===void 0&&(i.next=ku),i.error===void 0&&(i.error=ku),i.complete===void 0&&(i.complete=ku);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,t)}sendOne(t,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{s(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ky(n,t){if(typeof n!="object"||n===null)return!1;for(const s of t)if(s in n&&typeof n[s]=="function")return!0;return!1}function ku(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n){return n&&n._delegate?n._delegate:n}class Ur{constructor(t,s,r){this.name=t,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const r=new Ly;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:s});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){var s;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(s=t==null?void 0:t.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Zy(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(s);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[o,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&l.resolve(i)}return i}onInit(t,s){var r;const i=this.normalizeInstanceIdentifier(s),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&t(l,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,s){const r=this.onInitCallbacks.get(s);if(r)for(const i of r)try{i(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jy(t),options:s}),this.instances.set(t,r),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jy(n){return n===kr?void 0:n}function Zy(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new Gy(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const Xy={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Qy=Ve.INFO,ev={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},tv=(n,t,...s)=>{if(t<n.logLevel)return;const r=new Date().toISOString(),i=ev[t];if(i)console[i](`[${r}]  ${n.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Oh{constructor(t){this.name=t,this._logLevel=Qy,this._logHandler=tv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Xy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...t),this._logHandler(this,Ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...t),this._logHandler(this,Ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...t),this._logHandler(this,Ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...t),this._logHandler(this,Ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...t),this._logHandler(this,Ve.ERROR,...t)}}const nv=(n,t)=>t.some(s=>n instanceof s);let fp,pp;function sv(){return fp||(fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rv(){return pp||(pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N6=new WeakMap,bd=new WeakMap,D6=new WeakMap,xu=new WeakMap,Lh=new WeakMap;function iv(n){const t=new Promise((s,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{s(er(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(s=>{s instanceof IDBCursor&&N6.set(s,n)}).catch(()=>{}),Lh.set(t,n),t}function ov(n){if(bd.has(n))return;const t=new Promise((s,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{s(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});bd.set(n,t)}let kd={get(n,t,s){if(n instanceof IDBTransaction){if(t==="done")return bd.get(n);if(t==="objectStoreNames")return n.objectStoreNames||D6.get(n);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return er(n[t])},set(n,t,s){return n[t]=s,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function lv(n){kd=n(kd)}function av(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const r=n.call(_u(this),t,...s);return D6.set(r,t.sort?t.sort():[t]),er(r)}:rv().includes(n)?function(...t){return n.apply(_u(this),t),er(N6.get(this))}:function(...t){return er(n.apply(_u(this),t))}}function cv(n){return typeof n=="function"?av(n):(n instanceof IDBTransaction&&ov(n),nv(n,sv())?new Proxy(n,kd):n)}function er(n){if(n instanceof IDBRequest)return iv(n);if(xu.has(n))return xu.get(n);const t=cv(n);return t!==n&&(xu.set(n,t),Lh.set(t,n)),t}const _u=n=>Lh.get(n);function uv(n,t,{blocked:s,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,t),a=er(l);return r&&l.addEventListener("upgradeneeded",c=>{r(er(l.result),c.oldVersion,c.newVersion,er(l.transaction),c)}),s&&l.addEventListener("blocked",c=>s(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const dv=["get","getKey","getAll","getAllKeys","count"],hv=["put","add","delete","clear"],Su=new Map;function mp(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Su.get(t))return Su.get(t);const s=t.replace(/FromIndex$/,""),r=t!==s,i=hv.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dv.includes(s)))return;const o=async function(l,...a){const c=this.transaction(l,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[s](...a),i&&c.done]))[0]};return Su.set(t,o),o}lv(n=>({...n,get:(t,s,r)=>mp(t,s)||n.get(t,s,r),has:(t,s)=>!!mp(t,s)||n.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(pv(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function pv(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xd="@firebase/app",gp="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Oh("@firebase/app"),mv="@firebase/app-compat",gv="@firebase/analytics-compat",yv="@firebase/analytics",vv="@firebase/app-check-compat",Cv="@firebase/app-check",wv="@firebase/auth",bv="@firebase/auth-compat",kv="@firebase/database",xv="@firebase/data-connect",_v="@firebase/database-compat",Sv="@firebase/functions",Tv="@firebase/functions-compat",Ev="@firebase/installations",Mv="@firebase/installations-compat",Av="@firebase/messaging",Iv="@firebase/messaging-compat",Ov="@firebase/performance",Lv="@firebase/performance-compat",Pv="@firebase/remote-config",Nv="@firebase/remote-config-compat",Dv="@firebase/storage",Rv="@firebase/storage-compat",$v="@firebase/firestore",Fv="@firebase/vertexai",Bv="@firebase/firestore-compat",Vv="firebase",Hv="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="[DEFAULT]",Uv={[xd]:"fire-core",[mv]:"fire-core-compat",[yv]:"fire-analytics",[gv]:"fire-analytics-compat",[Cv]:"fire-app-check",[vv]:"fire-app-check-compat",[wv]:"fire-auth",[bv]:"fire-auth-compat",[kv]:"fire-rtdb",[xv]:"fire-data-connect",[_v]:"fire-rtdb-compat",[Sv]:"fire-fn",[Tv]:"fire-fn-compat",[Ev]:"fire-iid",[Mv]:"fire-iid-compat",[Av]:"fire-fcm",[Iv]:"fire-fcm-compat",[Ov]:"fire-perf",[Lv]:"fire-perf-compat",[Pv]:"fire-rc",[Nv]:"fire-rc-compat",[Dv]:"fire-gcs",[Rv]:"fire-gcs-compat",[$v]:"fire-fst",[Bv]:"fire-fst-compat",[Fv]:"fire-vertex","fire-js":"fire-js",[Vv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Map,jv=new Map,Sd=new Map;function yp(n,t){try{n.container.addComponent(t)}catch(s){ws.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,s)}}function Fi(n){const t=n.name;if(Sd.has(t))return ws.debug(`There were multiple attempts to register component ${t}.`),!1;Sd.set(t,n);for(const s of Da.values())yp(s,n);for(const s of jv.values())yp(s,n);return!0}function Ph(n,t){const s=n.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),n.container.getProvider(t)}function us(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new vl("app","Firebase",zv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(t,s,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=Hv;function R6(n,t={}){let s=n;typeof t!="object"&&(t={name:t});const r=Object.assign({name:_d,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw tr.create("bad-app-name",{appName:String(i)});if(s||(s=L6()),!s)throw tr.create("no-options");const o=Da.get(i);if(o){if(Na(s,o.options)&&Na(r,o.config))return o;throw tr.create("duplicate-app",{appName:i})}const l=new Yy(i);for(const c of Sd.values())l.addComponent(c);const a=new qv(s,r,l);return Da.set(i,a),a}function $6(n=_d){const t=Da.get(n);if(!t&&n===_d&&L6())return R6();if(!t)throw tr.create("no-app",{appName:n});return t}function nr(n,t,s){var r;let i=(r=Uv[n])!==null&&r!==void 0?r:n;s&&(i+=`-${s}`);const o=i.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&a.push("and"),l&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ws.warn(a.join(" "));return}Fi(new Ur(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="firebase-heartbeat-database",Kv=1,Qo="firebase-heartbeat-store";let Tu=null;function F6(){return Tu||(Tu=uv(Wv,Kv,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Qo)}catch(s){console.warn(s)}}}}).catch(n=>{throw tr.create("idb-open",{originalErrorMessage:n.message})})),Tu}async function Gv(n){try{const s=(await F6()).transaction(Qo),r=await s.objectStore(Qo).get(B6(n));return await s.done,r}catch(t){if(t instanceof Ss)ws.warn(t.message);else{const s=tr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ws.warn(s.message)}}}async function vp(n,t){try{const r=(await F6()).transaction(Qo,"readwrite");await r.objectStore(Qo).put(t,B6(n)),await r.done}catch(s){if(s instanceof Ss)ws.warn(s.message);else{const r=tr.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});ws.warn(r.message)}}}function B6(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=1024,Zv=30*24*60*60*1e3;class Yv{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Qv(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,s;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Cp();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const a=new Date(l.date).valueOf();return Date.now()-a<=Zv}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ws.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Cp(),{heartbeatsToSend:r,unsentEntries:i}=Xv(this._heartbeatsCache.heartbeats),o=Pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(s){return ws.warn(s),""}}}function Cp(){return new Date().toISOString().substring(0,10)}function Xv(n,t=Jv){const s=[];let r=n.slice();for(const i of n){const o=s.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),wp(s)>t){o.dates.pop();break}}else if(s.push({agent:i.agent,dates:[i.date]}),wp(s)>t){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class Qv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return By()?Vy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await Gv(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return vp(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var s;if(await this._canUseIndexedDBPromise){const i=await this.read();return vp(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function wp(n){return Pa(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n){Fi(new Ur("platform-logger",t=>new fv(t),"PRIVATE")),Fi(new Ur("heartbeat",t=>new Yv(t),"PRIVATE")),nr(xd,gp,n),nr(xd,gp,"esm2017"),nr("fire-js","")}eC("");var tC="firebase",nC="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(tC,nC,"app");var bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V6;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,k){function b(){}b.prototype=k.prototype,A.D=k.prototype,A.prototype=new b,A.prototype.constructor=A,A.C=function(S,L,O){for(var I=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)I[Ce-2]=arguments[Ce];return k.prototype[L].apply(S,I)}}function s(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,s),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,k,b){b||(b=0);var S=Array(16);if(typeof k=="string")for(var L=0;16>L;++L)S[L]=k.charCodeAt(b++)|k.charCodeAt(b++)<<8|k.charCodeAt(b++)<<16|k.charCodeAt(b++)<<24;else for(L=0;16>L;++L)S[L]=k[b++]|k[b++]<<8|k[b++]<<16|k[b++]<<24;k=A.g[0],b=A.g[1],L=A.g[2];var O=A.g[3],I=k+(O^b&(L^O))+S[0]+3614090360&4294967295;k=b+(I<<7&4294967295|I>>>25),I=O+(L^k&(b^L))+S[1]+3905402710&4294967295,O=k+(I<<12&4294967295|I>>>20),I=L+(b^O&(k^b))+S[2]+606105819&4294967295,L=O+(I<<17&4294967295|I>>>15),I=b+(k^L&(O^k))+S[3]+3250441966&4294967295,b=L+(I<<22&4294967295|I>>>10),I=k+(O^b&(L^O))+S[4]+4118548399&4294967295,k=b+(I<<7&4294967295|I>>>25),I=O+(L^k&(b^L))+S[5]+1200080426&4294967295,O=k+(I<<12&4294967295|I>>>20),I=L+(b^O&(k^b))+S[6]+2821735955&4294967295,L=O+(I<<17&4294967295|I>>>15),I=b+(k^L&(O^k))+S[7]+4249261313&4294967295,b=L+(I<<22&4294967295|I>>>10),I=k+(O^b&(L^O))+S[8]+1770035416&4294967295,k=b+(I<<7&4294967295|I>>>25),I=O+(L^k&(b^L))+S[9]+2336552879&4294967295,O=k+(I<<12&4294967295|I>>>20),I=L+(b^O&(k^b))+S[10]+4294925233&4294967295,L=O+(I<<17&4294967295|I>>>15),I=b+(k^L&(O^k))+S[11]+2304563134&4294967295,b=L+(I<<22&4294967295|I>>>10),I=k+(O^b&(L^O))+S[12]+1804603682&4294967295,k=b+(I<<7&4294967295|I>>>25),I=O+(L^k&(b^L))+S[13]+4254626195&4294967295,O=k+(I<<12&4294967295|I>>>20),I=L+(b^O&(k^b))+S[14]+2792965006&4294967295,L=O+(I<<17&4294967295|I>>>15),I=b+(k^L&(O^k))+S[15]+1236535329&4294967295,b=L+(I<<22&4294967295|I>>>10),I=k+(L^O&(b^L))+S[1]+4129170786&4294967295,k=b+(I<<5&4294967295|I>>>27),I=O+(b^L&(k^b))+S[6]+3225465664&4294967295,O=k+(I<<9&4294967295|I>>>23),I=L+(k^b&(O^k))+S[11]+643717713&4294967295,L=O+(I<<14&4294967295|I>>>18),I=b+(O^k&(L^O))+S[0]+3921069994&4294967295,b=L+(I<<20&4294967295|I>>>12),I=k+(L^O&(b^L))+S[5]+3593408605&4294967295,k=b+(I<<5&4294967295|I>>>27),I=O+(b^L&(k^b))+S[10]+38016083&4294967295,O=k+(I<<9&4294967295|I>>>23),I=L+(k^b&(O^k))+S[15]+3634488961&4294967295,L=O+(I<<14&4294967295|I>>>18),I=b+(O^k&(L^O))+S[4]+3889429448&4294967295,b=L+(I<<20&4294967295|I>>>12),I=k+(L^O&(b^L))+S[9]+568446438&4294967295,k=b+(I<<5&4294967295|I>>>27),I=O+(b^L&(k^b))+S[14]+3275163606&4294967295,O=k+(I<<9&4294967295|I>>>23),I=L+(k^b&(O^k))+S[3]+4107603335&4294967295,L=O+(I<<14&4294967295|I>>>18),I=b+(O^k&(L^O))+S[8]+1163531501&4294967295,b=L+(I<<20&4294967295|I>>>12),I=k+(L^O&(b^L))+S[13]+2850285829&4294967295,k=b+(I<<5&4294967295|I>>>27),I=O+(b^L&(k^b))+S[2]+4243563512&4294967295,O=k+(I<<9&4294967295|I>>>23),I=L+(k^b&(O^k))+S[7]+1735328473&4294967295,L=O+(I<<14&4294967295|I>>>18),I=b+(O^k&(L^O))+S[12]+2368359562&4294967295,b=L+(I<<20&4294967295|I>>>12),I=k+(b^L^O)+S[5]+4294588738&4294967295,k=b+(I<<4&4294967295|I>>>28),I=O+(k^b^L)+S[8]+2272392833&4294967295,O=k+(I<<11&4294967295|I>>>21),I=L+(O^k^b)+S[11]+1839030562&4294967295,L=O+(I<<16&4294967295|I>>>16),I=b+(L^O^k)+S[14]+4259657740&4294967295,b=L+(I<<23&4294967295|I>>>9),I=k+(b^L^O)+S[1]+2763975236&4294967295,k=b+(I<<4&4294967295|I>>>28),I=O+(k^b^L)+S[4]+1272893353&4294967295,O=k+(I<<11&4294967295|I>>>21),I=L+(O^k^b)+S[7]+4139469664&4294967295,L=O+(I<<16&4294967295|I>>>16),I=b+(L^O^k)+S[10]+3200236656&4294967295,b=L+(I<<23&4294967295|I>>>9),I=k+(b^L^O)+S[13]+681279174&4294967295,k=b+(I<<4&4294967295|I>>>28),I=O+(k^b^L)+S[0]+3936430074&4294967295,O=k+(I<<11&4294967295|I>>>21),I=L+(O^k^b)+S[3]+3572445317&4294967295,L=O+(I<<16&4294967295|I>>>16),I=b+(L^O^k)+S[6]+76029189&4294967295,b=L+(I<<23&4294967295|I>>>9),I=k+(b^L^O)+S[9]+3654602809&4294967295,k=b+(I<<4&4294967295|I>>>28),I=O+(k^b^L)+S[12]+3873151461&4294967295,O=k+(I<<11&4294967295|I>>>21),I=L+(O^k^b)+S[15]+530742520&4294967295,L=O+(I<<16&4294967295|I>>>16),I=b+(L^O^k)+S[2]+3299628645&4294967295,b=L+(I<<23&4294967295|I>>>9),I=k+(L^(b|~O))+S[0]+4096336452&4294967295,k=b+(I<<6&4294967295|I>>>26),I=O+(b^(k|~L))+S[7]+1126891415&4294967295,O=k+(I<<10&4294967295|I>>>22),I=L+(k^(O|~b))+S[14]+2878612391&4294967295,L=O+(I<<15&4294967295|I>>>17),I=b+(O^(L|~k))+S[5]+4237533241&4294967295,b=L+(I<<21&4294967295|I>>>11),I=k+(L^(b|~O))+S[12]+1700485571&4294967295,k=b+(I<<6&4294967295|I>>>26),I=O+(b^(k|~L))+S[3]+2399980690&4294967295,O=k+(I<<10&4294967295|I>>>22),I=L+(k^(O|~b))+S[10]+4293915773&4294967295,L=O+(I<<15&4294967295|I>>>17),I=b+(O^(L|~k))+S[1]+2240044497&4294967295,b=L+(I<<21&4294967295|I>>>11),I=k+(L^(b|~O))+S[8]+1873313359&4294967295,k=b+(I<<6&4294967295|I>>>26),I=O+(b^(k|~L))+S[15]+4264355552&4294967295,O=k+(I<<10&4294967295|I>>>22),I=L+(k^(O|~b))+S[6]+2734768916&4294967295,L=O+(I<<15&4294967295|I>>>17),I=b+(O^(L|~k))+S[13]+1309151649&4294967295,b=L+(I<<21&4294967295|I>>>11),I=k+(L^(b|~O))+S[4]+4149444226&4294967295,k=b+(I<<6&4294967295|I>>>26),I=O+(b^(k|~L))+S[11]+3174756917&4294967295,O=k+(I<<10&4294967295|I>>>22),I=L+(k^(O|~b))+S[2]+718787259&4294967295,L=O+(I<<15&4294967295|I>>>17),I=b+(O^(L|~k))+S[9]+3951481745&4294967295,A.g[0]=A.g[0]+k&4294967295,A.g[1]=A.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.u=function(A,k){k===void 0&&(k=A.length);for(var b=k-this.blockSize,S=this.B,L=this.h,O=0;O<k;){if(L==0)for(;O<=b;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<k;)if(S[L++]=A.charCodeAt(O++),L==this.blockSize){i(this,S),L=0;break}}else for(;O<k;)if(S[L++]=A[O++],L==this.blockSize){i(this,S),L=0;break}}this.h=L,this.o+=k},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var k=1;k<A.length-8;++k)A[k]=0;var b=8*this.o;for(k=A.length-8;k<A.length;++k)A[k]=b&255,b/=256;for(this.u(A),A=Array(16),k=b=0;4>k;++k)for(var S=0;32>S;S+=8)A[b++]=this.g[k]>>>S&255;return A};function o(A,k){var b=a;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=k(A)}function l(A,k){this.h=k;for(var b=[],S=!0,L=A.length-1;0<=L;L--){var O=A[L]|0;S&&O==k||(b[L]=O,S=!1)}this.g=b}var a={};function c(A){return-128<=A&&128>A?o(A,function(k){return new l([k|0],0>k?-1:0)}):new l([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return x(u(-A));for(var k=[],b=1,S=0;A>=b;S++)k[S]=A/b|0,b*=4294967296;return new l(k,0)}function h(A,k){if(A.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A.charAt(0)=="-")return x(h(A.substring(1),k));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(k,8)),S=f,L=0;L<A.length;L+=8){var O=Math.min(8,A.length-L),I=parseInt(A.substring(L,L+O),k);8>O?(O=u(Math.pow(k,O)),S=S.j(O).add(u(I))):(S=S.j(b),S=S.add(u(I)))}return S}var f=c(0),p=c(1),m=c(16777216);n=l.prototype,n.m=function(){if(C(this))return-x(this).m();for(var A=0,k=1,b=0;b<this.g.length;b++){var S=this.i(b);A+=(0<=S?S:4294967296+S)*k,k*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(C(this))return"-"+x(this).toString(A);for(var k=u(Math.pow(A,6)),b=this,S="";;){var L=N(b,k).g;b=_(b,L.j(k));var O=((0<b.g.length?b.g[0]:b.h)>>>0).toString(A);if(b=L,v(b))return O+S;for(;6>O.length;)O="0"+O;S=O+S}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var k=0;k<A.g.length;k++)if(A.g[k]!=0)return!1;return!0}function C(A){return A.h==-1}n.l=function(A){return A=_(this,A),C(A)?-1:v(A)?0:1};function x(A){for(var k=A.g.length,b=[],S=0;S<k;S++)b[S]=~A.g[S];return new l(b,~A.h).add(p)}n.abs=function(){return C(this)?x(this):this},n.add=function(A){for(var k=Math.max(this.g.length,A.g.length),b=[],S=0,L=0;L<=k;L++){var O=S+(this.i(L)&65535)+(A.i(L)&65535),I=(O>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);S=I>>>16,O&=65535,I&=65535,b[L]=I<<16|O}return new l(b,b[b.length-1]&-2147483648?-1:0)};function _(A,k){return A.add(x(k))}n.j=function(A){if(v(this)||v(A))return f;if(C(this))return C(A)?x(this).j(x(A)):x(x(this).j(A));if(C(A))return x(this.j(x(A)));if(0>this.l(m)&&0>A.l(m))return u(this.m()*A.m());for(var k=this.g.length+A.g.length,b=[],S=0;S<2*k;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var L=0;L<A.g.length;L++){var O=this.i(S)>>>16,I=this.i(S)&65535,Ce=A.i(L)>>>16,Me=A.i(L)&65535;b[2*S+2*L]+=I*Me,M(b,2*S+2*L),b[2*S+2*L+1]+=O*Me,M(b,2*S+2*L+1),b[2*S+2*L+1]+=I*Ce,M(b,2*S+2*L+1),b[2*S+2*L+2]+=O*Ce,M(b,2*S+2*L+2)}for(S=0;S<k;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=k;S<2*k;S++)b[S]=0;return new l(b,0)};function M(A,k){for(;(A[k]&65535)!=A[k];)A[k+1]+=A[k]>>>16,A[k]&=65535,k++}function E(A,k){this.g=A,this.h=k}function N(A,k){if(v(k))throw Error("division by zero");if(v(A))return new E(f,f);if(C(A))return k=N(x(A),k),new E(x(k.g),x(k.h));if(C(k))return k=N(A,x(k)),new E(x(k.g),k.h);if(30<A.g.length){if(C(A)||C(k))throw Error("slowDivide_ only works with positive integers.");for(var b=p,S=k;0>=S.l(A);)b=R(b),S=R(S);var L=B(b,1),O=B(S,1);for(S=B(S,2),b=B(b,2);!v(S);){var I=O.add(S);0>=I.l(A)&&(L=L.add(b),O=I),S=B(S,1),b=B(b,1)}return k=_(A,L.j(k)),new E(L,k)}for(L=f;0<=A.l(k);){for(b=Math.max(1,Math.floor(A.m()/k.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),O=u(b),I=O.j(k);C(I)||0<I.l(A);)b-=S,O=u(b),I=O.j(k);v(O)&&(O=p),L=L.add(O),A=_(A,I)}return new E(L,A)}n.A=function(A){return N(this,A).h},n.and=function(A){for(var k=Math.max(this.g.length,A.g.length),b=[],S=0;S<k;S++)b[S]=this.i(S)&A.i(S);return new l(b,this.h&A.h)},n.or=function(A){for(var k=Math.max(this.g.length,A.g.length),b=[],S=0;S<k;S++)b[S]=this.i(S)|A.i(S);return new l(b,this.h|A.h)},n.xor=function(A){for(var k=Math.max(this.g.length,A.g.length),b=[],S=0;S<k;S++)b[S]=this.i(S)^A.i(S);return new l(b,this.h^A.h)};function R(A){for(var k=A.g.length+1,b=[],S=0;S<k;S++)b[S]=A.i(S)<<1|A.i(S-1)>>>31;return new l(b,A.h)}function B(A,k){var b=k>>5;k%=32;for(var S=A.g.length-b,L=[],O=0;O<S;O++)L[O]=0<k?A.i(O+b)>>>k|A.i(O+b+1)<<32-k:A.i(O+b);return new l(L,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=u,l.fromString=h,V6=l}).apply(typeof bp<"u"?bp:typeof self<"u"?self:typeof window<"u"?window:{});var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,w){return d==Array.prototype||d==Object.prototype||(d[g]=w.value),d};function s(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jl=="object"&&Jl];for(var g=0;g<d.length;++g){var w=d[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=s(this);function i(d,g){if(g)e:{var w=r;d=d.split(".");for(var T=0;T<d.length-1;T++){var $=d[T];if(!($ in w))break e;w=w[$]}d=d[d.length-1],T=w[d],g=g(T),g!=T&&g!=null&&t(w,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var w=0,T=!1,$={next:function(){if(!T&&w<d.length){var H=w++;return{value:g(H,d[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(d){return d||function(){return o(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},a=this||self;function c(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function u(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function h(d,g,w){return d.call.apply(d.bind,arguments)}function f(d,g,w){if(!d)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,T),d.apply(g,$)}}return function(){return d.apply(g,arguments)}}function p(d,g,w){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function m(d,g){var w=Array.prototype.slice.call(arguments,1);return function(){var T=w.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function v(d,g){function w(){}w.prototype=g.prototype,d.aa=g.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(T,$,H){for(var Y=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)Y[qe-2]=arguments[qe];return g.prototype[$].apply(T,Y)}}function C(d){const g=d.length;if(0<g){const w=Array(g);for(let T=0;T<g;T++)w[T]=d[T];return w}return[]}function x(d,g){for(let w=1;w<arguments.length;w++){const T=arguments[w];if(c(T)){const $=d.length||0,H=T.length||0;d.length=$+H;for(let Y=0;Y<H;Y++)d[$+Y]=T[Y]}else d.push(T)}}class _{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(d){return/^[\s\xa0]*$/.test(d)}function E(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function N(d){return N[" "](d),d}N[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function B(d,g,w){for(const T in d)g.call(w,d[T],T,d)}function A(d,g){for(const w in d)g.call(void 0,d[w],w,d)}function k(d){const g={};for(const w in d)g[w]=d[w];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(d,g){let w,T;for(let $=1;$<arguments.length;$++){T=arguments[$];for(w in T)d[w]=T[w];for(let H=0;H<b.length;H++)w=b[H],Object.prototype.hasOwnProperty.call(T,w)&&(d[w]=T[w])}}function L(d){var g=1;d=d.split(":");const w=[];for(;0<g&&d.length;)w.push(d.shift()),g--;return d.length&&w.push(d.join(":")),w}function O(d){a.setTimeout(()=>{throw d},0)}function I(){var d=Xe;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class Ce{constructor(){this.h=this.g=null}add(g,w){const T=Me.get();T.set(g,w),this.h?this.h.next=T:this.g=T,this.h=T}}var Me=new _(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ie=!1,Xe=new Ce,kn=()=>{const d=a.Promise.resolve(void 0);ce=()=>{d.then(hn)}};var hn=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(w){O(w)}var g=Me;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}ie=!1};function Qe(){this.s=this.s,this.C=this.C}Qe.prototype.s=!1,Qe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var Ts=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};a.addEventListener("test",w,g),a.removeEventListener("test",w,g)}catch{}return d}();function $n(d,g){if(et.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(R){e:{try{N(g.nodeName);var $=!0;break e}catch{}$=!1}$||(g=null)}}else w=="mouseover"?g=d.fromElement:w=="mouseout"&&(g=d.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Jt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&$n.aa.h.call(this)}}v($n,et);var Jt={2:"touch",3:"pen",4:"mouse"};$n.prototype.h=function(){$n.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),re=0;function ee(d,g,w,T,$){this.listener=d,this.proxy=null,this.src=g,this.type=w,this.capture=!!T,this.ha=$,this.key=++re,this.da=this.fa=!1}function oe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ae(d){this.src=d,this.g={},this.h=0}Ae.prototype.add=function(d,g,w,T,$){var H=d.toString();d=this.g[H],d||(d=this.g[H]=[],this.h++);var Y=P(d,g,T,$);return-1<Y?(g=d[Y],w||(g.fa=!1)):(g=new ee(g,this.src,H,!!T,$),g.fa=w,d.push(g)),g};function Ue(d,g){var w=g.type;if(w in d.g){var T=d.g[w],$=Array.prototype.indexOf.call(T,g,void 0),H;(H=0<=$)&&Array.prototype.splice.call(T,$,1),H&&(oe(g),d.g[w].length==0&&(delete d.g[w],d.h--))}}function P(d,g,w,T){for(var $=0;$<d.length;++$){var H=d[$];if(!H.da&&H.listener==g&&H.capture==!!w&&H.ha==T)return $}return-1}var D="closure_lm_"+(1e6*Math.random()|0),V={};function q(d,g,w,T,$){if(Array.isArray(g)){for(var H=0;H<g.length;H++)q(d,g[H],w,T,$);return null}return w=me(w),d&&d[z]?d.K(g,w,u(T)?!!T.capture:!!T,$):j(d,g,w,!1,T,$)}function j(d,g,w,T,$,H){if(!g)throw Error("Invalid event type");var Y=u($)?!!$.capture:!!$,qe=ge(d);if(qe||(d[D]=qe=new Ae(d)),w=qe.add(g,w,T,Y,H),w.proxy)return w;if(T=W(),w.proxy=T,T.src=d,T.listener=w,d.addEventListener)Ts||($=Y),$===void 0&&($=!1),d.addEventListener(g.toString(),T,$);else if(d.attachEvent)d.attachEvent(J(g.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return w}function W(){function d(w){return g.call(d.src,d.listener,w)}const g=G;return d}function Q(d,g,w,T,$){if(Array.isArray(g))for(var H=0;H<g.length;H++)Q(d,g[H],w,T,$);else T=u(T)?!!T.capture:!!T,w=me(w),d&&d[z]?(d=d.i,g=String(g).toString(),g in d.g&&(H=d.g[g],w=P(H,w,T,$),-1<w&&(oe(H[w]),Array.prototype.splice.call(H,w,1),H.length==0&&(delete d.g[g],d.h--)))):d&&(d=ge(d))&&(g=d.g[g.toString()],d=-1,g&&(d=P(g,w,T,$)),(w=-1<d?g[d]:null)&&Z(w))}function Z(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[z])Ue(g.i,d);else{var w=d.type,T=d.proxy;g.removeEventListener?g.removeEventListener(w,T,d.capture):g.detachEvent?g.detachEvent(J(w),T):g.addListener&&g.removeListener&&g.removeListener(T),(w=ge(g))?(Ue(w,d),w.h==0&&(w.src=null,g[D]=null)):oe(d)}}}function J(d){return d in V?V[d]:V[d]="on"+d}function G(d,g){if(d.da)d=!0;else{g=new $n(g,this);var w=d.listener,T=d.ha||d.src;d.fa&&Z(d),d=w.call(T,g)}return d}function ge(d){return d=d[D],d instanceof Ae?d:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function me(d){return typeof d=="function"?d:(d[te]||(d[te]=function(g){return d.handleEvent(g)}),d[te])}function ue(){Qe.call(this),this.i=new Ae(this),this.M=this,this.F=null}v(ue,Qe),ue.prototype[z]=!0,ue.prototype.removeEventListener=function(d,g,w,T){Q(this,d,g,w,T)};function we(d,g){var w,T=d.F;if(T)for(w=[];T;T=T.F)w.push(T);if(d=d.M,T=g.type||g,typeof g=="string")g=new et(g,d);else if(g instanceof et)g.target=g.target||d;else{var $=g;g=new et(T,d),S(g,$)}if($=!0,w)for(var H=w.length-1;0<=H;H--){var Y=g.g=w[H];$=$e(Y,T,!0,g)&&$}if(Y=g.g=d,$=$e(Y,T,!0,g)&&$,$=$e(Y,T,!1,g)&&$,w)for(H=0;H<w.length;H++)Y=g.g=w[H],$=$e(Y,T,!1,g)&&$}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var w=d.g[g],T=0;T<w.length;T++)oe(w[T]);delete d.g[g],d.h--}}this.F=null},ue.prototype.K=function(d,g,w,T){return this.i.add(String(d),g,!1,w,T)},ue.prototype.L=function(d,g,w,T){return this.i.add(String(d),g,!0,w,T)};function $e(d,g,w,T){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var $=!0,H=0;H<g.length;++H){var Y=g[H];if(Y&&!Y.da&&Y.capture==w){var qe=Y.listener,wt=Y.ha||Y.src;Y.fa&&Ue(d.i,Y),$=qe.call(wt,T)!==!1&&$}}return $&&!T.defaultPrevented}function De(d,g,w){if(typeof d=="function")w&&(d=p(d,w));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function St(d){d.g=De(()=>{d.g=null,d.i&&(d.i=!1,St(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class dt extends Qe{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(d){Qe.call(this),this.h=d,this.g={}}v(Ct,Qe);var Tt=[];function Es(d){B(d.g,function(g,w){this.g.hasOwnProperty(w)&&Z(g)},d),d.g={}}Ct.prototype.N=function(){Ct.aa.N.call(this),Es(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qr=a.JSON.stringify,$t=a.JSON.parse,fn=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function ei(){}ei.prototype.h=null;function vf(d){return d.h||(d.h=d.i())}function d5(){}var to={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zc(){et.call(this,"d")}v(zc,et);function qc(){et.call(this,"c")}v(qc,et);var ti={},Cf=null;function Wc(){return Cf=Cf||new ue}ti.La="serverreachability";function wf(d){et.call(this,ti.La,d)}v(wf,et);function no(d){const g=Wc();we(g,new wf(g))}ti.STAT_EVENT="statevent";function bf(d,g){et.call(this,ti.STAT_EVENT,d),this.stat=g}v(bf,et);function Ft(d){const g=Wc();we(g,new bf(g,d))}ti.Ma="timingevent";function kf(d,g){et.call(this,ti.Ma,d),this.size=g}v(kf,et);function so(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function ro(){this.g=!0}ro.prototype.xa=function(){this.g=!1};function h5(d,g,w,T,$,H){d.info(function(){if(d.g)if(H)for(var Y="",qe=H.split("&"),wt=0;wt<qe.length;wt++){var Re=qe[wt].split("=");if(1<Re.length){var Et=Re[0];Re=Re[1];var Mt=Et.split("_");Y=2<=Mt.length&&Mt[1]=="type"?Y+(Et+"="+Re+"&"):Y+(Et+"=redacted&")}}else Y=null;else Y=H;return"XMLHTTP REQ ("+T+") [attempt "+$+"]: "+g+`
`+w+`
`+Y})}function f5(d,g,w,T,$,H,Y){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+$+"]: "+g+`
`+w+`
`+H+" "+Y})}function ni(d,g,w,T){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+m5(d,w)+(T?" "+T:"")})}function p5(d,g){d.info(function(){return"TIMEOUT: "+g})}ro.prototype.info=function(){};function m5(d,g){if(!d.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var T=w[d];if(!(2>T.length)){var $=T[1];if(Array.isArray($)&&!(1>$.length)){var H=$[0];if(H!="noop"&&H!="stop"&&H!="close")for(var Y=1;Y<$.length;Y++)$[Y]=""}}}}return Qr(w)}catch{return g}}var Kc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},g5={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gc;function El(){}v(El,ei),El.prototype.g=function(){return new XMLHttpRequest},El.prototype.i=function(){return{}},Gc=new El;function Ms(d,g,w,T){this.j=d,this.i=g,this.l=w,this.R=T||1,this.U=new Ct(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xf}function xf(){this.i=null,this.g="",this.h=!1}var _f={},Jc={};function Zc(d,g,w){d.L=1,d.v=Ol(Zn(g)),d.m=w,d.P=!0,Sf(d,null)}function Sf(d,g){d.F=Date.now(),Ml(d),d.A=Zn(d.v);var w=d.A,T=d.R;Array.isArray(T)||(T=[String(T)]),Bf(w.i,"t",T),d.C=0,w=d.j.J,d.h=new xf,d.g=s1(d.j,w?g:null,!d.m),0<d.O&&(d.M=new dt(p(d.Y,d,d.g),d.O)),g=d.U,w=d.g,T=d.ca;var $="readystatechange";Array.isArray($)||($&&(Tt[0]=$.toString()),$=Tt);for(var H=0;H<$.length;H++){var Y=q(w,$[H],T||g.handleEvent,!1,g.h||g);if(!Y)break;g.g[Y.key]=Y}g=d.H?k(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),no(),h5(d.i,d.u,d.A,d.l,d.R,d.m)}Ms.prototype.ca=function(d){d=d.target;const g=this.M;g&&Yn(d)==3?g.j():this.Y(d)},Ms.prototype.Y=function(d){try{if(d==this.g)e:{const Mt=Yn(this.g);var g=this.g.Ba();const ii=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Wf(this.g)))){this.J||Mt!=4||g==7||(g==8||0>=ii?no(3):no(2)),Yc(this);var w=this.g.Z();this.X=w;t:if(Tf(this)){var T=Wf(this.g);d="";var $=T.length,H=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),io(this);var Y="";break t}this.h.i=new a.TextDecoder}for(g=0;g<$;g++)this.h.h=!0,d+=this.h.i.decode(T[g],{stream:!(H&&g==$-1)});T.length=0,this.h.g+=d,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=w==200,f5(this.i,this.u,this.A,this.l,this.R,Mt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,wt=this.g;if((qe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(qe)){var Re=qe;break t}}Re=null}if(w=Re)ni(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xc(this,w);else{this.o=!1,this.s=3,Ft(12),yr(this),io(this);break e}}if(this.P){w=!0;let xn;for(;!this.J&&this.C<Y.length;)if(xn=y5(this,Y),xn==Jc){Mt==4&&(this.s=4,Ft(14),w=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==_f){this.s=4,Ft(15),ni(this.i,this.l,Y,"[Invalid Chunk]"),w=!1;break}else ni(this.i,this.l,xn,null),Xc(this,xn);if(Tf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||Y.length!=0||this.h.h||(this.s=1,Ft(16),w=!1),this.o=this.o&&w,!w)ni(this.i,this.l,Y,"[Invalid Chunked Response]"),yr(this),io(this);else if(0<Y.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),ru(Et),Et.M=!0,Ft(11))}}else ni(this.i,this.l,Y,null),Xc(this,Y);Mt==4&&yr(this),this.o&&!this.J&&(Mt==4?Qf(this.j,this):(this.o=!1,Ml(this)))}else N5(this.g),w==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),yr(this),io(this)}}}catch{}finally{}};function Tf(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function y5(d,g){var w=d.C,T=g.indexOf(`
`,w);return T==-1?Jc:(w=Number(g.substring(w,T)),isNaN(w)?_f:(T+=1,T+w>g.length?Jc:(g=g.slice(T,T+w),d.C=T+w,g)))}Ms.prototype.cancel=function(){this.J=!0,yr(this)};function Ml(d){d.S=Date.now()+d.I,Ef(d,d.I)}function Ef(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=so(p(d.ba,d),g)}function Yc(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Ms.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(p5(this.i,this.A),this.L!=2&&(no(),Ft(17)),yr(this),this.s=2,io(this)):Ef(this,this.S-d)};function io(d){d.j.G==0||d.J||Qf(d.j,d)}function yr(d){Yc(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,Es(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function Xc(d,g){try{var w=d.j;if(w.G!=0&&(w.g==d||Qc(w.h,d))){if(!d.K&&Qc(w.h,d)&&w.G==3){try{var T=w.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var $=T;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)$l(w),Dl(w);else break e;su(w),Ft(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=so(p(w.Za,w),6e3));if(1>=If(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Cr(w,11)}else if((d.K||w.g==d)&&$l(w),!M(g))for($=w.Da.g.parse(g),g=0;g<$.length;g++){let Re=$[g];if(w.T=Re[0],Re=Re[1],w.G==2)if(Re[0]=="c"){w.K=Re[1],w.ia=Re[2];const Et=Re[3];Et!=null&&(w.la=Et,w.j.info("VER="+w.la));const Mt=Re[4];Mt!=null&&(w.Aa=Mt,w.j.info("SVER="+w.Aa));const ii=Re[5];ii!=null&&typeof ii=="number"&&0<ii&&(T=1.5*ii,w.L=T,w.j.info("backChannelRequestTimeoutMs_="+T)),T=w;const xn=d.g;if(xn){const Fl=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fl){var H=T.h;H.g||Fl.indexOf("spdy")==-1&&Fl.indexOf("quic")==-1&&Fl.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(eu(H,H.h),H.h=null))}if(T.D){const iu=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(T.ya=iu,Ze(T.I,T.D,iu))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),T=w;var Y=d;if(T.qa=n1(T,T.J?T.ia:null,T.W),Y.K){Of(T.h,Y);var qe=Y,wt=T.L;wt&&(qe.I=wt),qe.B&&(Yc(qe),Ml(qe)),T.g=Y}else Yf(T);0<w.i.length&&Rl(w)}else Re[0]!="stop"&&Re[0]!="close"||Cr(w,7);else w.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Cr(w,7):nu(w):Re[0]!="noop"&&w.l&&w.l.ta(Re),w.v=0)}}no(4)}catch{}}var v5=class{constructor(d,g){this.g=d,this.map=g}};function Mf(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Af(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function If(d){return d.h?1:d.g?d.g.size:0}function Qc(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function eu(d,g){d.g?d.g.add(g):d.h=g}function Of(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}Mf.prototype.cancel=function(){if(this.i=Lf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Lf(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const w of d.g.values())g=g.concat(w.D);return g}return C(d.i)}function C5(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var g=[],w=d.length,T=0;T<w;T++)g.push(d[T]);return g}g=[],w=0;for(T in d)g[w++]=d[T];return g}function w5(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var g=[];d=d.length;for(var w=0;w<d;w++)g.push(w);return g}g=[],w=0;for(const T in d)g[w++]=T;return g}}}function Pf(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var w=w5(d),T=C5(d),$=T.length,H=0;H<$;H++)g.call(void 0,T[H],w&&w[H],d)}var Nf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b5(d,g){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var T=d[w].indexOf("="),$=null;if(0<=T){var H=d[w].substring(0,T);$=d[w].substring(T+1)}else H=d[w];g(H,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function vr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof vr){this.h=d.h,Al(this,d.j),this.o=d.o,this.g=d.g,Il(this,d.s),this.l=d.l;var g=d.i,w=new ao;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Df(this,w),this.m=d.m}else d&&(g=String(d).match(Nf))?(this.h=!1,Al(this,g[1]||"",!0),this.o=oo(g[2]||""),this.g=oo(g[3]||"",!0),Il(this,g[4]),this.l=oo(g[5]||"",!0),Df(this,g[6]||"",!0),this.m=oo(g[7]||"")):(this.h=!1,this.i=new ao(null,this.h))}vr.prototype.toString=function(){var d=[],g=this.j;g&&d.push(lo(g,Rf,!0),":");var w=this.g;return(w||g=="file")&&(d.push("//"),(g=this.o)&&d.push(lo(g,Rf,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(lo(w,w.charAt(0)=="/"?_5:x5,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",lo(w,T5)),d.join("")};function Zn(d){return new vr(d)}function Al(d,g,w){d.j=w?oo(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function Il(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function Df(d,g,w){g instanceof ao?(d.i=g,E5(d.i,d.h)):(w||(g=lo(g,S5)),d.i=new ao(g,d.h))}function Ze(d,g,w){d.i.set(g,w)}function Ol(d){return Ze(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function oo(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function lo(d,g,w){return typeof d=="string"?(d=encodeURI(d).replace(g,k5),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function k5(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Rf=/[#\/\?@]/g,x5=/[#\?:]/g,_5=/[#\?]/g,S5=/[#\?@]/g,T5=/#/g;function ao(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function As(d){d.g||(d.g=new Map,d.h=0,d.i&&b5(d.i,function(g,w){d.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}n=ao.prototype,n.add=function(d,g){As(this),this.i=null,d=si(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(g),this.h+=1,this};function $f(d,g){As(d),g=si(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function Ff(d,g){return As(d),g=si(d,g),d.g.has(g)}n.forEach=function(d,g){As(this),this.g.forEach(function(w,T){w.forEach(function($){d.call(g,$,T,this)},this)},this)},n.na=function(){As(this);const d=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let T=0;T<g.length;T++){const $=d[T];for(let H=0;H<$.length;H++)w.push(g[T])}return w},n.V=function(d){As(this);let g=[];if(typeof d=="string")Ff(this,d)&&(g=g.concat(this.g.get(si(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)g=g.concat(d[w])}return g},n.set=function(d,g){return As(this),this.i=null,d=si(this,d),Ff(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},n.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function Bf(d,g,w){$f(d,g),0<w.length&&(d.i=null,d.g.set(si(d,g),C(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var T=g[w];const H=encodeURIComponent(String(T)),Y=this.V(T);for(T=0;T<Y.length;T++){var $=H;Y[T]!==""&&($+="="+encodeURIComponent(String(Y[T]))),d.push($)}}return this.i=d.join("&")};function si(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function E5(d,g){g&&!d.j&&(As(d),d.i=null,d.g.forEach(function(w,T){var $=T.toLowerCase();T!=$&&($f(this,T),Bf(this,$,w))},d)),d.j=g}function M5(d,g){const w=new ro;if(a.Image){const T=new Image;T.onload=m(Is,w,"TestLoadImage: loaded",!0,g,T),T.onerror=m(Is,w,"TestLoadImage: error",!1,g,T),T.onabort=m(Is,w,"TestLoadImage: abort",!1,g,T),T.ontimeout=m(Is,w,"TestLoadImage: timeout",!1,g,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else g(!1)}function A5(d,g){const w=new ro,T=new AbortController,$=setTimeout(()=>{T.abort(),Is(w,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:T.signal}).then(H=>{clearTimeout($),H.ok?Is(w,"TestPingServer: ok",!0,g):Is(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout($),Is(w,"TestPingServer: error",!1,g)})}function Is(d,g,w,T,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),T(w)}catch{}}function I5(){this.g=new fn}function O5(d,g,w){const T=w||"";try{Pf(d,function($,H){let Y=$;u($)&&(Y=Qr($)),g.push(T+H+"="+encodeURIComponent(Y))})}catch($){throw g.push(T+"type="+encodeURIComponent("_badmap")),$}}function Ll(d){this.l=d.Ub||null,this.j=d.eb||!1}v(Ll,ei),Ll.prototype.g=function(){return new Pl(this.l,this.j)},Ll.prototype.i=function(d){return function(){return d}}({});function Pl(d,g){ue.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Pl,ue),n=Pl.prototype,n.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,uo(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,uo(this)),this.g&&(this.readyState=3,uo(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vf(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vf(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?co(this):uo(this),this.readyState==3&&Vf(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,co(this))},n.Qa=function(d){this.g&&(this.response=d,co(this))},n.ga=function(){this.g&&co(this)};function co(d){d.readyState=4,d.l=null,d.j=null,d.v=null,uo(d)}n.setRequestHeader=function(d,g){this.u.append(d,g)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=g.next();return d.join(`\r
`)};function uo(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Hf(d){let g="";return B(d,function(w,T){g+=T,g+=":",g+=w,g+=`\r
`}),g}function tu(d,g,w){e:{for(T in w){var T=!1;break e}T=!0}T||(w=Hf(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Ze(d,g,w))}function it(d){ue.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(it,ue);var L5=/^https?$/i,P5=["POST","PUT"];n=it.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,g,w,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gc.g(),this.v=this.o?vf(this.o):vf(Gc),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(H){Uf(this,H);return}if(d=w||"",w=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var $ in T)w.set($,T[$]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())w.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(w.keys()).find(H=>H.toLowerCase()=="content-type"),$=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(P5,g,void 0))||T||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,Y]of w)this.g.setRequestHeader(H,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qf(this),this.u=!0,this.g.send(d),this.u=!1}catch(H){Uf(this,H)}};function Uf(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,jf(d),Nl(d)}function jf(d){d.A||(d.A=!0,we(d,"complete"),we(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,we(this,"complete"),we(this,"abort"),Nl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nl(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?zf(this):this.bb())},n.bb=function(){zf(this)};function zf(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Yn(d)!=4||d.Z()!=2)){if(d.u&&Yn(d)==4)De(d.Ea,0,d);else if(we(d,"readystatechange"),Yn(d)==4){d.h=!1;try{const Y=d.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var T;if(T=Y===0){var $=String(d.D).match(Nf)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),T=!L5.test($?$.toLowerCase():"")}w=T}if(w)we(d,"complete"),we(d,"success");else{d.m=6;try{var H=2<Yn(d)?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.Z()+"]",jf(d)}}finally{Nl(d)}}}}function Nl(d,g){if(d.g){qf(d);const w=d.g,T=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||we(d,"ready");try{w.onreadystatechange=T}catch{}}}function qf(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Yn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),$t(g)}};function Wf(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function N5(d){const g={};d=(d.g&&2<=Yn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(M(d[T]))continue;var w=L(d[T]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const H=g[$]||[];g[$]=H,H.push(w)}A(g,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ho(d,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||g}function Kf(d){this.Aa=0,this.i=[],this.j=new ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ho("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ho("baseRetryDelayMs",5e3,d),this.cb=ho("retryDelaySeedMs",1e4,d),this.Wa=ho("forwardChannelMaxRetries",2,d),this.wa=ho("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Mf(d&&d.concurrentRequestLimit),this.Da=new I5,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Kf.prototype,n.la=8,n.G=1,n.connect=function(d,g,w,T){Ft(0),this.W=d,this.H=g||{},w&&T!==void 0&&(this.H.OSID=w,this.H.OAID=T),this.F=this.X,this.I=n1(this,null,this.W),Rl(this)};function nu(d){if(Gf(d),d.G==3){var g=d.U++,w=Zn(d.I);if(Ze(w,"SID",d.K),Ze(w,"RID",g),Ze(w,"TYPE","terminate"),fo(d,w),g=new Ms(d,d.j,g),g.L=2,g.v=Ol(Zn(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=g.v,w=!0),w||(g.g=s1(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ml(g)}t1(d)}function Dl(d){d.g&&(ru(d),d.g.cancel(),d.g=null)}function Gf(d){Dl(d),d.u&&(a.clearTimeout(d.u),d.u=null),$l(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function Rl(d){if(!Af(d.h)&&!d.s){d.s=!0;var g=d.Ga;ce||kn(),ie||(ce(),ie=!0),Xe.add(g,d),d.B=0}}function D5(d,g){return If(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=so(p(d.Ga,d,g),e1(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new Ms(this,this.j,d);let H=this.o;if(this.S&&(H?(H=k(H),S(H,this.S)):H=this.S),this.m!==null||this.O||($.H=H,H=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var T=this.i[w];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=Zf(this,$,g),w=Zn(this.I),Ze(w,"RID",d),Ze(w,"CVER",22),this.D&&Ze(w,"X-HTTP-Session-Id",this.D),fo(this,w),H&&(this.O?g="headers="+encodeURIComponent(String(Hf(H)))+"&"+g:this.m&&tu(w,this.m,H)),eu(this.h,$),this.Ua&&Ze(w,"TYPE","init"),this.P?(Ze(w,"$req",g),Ze(w,"SID","null"),$.T=!0,Zc($,w,null)):Zc($,w,g),this.G=2}}else this.G==3&&(d?Jf(this,d):this.i.length==0||Af(this.h)||Jf(this))};function Jf(d,g){var w;g?w=g.l:w=d.U++;const T=Zn(d.I);Ze(T,"SID",d.K),Ze(T,"RID",w),Ze(T,"AID",d.T),fo(d,T),d.m&&d.o&&tu(T,d.m,d.o),w=new Ms(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),g&&(d.i=g.D.concat(d.i)),g=Zf(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),eu(d.h,w),Zc(w,T,g)}function fo(d,g){d.H&&B(d.H,function(w,T){Ze(g,T,w)}),d.l&&Pf({},function(w,T){Ze(g,T,w)})}function Zf(d,g,w){w=Math.min(d.i.length,w);var T=d.l?p(d.l.Na,d.l,d):null;e:{var $=d.i;let H=-1;for(;;){const Y=["count="+w];H==-1?0<w?(H=$[0].g,Y.push("ofs="+H)):H=0:Y.push("ofs="+H);let qe=!0;for(let wt=0;wt<w;wt++){let Re=$[wt].g;const Et=$[wt].map;if(Re-=H,0>Re)H=Math.max(0,$[wt].g-100),qe=!1;else try{O5(Et,Y,"req"+Re+"_")}catch{T&&T(Et)}}if(qe){T=Y.join("&");break e}}}return d=d.i.splice(0,w),g.D=d,T}function Yf(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;ce||kn(),ie||(ce(),ie=!0),Xe.add(g,d),d.v=0}}function su(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=so(p(d.Fa,d),e1(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Xf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=so(p(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Dl(this),Xf(this))};function ru(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Xf(d){d.g=new Ms(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=Zn(d.qa);Ze(g,"RID","rpc"),Ze(g,"SID",d.K),Ze(g,"AID",d.T),Ze(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ze(g,"TO",d.ja),Ze(g,"TYPE","xmlhttp"),fo(d,g),d.m&&d.o&&tu(g,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=Ol(Zn(g)),w.m=null,w.P=!0,Sf(w,d)}n.Za=function(){this.C!=null&&(this.C=null,Dl(this),su(this),Ft(19))};function $l(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Qf(d,g){var w=null;if(d.g==g){$l(d),ru(d),d.g=null;var T=2}else if(Qc(d.h,g))w=g.D,Of(d.h,g),T=1;else return;if(d.G!=0){if(g.o)if(T==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var $=d.B;T=Wc(),we(T,new kf(T,w)),Rl(d)}else Yf(d);else if($=g.s,$==3||$==0&&0<g.X||!(T==1&&D5(d,g)||T==2&&su(d)))switch(w&&0<w.length&&(g=d.h,g.i=g.i.concat(w)),$){case 1:Cr(d,5);break;case 4:Cr(d,10);break;case 3:Cr(d,6);break;default:Cr(d,2)}}}function e1(d,g){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*g}function Cr(d,g){if(d.j.info("Error code "+g),g==2){var w=p(d.fb,d),T=d.Xa;const $=!T;T=new vr(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Al(T,"https"),Ol(T),$?M5(T.toString(),w):A5(T.toString(),w)}else Ft(2);d.G=0,d.l&&d.l.sa(g),t1(d),Gf(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function t1(d){if(d.G=0,d.ka=[],d.l){const g=Lf(d.h);(g.length!=0||d.i.length!=0)&&(x(d.ka,g),x(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function n1(d,g,w){var T=w instanceof vr?Zn(w):new vr(w);if(T.g!="")g&&(T.g=g+"."+T.g),Il(T,T.s);else{var $=a.location;T=$.protocol,g=g?g+"."+$.hostname:$.hostname,$=+$.port;var H=new vr(null);T&&Al(H,T),g&&(H.g=g),$&&Il(H,$),w&&(H.l=w),T=H}return w=d.D,g=d.ya,w&&g&&Ze(T,w,g),Ze(T,"VER",d.la),fo(d,T),T}function s1(d,g,w){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new it(new Ll({eb:w})):new it(d.pa),g.Ha(d.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function r1(){}n=r1.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function pn(d,g){ue.call(this),this.g=new Kf(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!M(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!M(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ri(this)}v(pn,ue),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){nu(this.g)},pn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Qr(d),d=w);g.i.push(new v5(g.Ya++,d)),g.G==3&&Rl(g)},pn.prototype.N=function(){this.g.l=null,delete this.j,nu(this.g),delete this.g,pn.aa.N.call(this)};function i1(d){zc.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const w in g){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}v(i1,zc);function o1(){qc.call(this),this.status=1}v(o1,qc);function ri(d){this.g=d}v(ri,r1),ri.prototype.ua=function(){we(this.g,"a")},ri.prototype.ta=function(d){we(this.g,new i1(d))},ri.prototype.sa=function(d){we(this.g,new o1)},ri.prototype.ra=function(){we(this.g,"b")},pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Kc.NO_ERROR=0,Kc.TIMEOUT=8,Kc.HTTP_ERROR=6,g5.COMPLETE="complete",d5.EventType=to,to.OPEN="a",to.CLOSE="b",to.ERROR="c",to.MESSAGE="d",ue.prototype.listen=ue.prototype.K,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha}).apply(typeof Jl<"u"?Jl:typeof self<"u"?self:typeof window<"u"?window:{});const kp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Oh("@firebase/firestore");function Mn(n,...t){if(Bi.logLevel<=Ve.DEBUG){const s=t.map(Nh);Bi.debug(`Firestore (${wl}): ${n}`,...s)}}function H6(n,...t){if(Bi.logLevel<=Ve.ERROR){const s=t.map(Nh);Bi.error(`Firestore (${wl}): ${n}`,...s)}}function sC(n,...t){if(Bi.logLevel<=Ve.WARN){const s=t.map(Nh);Bi.warn(`Firestore (${wl}): ${n}`,...s)}}function Nh(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n="Unexpected state"){const t=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: `+n;throw H6(t),new Error(t)}function $o(n,t){n||Dh()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class en extends Ss{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable(()=>s(Ht.UNAUTHENTICATED))}shutdown(){}}class iC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class oC{constructor(t){this.t=t,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){$o(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,s(c)):Promise.resolve();let o=new Fo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Fo,t.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const c=o;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Mn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Mn("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Fo)}},0),l()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(r=>this.i!==t?(Mn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($o(typeof r.accessToken=="string"),new U6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $o(t===null||typeof t=="string"),new Ht(t)}}class lC{constructor(t,s,r){this.l=t,this.h=s,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class aC{constructor(t,s,r){this.l=t,this.h=s,this.P=r}getToken(){return Promise.resolve(new lC(this.l,this.h,this.P))}start(t,s){t.enqueueRetryable(()=>s(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cC{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uC{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,s){$o(this.o===void 0);const r=o=>{o.error!=null&&Mn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Mn("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?s(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Mn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Mn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(s=>s?($o(typeof s.token=="string"),this.R=s.token,new cC(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dC(n){return n.name==="IndexedDbTransactionError"}class Ra{constructor(t,s){this.projectId=t,this.database=s||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ra&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xp,Le;(Le=xp||(xp={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new V6([4294967295,4294967295],0);function Eu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,s,r=1e3,i=1.5,o=6e4){this.ui=t,this.timerId=s,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const s=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,s-r);i>0&&Mn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${s} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,s,r,i,o){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,s,r,i,o){const l=Date.now()+r,a=new Rh(t,s,l,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new en(Qt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var _p,Sp;(Sp=_p||(_p={})).ea="default",Sp.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp=new Map;function pC(n,t,s,r){if(t===!0&&r===!0)throw new en(Qt.INVALID_ARGUMENT,`${n} and ${s} cannot be used together.`)}function mC(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Dh()}function gC(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new en(Qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=mC(n);throw new en(Qt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t){var s,r;if(t.host===void 0){if(t.ssl!==void 0)throw new en(Qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(s=t.ssl)===null||s===void 0||s;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new en(Qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fC((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new en(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new en(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new en(Qt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class j6{constructor(t,s,r,i){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ep({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new en(Qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new en(Qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ep(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rC;switch(r.type){case"firstParty":return new aC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new en(Qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const r=Tp.get(s);r&&(Mn("ComponentProvider","Removing Datastore"),Tp.delete(s),r.terminate())}(this),Promise.resolve()}}function yC(n,t,s,r={}){var i;const o=(n=gC(n,j6))._getSettings(),l=`${t}:${s}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&sC("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ht.MOCK_USER;else{a=Py(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new en(Qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ht(u)}n._authCredentials=new iC(new U6(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hC(this,"async_queue_retry"),this.Vu=()=>{const r=Eu();r&&Mn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const s=Eu();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const s=Eu();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const s=new Fo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!dC(t))throw t;Mn("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const s=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(l){let a=l.message||"";return l.stack&&(a=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),a}(r);throw H6("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=s,s}enqueueAfterDelay(t,s,r){this.fu(),this.Ru.indexOf(t)>-1&&(s=0);const i=Rh.createAndSchedule(this,t,s,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Dh()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const s of this.Tu)if(s.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((s,r)=>s.targetTimeMs-r.targetTimeMs);for(const s of this.Tu)if(s.skipDelay(),t!=="all"&&s.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const s=this.Tu.indexOf(t);this.Tu.splice(s,1)}}class vC extends j6{constructor(t,s,r,i){super(t,s,r,i),this.type="firestore",this._queue=new Mp,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Mp(t),this._firestoreClient=void 0,await t}}}function CC(n,t){const s=typeof n=="object"?n:$6(),r=typeof n=="string"?n:"(default)",i=Ph(s,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Oy("firestore");o&&yC(i,...o)}return i}(function(t,s=!0){(function(i){wl=i})(Zi),Fi(new Ur("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),a=new vC(new oC(r.getProvider("auth-internal")),new uC(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new en(Qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(u.options.projectId,h)}(l,i),l);return o=Object.assign({useFetchStreams:s},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),nr(kp,"4.7.4",t),nr(kp,"4.7.4","esm2017")})();function $h(n,t){var s={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(s[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(s[r[i]]=n[r[i]]);return s}function z6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wC=z6,q6=new vl("auth","Firebase",z6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new Oh("@firebase/auth");function bC(n,...t){$a.logLevel<=Ve.WARN&&$a.warn(`Auth (${Zi}): ${n}`,...t)}function aa(n,...t){$a.logLevel<=Ve.ERROR&&$a.error(`Auth (${Zi}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(n,...t){throw Bh(n,...t)}function On(n,...t){return Bh(n,...t)}function Fh(n,t,s){const r=Object.assign(Object.assign({},wC()),{[t]:s});return new vl("auth","Firebase",r).create(t,{appName:n.name})}function Lr(n){return Fh(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kC(n,t,s){const r=s;if(!(t instanceof r))throw r.name!==t.constructor.name&&Wn(n,"argument-error"),Fh(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bh(n,...t){if(typeof n!="string"){const s=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(s,...r)}return q6.create(n,...t)}function ke(n,t,...s){if(!n)throw Bh(t,...s)}function ds(n){const t="INTERNAL ASSERTION FAILED: "+n;throw aa(t),new Error(t)}function bs(n,t){n||ds(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function xC(){return Ap()==="http:"||Ap()==="https:"}function Ap(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xC()||Ry()||"connection"in navigator)?navigator.onLine:!0}function SC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t,s){this.shortDelay=t,this.longDelay=s,bs(s>t,"Short delay should be less than long delay!"),this.isMobile=Ny()||$y()}get(){return _C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n,t){bs(n.emulator,"Emulator should always be set here");const{url:s}=n.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{static initialize(t,s,r){this.fetchImpl=t,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new bl(3e4,6e4);function Hh(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Yi(n,t,s,r,i={}){return K6(n,i,async()=>{let o={},l={};r&&(t==="GET"?l=r:o={body:JSON.stringify(r)});const a=Cl(Object.assign({key:n.config.apiKey},l)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:t,headers:c},o);return Dy()||(u.referrerPolicy="no-referrer"),W6.fetch()(G6(n,n.config.apiHost,s,a),u)})}async function K6(n,t,s){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},TC),t);try{const i=new AC(n),o=await Promise.race([s(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Zl(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const a=o.ok?l.errorMessage:l.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zl(n,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw Zl(n,"email-already-in-use",l);if(c==="USER_DISABLED")throw Zl(n,"user-disabled",l);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Fh(n,h,u);Wn(n,h)}}catch(i){if(i instanceof Ss)throw i;Wn(n,"network-request-failed",{message:String(i)})}}async function MC(n,t,s,r,i={}){const o=await Yi(n,t,s,r,i);return"mfaPendingCredential"in o&&Wn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function G6(n,t,s,r){const i=`${t}${s}?${r}`;return n.config.emulator?Vh(n.config,i):`${n.config.apiScheme}://${i}`}class AC{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(On(this.auth,"network-request-failed")),EC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zl(n,t,s){const r={appName:n.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const i=On(n,t,r);return i.customData._tokenResponse=s,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(n,t){return Yi(n,"POST","/v1/accounts:delete",t)}async function J6(n,t){return Yi(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OC(n,t=!1){const s=Yr(n),r=await s.getIdToken(t),i=Uh(r);ke(i&&i.exp&&i.auth_time&&i.iat,s.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Bo(Mu(i.auth_time)),issuedAtTime:Bo(Mu(i.iat)),expirationTime:Bo(Mu(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Mu(n){return Number(n)*1e3}function Uh(n){const[t,s,r]=n.split(".");if(t===void 0||s===void 0||r===void 0)return aa("JWT malformed, contained fewer than 3 sections"),null;try{const i=I6(s);return i?JSON.parse(i):(aa("Failed to decode base64 JWT payload"),null)}catch(i){return aa("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ip(n){const t=Uh(n);return ke(t,"internal-error"),ke(typeof t.exp<"u","internal-error"),ke(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,t,s=!1){if(s)return t;try{return await t}catch(r){throw r instanceof Ss&&LC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function LC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var s;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const s=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,s){this.createdAt=t,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bo(this.lastLoginAt),this.creationTime=Bo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(n){var t;const s=n.auth,r=await n.getIdToken(),i=await el(n,J6(s,{idToken:r}));ke(i==null?void 0:i.users.length,s,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Z6(o.providerUserInfo):[],a=DC(n.providerData,l),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!(a!=null&&a.length),h=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ed(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,f)}async function NC(n){const t=Yr(n);await Fa(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DC(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Z6(n){return n.map(t=>{var{providerId:s}=t,r=$h(t,["providerId"]);return{providerId:s,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(n,t){const s=await K6(n,{},async()=>{const r=Cl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=G6(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",W6.fetch()(l,{method:"POST",headers:a,body:r})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function $C(n,t){return Yi(n,"POST","/v2/accounts:revokeToken",Hh(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ke(t.idToken,"internal-error"),ke(typeof t.idToken<"u","internal-error"),ke(typeof t.refreshToken<"u","internal-error");const s="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ip(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,s)}updateFromIdToken(t){ke(t.length!==0,"internal-error");const s=Ip(t);this.updateTokensAndExpiration(t,null,s)}async getToken(t,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,s){const{accessToken:r,refreshToken:i,expiresIn:o}=await RC(t,s);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,s,r){this.refreshToken=s||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,s){const{refreshToken:r,accessToken:i,expirationTime:o}=s,l=new Si;return r&&(ke(typeof r=="string","internal-error",{appName:t}),l.refreshToken=r),i&&(ke(typeof i=="string","internal-error",{appName:t}),l.accessToken=i),o&&(ke(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Si,this.toJSON())}_performRefresh(){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(n,t){ke(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class hs{constructor(t){var{uid:s,auth:r,stsTokenManager:i}=t,o=$h(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ed(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const s=await el(this,this.stsTokenManager.getToken(this.auth,t));return ke(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(t){return OC(this,t)}reload(){return NC(this)}_assign(t){this!==t&&(ke(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(s=>Object.assign({},s)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const s=new hs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(t){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,s=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),s&&await Fa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(us(this.auth.app))return Promise.reject(Lr(this.auth));const t=await this.getIdToken();return await el(this,IC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,s){var r,i,o,l,a,c,u,h;const f=(r=s.displayName)!==null&&r!==void 0?r:void 0,p=(i=s.email)!==null&&i!==void 0?i:void 0,m=(o=s.phoneNumber)!==null&&o!==void 0?o:void 0,v=(l=s.photoURL)!==null&&l!==void 0?l:void 0,C=(a=s.tenantId)!==null&&a!==void 0?a:void 0,x=(c=s._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=s.createdAt)!==null&&u!==void 0?u:void 0,M=(h=s.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:N,isAnonymous:R,providerData:B,stsTokenManager:A}=s;ke(E&&A,t,"internal-error");const k=Si.fromJSON(this.name,A);ke(typeof E=="string",t,"internal-error"),Ps(f,t.name),Ps(p,t.name),ke(typeof N=="boolean",t,"internal-error"),ke(typeof R=="boolean",t,"internal-error"),Ps(m,t.name),Ps(v,t.name),Ps(C,t.name),Ps(x,t.name),Ps(_,t.name),Ps(M,t.name);const b=new hs({uid:E,auth:t,email:p,emailVerified:N,displayName:f,isAnonymous:R,photoURL:v,phoneNumber:m,tenantId:C,stsTokenManager:k,createdAt:_,lastLoginAt:M});return B&&Array.isArray(B)&&(b.providerData=B.map(S=>Object.assign({},S))),x&&(b._redirectEventId=x),b}static async _fromIdTokenResponse(t,s,r=!1){const i=new Si;i.updateFromServerResponse(s);const o=new hs({uid:s.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Fa(o),o}static async _fromGetAccountInfoResponse(t,s,r){const i=s.users[0];ke(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Z6(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Si;a.updateFromIdToken(r);const c=new hs({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:l}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ed(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Map;function fs(n){bs(n instanceof Function,"Expected a class definition");let t=Op.get(n);return t?(bs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Op.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,s){this.storage[t]=s}async _get(t){const s=this.storage[t];return s===void 0?null:s}async _remove(t){delete this.storage[t]}_addListener(t,s){}_removeListener(t,s){}}Y6.type="NONE";const Lp=Y6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(n,t,s){return`firebase:${n}:${t}:${s}`}class Ti{constructor(t,s,r){this.persistence=t,this.auth=s,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ca(this.userKey,i.apiKey,o),this.fullPersistenceKey=ca("persistence",i.apiKey,o),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?hs._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,s,r="authUser"){if(!s.length)return new Ti(fs(Lp),t,r);const i=(await Promise.all(s.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||fs(Lp);const l=ca(r,t.config.apiKey,t.name);let a=null;for(const u of s)try{const h=await u._get(l);if(h){const f=hs._fromJSON(t,h);u!==o&&(a=f),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Ti(o,t,r):(o=c[0],a&&await o._set(l,a.toJSON()),await Promise.all(s.map(async u=>{if(u!==o)try{await u._remove(l)}catch{}})),new Ti(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(t3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(X6(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(s3(t))return"Blackberry";if(r3(t))return"Webos";if(Q6(t))return"Safari";if((t.includes("chrome/")||e3(t))&&!t.includes("edge/"))return"Chrome";if(n3(t))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function X6(n=zt()){return/firefox\//i.test(n)}function Q6(n=zt()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function e3(n=zt()){return/crios\//i.test(n)}function t3(n=zt()){return/iemobile/i.test(n)}function n3(n=zt()){return/android/i.test(n)}function s3(n=zt()){return/blackberry/i.test(n)}function r3(n=zt()){return/webos/i.test(n)}function jh(n=zt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FC(n=zt()){var t;return jh(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function BC(){return Fy()&&document.documentMode===10}function i3(n=zt()){return jh(n)||n3(n)||r3(n)||s3(n)||/windows phone/i.test(n)||t3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(n,t=[]){let s;switch(n){case"Browser":s=Pp(zt());break;case"Worker":s=`${Pp(zt())}-${n}`;break;default:s=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${Zi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,s){const r=o=>new Promise((l,a)=>{try{const c=t(o);l(c)}catch(c){a(c)}});r.onAbort=s,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const s=[];try{for(const r of this.queue)await r(t),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const i of s)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,t={}){return Yi(n,"GET","/v2/passwordPolicy",Hh(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=6;class jC{constructor(t){var s,r,i,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=l.minPasswordLength)!==null&&s!==void 0?s:UC,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var s,r,i,o,l,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(s=c.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNumericCharacter)!==null&&l!==void 0?l:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,s){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=t.length>=r),i&&(s.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,s,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(t,s,r,i){this.app=t,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Np(this),this.idTokenSubscription=new Np(this),this.beforeStateQueue=new VC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,s){return s&&(this._popupRedirectResolver=fs(s)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ti.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const s=await J6(this,{idToken:t}),r=await hs._fromGetAccountInfoResponse(this,s,t);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(us(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(t);(!l||l===a)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(t){try{await Fa(t)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(us(this.app))return Promise.reject(Lr(this));const s=t?Yr(t):null;return s&&ke(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(t,s=!1){if(!this._deleted)return t&&ke(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return us(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return us(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await HC(this),s=new jC(t);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new vl("auth","Firebase",t())}onAuthStateChanged(t,s,r){return this.registerStateListener(this.authStateSubscription,t,s,r)}beforeAuthStateChanged(t,s){return this.beforeStateQueue.pushCallback(t,s)}onIdTokenChanged(t,s,r){return this.registerStateListener(this.idTokenSubscription,t,s,r)}authStateReady(){return new Promise((t,s)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},s)}})}async revokeAccessToken(t){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await $C(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,s){const r=await this.getOrInitRedirectPersistenceManager(s);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const s=t&&fs(t)||this._popupRedirectResolver;ke(s,this,"argument-error"),this.redirectPersistenceManager=await Ti.create(this,[fs(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(s=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,s,r,i){if(this._deleted)return()=>{};const o=typeof s=="function"?s:s.next.bind(s);let l=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(a,this,"internal-error"),a.then(()=>{l||o(this.currentUser)}),typeof s=="function"){const c=t.addObserver(s,r,i);return()=>{l=!0,c()}}else{const c=t.addObserver(s);return()=>{l=!0,c()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=o3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(s["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(s["X-Firebase-AppCheck"]=i),s}async _getAppCheckToken(){var t;const s=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return s!=null&&s.error&&bC(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function Mc(n){return Yr(n)}class Np{constructor(t){this.auth=t,this.observer=null,this.addObserver=qy(s=>this.observer=s)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qC(n){zh=n}function WC(n){return zh.loadJS(n)}function KC(){return zh.gapiScript}function GC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n,t){const s=Ph(n,"auth");if(s.isInitialized()){const i=s.getImmediate(),o=s.getOptions();if(Na(o,t??{}))return i;Wn(i,"already-initialized")}return s.initialize({options:t})}function ZC(n,t){const s=(t==null?void 0:t.persistence)||[],r=(Array.isArray(s)?s:[s]).map(fs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function YC(n,t,s){const r=Mc(n);ke(r._canInitEmulator,r,"emulator-config-failed"),ke(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,o=l3(t),{host:l,port:a}=XC(t),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${l}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),QC()}function l3(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function XC(n){const t=l3(n),s=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Dp(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:Dp(l)}}}function Dp(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function QC(){function n(){const t=document.createElement("p"),s=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(t,s){this.providerId=t,this.signInMethod=s}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,s){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ei(n,t){return MC(n,"POST","/v1/accounts:signInWithIdp",Hh(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="http://localhost";class jr extends a3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const s=new jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(s.idToken=t.idToken),t.accessToken&&(s.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(s.nonce=t.nonce),t.pendingToken&&(s.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(s.accessToken=t.oauthToken,s.secret=t.oauthTokenSecret):Wn("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=s,o=$h(s,["providerId","signInMethod"]);if(!r||!i)return null;const l=new jr(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const s=this.buildRequest();return Ei(t,s)}_linkToIdToken(t,s){const r=this.buildRequest();return r.idToken=s,Ei(t,r)}_getReauthenticationResolver(t){const s=this.buildRequest();return s.autoCreate=!1,Ei(t,s)}buildRequest(){const t={requestUri:ew,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),t.postBody=Cl(s)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends qh{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends kl{constructor(){super("facebook.com")}static credential(t){return jr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,s){return jr._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:s})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:s,oauthAccessToken:r}=t;if(!s&&!r)return null;try{return as.credential(s,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends kl{constructor(){super("github.com")}static credential(t){return jr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends kl{constructor(){super("twitter.com")}static credential(t,s){return jr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:s})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=t;if(!s||!r)return null;try{return Ks.credential(s,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,s,r,i=!1){const o=await hs._fromIdTokenResponse(t,r,i),l=Rp(r);return new Vi({user:o,providerId:l,_tokenResponse:r,operationType:s})}static async _forOperation(t,s,r){await t._updateTokensIfNecessary(r,!0);const i=Rp(r);return new Vi({user:t,providerId:i,_tokenResponse:r,operationType:s})}}function Rp(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Ss{constructor(t,s,r,i){var o;super(s.code,s.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ba.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,s,r,i){return new Ba(t,s,r,i)}}function c3(n,t,s,r){return(t==="reauthenticate"?s._getReauthenticationResolver(n):s._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ba._fromErrorAndOperation(n,o,t,r):o})}async function tw(n,t,s=!1){const r=await el(n,t._linkToIdToken(n.auth,await n.getIdToken()),s);return Vi._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(n,t,s=!1){const{auth:r}=n;if(us(r.app))return Promise.reject(Lr(r));const i="reauthenticate";try{const o=await el(n,c3(r,i,t,n),s);ke(o.idToken,r,"internal-error");const l=Uh(o.idToken);ke(l,r,"internal-error");const{sub:a}=l;return ke(n.uid===a,r,"user-mismatch"),Vi._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Wn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(n,t,s=!1){if(us(n.app))return Promise.reject(Lr(n));const r="signIn",i=await c3(n,r,t),o=await Vi._fromIdTokenResponse(n,r,i);return s||await n._updateCurrentUser(o.user),o}function rw(n,t,s,r){return Yr(n).onIdTokenChanged(t,s,r)}function iw(n,t,s){return Yr(n).beforeAuthStateChanged(t,s)}function ow(n){return Yr(n).signOut()}const Va="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(t,s){this.storageRetriever=t,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Va,"1"),this.storage.removeItem(Va),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,s){return this.storage.setItem(t,JSON.stringify(s)),Promise.resolve()}_get(t){const s=this.storage.getItem(t);return Promise.resolve(s?JSON.parse(s):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=1e3,aw=10;class d3 extends u3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,s)=>this.onStorageEvent(t,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),i=this.localCache[s];r!==i&&t(s,i,r)}}onStorageEvent(t,s=!1){if(!t.key){this.forAllChangedKeys((l,a,c)=>{this.notifyListeners(l,c)});return}const r=t.key;s?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!s&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);BC()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,aw):i()}notifyListeners(t,s){this.localCache[t]=s;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:s,newValue:r}),!0)})},lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,s){await super._set(t,s),this.localCache[t]=JSON.stringify(s)}async _get(t){const s=await super._get(t);return this.localCache[t]=JSON.stringify(s),s}async _remove(t){await super._remove(t),delete this.localCache[t]}}d3.type="LOCAL";const cw=d3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3 extends u3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,s){}_removeListener(t,s){}}h3.type="SESSION";const f3=h3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const s=this.receivers.find(i=>i.isListeningto(t));if(s)return s;const r=new Ac(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const s=t,{eventId:r,eventType:i,data:o}=s.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(l).map(async u=>u(s.origin,o)),c=await uw(a);s.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(t,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(s)}_unsubscribe(t,s){this.handlersMap[t]&&s&&this.handlersMap[t].delete(s),(!s||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n="",t=10){let s="";for(let r=0;r<t;r++)s+=Math.floor(Math.random()*10);return n+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,s,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((a,c)=>{const u=Wh("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:u,data:s},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return window}function hw(n){zn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}async function fw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pw(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mw(){return p3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="firebaseLocalStorageDb",gw=1,Ha="firebaseLocalStorage",g3="fbase_key";class xl{constructor(t){this.request=t}toPromise(){return new Promise((t,s)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Ic(n,t){return n.transaction([Ha],t?"readwrite":"readonly").objectStore(Ha)}function yw(){const n=indexedDB.deleteDatabase(m3);return new xl(n).toPromise()}function Md(){const n=indexedDB.open(m3,gw);return new Promise((t,s)=>{n.addEventListener("error",()=>{s(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ha,{keyPath:g3})}catch(i){s(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ha)?t(r):(r.close(),await yw(),t(await Md()))})})}async function $p(n,t,s){const r=Ic(n,!0).put({[g3]:t,value:s});return new xl(r).toPromise()}async function vw(n,t){const s=Ic(n,!1).get(t),r=await new xl(s).toPromise();return r===void 0?null:r.value}function Fp(n,t){const s=Ic(n,!0).delete(t);return new xl(s).toPromise()}const Cw=800,ww=3;class y3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Md(),this.db)}async _withRetries(t){let s=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(s++>ww)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(mw()),this.receiver._subscribe("keyChanged",async(t,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(t,s)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await fw(),!this.activeServiceWorker)return;this.sender=new dw(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((s=r[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Md();return await $p(t,Va,"1"),await Fp(t,Va),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>$p(r,t,s)),this.localCache[t]=s,this.notifyServiceWorker(t)))}async _get(t){const s=await this._withRetries(r=>vw(r,t));return this.localCache[t]=s,s}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fp(s,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=Ic(i,!1).getAll();return new xl(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),s.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),s.push(i));return s}notifyListeners(t,s){this.localCache[t]=s;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y3.type="LOCAL";const bw=y3;new bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(n,t){return t?fs(t):(ke(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends a3{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ei(t,this._buildIdpRequest())}_linkToIdToken(t,s){return Ei(t,this._buildIdpRequest(s))}_getReauthenticationResolver(t){return Ei(t,this._buildIdpRequest())}_buildIdpRequest(t){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(s.idToken=t),s}}function kw(n){return sw(n.auth,new Kh(n),n.bypassAuthState)}function xw(n){const{auth:t,user:s}=n;return ke(s,t,"internal-error"),nw(s,new Kh(n),n.bypassAuthState)}async function _w(n){const{auth:t,user:s}=n;return ke(s,t,"internal-error"),tw(s,new Kh(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(t,s,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(t,s)=>{this.pendingPromise={resolve:t,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:s,sessionId:r,postBody:i,tenantId:o,error:l,type:a}=t;if(l){this.reject(l);return}const c={auth:this.auth,requestUri:s,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kw;case"linkViaPopup":case"linkViaRedirect":return _w;case"reauthViaPopup":case"reauthViaRedirect":return xw;default:Wn(this.auth,"internal-error")}}resolve(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=new bl(2e3,1e4);async function Tw(n,t,s){if(us(n.app))return Promise.reject(On(n,"operation-not-supported-in-this-environment"));const r=Mc(n);kC(n,t,qh);const i=v3(r,s);return new Sr(r,"signInViaPopup",t,i).executeNotNull()}class Sr extends C3{constructor(t,s,r,i,o){super(t,s,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Sr.currentPopupAction&&Sr.currentPopupAction.cancel(),Sr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ke(t,this.auth,"internal-error"),t}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const t=Wh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(On(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(On(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var s,r;if(!((r=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(On(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Sw.get())};t()}}Sr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="pendingRedirect",ua=new Map;class Mw extends C3{constructor(t,s,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let t=ua.get(this.auth._key());if(!t){try{const r=await Aw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(s){t=()=>Promise.reject(s)}ua.set(this.auth._key(),t)}return this.bypassAuthState||ua.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const s=await this.auth._redirectUserForId(t.eventId);if(s)return this.user=s,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Aw(n,t){const s=Lw(t),r=Ow(n);if(!await r._isAvailable())return!1;const i=await r._get(s)==="true";return await r._remove(s),i}function Iw(n,t){ua.set(n._key(),t)}function Ow(n){return fs(n._redirectPersistence)}function Lw(n){return ca(Ew,n.config.apiKey,n.name)}async function Pw(n,t,s=!1){if(us(n.app))return Promise.reject(Lr(n));const r=Mc(n),i=v3(r,t),l=await new Mw(r,i,s).execute();return l&&!s&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=10*60*1e3;class Dw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(s=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Rw(t)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=t,s=!0)),s}sendToConsumer(t,s){var r;if(t.error&&!w3(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";s.onError(On(this.auth,i))}else s.onAuthEvent(t)}isEventForConsumer(t,s){const r=s.eventId===null||!!t.eventId&&t.eventId===s.eventId;return s.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Nw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bp(t))}saveEventToCache(t){this.cachedEventUids.add(Bp(t)),this.lastProcessedEventTime=Date.now()}}function Bp(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function w3({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Rw(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(n,t={}){return Yi(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bw=/^https?/;async function Vw(n){if(n.config.emulator)return;const{authorizedDomains:t}=await $w(n);for(const s of t)try{if(Hw(s))return}catch{}Wn(n,"unauthorized-domain")}function Hw(n){const t=Td(),{protocol:s,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?s==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):s==="chrome-extension:"&&l.hostname===r}if(!Bw.test(s))return!1;if(Fw.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new bl(3e4,6e4);function Vp(){const n=zn().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let s=0;s<n.CP.length;s++)n.CP[s]=null}}function jw(n){return new Promise((t,s)=>{var r,i,o;function l(){Vp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vp(),s(On(n,"network-request-failed"))},timeout:Uw.get()})}if(!((i=(r=zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=zn().gapi)===null||o===void 0)&&o.load)l();else{const a=GC("iframefcb");return zn()[a]=()=>{gapi.load?l():s(On(n,"network-request-failed"))},WC(`${KC()}?onload=${a}`).catch(c=>s(c))}}).catch(t=>{throw da=null,t})}let da=null;function zw(n){return da=da||jw(n),da}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new bl(5e3,15e3),Ww="__/auth/iframe",Kw="emulator/auth/iframe",Gw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zw(n){const t=n.config;ke(t.authDomain,n,"auth-domain-config-required");const s=t.emulator?Vh(t,Kw):`https://${n.config.authDomain}/${Ww}`,r={apiKey:t.apiKey,appName:n.name,v:Zi},i=Jw.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${s}?${Cl(r).slice(1)}`}async function Yw(n){const t=await zw(n),s=zn().gapi;return ke(s,n,"internal-error"),t.open({where:document.body,url:Zw(n),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gw,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=On(n,"network-request-failed"),a=zn().setTimeout(()=>{o(l)},qw.get());function c(){zn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qw=500,eb=600,tb="_blank",nb="http://localhost";class Hp{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sb(n,t,s,r=Qw,i=eb){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Xw),{width:r.toString(),height:i.toString(),top:o,left:l}),u=zt().toLowerCase();s&&(a=e3(u)?tb:s),X6(u)&&(t=t||nb,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(FC(u)&&a!=="_self")return rb(t||"",a),new Hp(null);const f=window.open(t||"",a,h);ke(f,n,"popup-blocked");try{f.focus()}catch{}return new Hp(f)}function rb(n,t){const s=document.createElement("a");s.href=n,s.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="__/auth/handler",ob="emulator/auth/handler",lb=encodeURIComponent("fac");async function Up(n,t,s,r,i,o){ke(n.config.authDomain,n,"auth-domain-config-required"),ke(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:s,redirectUrl:r,v:Zi,eventId:i};if(t instanceof qh){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",zy(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,f]of Object.entries({}))l[h]=f}if(t instanceof kl){const h=t.getScopes().filter(f=>f!=="");h.length>0&&(l.scopes=h.join(","))}n.tenantId&&(l.tid=n.tenantId);const a=l;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await n._getAppCheckToken(),u=c?`#${lb}=${encodeURIComponent(c)}`:"";return`${ab(n)}?${Cl(a).slice(1)}${u}`}function ab({config:n}){return n.emulator?Vh(n,ob):`https://${n.authDomain}/${ib}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="webStorageSupport";class cb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f3,this._completeRedirectFn=Pw,this._overrideRedirectResult=Iw}async _openPopup(t,s,r,i){var o;bs((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Up(t,s,r,Td(),i);return sb(t,l,Wh())}async _openRedirect(t,s,r,i){await this._originValidation(t);const o=await Up(t,s,r,Td(),i);return hw(o),new Promise(()=>{})}_initialize(t){const s=t._key();if(this.eventManagers[s]){const{manager:i,promise:o}=this.eventManagers[s];return i?Promise.resolve(i):(bs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(t){const s=await Yw(t),r=new Dw(t);return s.register("authEvent",i=>(ke(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=s,r}_isIframeWebStorageSupported(t,s){this.iframes[t._key()].send(Au,{type:Au},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Au];l!==void 0&&s(!!l),Wn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const s=t._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=Vw(t)),this.originValidationPromises[s]}get _shouldInitProactively(){return i3()||Q6()||jh()}}const ub=cb;var jp="@firebase/auth",zp="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const s=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,s),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const s=this.internalListeners.get(t);s&&(this.internalListeners.delete(t),s(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fb(n){Fi(new Ur("auth",(t,{options:s})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:a}=r.options;ke(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:l,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o3(n)},u=new zC(r,i,o,c);return ZC(u,s),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,s,r)=>{t.getProvider("auth-internal").initialize()})),Fi(new Ur("auth-internal",t=>{const s=Mc(t.getProvider("auth").getImmediate());return(r=>new db(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(jp,zp,hb(n)),nr(jp,zp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=5*60,mb=P6("authIdTokenMaxAge")||pb;let qp=null;const gb=n=>async t=>{const s=t&&await t.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>mb)return;const i=s==null?void 0:s.token;qp!==i&&(qp=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yb(n=$6()){const t=Ph(n,"auth");if(t.isInitialized())return t.getImmediate();const s=JC(n,{popupRedirectResolver:ub,persistence:[bw,cw,f3]}),r=P6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=gb(o.toString());iw(s,l,()=>l(s.currentUser)),rw(s,a=>l(a))}}const i=O6("auth");return i&&YC(s,`http://${i}`),s}function vb(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}qC({loadJS(n){return new Promise((t,s)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const o=On("internal-error");o.customData=i,s(o)},r.type="text/javascript",r.charset="UTF-8",vb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fb("Browser");const Cb={apiKey:"AIzaSyB2W-hq7r3Lh0k-3x1NK-S6uvquqZIYydQ",authDomain:"my-agreements.firebaseapp.com",projectId:"my-agreements",storageBucket:"my-agreements.appspot.com",messagingSenderId:"475255529009",appId:"1:475255529009:web:449e8e6d3e17f985fdbf10"},b3=R6(Cb),Te=yb(b3);CC(b3);function wb(){const n=new as;return Tw(Te,n)}function bb(){return ow(Te)}const kb=["width","height"],ks={__name:"LoadingSpinner",props:{size:{type:Number,default:34}},setup(n){return(t,s)=>(F(),U("svg",{width:n.size,height:n.size,class:"loading-spinner",version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"},s[0]||(s[0]=[y("path",{fill:"#000",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[y("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})],-1)]),8,kb))}},xb={class:"flex-default",style:{"justify-content":"center",margin:"48px 0"}},_b={__name:"HomeView",setup(n){const t=sn();return t.user&&(console.log("redirecting to dashboard"),ft.push({path:"/dashboard"})),!t.loading&&!t.user&&(console.log("redirecting to authentication"),ft.push({path:"/authentication"})),(s,r)=>(F(),U(Pe,null,[r[1]||(r[1]=xe(" dfgdfg ")),y("div",xb,[X(ks),r[0]||(r[0]=y("span",null,"Loading...",-1))])],64))}},vt="";async function Sb(n){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const t=await Te.currentUser.getIdToken(),s=await fetch(`${vt}/ai-agreement-generator`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)});if(!s.ok)throw new Error("Failed to generate agreement");return await s.json()}async function Tb(n){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const s={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},r=new FormData;if(r.append("agreementType",n.agreementType),r.append("agreementName",n.agreementName),n.agreementText.trim()){const l=n.agreementText.trim();r.append("agreementText",l&&l!=="<p></p>"?l:"")}else r.append("agreementFile",n.agreementFile);n.requiredDocuments&&r.append("requiredDocuments",JSON.stringify(n.requiredDocuments)),n.requiredDocuments.includes("custom")&&r.append("customDocumentName",n.customDocumentName);const i=await fetch(`${vt}/save-agreement`,{method:"POST",headers:s,body:r}),o=await i.json();if(!i.ok)throw new Error(o.message||"Failed to get agreements");return o}async function Eb(){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const t={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},s=await fetch(`${vt}/get-agreements`,{method:"GET",headers:t}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to get agreements");return r}async function Mb(n){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const s={"Content-Type":"application/json",Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},r=await fetch(`${vt}/share-agreement`,{method:"POST",headers:s,body:JSON.stringify(n)}),i=await r.json();if(!r.ok)throw new Error(i.message||"Failed to share agreement");return i}async function Ab(n){const t=await fetch(`${vt}/get-signee-content?id=${n}`,{method:"GET"}),s=await t.json();if(!t.ok)throw new Error(s.message||"Failed to get signee content");return s}async function Ib(n){const t=new FormData;t.append("id",n.id),t.append("signature",n.signature),n.photo&&t.append("photo",n.photo),n["id-card"]&&t.append("id-card",n["id-card"]),n.passport&&t.append("passport",n.passport),n["drivers-license"]&&t.append("drivers-license",n["drivers-license"]),n.custom&&t.append("custom",n.custom);const s=await fetch(`${vt}/sign-agreement`,{method:"POST",body:t}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to sign agreement");return r}async function Ob(n){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const s={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},r=await fetch(`${vt}/get-signees?id=${n}`,{method:"GET",headers:s}),i=await r.json();if(!r.ok)throw new Error(i.message||"Failed to get signees");return i}async function k3(n){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const s={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`,"Content-Type":"application/json"},r=await fetch(`${vt}/delete-agreement`,{method:"POST",headers:s,body:JSON.stringify({id:n})}),i=await r.json();if(!r.ok)throw new Error(i.message||"Failed to delete agreement");return i}async function Lb(n,t){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const r={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`,"Content-Type":"application/json"},i=await fetch(`${vt}/delete-signee`,{method:"POST",headers:r,body:JSON.stringify({agreementId:n,signeeId:t})}),o=await i.json();if(!i.ok)throw new Error(o.message||"Failed to delete signee");return o}async function Pb(n,t,s){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const i={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`,"Content-Type":"application/json"},o=await fetch(`${vt}/reject-signee`,{method:"POST",headers:i,body:JSON.stringify({agreementId:n,signeeId:t,reason:s})}),l=await o.json();if(!o.ok)throw new Error(l.message||"Failed to delete signee");return l}async function Nb(n,t,s=!1){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const i={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`,"Content-Type":"application/json"},o=await fetch(`${vt}/approve-signee`,{method:"POST",headers:i,body:JSON.stringify({agreementId:n,signeeId:t,immediate:s})}),l=await o.json();if(!o.ok)throw new Error(l.message||"Failed to approve signee");return l}async function Wp(n,t,s){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const i={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`,"Content-Type":"application/json"},o=await fetch(`${vt}/mark-status`,{method:"POST",headers:i,body:JSON.stringify({agreementId:n,signeeId:t,status:s})}),l=await o.json();if(!o.ok)throw new Error(l.message||"Failed to mark started");return l}async function Db(){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const t={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},s=await fetch(`${vt}/user-profile`,{method:"GET",headers:t}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to get agreements");return r}async function x3(n,t,s){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const i={Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},o=new FormData;o.append(s,n);const l=await fetch(`${vt}${t}`,{method:"POST",headers:i,body:o}),a=await l.json();if(!l.ok)throw new Error(a.message||"Failed to update profile picture");return a}async function Rb(n){try{return await x3(n,"/update-profile-picture","profilePicture")}catch(t){throw t}}async function $b(n){try{return await x3(n,"/update-organization-logo","organizationLogo")}catch(t){throw t}}async function Fb(n,t,s){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const i={"Content-Type":"application/json",Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},o=await fetch(`${vt}/save-profile-details`,{method:"POST",headers:i,body:JSON.stringify({fullName:n,organizationName:t,organizationTagline:s})}),l=await o.json();if(!o.ok)throw new Error(l.message||"Failed to get agreements");return l}async function Bb(n,t=!1){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const r={"Content-Type":"application/json",Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},i=await fetch(`${vt}/subscription-url?packageName=${n}&yearly=${t}`,{method:"GET",headers:r}),o=await i.json();if(!i.ok)throw new Error(o.message||"Failed to get agreements");return o}async function Vb(n,t=!1){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const r={"Content-Type":"application/json",Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},i=await fetch(`${vt}/change-subscription-plan`,{method:"POST",headers:r,body:JSON.stringify({packageName:n,yearly:t})}),o=await i.json();if(!i.ok)throw new Error(o.message||"Failed to get agreements");return o}async function Hb(){if(!Te.currentUser)throw alert("Login required"),new Error("Login required");const t={"Content-Type":"application/json",Authorization:`Bearer ${await Te.currentUser.getIdToken()}`},s=await fetch(`${vt}/cancel-subscription`,{method:"POST",headers:t}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to get agreements");return r}var Ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function zb(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(s,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),s}var _3={exports:{}};const qb=zb(h8);(function(n,t){(function(r,i){n.exports=i(qb)})(Ub,s=>(()=>{var r={113:(k,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=(S,L)=>{const O=S.__vccOpts||S;for(const[I,Ce]of L)O[I]=Ce;return O}},594:k=>{k.exports=s}},i={};function o(k){var b=i[k];if(b!==void 0)return b.exports;var S=i[k]={exports:{}};return r[k](S,S.exports,o),S.exports}o.d=(k,b)=>{for(var S in b)o.o(b,S)&&!o.o(k,S)&&Object.defineProperty(k,S,{enumerable:!0,get:b[S]})},o.o=(k,b)=>Object.prototype.hasOwnProperty.call(k,b),o.r=k=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})};var l={};o.r(l),o.d(l,{ToastComponent:()=>N,ToastPlugin:()=>B,ToastPositions:()=>m,default:()=>A,useToast:()=>R});var a=o(594);const c=["innerHTML"];function u(k,b,S,L,O,I){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{"enter-active-class":k.transition.enter,"leave-active-class":k.transition.leave},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{ref:"root",role:"alert",class:(0,a.normalizeClass)(["v-toast__item",[`v-toast__item--${k.type}`,`v-toast__item--${k.position}`]]),onMouseover:b[0]||(b[0]=Ce=>k.toggleTimer(!0)),onMouseleave:b[1]||(b[1]=Ce=>k.toggleTimer(!1)),onClick:b[2]||(b[2]=function(){return k.whenClicked&&k.whenClicked(...arguments)})},[b[3]||(b[3]=(0,a.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,a.createElementVNode)("p",{class:"v-toast__text",innerHTML:k.message},null,8,c)],34),[[a.vShow,k.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function h(k){var b;typeof k.remove<"u"?k.remove():(b=k.parentNode)==null||b.removeChild(k)}function f(k,b,S){let L=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const O=(0,a.h)(k,b,L),I=document.createElement("div");return I.classList.add("v-toast--pending"),S.appendChild(I),(0,a.render)(O,I),O.component}class p{constructor(b,S){this.startedAt=Date.now(),this.callback=b,this.delay=S,this.timer=setTimeout(b,S)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const m=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function v(k){return{all:k=k||new Map,on:function(b,S){var L=k.get(b);L?L.push(S):k.set(b,[S])},off:function(b,S){var L=k.get(b);L&&(S?L.splice(L.indexOf(S)>>>0,1):k.set(b,[]))},emit:function(b,S){var L=k.get(b);L&&L.slice().map(function(O){O(S)}),(L=k.get("*"))&&L.slice().map(function(O){O(b,S)})}}}const x=v(),_=(0,a.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:m.BOTTOM_RIGHT,validator(k){return Object.values(m).includes(k)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),x.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const k=document.body;k.appendChild(this.parentTop),k.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const k=this.$refs.root;(0,a.render)(null,k),h(k)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const k=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),h(k),this.isActive=!0,this.duration&&(this.timer=new p(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(k){!this.pauseOnHover||!this.timer||(k?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case m.TOP:case m.TOP_RIGHT:case m.TOP_LEFT:return this.parentTop;case m.BOTTOM:case m.BOTTOM_RIGHT:case m.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case m.TOP:case m.TOP_RIGHT:case m.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case m.BOTTOM:case m.BOTTOM_RIGHT:case m.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){x.off("toast-clear",this.dismiss)}});var M=o(113);const N=(0,M.default)(_,[["render",u]]),R=function(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(b){let S=null;typeof b=="string"&&(S=b);const O=Object.assign({},{message:S},k,b);return{dismiss:f(N,O,document.body).ctx.dismiss}},clear(){x.emit("toast-clear")},success(b){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:b,type:"success"},S))},error(b){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:b,type:"error"},S))},info(b){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:b,type:"info"},S))},warning(b){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:b,type:"warning"},S))},default(b){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:b,type:"default"},S))}}},B={install:function(k){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=R(b);k.config.globalProperties.$toast=S,k.provide("$toast",S)}},A=B;return l})())})(_3);var Dt=_3.exports;const Wb=jb(Dt),Kp=Dt.useToast(),Xi=Ec("agreements",()=>{const n=fe(!0),t=fe([]),s=he(()=>{const c=t.value.length,u=t.value.reduce((h,f)=>h+(f.signeeCount||0),0);return{agreementCount:c>9?c:`0${c}`,signeesCount:u>9?u:`0${u}`}});function r(c){n.value=!1,t.value=c}function i(c){t.value=[c,...t.value]}async function o(){if(!n.value)return t.value;try{const{success:c,content:u,message:h}=await Eb();if(!c){Kp.error(h||"Failed to get agreements");return}return r(u),u}catch(c){console.error(c),Kp.error("Failed to get agreements")}}async function l(c){return(await o()).find(h=>h.id===c)}async function a(c){const u=await o();t.value=u.filter(h=>h.id!==c)}return{loading:n,agreements:t,stats:s,setAgreements:r,addAgreement:i,getAgreements:o,getAgreement:l,deleteAgreement:a}}),Kb={key:0,class:"create-profile-info flex-default mb-1-5"},Gb={key:1,class:"dashboard-stats"},Jb={class:"stat-item"},Zb={class:"data"},Yb={class:"title flex-default"},Xb={class:"info flex-default"},Qb={class:"text text-capitalize"},ek={class:"stat-item"},tk={class:"data"},nk={class:"info"},sk={class:"text"},rk={class:"stat-item"},ik={class:"data"},ok={class:"info"},lk={class:"text"},ak={__name:"Stats",setup(n){const t=sn(),s=Xi(),r=he(()=>s.stats||{}),i=he(()=>t.notSubscribed),o=he(()=>t.subscription);return(l,a)=>{var u,h,f,p;const c=fr("RouterLink");return F(),U(Pe,null,[!o.value||i.value?(F(),U("div",Kb,[a[1]||(a[1]=y("p",{class:"text"},"You currently do not have an active subscription",-1)),X(c,{to:"/pricing",class:"btn btn-sm btn-outline"},{default:Ye(()=>a[0]||(a[0]=[xe("Select Plan")])),_:1})])):le("",!0),o.value?(F(),U("div",Gb,[y("div",Jb,[a[4]||(a[4]=y("svg",{width:"80",height:"82",viewBox:"0 0 80 82",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("rect",{width:"80",height:"82",rx:"40",fill:"#F9BAA3"}),y("path",{d:"M38.5734 25.3906C39.0224 24.0086 40.9776 24.0086 41.4266 25.3906L44.1535 33.7832C44.3543 34.4012 44.9303 34.8197 45.5801 34.8197H54.4046C55.8577 34.8197 56.4619 36.6791 55.2863 37.5332L48.1471 42.7201C47.6214 43.1021 47.4014 43.7791 47.6022 44.3972L50.3291 52.7898C50.7781 54.1717 49.1964 55.3209 48.0209 54.4668L40.8817 49.2799C40.3559 48.8979 39.6441 48.8979 39.1183 49.2799L31.9791 54.4668C30.8036 55.3209 29.2219 54.1717 29.6709 52.7898L32.3978 44.3972C32.5986 43.7791 32.3786 43.1021 31.8529 42.7201L24.7137 37.5332C23.5381 36.6791 24.1423 34.8197 25.5954 34.8197H34.4199C35.0697 34.8197 35.6457 34.4012 35.8465 33.7832L38.5734 25.3906Z",fill:"white"})],-1)),y("div",Zb,[y("p",Yb,[a[2]||(a[2]=y("span",null,"Current Plan",-1)),y("span",{class:Be("subscription-status-badge "+((u=o.value)==null?void 0:u.status))},pe((f=(h=o.value)==null?void 0:h.status)==null?void 0:f.replace("_"," ")),3)]),y("div",Xb,[y("span",Qb,pe((p=o.value)==null?void 0:p.packageName),1),X(c,{to:"/manage-subscription",class:"subscription-manage-btn"},{default:Ye(()=>a[3]||(a[3]=[xe("manage")])),_:1})])])]),a[9]||(a[9]=y("div",{class:"v-divider"},null,-1)),y("div",ek,[a[6]||(a[6]=tt('<svg width="80" height="82" viewBox="0 0 80 82" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="80" height="82" rx="40" fill="#ABE8C2"></rect><rect x="25.6693" y="21.315" width="28.6614" height="39.3701" rx="0.629921" stroke="#2D2B2B" stroke-width="0.629921"></rect><rect x="28.504" y="34.8583" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><rect x="28.504" y="39.8976" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><rect x="28.504" y="44.937" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><rect x="28.504" y="49.9764" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><rect x="28.504" y="55.0157" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><path d="M30.2857 28.3543H32.4023V29.1732H30.2857V28.3543ZM30.3613 30.7795H29.3408V26.3701H32.6731V27.189H30.3613V30.7795ZM34.8273 30.8299C34.4662 30.8299 34.1449 30.7543 33.8635 30.6032C33.5864 30.452 33.3659 30.2462 33.2021 29.9858C33.0425 29.7213 32.9627 29.421 32.9627 29.0851C32.9627 28.7449 33.0425 28.4446 33.2021 28.1843C33.3659 27.9197 33.5864 27.7139 33.8635 27.5669C34.1449 27.4158 34.4662 27.3402 34.8273 27.3402C35.1843 27.3402 35.5034 27.4158 35.7848 27.5669C36.0662 27.7139 36.2866 27.9176 36.4462 28.178C36.6058 28.4383 36.6856 28.7407 36.6856 29.0851C36.6856 29.421 36.6058 29.7213 36.4462 29.9858C36.2866 30.2462 36.0662 30.452 35.7848 30.6032C35.5034 30.7543 35.1843 30.8299 34.8273 30.8299ZM34.8273 30.0236C34.9911 30.0236 35.1381 29.9858 35.2683 29.9102C35.3984 29.8347 35.5013 29.7276 35.5769 29.589C35.6525 29.4462 35.6903 29.2782 35.6903 29.0851C35.6903 28.8877 35.6525 28.7197 35.5769 28.5811C35.5013 28.4425 35.3984 28.3354 35.2683 28.2599C35.1381 28.1843 34.9911 28.1465 34.8273 28.1465C34.6635 28.1465 34.5165 28.1843 34.3864 28.2599C34.2562 28.3354 34.1512 28.4425 34.0714 28.5811C33.9958 28.7197 33.958 28.8877 33.958 29.0851C33.958 29.2782 33.9958 29.4462 34.0714 29.589C34.1512 29.7276 34.2562 29.8347 34.3864 29.9102C34.5165 29.9858 34.6635 30.0236 34.8273 30.0236ZM37.3424 30.7795V27.3906H38.281V28.348L38.1487 28.0709C38.2495 27.8315 38.4112 27.6509 38.6338 27.5291C38.8563 27.4032 39.1272 27.3402 39.4464 27.3402V28.2473C39.4044 28.2431 39.3666 28.241 39.333 28.241C39.2994 28.2368 39.2637 28.2347 39.2259 28.2347C38.9571 28.2347 38.7387 28.3123 38.5708 28.4677C38.407 28.6189 38.3251 28.8562 38.3251 29.1795V30.7795H37.3424ZM44.377 27.3402C44.6457 27.3402 44.883 27.3948 45.0888 27.504C45.2987 27.6089 45.4625 27.7727 45.5801 27.9953C45.7019 28.2137 45.7628 28.495 45.7628 28.8394V30.7795H44.7801V28.9906C44.7801 28.7176 44.7234 28.516 44.61 28.3858C44.4966 28.2557 44.3371 28.1906 44.1313 28.1906C43.9885 28.1906 43.8604 28.2242 43.747 28.2914C43.6337 28.3543 43.5455 28.4509 43.4825 28.5811C43.4195 28.7113 43.388 28.8772 43.388 29.0788V30.7795H42.4053V28.9906C42.4053 28.7176 42.3486 28.516 42.2352 28.3858C42.126 28.2557 41.9686 28.1906 41.7628 28.1906C41.62 28.1906 41.4919 28.2242 41.3785 28.2914C41.2652 28.3543 41.177 28.4509 41.114 28.5811C41.051 28.7113 41.0195 28.8772 41.0195 29.0788V30.7795H40.0368V27.3906H40.9754V28.3165L40.799 28.0457C40.9166 27.8147 41.0825 27.6404 41.2966 27.5228C41.515 27.4011 41.7628 27.3402 42.04 27.3402C42.3507 27.3402 42.6216 27.42 42.8526 27.5795C43.0877 27.7349 43.2431 27.9743 43.3187 28.2977L42.9722 28.2032C43.0856 27.9386 43.2662 27.7286 43.514 27.5732C43.7659 27.4179 44.0536 27.3402 44.377 27.3402Z" fill="#2D2B2B"></path></svg>',1)),y("div",tk,[a[5]||(a[5]=y("p",{class:"title"},"Agreement Created",-1)),y("div",nk,[y("span",sk,pe(r.value.agreementCount),1)])])]),a[10]||(a[10]=y("div",{class:"v-divider"},null,-1)),y("div",rk,[a[8]||(a[8]=y("svg",{width:"80",height:"82",viewBox:"0 0 80 82",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("rect",{width:"80",height:"82",rx:"40",fill:"#C3E0FF"}),y("path",{d:"M33.3333 36H30.3333C28.4665 36 27.5331 36 26.82 36.3633C26.1928 36.6829 25.6829 37.1928 25.3633 37.82C25 38.533 25 39.4665 25 41.3334V50.6667C25 52.5335 25 53.4669 25.3633 54.1799C25.6829 54.8072 26.1928 55.317 26.82 55.6367C27.5331 56 28.4665 56 30.3333 56H49.645C51.5118 56 52.4452 56 53.1583 55.6367C53.7855 55.317 54.2953 54.8072 54.615 54.1799C54.9783 53.4669 54.9783 52.5335 54.9783 50.6667V41M30 46H30.0167M36.6667 45.9999H36.6833M39.1982 42.4909L41.3895 42.0577C42.572 41.824 43.1632 41.7072 43.7145 41.492C44.2038 41.301 44.6688 41.0529 45.1 40.7525C45.5857 40.4144 46.0117 39.9882 46.864 39.1359L55.4447 30.5552C56.5902 29.4098 56.5902 27.5527 55.4447 26.4073C54.2993 25.2619 52.4422 25.2619 51.2968 26.4073L42.5693 35.1347C41.7708 35.9333 41.3715 36.3326 41.049 36.7852C40.7627 37.1871 40.5218 37.6194 40.331 38.0744C40.116 38.5869 39.9868 39.1367 39.7283 40.236L39.1982 42.4909Z",stroke:"#2D2B2B","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),y("div",ik,[a[7]||(a[7]=y("p",{class:"title"},"Agreement Signee",-1)),y("div",ok,[y("span",lk,pe(r.value.signeesCount),1)])])])])):le("",!0)],64)}}},ck={class:"dashboard-nav"},uk={class:"data"},dk={class:"search-inputs"},hk={class:"input-group"},fk={class:"input-group with-icon search-input"},pk={__name:"DashboardNav",emits:["search"],setup(n,{emit:t}){const s=fe(""),r=t;return xh(()=>{r("search",s.value)}),(i,o)=>(F(),U("div",ck,[y("div",uk,[o[2]||(o[2]=y("h3",{class:"title"},"My Agreements",-1)),o[3]||(o[3]=y("p",{class:"info"},[xe(" You can manage all your agreements from here. "),y("br"),xe(" Click on a agreement to view details. ")],-1)),y("div",dk,[y("div",hk,[y("div",fk,[o[1]||(o[1]=y("svg",{class:"icon",width:"18px",height:"18px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z",stroke:"#425466","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ve(y("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l),type:"text",class:"input",placeholder:"Search agreement"},null,512),[[je,s.value]])])])])]),X(rt(ms),{to:"/create-agreement",class:"btn"},{default:Ye(()=>o[4]||(o[4]=[y("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M4 12H20M12 4V20",stroke:"#fff","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})],-1),y("span",null,"Create New",-1)])),_:1})]))}},S3="/assets/images/success-animation.gif";function Gh(n,t=1e3,s=1e3){return new Promise((r,i)=>{const o=new FileReader;o.readAsDataURL(n),o.onload=function(l){const a=new Image;a.src=l.target.result,a.onload=function(){const c=document.createElement("canvas"),u=c.getContext("2d");let h=a.width,f=a.height;h>f?h>t&&(f*=t/h,h=t):f>s&&(h*=s/f,f=s),c.width=h,c.height=f,u.drawImage(a,0,0,h,f),c.toBlob(p=>{const m=c.toDataURL(n.type);r({blob:p,dataUrl:m})},n.type)}},o.onerror=function(l){i(l)}})}function mk(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}function gk(n){if(navigator.clipboard){navigator.clipboard.writeText(n);return}const t=document.createElement("textarea");t.value=n,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}const yk={key:0,class:"modal-wrapper"},vk={class:"modal-content"},Ck={class:"modal-header"},wk={class:"modal-body share-agreement-form"},bk={class:"input-group mb-1-5"},kk={class:"input-group mb-1-5"},xk={key:0,class:"input-group mb-1-5"},_k={class:"multi-col-input"},Sk={key:1,class:"input-group mb-1-5"},Tk={key:2,class:"input-group mb-1-5"},Ek={key:3,class:"input-group mb-1-5"},Mk={key:4,class:"input-group mb-1-5"},Ak={class:"input-group mb-1-5"},Ik={key:5,class:"input-group mb-1-5"},Ok={style:{color:"var(--Dark)","text-transform":"capitalize","font-weight":"500"}},Lk={class:"modal-footer"},Pk={key:1,class:"modal-wrapper",style:{"--modal-max-width":"600px"}},Nk={class:"modal-content text-center"},Dk={class:"modal-body"},Rk={style:{"line-height":"1.5",margin:"16px 0"}},$k={class:"input-group flex-default mb-1"},Fk=["value"],T3={__name:"ShareAgreementBtn",props:{agreement:Object},setup(n){const t=Dt.useToast(),r=dn().setGlobalLoading,i=n,o=fe(!1),l=fe({name:"",email:"",startDate:"",endDate:"",amount:"$100.00",description:""}),a=fe("");async function c(){let{name:f,email:p,startDate:m,endDate:v,amount:C,description:x}=l.value;if(f=f.trim(),p=p.trim(),m=m.trim(),v=v.trim(),C=C.trim(),x=x.trim(),!f||f.length<4){t.error("Please enter signee name");return}if(!p||p.length<4){t.error("Please enter signee email address");return}if(!mk(p)){t.error("Please enter a valid email address");return}if(m&&(m=new Date(m).toISOString()),v&&(v=new Date(v).toISOString()),m&&v&&new Date(m)>new Date(v)){t.error("End date must be greater than start date");return}if(C&&!/^[^\d]*\d+(\.\d{1,2})?$/.test(C)){t.error("Please enter a valid amount");return}r(!0);try{const _=await Mb({agreementId:i.agreement.id,name:f,email:p,startDate:m,endDate:v,amount:i.agreement.agreementType==="reimbursement contract"||i.agreement.agreementType==="nda from"?null:C,description:x}),{success:M,content:E,message:N}=_;if(!M){t.error(N||"Error saving agreement"),r(!1);return}o.value=!1,u.value=!0,a.value=E.signingLink,console.log(E)}catch(_){t.error("Failed to share agreement"),console.error(_)}r(!1)}const u=fe(!1);function h(f){gk(f),t.success("Link copied to clipboard")}return(f,p)=>(F(),U(Pe,null,[y("span",{onClick:p[0]||(p[0]=cs(m=>o.value=!0,["prevent"]))},[vh(f.$slots,"default",{},()=>[p[14]||(p[14]=y("button",{class:"btn btn-sm action-share"},[y("svg",{fill:"#fff",width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M2,21h8a1,1,0,0,0,0-2H3.071A7.011,7.011,0,0,1,10,13a5.044,5.044,0,1,0-3.377-1.337A9.01,9.01,0,0,0,1,20,1,1,0,0,0,2,21ZM10,5A3,3,0,1,1,7,8,3,3,0,0,1,10,5ZM23,16a1,1,0,0,1-1,1H19v3a1,1,0,0,1-2,0V17H14a1,1,0,0,1,0-2h3V12a1,1,0,0,1,2,0v3h3A1,1,0,0,1,23,16Z"})]),y("span",null,"Intive")],-1))])]),o.value?(F(),U("div",yk,[y("div",vk,[y("div",Ck,[p[16]||(p[16]=y("h4",{class:"modal-title"},"Invite signee",-1)),(F(),U("svg",{onClick:p[1]||(p[1]=cs(m=>o.value=!1,["prevent"])),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p[15]||(p[15]=[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),y("div",wk,[y("div",bk,[p[17]||(p[17]=y("label",{class:"label"},"Signee name",-1)),ve(y("input",{"onUpdate:modelValue":p[2]||(p[2]=m=>l.value.name=m),type:"email",class:"input",placeholder:"Enter signee name"},null,512),[[je,l.value.name]])]),y("div",kk,[p[18]||(p[18]=y("label",{class:"label"},"Signee email address",-1)),ve(y("input",{"onUpdate:modelValue":p[3]||(p[3]=m=>l.value.email=m),type:"email",class:"input",placeholder:"Enter email address"},null,512),[[je,l.value.email]])]),n.agreement.agreementType!=="nda from"?(F(),U("div",xk,[p[19]||(p[19]=y("label",{class:"label"},[xe("Start & End date "),y("span",{class:"text-optional"},"(Optional)")],-1)),p[20]||(p[20]=y("p",{class:"sublabel"},"Set the start and end date for the agreement if applicable",-1)),p[21]||(p[21]=y("p",{class:"sublabel"},[y("i",null,"You can mark agreement as completed at anytime")],-1)),y("div",_k,[ve(y("input",{"onUpdate:modelValue":p[4]||(p[4]=m=>l.value.startDate=m),type:"date",class:"input",placeholder:"Start date"},null,512),[[je,l.value.startDate]]),ve(y("input",{"onUpdate:modelValue":p[5]||(p[5]=m=>l.value.endDate=m),type:"date",class:"input",placeholder:"End date"},null,512),[[je,l.value.endDate]])])])):le("",!0),n.agreement.agreementType==="hourly contract"?(F(),U("div",Sk,[p[22]||(p[22]=y("label",{class:"label"},"Hourly rate",-1)),ve(y("input",{"onUpdate:modelValue":p[6]||(p[6]=m=>l.value.amount=m),type:"text",class:"input",placeholder:"Enter hourly rate",value:"$100.00"},null,512),[[je,l.value.amount]])])):n.agreement.agreementType==="fixed price contract"?(F(),U("div",Tk,[p[23]||(p[23]=y("label",{class:"label"},"Contract amount",-1)),ve(y("input",{"onUpdate:modelValue":p[7]||(p[7]=m=>l.value.amount=m),type:"text",class:"input",placeholder:"Enter contract amount",value:"$100.00"},null,512),[[je,l.value.amount]])])):n.agreement.agreementType==="cost plus contract"?(F(),U("div",Ek,[p[24]||(p[24]=y("label",{class:"label"},"Cost plus amount",-1)),p[25]||(p[25]=y("p",{class:"sublabel"},"Enter amont that will be compensated on top of the cost",-1)),ve(y("input",{"onUpdate:modelValue":p[8]||(p[8]=m=>l.value.amount=m),type:"text",class:"input",placeholder:"Enter cost plus amount",value:"$100.00"},null,512),[[je,l.value.amount]])])):n.agreement.agreementType!=="reimbursement contract"&&n.agreement.agreementType!=="nda from"?(F(),U("div",Mk,[p[26]||(p[26]=y("label",{class:"label"},[xe("Contract amount "),y("span",{class:"text-optional"},"(Optional)")],-1)),p[27]||(p[27]=y("p",{class:"sublabel"},"If there is a contract amount enter it here",-1)),ve(y("input",{"onUpdate:modelValue":p[9]||(p[9]=m=>l.value.amount=m),type:"text",class:"input",placeholder:"Enter contract amount",value:"$100.00"},null,512),[[je,l.value.amount]])])):le("",!0),y("div",Ak,[p[28]||(p[28]=y("label",{class:"label"},[xe("Description "),y("span",{class:"text-optional"},"(Optional)")],-1)),ve(y("textarea",{"onUpdate:modelValue":p[10]||(p[10]=m=>l.value.description=m),class:"input",placeholder:"Describe your agreement to signee"},null,512),[[je,l.value.description]])]),n.agreement.requiredDocuments&&n.agreement.requiredDocuments.length?(F(),U("div",Ik,[p[29]||(p[29]=y("label",{class:"label"},"Required documents",-1)),y("h4",Ok,pe(n.agreement.requiredDocuments.map(m=>m==="custom"?n.agreement.customDocumentName:m.replace(/-/g," ")).join(", ")),1)])):le("",!0)]),y("div",Lk,[y("button",{onClick:p[11]||(p[11]=cs(m=>o.value=!1,["prevent"])),type:"button",class:"btn btn-md btn-outline"},"Cancel"),y("button",{onClick:cs(c,["prevent"]),type:"button",class:"btn btn-md"},"Continue")])])])):le("",!0),u.value?(F(),U("div",Pk,[y("div",Nk,[p[35]||(p[35]=y("img",{style:{"max-width":"300px"},src:S3,alt:""},null,-1)),p[36]||(p[36]=y("h1",{class:"title"},"Invitation Sent",-1)),y("div",Dk,[y("p",Rk,[p[30]||(p[30]=xe(" We have sent an invitation to ")),y("strong",null,pe(l.value.email),1),p[31]||(p[31]=xe(" to sign the agreement. ")),p[32]||(p[32]=y("br",null,null,-1)),p[33]||(p[33]=xe(" If you want you can also share the link below with the signee. "))]),y("div",$k,[y("input",{style:{height:"44px"},type:"text",class:"input",value:a.value},null,8,Fk),y("button",{onClick:p[12]||(p[12]=m=>h(a.value)),class:"btn btn-sm",style:{"flex-shrink":"0",height:"44px"}},"Copy link")]),p[34]||(p[34]=y("small",{class:"highlight-warning"},[xe("This link and invitation is valid for "),y("b",null,"24 hours"),xe(" and can only be used to "),y("b",null,"sign the agreement once"),xe(".")],-1))]),y("button",{onClick:p[13]||(p[13]=m=>u.value=!1),class:"btn btn-outline"},"Close")])])):le("",!0)],64))}},Bk={key:0,class:"modal-wrapper"},Vk={class:"modal-content"},Hk={class:"text-center mb-0-5"},Uk={key:0,width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jk={key:1,width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zk={class:"modal-title text-center mb-0-5",style:{"font-size":"32px"}},qk=["innerHTML"],Wk={class:"modal-footer",style:{"justify-content":"center"}},Pr={__name:"ConfirmBtn",props:{title:{type:String,default:"Are you sure?"},message:{type:String,default:"You are about to permamently delete this item!"},friendly:{type:Boolean,default:!1}},emits:["confirm"],setup(n,{emit:t}){const s=t;function r(){s("confirm"),i.value=!1}const i=fe(!1);return(o,l)=>(F(),U(Pe,null,[y("span",{onClick:l[0]||(l[0]=a=>i.value=!0)},[vh(o.$slots,"btn",{},()=>[l[2]||(l[2]=y("button",{class:"btn btn-danger"},"Delete",-1))])]),i.value?(F(),U("div",Bk,[y("div",Vk,[y("p",Hk,[n.friendly?(F(),U("svg",Uk,l[3]||(l[3]=[y("rect",{width:"120",height:"120",rx:"60",fill:"#DFEEFF"},null,-1),y("path",{d:"M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z",stroke:"#3597FF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),y("path",{d:"M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z",stroke:"#3597FF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),y("path",{d:"M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z",fill:"#3597FF",stroke:"#3597FF","stroke-width":"0.15625"},null,-1)]))):(F(),U("svg",jk,l[4]||(l[4]=[y("rect",{width:"120",height:"120",rx:"60",fill:"#FFE2E3"},null,-1),y("path",{d:"M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z",stroke:"#FF4D4F","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),y("path",{d:"M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z",stroke:"#FF4D4F","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),y("path",{d:"M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z",fill:"#FE5C72",stroke:"#FF4D4F","stroke-width":"0.15625"},null,-1)])))]),y("p",zk,pe(n.title),1),y("p",{class:"modal-info text-center mb-1-5",innerHTML:n.message},null,8,qk),y("div",Wk,[y("button",{onClick:l[1]||(l[1]=a=>i.value=!1),class:"btn btn-outline"},"Cancel"),y("button",{onClick:r,class:Be(["btn",{"btn-danger":!n.friendly}])},"Confirm",2)])])])):le("",!0)],64))}},Kk={class:"td actions"},Gk={class:"action share hint--top-left","aria-label":"Invite signee"},Jk={__name:"AgreementActions",props:{agreement:Object},emits:["delete"],setup(n,{emit:t}){const s=t;return(r,i)=>(F(),U("div",Kk,[y("span",Gk,[X(T3,{agreement:n.agreement},{default:Ye(()=>i[1]||(i[1]=[y("svg",{fill:"#000000",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M2,21h8a1,1,0,0,0,0-2H3.071A7.011,7.011,0,0,1,10,13a5.044,5.044,0,1,0-3.377-1.337A9.01,9.01,0,0,0,1,20,1,1,0,0,0,2,21ZM10,5A3,3,0,1,1,7,8,3,3,0,0,1,10,5ZM23,16a1,1,0,0,1-1,1H19v3a1,1,0,0,1-2,0V17H14a1,1,0,0,1,0-2h3V12a1,1,0,0,1,2,0v3h3A1,1,0,0,1,23,16Z"})],-1)])),_:1},8,["agreement"])]),X(Pr,{onConfirm:i[0]||(i[0]=o=>s("delete")),message:"You are about to permanently delete this agreement. This action cannot be undone. Are you sure you want to proceed?"},{btn:Ye(()=>i[2]||(i[2]=[y("span",{class:"action delete hint--top-left","aria-label":"Delete agreement"},[y("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M10 12V17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M14 12V17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M4 7H20",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)])),_:1})]))}},Zk={key:0,class:"text-center mt-2"},Yk={key:1,class:"data-table-wrapper",style:{"margin-top":"36px","--table-columns":"2fr 1.1fr 100px 150px 100px","--table-columns-sm":"1.75fr 1.2fr 100px 130px 100px","--table-min-width":"850px"}},Xk={class:"data-table"},Qk={class:"td"},ex={class:"td"},tx={class:"agreement-type-label"},nx={class:"td"},sx={href:"/agreement.html",class:"text signee-count"},rx={class:"td"},ix={key:1,class:"review-status-badge"},ox={key:2,class:"no-data-message",style:{"margin-top":"54px"}},lx={__name:"AgreementsTable",props:{searchText:String},setup(n){const s=dn().setGlobalLoading,r=Dt.useToast(),i=Xi(),o=he(()=>i.loading),l=fe([]),a=n;Rn(async()=>{l.value=await i.getAgreements()});const c=he(()=>a.searchText?JSON.parse(JSON.stringify(l.value)).filter(p=>{const m=p.agreementName.toLowerCase(),v=a.searchText.toLowerCase();if(m.includes(v)){const C=m.indexOf(v),x=p.agreementName.slice(0,C),_=p.agreementName.slice(C,C+v.length),M=p.agreementName.slice(C+v.length);return p.agreementName=`${x}<span class="highlight">${_}</span>${M}`,!0}return!1}):l.value);async function u(f){s(!0);try{const{success:p,message:m}=await k3(f.id);p?(r.success("Agreement deleted successfully"),l.value=l.value.filter(v=>v.id!==f.id)):r.error(m||"Failed to delete agreement")}catch(p){r.error(p.message||"Failed to delete agreement")}s(!1)}function h(f){return f?f>9?f:`0${f}`:"-"}return(f,p)=>o.value?(F(),U("div",Zk,[X(ks,{size:100})])):c.value.length?(F(),U("div",Yk,[y("div",Xk,[p[0]||(p[0]=tt(`<div class="tr th"><div class="td"><span class="text">Agreement</span><span class="hint--top" aria-label="Name of agreement"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Type</span><span class="hint--top" aria-label="Type of agreement"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Signee</span><span class="hint--top" aria-label="Number of people who signed the agreement"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">To Review</span><span class="hint--top" aria-label="Agreement signees to review"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Action</span><span class="hint--top-left" aria-label="Edit, delete or duplicate agreement"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div></div>`,1)),(F(!0),U(Pe,null,bc(c.value,(m,v)=>{var C;return F(),U("div",{class:"tr",key:v},[y("div",Qk,[X(rt(ms),{to:"/agreement/"+m.id,class:"text title",innerHTML:m.agreementName},null,8,["to","innerHTML"])]),y("div",ex,[y("span",tx,pe((C=m.agreementType)==null?void 0:C.split(" ").slice(0,-1).join(" ")),1)]),y("div",nx,[y("a",sx,pe(h(m.signeeCount)),1)]),y("div",rx,[m.toReview?(F(),Ne(rt(ms),{key:0,to:"/agreement/"+m.id,class:"review-status-badge status-pending"},{default:Ye(()=>[xe(pe(m.toReview)+" signee",1)]),_:2},1032,["to"])):(F(),U("span",ix,"none"))]),X(Jk,{agreement:m,onDelete:x=>u(m)},null,8,["agreement","onDelete"])])}),128))])])):(F(),U("h2",ox,"No agreements created yet!"))}},ax={class:"section dashboard-section"},cx={class:"container"},ux={__name:"DashboardView",setup(n){const t=fe("");return(s,r)=>{const i=vs("gradientbg");return ve((F(),U("section",ax,[y("div",cx,[X(ak),X(pk,{onSearch:r[0]||(r[0]=o=>t.value=o)}),X(lx,{searchText:t.value},null,8,["searchText"])])])),[[i]])}}},dx={props:{accept:{type:String,default:".txt, .pdf"},label:{type:String,default:"Upload Text or PDF file"},maxSize:{type:Number,default:100*1024*1024}},mounted(){const n=this.$refs.dropZone,t=this.$refs.input,s=this.$refs.fileLabel,r=s.innerText;n.addEventListener("dragover",o=>{o.preventDefault()}),n.addEventListener("dragleave",o=>{o.preventDefault()}),n.addEventListener("drop",o=>{o.preventDefault(),n.classList.remove("active");const l=o.dataTransfer.files[0];i(l)}),t.addEventListener("change",o=>{const l=o.target.files[0];i(l)});const i=o=>{if(!o){s.innerHTML=r,this.$emit("fileSelected",null);return}if(o.size>this.maxSize){alert("File size is too large"),this.$emit("fileSelected",null);return}s.innerHTML=`<small>${o.name}</small>`,this.$emit("fileSelected",o)}}},hx={class:"file-upload"},fx={class:"file-drop-zone",ref:"dropZone"},px=["accept"];function mx(n,t,s,r,i,o){return F(),U("div",hx,[y("label",fx,[t[0]||(t[0]=y("svg",{class:"mb-0-5",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M18.4375 12.7156V18.153C18.4375 18.5843 18.087 18.9353 17.6562 18.9353H2.34375C1.91297 18.9353 1.5625 18.5843 1.5625 18.153V12.7156H0V18.153C0 19.4471 1.05141 20.5 2.34375 20.5H17.6562C18.9486 20.5 20 19.4471 20 18.153V12.7156H18.4375Z",fill:"#0A2540"}),y("path",{d:"M10 0.5L5.14516 5.36167L6.25 6.46807L9.21875 3.49514V15.6887H10.7813V3.49514L13.75 6.46807L14.8548 5.36167L10 0.5Z",fill:"#0A2540"})],-1)),y("span",{class:"file-label",ref:"fileLabel"},pe(s.label),513),y("input",{ref:"input",type:"file",name:"customFile",id:"customFile",accept:s.accept,class:"d-none"},null,8,px)],512)])}const on=Ah(dx,[["render",mx]]);/*!
 * Signature Pad v5.0.4 | https://github.com/szimek/signature_pad
 * (c) 2024 Szymon Nowak | Released under the MIT license
 */class Ua{constructor(t,s,r,i){if(isNaN(t)||isNaN(s))throw new Error(`Point is invalid: (${t}, ${s})`);this.x=+t,this.y=+s,this.pressure=r||0,this.time=i||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.pressure===t.pressure&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class Jh{static fromPoints(t,s){const r=this.calculateControlPoints(t[0],t[1],t[2]).c2,i=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new Jh(t[1],r,i,t[2],s.start,s.end)}static calculateControlPoints(t,s,r){const i=t.x-s.x,o=t.y-s.y,l=s.x-r.x,a=s.y-r.y,c={x:(t.x+s.x)/2,y:(t.y+s.y)/2},u={x:(s.x+r.x)/2,y:(s.y+r.y)/2},h=Math.sqrt(i*i+o*o),f=Math.sqrt(l*l+a*a),p=c.x-u.x,m=c.y-u.y,v=h+f==0?0:f/(h+f),C={x:u.x+p*v,y:u.y+m*v},x=s.x-C.x,_=s.y-C.y;return{c1:new Ua(c.x+x,c.y+_),c2:new Ua(u.x+x,u.y+_)}}constructor(t,s,r,i,o,l){this.startPoint=t,this.control2=s,this.control1=r,this.endPoint=i,this.startWidth=o,this.endWidth=l}length(){let s=0,r,i;for(let o=0;o<=10;o+=1){const l=o/10,a=this.point(l,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),c=this.point(l,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(o>0){const u=a-r,h=c-i;s+=Math.sqrt(u*u+h*h)}r=a,i=c}return s}point(t,s,r,i,o){return s*(1-t)*(1-t)*(1-t)+3*r*(1-t)*(1-t)*t+3*i*(1-t)*t*t+o*t*t*t}}class gx{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(t,s,r){this._et.addEventListener(t,s,r)}dispatchEvent(t){return this._et.dispatchEvent(t)}removeEventListener(t,s,r){this._et.removeEventListener(t,s,r)}}function yx(n,t=250){let s=0,r=null,i,o,l;const a=()=>{s=Date.now(),r=null,i=n.apply(o,l),r||(o=null,l=[])};return function(...u){const h=Date.now(),f=t-(h-s);return o=this,l=u,f<=0||f>t?(r&&(clearTimeout(r),r=null),s=h,i=n.apply(o,l),r||(o=null,l=[])):r||(r=window.setTimeout(a,f)),i}}class ja extends gx{constructor(t,s={}){var r,i,o;super(),this.canvas=t,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=l=>{!this._isLeftButtonPressed(l,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(l))},this._handleMouseMove=l=>{if(!this._isLeftButtonPressed(l,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(l),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(l))},this._handleMouseUp=l=>{this._isLeftButtonPressed(l)||this._strokeEnd(this._pointerEventToSignatureEvent(l))},this._handleTouchStart=l=>{l.targetTouches.length!==1||this._drawingStroke||(l.cancelable&&l.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(l)))},this._handleTouchMove=l=>{if(l.targetTouches.length===1){if(l.cancelable&&l.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(l),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(l))}},this._handleTouchEnd=l=>{l.targetTouches.length===0&&(l.cancelable&&l.preventDefault(),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this._strokeEnd(this._touchEventToSignatureEvent(l)))},this._handlePointerDown=l=>{!l.isPrimary||!this._isLeftButtonPressed(l)||this._drawingStroke||(l.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(l)))},this._handlePointerMove=l=>{if(l.isPrimary){if(!this._isLeftButtonPressed(l,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(l),!1);return}l.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(l))}},this._handlePointerUp=l=>{!l.isPrimary||this._isLeftButtonPressed(l)||(l.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(l)))},this.velocityFilterWeight=s.velocityFilterWeight||.7,this.minWidth=s.minWidth||.5,this.maxWidth=s.maxWidth||2.5,this.throttle=(r=s.throttle)!==null&&r!==void 0?r:16,this.minDistance=(i=s.minDistance)!==null&&i!==void 0?i:5,this.dotSize=s.dotSize||0,this.penColor=s.penColor||"black",this.backgroundColor=s.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=s.compositeOperation||"source-over",this.canvasContextOptions=(o=s.canvasContextOptions)!==null&&o!==void 0?o:{},this._strokeMoveUpdate=this.throttle?yx(ja.prototype._strokeUpdate,this.throttle):ja.prototype._strokeUpdate,this._ctx=t.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:t,canvas:s}=this;t.fillStyle=this.backgroundColor,t.clearRect(0,0,s.width,s.height),t.fillRect(0,0,s.width,s.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(t,s={}){return new Promise((r,i)=>{const o=new Image,l=s.ratio||window.devicePixelRatio||1,a=s.width||this.canvas.width/l,c=s.height||this.canvas.height/l,u=s.xOffset||0,h=s.yOffset||0;this._reset(this._getPointGroupOptions()),o.onload=()=>{this._ctx.drawImage(o,u,h,a,c),r()},o.onerror=f=>{i(f)},o.crossOrigin="anonymous",o.src=t,this._isEmpty=!1})}toDataURL(t="image/png",s){switch(t){case"image/svg+xml":return typeof s!="object"&&(s=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(s))}`;default:return typeof s!="number"&&(s=void 0),this.canvas.toDataURL(t,s)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const t=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!t?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){var t;const s=window.document===this.canvas.ownerDocument?window:(t=this.canvas.ownerDocument.defaultView)!==null&&t!==void 0?t:this.canvas.ownerDocument;return{addEventListener:s.addEventListener.bind(s),removeEventListener:s.removeEventListener.bind(s)}}_removeMoveUpEventListeners(){const{removeEventListener:t}=this._getListenerFunctions();t("pointermove",this._handlePointerMove),t("pointerup",this._handlePointerUp),t("mousemove",this._handleMouseMove),t("mouseup",this._handleMouseUp),t("touchmove",this._handleTouchMove),t("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t,{clear:s=!0}={}){s&&this.clear(),this._fromData(t,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(t)}toData(){return this._data}_isLeftButtonPressed(t,s){return s?t.buttons===1:(t.buttons&1)===1}_pointerEventToSignatureEvent(t){return{event:t,type:t.type,x:t.clientX,y:t.clientY,pressure:"pressure"in t?t.pressure:0}}_touchEventToSignatureEvent(t){const s=t.changedTouches[0];return{event:t,type:t.type,x:s.clientX,y:s.clientY,pressure:s.force}}_getPointGroupOptions(t){return{penColor:t&&"penColor"in t?t.penColor:this.penColor,dotSize:t&&"dotSize"in t?t.dotSize:this.dotSize,minWidth:t&&"minWidth"in t?t.minWidth:this.minWidth,maxWidth:t&&"maxWidth"in t?t.maxWidth:this.maxWidth,velocityFilterWeight:t&&"velocityFilterWeight"in t?t.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:t&&"compositeOperation"in t?t.compositeOperation:this.compositeOperation}}_strokeBegin(t){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:t,cancelable:!0})))return;const{addEventListener:r}=this._getListenerFunctions();switch(t.event.type){case"mousedown":r("mousemove",this._handleMouseMove),r("mouseup",this._handleMouseUp);break;case"touchstart":r("touchmove",this._handleTouchMove),r("touchend",this._handleTouchEnd);break;case"pointerdown":r("pointermove",this._handlePointerMove),r("pointerup",this._handlePointerUp);break}this._drawingStroke=!0;const i=this._getPointGroupOptions(),o=Object.assign(Object.assign({},i),{points:[]});this._data.push(o),this._reset(i),this._strokeUpdate(t)}_strokeUpdate(t){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(t);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:t}));const s=this._createPoint(t.x,t.y,t.pressure),r=this._data[this._data.length-1],i=r.points,o=i.length>0&&i[i.length-1],l=o?s.distanceTo(o)<=this.minDistance:!1,a=this._getPointGroupOptions(r);if(!o||!(o&&l)){const c=this._addPoint(s,a);o?c&&this._drawCurve(c,a):this._drawDot(s,a),i.push({time:s.time,x:s.x,y:s.y,pressure:s.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:t}))}_strokeEnd(t,s=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(s&&this._strokeUpdate(t),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:t})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart)}_reset(t){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(t.minWidth+t.maxWidth)/2,this._ctx.fillStyle=t.penColor,this._ctx.globalCompositeOperation=t.compositeOperation}_createPoint(t,s,r){const i=this.canvas.getBoundingClientRect();return new Ua(t-i.left,s-i.top,r,new Date().getTime())}_addPoint(t,s){const{_lastPoints:r}=this;if(r.push(t),r.length>2){r.length===3&&r.unshift(r[0]);const i=this._calculateCurveWidths(r[1],r[2],s),o=Jh.fromPoints(r,i);return r.shift(),o}return null}_calculateCurveWidths(t,s,r){const i=r.velocityFilterWeight*s.velocityFrom(t)+(1-r.velocityFilterWeight)*this._lastVelocity,o=this._strokeWidth(i,r),l={end:o,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=o,l}_strokeWidth(t,s){return Math.max(s.maxWidth/(t+1),s.minWidth)}_drawCurveSegment(t,s,r){const i=this._ctx;i.moveTo(t,s),i.arc(t,s,r,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(t,s){const r=this._ctx,i=t.endWidth-t.startWidth,o=Math.ceil(t.length())*2;r.beginPath(),r.fillStyle=s.penColor;for(let l=0;l<o;l+=1){const a=l/o,c=a*a,u=c*a,h=1-a,f=h*h,p=f*h;let m=p*t.startPoint.x;m+=3*f*a*t.control1.x,m+=3*h*c*t.control2.x,m+=u*t.endPoint.x;let v=p*t.startPoint.y;v+=3*f*a*t.control1.y,v+=3*h*c*t.control2.y,v+=u*t.endPoint.y;const C=Math.min(t.startWidth+u*i,s.maxWidth);this._drawCurveSegment(m,v,C)}r.closePath(),r.fill()}_drawDot(t,s){const r=this._ctx,i=s.dotSize>0?s.dotSize:(s.minWidth+s.maxWidth)/2;r.beginPath(),this._drawCurveSegment(t.x,t.y,i),r.closePath(),r.fillStyle=s.penColor,r.fill()}_fromData(t,s,r){for(const i of t){const{points:o}=i,l=this._getPointGroupOptions(i);if(o.length>1)for(let a=0;a<o.length;a+=1){const c=o[a],u=new Ua(c.x,c.y,c.pressure,c.time);a===0&&this._reset(l);const h=this._addPoint(u,l);h&&s(h,l)}else this._reset(l),r(o[0],l)}}toSVG({includeBackgroundColor:t=!1}={}){const s=this._data,r=Math.max(window.devicePixelRatio||1,1),i=0,o=0,l=this.canvas.width/r,a=this.canvas.height/r,c=document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.setAttribute("xmlns","http://www.w3.org/2000/svg"),c.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),c.setAttribute("viewBox",`${i} ${o} ${l} ${a}`),c.setAttribute("width",l.toString()),c.setAttribute("height",a.toString()),t&&this.backgroundColor){const u=document.createElement("rect");u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("fill",this.backgroundColor),c.appendChild(u)}return this._fromData(s,(u,{penColor:h})=>{const f=document.createElement("path");if(!isNaN(u.control1.x)&&!isNaN(u.control1.y)&&!isNaN(u.control2.x)&&!isNaN(u.control2.y)){const p=`M ${u.startPoint.x.toFixed(3)},${u.startPoint.y.toFixed(3)} C ${u.control1.x.toFixed(3)},${u.control1.y.toFixed(3)} ${u.control2.x.toFixed(3)},${u.control2.y.toFixed(3)} ${u.endPoint.x.toFixed(3)},${u.endPoint.y.toFixed(3)}`;f.setAttribute("d",p),f.setAttribute("stroke-width",(u.endWidth*2.25).toFixed(3)),f.setAttribute("stroke",h),f.setAttribute("fill","none"),f.setAttribute("stroke-linecap","round"),c.appendChild(f)}},(u,{penColor:h,dotSize:f,minWidth:p,maxWidth:m})=>{const v=document.createElement("circle"),C=f>0?f:(p+m)/2;v.setAttribute("r",C.toString()),v.setAttribute("cx",u.x.toString()),v.setAttribute("cy",u.y.toString()),v.setAttribute("fill",h),c.appendChild(v)}),c.outerHTML}}const vx={class:"agreement-sign-form"},Cx={class:"col"},wx={class:"signature-pad-container"},bx=["width"],kx={class:"col"},E3={__name:"SignForm",emits:["sign"],setup(n,{emit:t}){const s=fe(null),r=window.innerWidth>500?350:300,i=t;let o=!1;Rn(()=>{const c=document.getElementById("signature-pad");s.value=new ja(c),c.addEventListener("mouseleave",u=>{var h;(h=s.value)!=null&&h.isEmpty()&&!o?i("sign",""):c.toBlob(f=>{i("sign",f)})})});const l=()=>{var c;(c=s.value)==null||c.clear(),o||i("sign","")};async function a(c){if(o=!!c,!c){(!s.value||s.value.isEmpty())&&i("sign","");return}try{l();const{blob:u}=await Gh(c,1e3,1e3);i("sign",u)}catch{alert("Error resizing image")}}return(c,u)=>(F(),U("div",vx,[y("div",Cx,[u[0]||(u[0]=y("p",{class:"label"},"Sign here",-1)),y("div",wx,[y("canvas",{id:"signature-pad",width:rt(r),height:"180"},null,8,bx),y("span",{onClick:l,class:"clear-btn"},"clear")])]),u[2]||(u[2]=y("div",{class:"or-indicator my-1-5"},[y("div",{class:"hr"}),y("span",{class:"text"},"or"),y("div",{class:"hr"})],-1)),y("div",kx,[u[1]||(u[1]=y("p",{class:"label"},"Upload signature",-1)),X(on,{accept:"image/*",label:"Choose file",maxSize:1024*1024,onFileSelected:a})])]))}},xx={key:0,class:"text-center"},_x=["innerHTML"],Sx={key:2},Tx={class:"pdf-iframe-container"},Ex=["src"],Zh={__name:"RenderAgeement",props:{agreement:{type:Object,required:!0}},setup(n){const t=n,s=fe(!0),r=fe(""),i=fe(null),o=fe("");return Rn(async()=>{const l=t.agreement.fileUrl;i.value=t.agreement.fileType;const a=new URL(l);if(r.value=a.href,i.value==="txt"){fetch(r.value).then(c=>c.text(),{mode:"cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"text/plain"},method:"GET"}).then(c=>{o.value=c,s.value=!1});return}s.value=!1}),(l,a)=>s.value?(F(),U("div",xx,[X(ks,{size:100})])):i.value==="txt"?(F(),U("div",{key:1,class:"ageement-html-render",innerHTML:o.value.replaceAll("section-title","text-bold")},null,8,_x)):i.value==="pdf"?(F(),U("div",Sx,[y("div",Tx,[X(ks,{size:100}),y("iframe",{src:r.value,width:"100%",style:{"aspect-ratio":"9/16",height:"100%","max-width":"1100px"},frameborder:"0"},null,8,Ex)])])):le("",!0)}},Mx={class:"section",style:{padding:"24px"}},Ax={key:0,class:"view-ageement-form view-ageement-form-preview"},Ix={key:0,class:"branding-section"},Ox=["src"],Lx={class:"company-name"},Px={class:"creator-email"},Nx={class:"agreement-signee-description"},Dx={style:{"font-size":"32px",display:"inline-flex","align-items":"center",gap:"12px","flex-wrap":"wrap"}},Rx={class:"ageement-type-badge"},$x={class:"mt-2"},Fx=["innerHTML"],Bx={key:1},Vx={style:{width:"100%","max-width":"500px"},viewBox:"0 0 1024 1024",class:"icon",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Hx={key:2},Ux={key:1,class:"label mt-3",style:{"font-weight":"600"}},jx={key:2,class:"required-documents-form"},M3={__name:"AgreementPreview",props:["agreementModel"],setup(n){const t=sn(),s=he(()=>t.userProfile||null);return(r,i)=>(F(),U("section",Mx,[n.agreementModel?(F(),U("div",Ax,[s.value?(F(),U("div",Ix,[s.value.organizationLogo||s.value.profilePicture?(F(),U("img",{key:0,src:s.value.organizationLogo||s.value.profilePicture,class:"logo",alt:""},null,8,Ox)):le("",!0),y("div",null,[y("p",Lx,pe(s.value.organizationName||s.value.fullName||""),1),y("p",Px,pe(s.value.email),1)])])):le("",!0),y("div",Nx,[y("h3",Dx,[xe(pe(n.agreementModel.agreementName)+" ",1),y("span",Rx,pe(n.agreementModel.agreementType.replaceAll("-"," ")),1)])]),y("div",$x,[n.agreementModel.agreementText&&n.agreementModel.agreementText.trim()&&n.agreementModel.agreementText.trim()!=="<p></p>"?(F(),U("div",{key:0,class:"ageement-html-render",innerHTML:n.agreementModel.agreementText.replaceAll("section-title","text-bold")},null,8,Fx)):n.agreementModel.agreementFile?(F(),U("div",Bx,[(F(),U("svg",Vx,i[0]||(i[0]=[tt('<path d="M719.8 651.8m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#E73B37"></path><path d="M512.1 64H172v896h680V385.6L512.1 64z m278.8 324.3h-280v-265l280 265zM808 916H216V108h278.6l0.2 0.2v296.2h312.9l0.2 0.2V916z" fill="#39393A"></path><path d="M280.5 530h325.9v16H280.5z" fill="#39393A"></path><path d="M639.5 530h90.2v16h-90.2z" fill="#E73B37"></path><path d="M403.5 641.8h277v16h-277z" fill="#39393A"></path><path d="M280.6 641.8h91.2v16h-91.2z" fill="#E73B37"></path><path d="M279.9 753.7h326.5v16H279.9z" fill="#39393A"></path><path d="M655.8 753.7h73.9v16h-73.9z" fill="#E73B37"></path>',8)])))])):n.agreementModel.fileUrl?(F(),U("div",Hx,[X(Zh,{agreement:n.agreementModel},null,8,["agreement"])])):le("",!0)]),n.agreementModel.requiredDocuments.length?(F(),U("p",Ux,"Required documents")):le("",!0),n.agreementModel.requiredDocuments.length?(F(),U("div",jx,[n.agreementModel.requiredDocuments.includes("photo")?(F(),Ne(on,{key:0,accept:"image/*",label:"Your Photo",maxSize:10*1024*1024})):le("",!0),n.agreementModel.requiredDocuments.includes("id-card")?(F(),Ne(on,{key:1,accept:"image/*,application/pdf",label:"Your ID",maxSize:10*1024*1024})):le("",!0),n.agreementModel.requiredDocuments.includes("passport")?(F(),Ne(on,{key:2,accept:"image/*,application/pdf",label:"Passport",maxSize:10*1024*1024})):le("",!0),n.agreementModel.requiredDocuments.includes("drivers-license")?(F(),Ne(on,{key:3,accept:"image/*,application/pdf",label:"Driver's License",maxSize:10*1024*1024})):le("",!0),n.agreementModel.requiredDocuments.includes("custom")?(F(),Ne(on,{key:4,accept:"*",label:n.agreementModel.customDocumentName||"Upload file",maxSize:100*1024*1024},null,8,["label"])):le("",!0)])):le("",!0),X(E3,{style:{"margin-top":"36px"}}),i[1]||(i[1]=y("p",{class:"submit-agreement-text text-center"},[xe(" By clicking submit, you agree to the terms & conditions of the agreement as well as our "),y("a",{href:"https://my-agreemeents.com/terms-and-conditions.html",target:"_blank"},"terms & conditions"),xe(". ")],-1)),i[2]||(i[2]=y("div",{class:"flex-default",style:{"justify-content":"center"}},[y("button",{class:"btn btn-block mt-1-5"},"Submit")],-1))])):le("",!0)]))}},zx={class:"dashboard-nav",style:{"margin-top":"36px !important"}},qx={class:"data",style:{width:"100%"}},Wx={class:"title mt-0-5",style:{display:"inline-flex","align-items":"center",gap:"12px","flex-wrap":"wrap"}},Kx={class:"ageement-type-badge"},Gx={class:"actions-nav mt-1"},Jx={class:"search-inputs",style:{"margin-top":"52px","justify-content":"space-between",width:"100%"}},Zx={class:"input-group"},Yx={class:"input-group with-icon search-input"},Xx={class:"modal-content"},Qx={class:"modal-header"},e_={__name:"Nav",props:{agreement:Object},emits:["delete","search"],setup(n,{emit:t}){const s=t,r=fe(!1),i=fe("");return ps(i,()=>{s("search",i.value.trim())}),(o,l)=>{const a=fr("RouterLink");return F(),U(Pe,null,[y("div",zx,[y("div",qx,[X(a,{to:"/",class:"back-link",style:{display:"flex"}},{default:Ye(()=>l[5]||(l[5]=[y("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z",fill:"#000000"})],-1),y("span",null,"Dashboard",-1)])),_:1}),y("h3",Wx,[xe(pe(n.agreement.agreementName)+" ",1),y("span",Kx,pe(n.agreement.agreementType),1)]),y("div",Gx,[X(T3,{agreement:n.agreement},null,8,["agreement"]),y("button",{class:"btn btn-sm action-preview",onClick:l[0]||(l[0]=c=>r.value=!0)},l[6]||(l[6]=[y("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M7.50008 3.71636C8.25969 3.47474 9.09208 3.33334 10.0001 3.33334C13.485 3.33334 15.8567 5.41631 17.271 7.25362C17.9792 8.17379 18.3334 8.63384 18.3334 10C18.3334 11.3662 17.9792 11.8263 17.271 12.7464C15.8567 14.5837 13.485 16.6667 10.0001 16.6667C6.51517 16.6667 4.14338 14.5837 2.72916 12.7464C2.02088 11.8263 1.66675 11.3662 1.66675 10C1.66675 8.63384 2.02088 8.17379 2.72916 7.25362C3.13018 6.73263 3.60819 6.19189 4.16675 5.68449",stroke:"white","stroke-width":"1.25","stroke-linecap":"round"}),y("path",{d:"M12.5 10C12.5 11.3807 11.3807 12.5 10 12.5C8.61925 12.5 7.5 11.3807 7.5 10C7.5 8.61925 8.61925 7.5 10 7.5C11.3807 7.5 12.5 8.61925 12.5 10Z",stroke:"white","stroke-width":"1.25"})],-1),y("span",null,"Preview",-1)])),X(Pr,{message:"You are about to permanently delete this agreement. This action cannot be undone. Are you sure you want to proceed?",onConfirm:l[1]||(l[1]=c=>s("delete"))},{btn:Ye(()=>l[7]||(l[7]=[y("button",{class:"btn btn-sm action-delete"},[y("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M8.33325 10V14.1667",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M11.6667 10V14.1667",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M3.33325 5.83334H16.6666",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M5 8.33334V15C5 16.3808 6.11929 17.5 7.5 17.5H12.5C13.8807 17.5 15 16.3808 15 15V8.33334",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M7.5 4.16667C7.5 3.24619 8.24619 2.5 9.16667 2.5H10.8333C11.7538 2.5 12.5 3.24619 12.5 4.16667V5.83333H7.5V4.16667Z",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"})]),y("span",null,"Delete")],-1)])),_:1})]),y("div",Jx,[y("div",Zx,[y("div",Yx,[l[8]||(l[8]=y("svg",{class:"icon",width:"18px",height:"18px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z",stroke:"#425466","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ve(y("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>i.value=c),type:"text",class:"input",placeholder:"Search signee"},null,512),[[je,i.value]])])])])])]),r.value?(F(),U("div",{key:0,class:"modal-wrapper",onClick:l[4]||(l[4]=c=>r.value=!1)},[y("div",Xx,[y("div",Qx,[l[10]||(l[10]=y("h4",{class:"modal-title mb-1"},"Agreement preview",-1)),(F(),U("svg",{onClick:l[3]||(l[3]=c=>r.value=!1),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l[9]||(l[9]=[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),X(M3,{agreementModel:n.agreement},null,8,["agreementModel"])])])):le("",!0)],64)}}},Iu=Dt.useToast(),vo=fe(!1),A3=Ec("signees",()=>{const n=fe({});function t(o,l){n.value[o]=l}async function s(o){if(o in n.value)return n.value[o];vo.value=!0;try{const{success:l,content:a,message:c}=await Ob(o);return l?(t(o,a),vo.value=!1,a):(vo.value=!1,Iu.error(c||"Failed to get signees"))}catch(l){return console.error(l),Iu.error(l.message||"Failed to get signees"),vo.value=!1,[]}}function r(o,l){if(!(o in n.value))return Iu.error("Signees not loaded");n.value[o]=n.value[o].filter(a=>a.id!==l)}function i(o,l,a){o in n.value&&(n.value[o]=n.value[o].map(c=>(c.id===l&&(c.approved=!0,c.status=a),c)))}return{signees:n,setSignees:t,getSignees:s,removeSignee:r,loading:vo,approveSignee:i}}),t_={key:1,class:"review-status-badge"},n_={__name:"SigneeReviewBtn",props:{approved:Boolean},emits:["btnclick"],setup(n,{emit:t}){const s=t;return(r,i)=>n.approved?(F(),U("span",t_,"approved")):(F(),U("span",{key:0,class:"cursor-pointer review-status-badge status-pending hint--top","aria-label":"Click to review signee",onClick:i[0]||(i[0]=o=>s("btnclick"))}," pending "))}},s_={class:"signature-document-item"},r_=["src"],i_={class:"nav"},o_={class:"doc-name"},l_=["href"],Gp={__name:"DocumentPreview",props:{title:String,document:String},setup(n){const s=n.document.split(".").pop(),r=["jpg","jpeg","png","gif","svg","webp"].includes(s);return(i,o)=>(F(),U("div",s_,[rt(r)?(F(),U("img",{key:0,src:n.document,alt:"document"},null,8,r_)):le("",!0),y("div",i_,[y("p",o_,pe(n.title.replaceAll("-"," ")),1),y("a",{href:n.document,target:"_blank",download:""},o[0]||(o[0]=[y("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M12 3V16M12 16L16 11.625M12 16L8 11.625",stroke:"#000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M15 21H9C6.17157 21 4.75736 21 3.87868 20.1213C3 19.2426 3 17.8284 3 15M21 15C21 17.8284 21 19.2426 20.1213 20.1213C19.8215 20.4211 19.4594 20.6186 19 20.7487",stroke:"#000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,l_)])]))}},a_={class:"input-group mt-1-5",style:{display:"flex","align-items":"center",gap:"8px","flex-wrap":"wrap"}},c_={class:"toggle"},u_={class:"input-group mt-1-5"},d_={class:"sublabel selected-agreement-type-info"},h_={key:0},f_={class:"agreement-review-actions mt-1"},p_={key:0,class:"modal-wrapper"},m_={class:"modal-content"},g_={class:"input-group mb-1-5"},y_={class:"modal-footer",style:{"justify-content":"center"}},v_={__name:"SigneeReviewActions",props:{signeeId:String,agreementId:String,hasStartDate:Boolean},emits:["reject"],setup(n,{emit:t}){const s=n,r=t,o=dn().setGlobalLoading,l=A3(),a=Dt.useToast(),c=fe(!0);async function u(){o(!0);try{const{success:p,message:m,content:v}=await Nb(s.agreementId,s.signeeId,c.value);p?(l.approveSignee(s.agreementId,s.signeeId,v.status),a.success("Signee approved successfully")):a.error(m||"An error occurred")}catch(p){a.error(p.message||"An error occurred")}o(!1)}const h=fe(!1),f=fe("");return(p,m)=>(F(),U(Pe,null,[y("div",a_,[m[6]||(m[6]=y("label",{class:"label",style:{"max-block-size":"0"}},"Start agreement immediately: ",-1)),y("label",c_,[ve(y("input",{"onUpdate:modelValue":m[0]||(m[0]=v=>c.value=v),id:"agreement-immediate-start-toggle",class:"toggle-checkbox",type:"checkbox"},null,512),[[Hn,c.value]]),m[5]||(m[5]=y("div",{class:"toggle-switch"},null,-1))])]),y("div",u_,[y("p",d_,[m[7]||(m[7]=xe(" If enabled the agreement will be marked as started immediately after appraoval. ")),m[8]||(m[8]=y("br",null,null,-1)),xe(" "+pe(n.hasStartDate?"Otherwise the agreement will be marked as started on start date.":"")+" ",1),n.hasStartDate?(F(),U("br",h_)):le("",!0),m[9]||(m[9]=xe(" Or you can manually start the agreement later from the agreements table. "))])]),y("div",f_,[X(Pr,{friendly:!0,title:"Approve Signee?",message:"Make sure all the details are correct before approving the signee.",onConfirm:u},{btn:Ye(()=>m[10]||(m[10]=[y("button",{class:"btn"},"Approve Signee",-1)])),_:1}),y("span",null,[y("button",{class:"btn btn-danger",onClick:m[1]||(m[1]=v=>h.value=!0)},"Reject Signee")])]),h.value?(F(),U("div",p_,[y("div",m_,[m[11]||(m[11]=tt('<p class="text-center mb-0-5"><svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="120" height="120" rx="60" fill="#FFE2E3"></rect><path d="M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z" stroke="#FF4D4F" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z" stroke="#FF4D4F" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z" fill="#FE5C72" stroke="#FF4D4F" stroke-width="0.15625"></path></svg></p><p class="modal-title text-center mb-1" style="font-size:32px;">Reject Signee?</p>',2)),y("div",g_,[ve(y("textarea",{"onUpdate:modelValue":m[2]||(m[2]=v=>f.value=v),maxlength:"1000",placeholder:"Rejection reason",class:"input"},null,512),[[je,f.value]])]),y("div",y_,[y("button",{onClick:m[3]||(m[3]=v=>h.value=!1),class:"btn btn-outline"},"Cancel"),y("button",{onClick:m[4]||(m[4]=v=>r("reject",f.value.trim())),class:"btn btn-danger"},"Confirm")])])])):le("",!0)],64))}},C_={class:"modal-wrapper",style:{"--modal-max-width":"500px"}},w_={key:0,class:"modal-content text-center"},b_={key:1,class:"modal-content"},k_={class:"modal-header"},x_={class:"view-ageement-form"},__={key:0,class:"branding-section"},S_=["src"],T_={class:"company-name"},E_={class:"creator-email"},M_={key:0,class:"agreement-dates"},A_={class:"agreement-signee-description"},I_={style:{"font-size":"32px",display:"inline-flex","align-items":"center",gap:"12px","flex-wrap":"wrap"}},O_={class:"ageement-type-badge"},L_={style:{display:"flex","flex-wrap":"wrap",gap:"24px"}},P_={class:"text"},N_={key:0},D_={class:"title"},R_={class:"text"},$_={style:{"font-weight":"600"}},F_={class:"mt-2"},B_={key:1,class:"label mt-3",style:{"font-weight":"600"}},V_={key:2,class:"signature-documents"},H_={class:"mt-1"},U_={key:3,class:"btn btn-teal success btn-block mt-1-5 disabled",style:{opacity:".6",cursor:"not-allowed","border-radius":"4px"}},j_={__name:"SigneeReviewModal",props:{signee:Object,agreementId:String},emits:["close","reject"],setup(n,{emit:t}){const s=n,r=t,i=sn(),o=he(()=>i.userProfile||null),l=Xi(),a=fe(!0),c=fe({});Rn(async()=>{c.value=await l.getAgreement(s.agreementId),a.value=!1});const u=he(()=>{var m,v,C,x;const f=(v=(m=s.signee)==null?void 0:m.startDate)==null?void 0:v._seconds,p=(x=(C=s.signee)==null?void 0:C.endDate)==null?void 0:x._seconds;if(!f||!p)return"";if(f&&p){const _=new Date(f*1e3),M=new Date(p*1e3);return`${_.toDateString().split(" ").slice(1,3).join(" ")} - ${M.toDateString().split(" ").slice(1,3).join(" ")} ${M.getFullYear()}`}if(f){const _=new Date(f*1e3);return`Starts on ${_.toDateString().split(" ").slice(1,3).join(" ")} ${_.getFullYear()}`}if(p){const _=new Date(p*1e3);return`Ends on ${_.toDateString().split(" ").slice(1,3).join(" ")} ${_.getFullYear()}`}return""}),h=he(()=>{switch(c.value.agreementType){case"hourly contract":return"Hourly rate";case"cost plus contract":return"Cost plus amount";default:return"Amount"}});return(f,p)=>(F(),U("div",C_,[a.value?(F(),U("div",w_,[X(ks,{size:100})])):(F(),U("div",b_,[y("div",k_,[p[3]||(p[3]=y("h4",{class:"modal-title mb-1"},"Agreement review",-1)),(F(),U("svg",{onClick:p[0]||(p[0]=m=>r("close")),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p[2]||(p[2]=[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),y("div",x_,[o.value?(F(),U("div",__,[o.value.organizationLogo||o.value.profilePicture?(F(),U("img",{key:0,src:o.value.organizationLogo||o.value.profilePicture,class:"logo",alt:""},null,8,S_)):le("",!0),y("div",null,[y("p",T_,pe(o.value.organizationName||o.value.fullName||""),1),y("p",E_,pe(o.value.email),1),u.value?(F(),U("div",M_,pe(u.value),1)):le("",!0)])])):le("",!0),y("div",A_,[y("h3",I_,[xe(pe(c.value.agreementName)+" ",1),y("span",O_,pe(c.value.agreementType.replaceAll("-"," ")),1)]),y("div",L_,[y("div",null,[p[4]||(p[4]=y("p",{class:"title"},"Signee",-1)),y("p",P_,pe(n.signee.signeeName||n.signee.signedBy),1)]),n.signee.amount?(F(),U("div",N_,[y("p",D_,pe(h.value),1),y("p",R_,[y("span",$_,pe(n.signee.amount),1),xe(" "+pe(c.value.agreementType==="hourly contract"?"/hr":""),1)])])):le("",!0)])]),y("div",F_,[X(Zh,{agreement:c.value},null,8,["agreement"])]),n.signee.documents?(F(),U("p",B_,"Signee documents")):le("",!0),n.signee.documents?(F(),U("div",V_,[(F(!0),U(Pe,null,bc(Object.keys(n.signee.documents),m=>(F(),Ne(Gp,{key:m.id,document:n.signee.documents[m],title:m},null,8,["document","title"]))),128))])):le("",!0),y("div",H_,[X(Gp,{document:n.signee.signature,title:"Signature"},null,8,["document"])]),n.signee.approved?(F(),U("button",U_,"Signee approved")):(F(),Ne(v_,{key:4,signeeId:s.signee.id,agreementId:s.agreementId,hasStartDate:!!s.signee.startDate,onReject:p[1]||(p[1]=m=>r("reject",m))},null,8,["signeeId","agreementId","hasStartDate"]))])]))]))}},z_={class:"tr"},q_=["innerHTML"],W_={class:"td"},K_={class:"td"},G_={class:"td"},J_={class:"text"},Z_={class:"td"},Y_={class:"text"},X_={class:"td actions",style:{"justify-content":"flex-end"}},Q_={__name:"SigneeItem",props:{signee:Object,agreementId:String},emits:["delete","reject","markstarted","markcomplete"],setup(n,{emit:t}){const s=t;function r(l){if(!l)return"-";const a=l._seconds,c=new Date(a*1e3);return`${c.toDateString().split(" ").slice(1,3).join(" ")} ${c.getFullYear()===new Date().getFullYear()?"":c.getFullYear()}`}const i=fe(!1);function o(l){console.log(`Reason: ${l}`),s("reject",l),i.value=!1}return(l,a)=>(F(),U(Pe,null,[y("div",z_,[y("div",{onClick:a[0]||(a[0]=c=>i.value=!0),class:"td hint--top","aria-label":"Click view signed agreement"},[y("span",{class:"cursor-pointer",style:{"font-weight":"500"},innerHTML:n.signee.signedBy},null,8,q_)]),y("div",W_,[X(n_,{approved:n.signee.approved,onBtnclick:a[1]||(a[1]=c=>i.value=!0)},null,8,["approved"])]),y("div",K_,[y("span",{class:Be("review-status-badge status-badge status-"+n.signee.status)},pe(n.signee.status),3)]),y("div",G_,[y("span",J_,pe(r(n.signee.startDate)),1)]),y("div",Z_,[y("span",Y_,pe(r(n.signee.endDate)),1)]),y("div",X_,[n.signee.status==="pending"?(F(),Ne(Pr,{key:0,friendly:!0,message:"Are you sure you want to start the agreement for this signee?",onConfirm:a[2]||(a[2]=c=>s("markstarted"))},{btn:Ye(()=>a[7]||(a[7]=[y("span",{class:"action mark-complete hint--top-left","aria-label":"Mark as started"},[y("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M12 8V13",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M12 22C7.17 22 3.25 18.08 3.25 13.25C3.25 8.42 7.17 4.5 12 4.5C16.83 4.5 20.75 8.42 20.75 13.25",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M9 2H15",stroke:"#292D32","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M14.9 18.5V17.34C14.9 15.91 15.92 15.32 17.16 16.04L18.16 16.62L19.16 17.2C20.4 17.92 20.4 19.09 19.16 19.81L18.16 20.39L17.16 20.97C15.92 21.69 14.9 21.1 14.9 19.67V18.5Z",stroke:"#292D32","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)])),_:1})):n.signee.status==="started"?(F(),Ne(Pr,{key:1,friendly:!0,message:"Are you sure you want complete the agreement for this signee?",onConfirm:a[3]||(a[3]=c=>s("markcomplete"))},{btn:Ye(()=>a[8]||(a[8]=[y("span",{class:"action mark-complete hint--top-left","aria-label":"Mark as compete"},[y("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M10.5 15.25C10.307 15.2353 10.1276 15.1455 9.99998 15L6.99998 12C6.93314 11.8601 6.91133 11.7029 6.93756 11.55C6.96379 11.3971 7.03676 11.2562 7.14643 11.1465C7.2561 11.0368 7.39707 10.9638 7.54993 10.9376C7.70279 10.9114 7.86003 10.9332 7.99998 11L10.47 13.47L19 5.00004C19.1399 4.9332 19.2972 4.91139 19.45 4.93762C19.6029 4.96385 19.7439 5.03682 19.8535 5.14649C19.9632 5.25616 20.0362 5.39713 20.0624 5.54999C20.0886 5.70286 20.0668 5.86009 20 6.00004L11 15C10.8724 15.1455 10.6929 15.2353 10.5 15.25Z",fill:"#000000"}),y("path",{d:"M12 21C10.3915 20.9974 8.813 20.5638 7.42891 19.7443C6.04481 18.9247 4.90566 17.7492 4.12999 16.34C3.54037 15.29 3.17596 14.1287 3.05999 12.93C2.87697 11.1721 3.2156 9.39921 4.03363 7.83249C4.85167 6.26578 6.1129 4.9746 7.65999 4.12003C8.71001 3.53041 9.87134 3.166 11.07 3.05003C12.2641 2.92157 13.4719 3.03725 14.62 3.39003C14.7224 3.4105 14.8195 3.45215 14.9049 3.51232C14.9903 3.57248 15.0622 3.64983 15.116 3.73941C15.1698 3.82898 15.2043 3.92881 15.2173 4.03249C15.2302 4.13616 15.2214 4.2414 15.1913 4.34146C15.1612 4.44152 15.1105 4.53419 15.0425 4.61352C14.9745 4.69286 14.8907 4.75712 14.7965 4.80217C14.7022 4.84723 14.5995 4.87209 14.4951 4.87516C14.3907 4.87824 14.2867 4.85946 14.19 4.82003C13.2186 4.52795 12.1987 4.43275 11.19 4.54003C10.193 4.64212 9.22694 4.94485 8.34999 5.43003C7.50512 5.89613 6.75813 6.52088 6.14999 7.27003C5.52385 8.03319 5.05628 8.91361 4.77467 9.85974C4.49307 10.8059 4.40308 11.7987 4.50999 12.78C4.61208 13.777 4.91482 14.7431 5.39999 15.62C5.86609 16.4649 6.49084 17.2119 7.23999 17.82C8.00315 18.4462 8.88357 18.9137 9.8297 19.1953C10.7758 19.4769 11.7686 19.5669 12.75 19.46C13.747 19.3579 14.713 19.0552 15.59 18.57C16.4349 18.1039 17.1818 17.4792 17.79 16.73C18.4161 15.9669 18.8837 15.0864 19.1653 14.1403C19.4469 13.1942 19.5369 12.2014 19.43 11.22C19.4201 11.1169 19.4307 11.0129 19.461 10.9139C19.4914 10.8149 19.5409 10.7228 19.6069 10.643C19.6728 10.5631 19.7538 10.497 19.8453 10.4485C19.9368 10.3999 20.0369 10.3699 20.14 10.36C20.2431 10.3502 20.3471 10.3607 20.4461 10.3911C20.5451 10.4214 20.6372 10.471 20.717 10.5369C20.7969 10.6028 20.863 10.6839 20.9115 10.7753C20.9601 10.8668 20.9901 10.9669 21 11.07C21.1821 12.829 20.842 14.6026 20.0221 16.1695C19.2022 17.7363 17.9389 19.0269 16.39 19.88C15.3288 20.4938 14.1495 20.8755 12.93 21C12.62 21 12.3 21 12 21Z",fill:"#000000"})])],-1)])),_:1})):le("",!0),X(Pr,{message:"Are you sure you want to remove this signee?<br>This action cannot be undone.",onConfirm:a[4]||(a[4]=c=>s("delete"))},{btn:Ye(()=>a[9]||(a[9]=[y("span",{class:"action delete hint--top-left","aria-label":"Remove signee"},[y("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M10 12V17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M14 12V17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M4 7H20",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),y("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)])),_:1})])]),i.value?(F(),Ne(j_,{key:0,signee:n.signee,agreementId:n.agreementId,onClose:a[5]||(a[5]=c=>i.value=!1),onReject:a[6]||(a[6]=c=>o(c))},null,8,["signee","agreementId"])):le("",!0)],64))}},eS={key:0,class:"text-center mt-2"},tS={key:1,class:"data-table-wrapper",style:{"margin-top":"36px","--table-columns":"1fr 120px 130px .7fr .7fr 125px","--table-columns-sm":"1fr 120px 130px .7fr .7fr 125px","--table-min-width":"1050px"}},nS={class:"data-table"},sS={key:2,class:"no-data-message",style:{"margin-top":"54px"}},rS={__name:"SigneesTable",props:{agreementId:String,search:String},setup(n){const t=A3(),r=dn().setGlobalLoading,i=Xi(),o=Dt.useToast(),l=n,a=he(()=>t.loading),c=he(()=>{const C=t.signees[l.agreementId]||[];return C.length?l.search?JSON.parse(JSON.stringify(C)).filter(_=>{const M=_.signedBy.toLowerCase(),E=(_.signeeName||"").toLowerCase(),N=l.search.toLowerCase();if(E.includes(N))return!0;if(M.includes(N)){const R=M.indexOf(N),B=_.signedBy.slice(0,R),A=_.signedBy.slice(R,R+N.length),k=_.signedBy.slice(R+N.length);return _.signedBy=`${B}<span class="highlight">${A}</span>${k}`,!0}return!1}):C:[]});Rn(async()=>{await t.getSignees(l.agreementId)});async function u(C,x){r(!0);const _=C.id,M=C.agreementId,E=i.agreements.find(N=>N.id===l.agreementId);try{const{success:N,message:R}=await x();N?(o.success("Signee removed successfully"),t.removeSignee(M,_),E&&(E.signeeCount&&(E.signeeCount=E.signeeCount-1),C.approved||E.toReview&&(E.toReview=E.toReview-1))):o.error(R||"Failed to delete agreement")}catch(N){o.error(N.message||"Failed to delete agreement"),console.error(N)}r(!1)}function h(C){u(C,async()=>await Lb(l.agreementId,C.id))}async function f(C,x){u(C,async()=>await Pb(l.agreementId,C.id,x))}async function p(C,x,_){r(!0);const M=C.id,E=C.agreementId,N=t.signees[E].find(R=>R.id===M);try{const{success:R,message:B}=await x();R?(o.success(`Agreement marked as ${_}`),N&&(N.status=_)):o.error(B||`Failed to mark agreement as ${_}`)}catch(R){o.error(R.message||`Failed to mark agreement as ${_}`)}r(!1)}async function m(C){p(C,async()=>await Wp(l.agreementId,C.id,"started"),"started")}async function v(C){p(C,async()=>await Wp(l.agreementId,C.id,"complete"),"complete")}return(C,x)=>a.value?(F(),U("div",eS,[X(ks,{size:100})])):c.value.length?(F(),U("div",tS,[y("div",nS,[x[0]||(x[0]=tt(`<div class="tr th"><div class="td"><span class="text">Email</span><span class="hint--top" aria-label="Email addreess of signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Review</span><span class="hint--top" aria-label="Your review of the signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Status</span><span class="hint--top" aria-label="Weather the agreement is pending, srated or completed"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Start Date</span><span class="hint--top" aria-label="Agreement start date for the signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">End Date</span><span class="hint--top" aria-label="Agreement end date for the signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td" style="justify-content:flex-end;"><span class="text">Action</span><span class="hint--top-left" aria-label="Copy link or remove signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div></div>`,1)),(F(!0),U(Pe,null,bc(c.value,(_,M)=>(F(),Ne(Q_,{key:M,signee:_,agreementId:n.agreementId,onDelete:E=>h(_),onReject:E=>f(_,E),onMarkstarted:E=>m(_),onMarkcomplete:E=>v(_)},null,8,["signee","agreementId","onDelete","onReject","onMarkstarted","onMarkcomplete"]))),128))])])):(F(),U("h2",sS,"No signees found"))}},iS={key:0,class:"text-center mt-2"},oS={key:1,class:"section dashboard-section"},lS={class:"container"},aS={__name:"AgreementView",setup(n){const t=Xi(),s=Mh(),i=fy().params.id,o=he(()=>t.loading),l=fe({}),a=Dt.useToast(),u=dn().setGlobalLoading;Rn(async()=>{const p=await t.getAgreement(i);l.value=p});const h=fe(""),f=async()=>{u(!0);try{const{success:p,message:m}=await k3(i);p?(a.success("Agreement deleted successfully"),await t.deleteAgreement(i),s.push("/")):a.error(m||"Failed to delete agreement")}catch(p){a.error(p.message||"Failed to delete agreement")}u(!1)};return(p,m)=>{const v=vs("gradientbg");return o.value?(F(),U("div",iS,[X(ks,{size:100})])):ve((F(),U("section",oS,[y("div",lS,[X(e_,{agreement:l.value,onDelete:f,onSearch:m[0]||(m[0]=C=>h.value=C)},null,8,["agreement"]),X(rS,{agreementId:rt(i),search:h.value},null,8,["agreementId","search"])])])),[[v]])}}},cS={class:"multi-setp-form-nav"},uS={__name:"FormNav",props:{step:Number},setup(n){const t=n;return(s,r)=>(F(),U("div",cS,[y("div",{class:Be(["step-item",{active:t.step>=1}])},r[0]||(r[0]=[y("span",{class:"step-number"},"1",-1)]),2),y("div",{class:Be(["step-bar",{active:t.step>=2}])},null,2),y("div",{class:Be(["step-item",{active:t.step>=2}])},r[1]||(r[1]=[y("span",{class:"step-number"},"2",-1)]),2),y("div",{class:Be(["step-bar",{active:t.step>=3}])},null,2),y("div",{class:Be(["step-item",{active:t.step>=3}])},r[2]||(r[2]=[y("span",{class:"step-number"},"3",-1)]),2)]))}},dS={class:"selected-agreement-type-info mb-1-5"},hS={class:"title"},fS={class:"info main"},pS={__name:"AgreementTypeInfo",props:{seletedForm:String},setup(n){const t=n,s=Gr({"nda from":"A non-disclosure agreement (NDA), also known as a confidentiality agreement (CA), confidential disclosure agreement (CDA), proprietary information agreement (PIA) or secrecy agreement (SA), is a legal contract between at least two parties that outlines confidential material, knowledge, or information that the parties wish to share with one another for certain purposes, but wish to restrict access to or by third parties.","hourly contract":"An hourly contract is a type of contract where the payment amount depends on the number of hours worked. This is in contrast to a fixed-price contract, which is intended to cover the costs with additional profit made.","fixed price contract":"A fixed-price contract is a type of contract where the payment amount does not depend on resources used or time expended. This is in contrast to a cost-plus contract, which is intended to cover the costs with additional profit made.","reimbursement contract":"A reimbursement contract is a contract in which one party agrees to pay the other party for expenses incurred. This type of contract is often used in construction projects, where the contractor is reimbursed for the cost of materials and labor.","cost plus contract":"A cost-plus contract is a type of contract where the payment amount depends on the resources used or time expended. This is in contrast to a fixed-price contract, which is intended to cover the costs with additional profit made.","bilateral contract":"A bilateral contract is a type of contract where both parties make promises to each other. This is in contrast to a unilateral contract, where only one party makes a promise.","time and material contract":"A time and material contract is a type of contract where the payment amount depends on the time spent and materials used. This is in contrast to a fixed-price contract, which is intended to cover the costs with additional profit made.",other:"A custom contract is a type of contract that is tailored to the specific needs of the parties involved. This type of contract is often used in complex business transactions where standard contract terms may not be sufficient."});return(r,i)=>(F(),U("div",dS,[y("p",hS,pe(t.seletedForm.toLowerCase().replace(/-/g," ")),1),y("p",fS,pe(s[t.seletedForm.toLowerCase().replace(/-/g," ")]),1),i[0]||(i[0]=y("p",{class:"info"},"You will be able to set contract start and end date, price etc when shaing link to signee.",-1))]))}},mS={key:2,class:"modal-wrapper"},gS={class:"modal-content"},yS={class:"modal-header"},vS={class:"modal-body ai-agreement-generator-form"},CS={class:"prefilled-info mb-0-75"},wS={class:"highlight-dark-blue",style:{"text-transform":"uppercase"}},bS={class:"prefilled-info mb-1-5"},kS={class:"highlight-dark-blue"},xS={class:"input-group"},_S={class:"flex-default mb-1"},SS={class:"flex-default mb-1"},TS={class:"flex-default mb-1"},ES={key:0},MS={class:"flex-default mb-1"},AS={class:"flex-default mb-1"},IS={class:"flex-default mb-1"},OS={class:"flex-default mb-1"},LS={class:"modal-footer"},PS={key:3,class:"modal-wrapper"},NS={class:"modal-content"},DS={class:"modal-info text-center mb-1-5"},RS={class:"highlight-dark-blue"},$S={class:"modal-footer",style:{"justify-content":"center"}},FS={__name:"AgreeementAIBtn",props:{agreementType:String,orgName:String},emits:["content"],setup(n,{emit:t}){const s=Dt.useToast(),r=sn(),i=he(()=>r.subscription),o=he(()=>{var C;return(((C=i.value)==null?void 0:C.packageName)||"").toLowerCase()}),l=t,a=n,c=fe({partyName:"",effectiveDate:"",duration:"",paymentTerms:"",confidentialityClauses:"",terminationConditions:"",customClauses:""}),u=fe(!1),h=fe(!1),f=fe(!1),p=fe(!1),m=()=>{o.value==="standard"||o.value==="enterprise"?h.value=!0:(console.log("show upgrade modal",o.value),p.value=!0)},v=async()=>{h.value=!1,f.value=!0;try{const C=await Sb({...c.value,agreementType:a.agreementType,orgName:a.orgName}),{success:x,content:_,message:M}=C;if(!x){s.error(M||"Agreement generation failed"),f.value=!1;return}l("content",_)}catch{s.error("Agreement generation failed")}f.value=!1};return(C,x)=>{const _=fr("router-link");return F(),U(Pe,null,[f.value?(F(),Ne(ks,{key:1})):(F(),U("button",{key:0,onClick:m,class:"btn btn-sm"},x[11]||(x[11]=[tt('<svg width="18px" height="18px" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.25 28.6875C21.6 21.6 23.4562 19.7437 30.5437 18.3937C31.3875 18.225 31.8937 17.55 31.8937 16.7062C31.8937 15.8625 31.3875 15.1875 30.5437 15.0187C23.4562 13.6687 21.6 11.8125 20.25 4.725C20.0812 3.88125 19.4062 3.375 18.5625 3.375C17.7187 3.375 17.0437 3.88125 16.875 4.725C15.525 11.8125 13.6687 13.6687 6.5812 15.0187C5.9062 15.1875 5.2312 15.8625 5.2312 16.7062C5.2312 17.55 5.73745 18.225 6.5812 18.3937C13.6687 19.7437 15.525 21.6 16.875 28.6875C17.0437 29.5312 17.7187 30.0375 18.5625 30.0375C19.4062 30.0375 20.0812 29.3625 20.25 28.6875Z" fill="#fff"></path><path d="M37.1249 40.5C32.3999 39.4875 31.3874 38.475 30.3749 33.75C30.2062 32.9063 29.5312 32.4 28.6874 32.4C27.8437 32.4 27.1687 32.9063 26.9999 33.75C25.9874 38.475 24.9749 39.4875 20.2499 40.5C19.4062 40.6688 18.8999 41.3438 18.8999 42.1875C18.8999 43.0313 19.4062 43.7063 20.2499 43.875C24.9749 44.8875 25.9874 45.9 26.9999 50.625C27.1687 51.4688 27.8437 51.975 28.6874 51.975C29.5312 51.975 30.2062 51.4688 30.3749 50.625C31.3874 45.9 32.3999 44.8875 37.1249 43.875C37.9687 43.7063 38.4749 43.0313 38.4749 42.1875C38.4749 41.3438 37.7999 40.6688 37.1249 40.5Z" fill="#fff"></path><path d="M49.2749 23.625C45.5624 22.95 44.7187 22.1062 44.0437 18.3937C43.8749 17.5499 43.1999 17.0437 42.3562 17.0437C41.5124 17.0437 40.8374 17.5499 40.6687 18.3937C39.9937 22.1062 39.1499 22.95 35.4374 23.625C34.5937 23.7937 34.0874 24.4687 34.0874 25.3125C34.0874 26.1562 34.5937 26.8312 35.4374 27C39.1499 27.675 39.9937 28.5187 40.6687 32.2312C40.8374 33.075 41.5124 33.5812 42.3562 33.5812C43.1999 33.5812 43.8749 33.075 44.0437 32.2312C44.7187 28.5187 45.5624 27.675 49.2749 27C50.1187 26.8312 50.6249 26.1562 50.6249 25.3125C50.6249 24.4687 50.1187 23.7937 49.2749 23.625Z" fill="#fff"></path><path d="M9.61875 37.6313C9.1125 37.125 8.4375 36.9563 7.7625 37.2938C7.59375 37.2938 7.425 37.4625 7.25625 37.6313C7.0875 37.8 6.91875 37.9688 6.91875 38.1375C6.75 38.3063 6.75 38.6438 6.75 38.8125C6.75 38.9813 6.75 39.3188 6.91875 39.4875C7.0875 39.6563 7.0875 39.825 7.25625 39.9938C7.425 40.1625 7.59375 40.3313 7.7625 40.3313C7.93125 40.5 8.26875 40.5 8.4375 40.5C8.60625 40.5 8.94375 40.5 9.1125 40.3313C9.28125 40.1625 9.45 40.1625 9.61875 39.9938C9.7875 39.825 9.95625 39.6563 9.95625 39.4875C10.125 39.3188 10.125 38.9813 10.125 38.8125C10.125 38.6438 10.125 38.3063 9.95625 38.1375C9.95625 37.9688 9.7875 37.8 9.61875 37.6313Z" fill="#fff"></path><path d="M47.25 11.8125C47.7563 11.8125 48.0938 11.6438 48.4313 11.3063C48.7688 10.9688 48.9375 10.6313 48.9375 10.125C48.9375 9.6188 48.7688 9.2813 48.4313 8.9438C48.2625 8.77505 48.0937 8.6063 47.925 8.6063C47.5875 8.43755 47.0813 8.43755 46.575 8.6063C46.4063 8.6063 46.2375 8.77505 46.0687 8.9438C45.7312 9.2813 45.5625 9.6188 45.5625 10.125C45.5625 10.6313 45.7312 10.9688 46.0687 11.3063C46.4062 11.6438 46.7437 11.8125 47.25 11.8125Z" fill="white"></path></svg><span>Use AI</span>',2)]))),h.value?(F(),U("div",mS,[y("div",gS,[y("div",yS,[x[13]||(x[13]=y("h4",{class:"modal-title",style:{"line-height":"1.1"}},[xe("AI Agreement Generator "),y("small",{style:{opacity:".65"}},"(Experimental)")],-1)),(F(),U("svg",{onClick:x[0]||(x[0]=cs(M=>h.value=!1,["prevent"])),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x[12]||(x[12]=[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),y("div",vS,[y("p",CS,[x[14]||(x[14]=xe("Agreement type: ")),y("span",wS,pe(n.agreementType),1)]),y("p",bS,[x[15]||(x[15]=xe("Organization name: ")),y("span",kS,pe(n.orgName),1)]),y("div",xS,[x[23]||(x[23]=y("label",{class:"label"},"Additional informations (optional)",-1)),x[24]||(x[24]=y("p",{class:"sublabel"},"You can provide additional informations if applicable to get a more accurate agreement.",-1)),y("div",_S,[ve(y("input",{type:"text",class:"input",placeholder:"Party name","onUpdate:modelValue":x[1]||(x[1]=M=>c.value.partyName=M)},null,512),[[je,c.value.partyName]]),x[16]||(x[16]=y("span",{class:"hint--top-left","aria-label":"Other party name (company/individual names)"},[y("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[y("g",null,[y("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                    c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                    c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                    c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                    c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),y("div",SS,[ve(y("input",{type:"date",class:"input",placeholder:"Effective Date","onUpdate:modelValue":x[2]||(x[2]=M=>c.value.effectiveDate=M)},null,512),[[je,c.value.effectiveDate]]),x[17]||(x[17]=y("span",{class:"hint--top-left","aria-label":"Start date of the agreement"},[y("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[y("g",null,[y("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                    c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                    c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                    c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                    c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),y("div",TS,[ve(y("input",{type:"number",class:"input",placeholder:"Duration (Months)","onUpdate:modelValue":x[3]||(x[3]=M=>c.value.duration=M)},null,512),[[je,c.value.duration]]),x[18]||(x[18]=y("span",{class:"hint--top-left","aria-label":"(Optional) Duration of the agreement in months eg: 6, 12, 24"},[y("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[y("g",null,[y("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                    c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                    c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                    c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                    c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),u.value?(F(),U("div",ES,[y("div",MS,[ve(y("textarea",{class:"input",placeholder:"Payment Terms","onUpdate:modelValue":x[4]||(x[4]=M=>c.value.paymentTerms=M)},null,512),[[je,c.value.paymentTerms]]),x[19]||(x[19]=y("span",{class:"hint--top-left","aria-label":"Payment Terms (if applicable)"},[y("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[y("g",null,[y("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                        c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                        c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                        c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                        c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),y("div",AS,[ve(y("textarea",{class:"input",placeholder:"Confidentiality Clauses","onUpdate:modelValue":x[5]||(x[5]=M=>c.value.confidentialityClauses=M)},null,512),[[je,c.value.confidentialityClauses]]),x[20]||(x[20]=y("span",{class:"hint--top-left","aria-label":"For NDA-related agreements"},[y("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[y("g",null,[y("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                        c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                        c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                        c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                        c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),y("div",IS,[ve(y("textarea",{class:"input",placeholder:"Termination Conditions","onUpdate:modelValue":x[6]||(x[6]=M=>c.value.terminationConditions=M)},null,512),[[je,c.value.terminationConditions]]),x[21]||(x[21]=y("span",{class:"hint--top-left","aria-label":"Termination conditions (if applicable)"},[y("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[y("g",null,[y("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                        c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                        c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                        c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                        c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),y("div",OS,[ve(y("textarea",{class:"input",placeholder:"Custom Clauses","onUpdate:modelValue":x[7]||(x[7]=M=>c.value.customClauses=M)},null,512),[[je,c.value.customClauses]]),x[22]||(x[22]=y("span",{class:"hint--top-left","aria-label":"Any custom terms"},[y("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[y("g",null,[y("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                        c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                        c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                        c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                        c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))])])):(F(),U("div",{key:1,onClick:x[8]||(x[8]=M=>u.value=!0),class:"view-all-option-btn"},"View All Options"))])]),y("div",LS,[y("button",{onClick:x[9]||(x[9]=cs(M=>h.value=!1,["prevent"])),type:"button",class:"btn btn-md btn-outline"},"Cancel"),y("button",{onClick:cs(v,["prevent"]),type:"button",class:"btn btn-md"},"Generate")])])])):le("",!0),p.value?(F(),U("div",PS,[y("div",NS,[x[30]||(x[30]=tt('<p class="text-center mb-0-5"><svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="120" height="120" rx="60" fill="#edf6ff"></rect><path d="M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z" stroke="#3597FF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z" stroke="#3597FF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z" fill="#3597FF" stroke="#3597FF" stroke-width="0.15625"></path></svg></p><p class="modal-title text-center mb-0-5" style="font-size:32px;">Upgrade Required</p>',2)),y("p",DS,[x[25]||(x[25]=xe(" AI Agreement Generator is not available for ")),y("span",RS,pe(o.value),1),x[26]||(x[26]=xe(" plan users.")),x[27]||(x[27]=y("br",null,null,-1)),x[28]||(x[28]=xe(" Please upgrade your plan to use this feature. "))]),y("div",$S,[y("button",{onClick:x[10]||(x[10]=cs(M=>p.value=!1,["prevent"])),class:"btn btn-outline"},"Cancel"),X(_,{to:"/pricing",class:"btn"},{default:Ye(()=>x[29]||(x[29]=[xe("Change Plan")])),_:1})])])])):le("",!0)],64)}}};function bt(n){this.content=n}bt.prototype={constructor:bt,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return t==-1?void 0:this.content[t+1]},update:function(n,t,s){var r=s&&s!=n?this.remove(s):this,i=r.find(n),o=r.content.slice();return i==-1?o.push(s||n,t):(o[i+1]=t,s&&(o[i]=s)),new bt(o)},remove:function(n){var t=this.find(n);if(t==-1)return this;var s=this.content.slice();return s.splice(t,2),new bt(s)},addToStart:function(n,t){return new bt([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var s=this.remove(n).content.slice();return s.push(n,t),new bt(s)},addBefore:function(n,t,s){var r=this.remove(t),i=r.content.slice(),o=r.find(n);return i.splice(o==-1?i.length:o,0,t,s),new bt(i)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return n=bt.from(n),n.size?new bt(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=bt.from(n),n.size?new bt(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=bt.from(n);for(var s=0;s<n.content.length;s+=2)t=t.remove(n.content[s]);return t},toObject:function(){var n={};return this.forEach(function(t,s){n[t]=s}),n},get size(){return this.content.length>>1}};bt.from=function(n){if(n instanceof bt)return n;var t=[];if(n)for(var s in n)t.push(s,n[s]);return new bt(t)};function I3(n,t,s){for(let r=0;;r++){if(r==n.childCount||r==t.childCount)return n.childCount==t.childCount?null:s;let i=n.child(r),o=t.child(r);if(i==o){s+=i.nodeSize;continue}if(!i.sameMarkup(o))return s;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)s++;return s}if(i.content.size||o.content.size){let l=I3(i.content,o.content,s+1);if(l!=null)return l}s+=i.nodeSize}}function O3(n,t,s,r){for(let i=n.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:s,b:r};let l=n.child(--i),a=t.child(--o),c=l.nodeSize;if(l==a){s-=c,r-=c;continue}if(!l.sameMarkup(a))return{a:s,b:r};if(l.isText&&l.text!=a.text){let u=0,h=Math.min(l.text.length,a.text.length);for(;u<h&&l.text[l.text.length-u-1]==a.text[a.text.length-u-1];)u++,s--,r--;return{a:s,b:r}}if(l.content.size||a.content.size){let u=O3(l.content,a.content,s-1,r-1);if(u)return u}s-=c,r-=c}}class K{constructor(t,s){if(this.content=t,this.size=s||0,s==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,s,r,i=0,o){for(let l=0,a=0;a<s;l++){let c=this.content[l],u=a+c.nodeSize;if(u>t&&r(c,i+a,o||null,l)!==!1&&c.content.size){let h=a+1;c.nodesBetween(Math.max(0,t-h),Math.min(c.content.size,s-h),r,i+h)}a=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,s,r,i){let o="",l=!0;return this.nodesBetween(t,s,(a,c)=>{let u=a.isText?a.text.slice(Math.max(t,c)-c,s-c):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(l?l=!1:o+=r),o+=u},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let s=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(s.isText&&s.sameMarkup(r)&&(i[i.length-1]=s.withText(s.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new K(i,this.size+t.size)}cut(t,s=this.size){if(t==0&&s==this.size)return this;let r=[],i=0;if(s>t)for(let o=0,l=0;l<s;o++){let a=this.content[o],c=l+a.nodeSize;c>t&&((l<t||c>s)&&(a.isText?a=a.cut(Math.max(0,t-l),Math.min(a.text.length,s-l)):a=a.cut(Math.max(0,t-l-1),Math.min(a.content.size,s-l-1))),r.push(a),i+=a.nodeSize),l=c}return new K(r,i)}cutByIndex(t,s){return t==s?K.empty:t==0&&s==this.content.length?this:new K(this.content.slice(t,s))}replaceChild(t,s){let r=this.content[t];if(r==s)return this;let i=this.content.slice(),o=this.size+s.nodeSize-r.nodeSize;return i[t]=s,new K(i,o)}addToStart(t){return new K([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new K(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let s=0;s<this.content.length;s++)if(!this.content[s].eq(t.content[s]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let s=this.content[t];if(!s)throw new RangeError("Index "+t+" out of range for "+this);return s}maybeChild(t){return this.content[t]||null}forEach(t){for(let s=0,r=0;s<this.content.length;s++){let i=this.content[s];t(i,r,s),r+=i.nodeSize}}findDiffStart(t,s=0){return I3(this,t,s)}findDiffEnd(t,s=this.size,r=t.size){return O3(this,t,s,r)}findIndex(t,s=-1){if(t==0)return Yl(0,t);if(t==this.size)return Yl(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),l=i+o.nodeSize;if(l>=t)return l==t||s>0?Yl(r+1,l):Yl(r,i);i=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,s){if(!s)return K.empty;if(!Array.isArray(s))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(s.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return K.empty;let s,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(s||(s=t.slice(0,i)),s[s.length-1]=o.withText(s[s.length-1].text+o.text)):s&&s.push(o)}return new K(s||t,r)}static from(t){if(!t)return K.empty;if(t instanceof K)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new K([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const Ou={index:0,offset:0};function Yl(n,t){return Ou.index=n,Ou.offset=t,Ou}function za(n,t){if(n===t)return!0;if(!(n&&typeof n=="object")||!(t&&typeof t=="object"))return!1;let s=Array.isArray(n);if(Array.isArray(t)!=s)return!1;if(s){if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(!za(n[r],t[r]))return!1}else{for(let r in n)if(!(r in t)||!za(n[r],t[r]))return!1;for(let r in t)if(!(r in n))return!1}return!0}let We=class Ad{constructor(t,s){this.type=t,this.attrs=s}addToSet(t){let s,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))s||(s=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(s||(s=t.slice(0,i)),s.push(this),r=!0),s&&s.push(o)}}return s||(s=t.slice()),r||s.push(this),s}removeFromSet(t){for(let s=0;s<t.length;s++)if(this.eq(t[s]))return t.slice(0,s).concat(t.slice(s+1));return t}isInSet(t){for(let s=0;s<t.length;s++)if(this.eq(t[s]))return!0;return!1}eq(t){return this==t||this.type==t.type&&za(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let s in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,s){if(!s)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[s.type];if(!r)throw new RangeError(`There is no mark type ${s.type} in this schema`);let i=r.create(s.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,s){if(t==s)return!0;if(t.length!=s.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(s[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Ad.none;if(t instanceof Ad)return[t];let s=t.slice();return s.sort((r,i)=>r.type.rank-i.type.rank),s}};We.none=[];class qa extends Error{}class ne{constructor(t,s,r){this.content=t,this.openStart=s,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,s){let r=P3(this.content,t+this.openStart,s);return r&&new ne(r,this.openStart,this.openEnd)}removeBetween(t,s){return new ne(L3(this.content,t+this.openStart,s+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,s){if(!s)return ne.empty;let r=s.openStart||0,i=s.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ne(K.fromJSON(t,s.content),r,i)}static maxOpen(t,s=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(s||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(s||!o.type.spec.isolating);o=o.lastChild)i++;return new ne(t,r,i)}}ne.empty=new ne(K.empty,0,0);function L3(n,t,s){let{index:r,offset:i}=n.findIndex(t),o=n.maybeChild(r),{index:l,offset:a}=n.findIndex(s);if(i==t||o.isText){if(a!=s&&!n.child(l).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(s))}if(r!=l)throw new RangeError("Removing non-flat range");return n.replaceChild(r,o.copy(L3(o.content,t-i-1,s-i-1)))}function P3(n,t,s,r){let{index:i,offset:o}=n.findIndex(t),l=n.maybeChild(i);if(o==t||l.isText)return n.cut(0,t).append(s).append(n.cut(t));let a=P3(l.content,t-o-1,s);return a&&n.replaceChild(i,l.copy(a))}function BS(n,t,s){if(s.openStart>n.depth)throw new qa("Inserted content deeper than insertion position");if(n.depth-s.openStart!=t.depth-s.openEnd)throw new qa("Inconsistent open depths");return N3(n,t,s,0)}function N3(n,t,s,r){let i=n.index(r),o=n.node(r);if(i==t.index(r)&&r<n.depth-s.openStart){let l=N3(n,t,s,r+1);return o.copy(o.content.replaceChild(i,l))}else if(s.content.size)if(!s.openStart&&!s.openEnd&&n.depth==r&&t.depth==r){let l=n.parent,a=l.content;return Dr(l,a.cut(0,n.parentOffset).append(s.content).append(a.cut(t.parentOffset)))}else{let{start:l,end:a}=VS(s,n);return Dr(o,R3(n,l,a,t,r))}else return Dr(o,Wa(n,t,r))}function D3(n,t){if(!t.type.compatibleContent(n.type))throw new qa("Cannot join "+t.type.name+" onto "+n.type.name)}function Id(n,t,s){let r=n.node(s);return D3(r,t.node(s)),r}function Nr(n,t){let s=t.length-1;s>=0&&n.isText&&n.sameMarkup(t[s])?t[s]=n.withText(t[s].text+n.text):t.push(n)}function Vo(n,t,s,r){let i=(t||n).node(s),o=0,l=t?t.index(s):i.childCount;n&&(o=n.index(s),n.depth>s?o++:n.textOffset&&(Nr(n.nodeAfter,r),o++));for(let a=o;a<l;a++)Nr(i.child(a),r);t&&t.depth==s&&t.textOffset&&Nr(t.nodeBefore,r)}function Dr(n,t){return n.type.checkContent(t),n.copy(t)}function R3(n,t,s,r,i){let o=n.depth>i&&Id(n,t,i+1),l=r.depth>i&&Id(s,r,i+1),a=[];return Vo(null,n,i,a),o&&l&&t.index(i)==s.index(i)?(D3(o,l),Nr(Dr(o,R3(n,t,s,r,i+1)),a)):(o&&Nr(Dr(o,Wa(n,t,i+1)),a),Vo(t,s,i,a),l&&Nr(Dr(l,Wa(s,r,i+1)),a)),Vo(r,null,i,a),new K(a)}function Wa(n,t,s){let r=[];if(Vo(null,n,s,r),n.depth>s){let i=Id(n,t,s+1);Nr(Dr(i,Wa(n,t,s+1)),r)}return Vo(t,null,s,r),new K(r)}function VS(n,t){let s=t.depth-n.openStart,i=t.node(s).copy(n.content);for(let o=s-1;o>=0;o--)i=t.node(o).copy(K.from(i));return{start:i.resolveNoCache(n.openStart+s),end:i.resolveNoCache(i.content.size-n.openEnd-s)}}class tl{constructor(t,s,r){this.pos=t,this.path=s,this.parentOffset=r,this.depth=s.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,s=this.index(this.depth);if(s==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(s);return r?t.child(s).cut(r):i}get nodeBefore(){let t=this.index(this.depth),s=this.pos-this.path[this.path.length-1];return s?this.parent.child(t).cut(0,s):t==0?null:this.parent.child(t-1)}posAtIndex(t,s){s=this.resolveDepth(s);let r=this.path[s*3],i=s==0?0:this.path[s*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,s=this.index();if(t.content.size==0)return We.none;if(this.textOffset)return t.child(s).marks;let r=t.maybeChild(s-1),i=t.maybeChild(s);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(t){let s=this.parent.maybeChild(this.index());if(!s||!s.isInline)return null;let r=s.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let s=this.depth;s>0;s--)if(this.start(s)<=t&&this.end(s)>=t)return s;return 0}blockRange(t=this,s){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!s||s(this.node(r))))return new Ka(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let s=1;s<=this.depth;s++)t+=(t?"/":"")+this.node(s).type.name+"_"+this.index(s-1);return t+":"+this.parentOffset}static resolve(t,s){if(!(s>=0&&s<=t.content.size))throw new RangeError("Position "+s+" out of range");let r=[],i=0,o=s;for(let l=t;;){let{index:a,offset:c}=l.content.findIndex(o),u=o-c;if(r.push(l,a,i+c),!u||(l=l.child(a),l.isText))break;o=u-1,i+=c+1}return new tl(s,r,o)}static resolveCached(t,s){let r=Jp.get(t);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==s)return l}else Jp.set(t,r=new HS);let i=r.elts[r.i]=tl.resolve(t,s);return r.i=(r.i+1)%US,i}}class HS{constructor(){this.elts=[],this.i=0}}const US=12,Jp=new WeakMap;class Ka{constructor(t,s,r){this.$from=t,this.$to=s,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const jS=Object.create(null);let Rr=class Od{constructor(t,s,r,i=We.none){this.type=t,this.attrs=s,this.marks=i,this.content=r||K.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,s,r,i=0){this.content.nodesBetween(t,s,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,s,r,i){return this.content.textBetween(t,s,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,s,r){return this.type==t&&za(this.attrs,s||t.defaultAttrs||jS)&&We.sameSet(this.marks,r||We.none)}copy(t=null){return t==this.content?this:new Od(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Od(this.type,this.attrs,this.content,t)}cut(t,s=this.content.size){return t==0&&s==this.content.size?this:this.copy(this.content.cut(t,s))}slice(t,s=this.content.size,r=!1){if(t==s)return ne.empty;let i=this.resolve(t),o=this.resolve(s),l=r?0:i.sharedDepth(s),a=i.start(l),u=i.node(l).content.cut(i.pos-a,o.pos-a);return new ne(u,i.depth-l,o.depth-l)}replace(t,s,r){return BS(this.resolve(t),this.resolve(s),r)}nodeAt(t){for(let s=this;;){let{index:r,offset:i}=s.content.findIndex(t);if(s=s.maybeChild(r),!s)return null;if(i==t||s.isText)return s;t-=i+1}}childAfter(t){let{index:s,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(s),index:s,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:s,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(s),index:s,offset:r};let i=this.content.child(s-1);return{node:i,index:s-1,offset:r-i.nodeSize}}resolve(t){return tl.resolveCached(this,t)}resolveNoCache(t){return tl.resolve(this,t)}rangeHasMark(t,s,r){let i=!1;return s>t&&this.nodesBetween(t,s,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),$3(this.marks,t)}contentMatchAt(t){let s=this.type.contentMatch.matchFragment(this.content,0,t);if(!s)throw new Error("Called contentMatchAt on a node with invalid content");return s}canReplace(t,s,r=K.empty,i=0,o=r.childCount){let l=this.contentMatchAt(t).matchFragment(r,i,o),a=l&&l.matchFragment(this.content,s);if(!a||!a.validEnd)return!1;for(let c=i;c<o;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(t,s,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),l=o&&o.matchFragment(this.content,s);return l?l.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=We.none;for(let s=0;s<this.marks.length;s++){let r=this.marks[s];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!We.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(s=>s.type.name)}`);this.content.forEach(s=>s.check())}toJSON(){let t={type:this.type.name};for(let s in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(s=>s.toJSON())),t}static fromJSON(t,s){if(!s)throw new RangeError("Invalid input for Node.fromJSON");let r;if(s.marks){if(!Array.isArray(s.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=s.marks.map(t.markFromJSON)}if(s.type=="text"){if(typeof s.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(s.text,r)}let i=K.fromJSON(t,s.content),o=t.nodeType(s.type).create(s.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Rr.prototype.text=void 0;class Ga extends Rr{constructor(t,s,r,i){if(super(t,s,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):$3(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,s){return this.text.slice(t,s)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Ga(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Ga(this.type,this.attrs,t,this.marks)}cut(t=0,s=this.text.length){return t==0&&s==this.text.length?this:this.withText(this.text.slice(t,s))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function $3(n,t){for(let s=n.length-1;s>=0;s--)t=n[s].type.name+"("+t+")";return t}class zr{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,s){let r=new zS(t,s);if(r.next==null)return zr.empty;let i=F3(r);r.next&&r.err("Unexpected trailing text");let o=YS(ZS(i));return XS(o,r),o}matchType(t){for(let s=0;s<this.next.length;s++)if(this.next[s].type==t)return this.next[s].next;return null}matchFragment(t,s=0,r=t.childCount){let i=this;for(let o=s;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:s}=this.next[t];if(!(s.isText||s.hasRequiredAttrs()))return s}return null}compatible(t){for(let s=0;s<this.next.length;s++)for(let r=0;r<t.next.length;r++)if(this.next[s].type==t.next[r].type)return!0;return!1}fillBefore(t,s=!1,r=0){let i=[this];function o(l,a){let c=l.matchFragment(t,r);if(c&&(!s||c.validEnd))return K.from(a.map(u=>u.createAndFill()));for(let u=0;u<l.next.length;u++){let{type:h,next:f}=l.next[u];if(!(h.isText||h.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let p=o(f,a.concat(h));if(p)return p}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let s=this.computeWrapping(t);return this.wrapCache.push(t,s),s}computeWrapping(t){let s=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let l=[];for(let a=i;a.type;a=a.via)l.push(a.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:a,next:c}=o.next[l];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in s)&&(!i.type||c.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),s[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function s(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&s(r.next[i].next)}return s(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+t.indexOf(r.next[l].next);return o}).join(`
`)}}zr.empty=new zr(!0);class zS{constructor(t,s){this.string=t,this.nodeTypes=s,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function F3(n){let t=[];do t.push(qS(n));while(n.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function qS(n){let t=[];do t.push(WS(n));while(n.next&&n.next!=")"&&n.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function WS(n){let t=JS(n);for(;;)if(n.eat("+"))t={type:"plus",expr:t};else if(n.eat("*"))t={type:"star",expr:t};else if(n.eat("?"))t={type:"opt",expr:t};else if(n.eat("{"))t=KS(n,t);else break;return t}function Zp(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let t=Number(n.next);return n.pos++,t}function KS(n,t){let s=Zp(n),r=s;return n.eat(",")&&(n.next!="}"?r=Zp(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:s,max:r,expr:t}}function GS(n,t){let s=n.nodeTypes,r=s[t];if(r)return[r];let i=[];for(let o in s){let l=s[o];l.isInGroup(t)&&i.push(l)}return i.length==0&&n.err("No node type or group '"+t+"' found"),i}function JS(n){if(n.eat("(")){let t=F3(n);return n.eat(")")||n.err("Missing closing paren"),t}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let t=GS(n,n.next).map(s=>(n.inline==null?n.inline=s.isInline:n.inline!=s.isInline&&n.err("Mixing inline and block content"),{type:"name",value:s}));return n.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function ZS(n){let t=[[]];return i(o(n,0),s()),t;function s(){return t.push([])-1}function r(l,a,c){let u={term:c,to:a};return t[l].push(u),u}function i(l,a){l.forEach(c=>c.to=a)}function o(l,a){if(l.type=="choice")return l.exprs.reduce((c,u)=>c.concat(o(u,a)),[]);if(l.type=="seq")for(let c=0;;c++){let u=o(l.exprs[c],a);if(c==l.exprs.length-1)return u;i(u,a=s())}else if(l.type=="star"){let c=s();return r(a,c),i(o(l.expr,c),c),[r(c)]}else if(l.type=="plus"){let c=s();return i(o(l.expr,a),c),i(o(l.expr,c),c),[r(c)]}else{if(l.type=="opt")return[r(a)].concat(o(l.expr,a));if(l.type=="range"){let c=a;for(let u=0;u<l.min;u++){let h=s();i(o(l.expr,c),h),c=h}if(l.max==-1)i(o(l.expr,c),c);else for(let u=l.min;u<l.max;u++){let h=s();r(c,h),i(o(l.expr,c),h),c=h}return[r(c)]}else{if(l.type=="name")return[r(a,void 0,l.value)];throw new Error("Unknown expr type")}}}}function B3(n,t){return t-n}function Yp(n,t){let s=[];return r(t),s.sort(B3);function r(i){let o=n[i];if(o.length==1&&!o[0].term)return r(o[0].to);s.push(i);for(let l=0;l<o.length;l++){let{term:a,to:c}=o[l];!a&&s.indexOf(c)==-1&&r(c)}}}function YS(n){let t=Object.create(null);return s(Yp(n,0));function s(r){let i=[];r.forEach(l=>{n[l].forEach(({term:a,to:c})=>{if(!a)return;let u;for(let h=0;h<i.length;h++)i[h][0]==a&&(u=i[h][1]);Yp(n,c).forEach(h=>{u||i.push([a,u=[]]),u.indexOf(h)==-1&&u.push(h)})})});let o=t[r.join(",")]=new zr(r.indexOf(n.length-1)>-1);for(let l=0;l<i.length;l++){let a=i[l][1].sort(B3);o.next.push({type:i[l][0],next:t[a.join(",")]||s(a)})}return o}}function XS(n,t){for(let s=0,r=[n];s<r.length;s++){let i=r[s],o=!i.validEnd,l=[];for(let a=0;a<i.next.length;a++){let{type:c,next:u}=i.next[a];l.push(c.name),o&&!(c.isText||c.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&t.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function V3(n){let t=Object.create(null);for(let s in n){let r=n[s];if(!r.hasDefault)return null;t[s]=r.default}return t}function H3(n,t){let s=Object.create(null);for(let r in n){let i=t&&t[r];if(i===void 0){let o=n[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}s[r]=i}return s}function U3(n,t,s,r){for(let i in t)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${s} of type ${i}`);for(let i in n){let o=n[i];o.validate&&o.validate(t[i])}}function j3(n,t){let s=Object.create(null);if(t)for(let r in t)s[r]=new eT(n,r,t[r]);return s}let Xp=class z3{constructor(t,s,r){this.name=t,this.schema=s,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=j3(t,r.attrs),this.defaultAttrs=V3(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==zr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:H3(this.attrs,t)}create(t=null,s,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Rr(this,this.computeAttrs(t),K.from(s),We.setFrom(r))}createChecked(t=null,s,r){return s=K.from(s),this.checkContent(s),new Rr(this,this.computeAttrs(t),s,We.setFrom(r))}createAndFill(t=null,s,r){if(t=this.computeAttrs(t),s=K.from(s),s.size){let l=this.contentMatch.fillBefore(s);if(!l)return null;s=l.append(s)}let i=this.contentMatch.matchFragment(s),o=i&&i.fillBefore(K.empty,!0);return o?new Rr(this,t,s.append(o),We.setFrom(r)):null}validContent(t){let s=this.contentMatch.matchFragment(t);if(!s||!s.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){U3(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let s=0;s<t.length;s++)if(!this.allowsMarkType(t[s].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let s;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?s&&s.push(t[r]):s||(s=t.slice(0,r));return s?s.length?s:We.none:t}static compile(t,s){let r=Object.create(null);t.forEach((o,l)=>r[o]=new z3(o,s,l));let i=s.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function QS(n,t,s){let r=s.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${n}, got ${o}`)}}class eT{constructor(t,s,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?QS(t,s,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Oc{constructor(t,s,r,i){this.name=t,this.rank=s,this.schema=r,this.spec=i,this.attrs=j3(t,i.attrs),this.excluded=null;let o=V3(this.attrs);this.instance=o?new We(this,o):null}create(t=null){return!t&&this.instance?this.instance:new We(this,H3(this.attrs,t))}static compile(t,s){let r=Object.create(null),i=0;return t.forEach((o,l)=>r[o]=new Oc(o,i++,s,l)),r}removeFromSet(t){for(var s=0;s<t.length;s++)t[s].type==this&&(t=t.slice(0,s).concat(t.slice(s+1)),s--);return t}isInSet(t){for(let s=0;s<t.length;s++)if(t[s].type==this)return t[s]}checkAttrs(t){U3(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class q3{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let s=this.spec={};for(let i in t)s[i]=t[i];s.nodes=bt.from(t.nodes),s.marks=bt.from(t.marks||{}),this.nodes=Xp.compile(this.spec.nodes,this),this.marks=Oc.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=zr.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?Qp(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:Qp(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,s=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Xp){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(s,r,i)}text(t,s){let r=this.nodes.text;return new Ga(r,r.defaultAttrs,t,We.setFrom(s))}mark(t,s){return typeof t=="string"&&(t=this.marks[t]),t.create(s)}nodeFromJSON(t){return Rr.fromJSON(this,t)}markFromJSON(t){return We.fromJSON(this,t)}nodeType(t){let s=this.nodes[t];if(!s)throw new RangeError("Unknown node type: "+t);return s}}function Qp(n,t){let s=[];for(let r=0;r<t.length;r++){let i=t[r],o=n.marks[i],l=o;if(o)s.push(o);else for(let a in n.marks){let c=n.marks[a];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&s.push(l=c)}if(!l)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return s}function tT(n){return n.tag!=null}function nT(n){return n.style!=null}class sr{constructor(t,s){this.schema=t,this.rules=s,this.tags=[],this.styles=[];let r=this.matchedStyles=[];s.forEach(i=>{if(tT(i))this.tags.push(i);else if(nT(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,s={}){let r=new t2(this,s,!1);return r.addAll(t,We.none,s.from,s.to),r.finish()}parseSlice(t,s={}){let r=new t2(this,s,!0);return r.addAll(t,We.none,s.from,s.to),ne.maxOpen(r.finish())}matchTag(t,s,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(iT(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||s.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(t,s,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],a=l.style;if(!(a.indexOf(t)!=0||l.context&&!r.matchesContext(l.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=s))){if(l.getAttrs){let c=l.getAttrs(s);if(c===!1)continue;l.attrs=c||void 0}return l}}}static schemaRules(t){let s=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<s.length;l++){let a=s[l];if((a.priority==null?50:a.priority)<o)break}s.splice(l,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=n2(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=n2(l)),l.node||l.ignore||l.mark||(l.node=i)})}return s}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new sr(t,sr.schemaRules(t)))}}const W3={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},sT={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},K3={ol:!0,ul:!0},Ja=1,Za=2,Ho=4;function e2(n,t,s){return t!=null?(t?Ja:0)|(t==="full"?Za:0):n&&n.whitespace=="pre"?Ja|Za:s&~Ho}class Xl{constructor(t,s,r,i,o,l){this.type=t,this.attrs=s,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=We.none,this.match=o||(l&Ho?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let s=this.type.contentMatch.fillBefore(K.from(t));if(s)this.match=this.type.contentMatch.matchFragment(s);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Ja)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let s=K.from(this.content);return!t&&this.match&&(s=s.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,s,this.marks):s}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!W3.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class t2{constructor(t,s,r){this.parser=t,this.options=s,this.isOpen=r,this.open=0;let i=s.topNode,o,l=e2(null,s.preserveWhitespace,0)|(r?Ho:0);i?o=new Xl(i.type,i.attrs,We.none,!0,s.topMatch||i.type.contentMatch,l):r?o=new Xl(null,null,We.none,!0,null,l):o=new Xl(t.schema.topNodeType,null,We.none,!0,null,l),this.nodes=[o],this.find=s.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,s){t.nodeType==3?this.addTextNode(t,s):t.nodeType==1&&this.addElement(t,s)}addTextNode(t,s){let r=t.nodeValue,i=this.top;if(i.options&Za||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Ja)i.options&Za?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=t.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),s),this.findInText(t)}else this.findInside(t)}addElement(t,s,r){let i=t.nodeName.toLowerCase(),o;K3.hasOwnProperty(i)&&this.parser.normalizeLists&&rT(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(o=this.parser.matchTag(t,this,r));if(l?l.ignore:sT.hasOwnProperty(i))this.findInside(t),this.ignoreFallback(t,s);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let a,c=this.top,u=this.needsBlock;if(W3.hasOwnProperty(i))c.content.length&&c.content[0].isInline&&this.open&&(this.open--,c=this.top),a=!0,c.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,s);return}let h=l&&l.skip?s:this.readStyles(t,s);h&&this.addAll(t,h),a&&this.sync(c),this.needsBlock=u}else{let a=this.readStyles(t,s);a&&this.addElementByRule(t,l,a,l.consuming===!1?o:void 0)}}leafFallback(t,s){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),s)}ignoreFallback(t,s){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),s)}readStyles(t,s){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],l=r.getPropertyValue(o);if(l)for(let a=void 0;;){let c=this.parser.matchStyle(o,l,this,a);if(!c)break;if(c.ignore)return null;if(c.clearMark?s=s.filter(u=>!c.clearMark(u)):s=s.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)a=c;else break}}return s}addElementByRule(t,s,r,i){let o,l;if(s.node)if(l=this.parser.schema.nodes[s.node],l.isLeaf)this.insertNode(l.create(s.attrs),r)||this.leafFallback(t,r);else{let c=this.enter(l,s.attrs||null,r,s.preserveWhitespace);c&&(o=!0,r=c)}else{let c=this.parser.schema.marks[s.mark];r=r.concat(c.create(s.attrs))}let a=this.top;if(l&&l.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(s.getContent)this.findInside(t),s.getContent(t,this.parser.schema).forEach(c=>this.insertNode(c,r));else{let c=t;typeof s.contentElement=="string"?c=t.querySelector(s.contentElement):typeof s.contentElement=="function"?c=s.contentElement(t):s.contentElement&&(c=s.contentElement),this.findAround(t,c,!0),this.addAll(c,r),this.findAround(t,c,!1)}o&&this.sync(a)&&this.open--}addAll(t,s,r,i){let o=r||0;for(let l=r?t.childNodes[r]:t.firstChild,a=i==null?null:t.childNodes[i];l!=a;l=l.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(l,s);this.findAtPoint(t,o)}findPlace(t,s){let r,i;for(let o=this.open;o>=0;o--){let l=this.nodes[o],a=l.findWrapping(t);if(a&&(!r||r.length>a.length)&&(r=a,i=l,!a.length)||l.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)s=this.enterInner(r[o],null,s,!1);return s}insertNode(t,s){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(s=this.enterInner(i,null,s))}let r=this.findPlace(t,s);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let o=We.none;for(let l of r.concat(t.marks))(i.type?i.type.allowsMarkType(l.type):s2(l.type,t.type))&&(o=l.addToSet(o));return i.content.push(t.mark(o)),!0}return!1}enter(t,s,r,i){let o=this.findPlace(t.create(s),r);return o&&(o=this.enterInner(t,s,r,!0,i)),o}enterInner(t,s,r,i=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(t);let a=e2(t,o,l.options);l.options&Ho&&l.content.length==0&&(a|=Ho);let c=We.none;return r=r.filter(u=>(l.type?l.type.allowsMarkType(u.type):s2(u.type,t))?(c=u.addToSet(c),!1):!0),this.nodes.push(new Xl(t,s,c,i,null,a)),this.open++,r}closeExtra(t=!1){let s=this.nodes.length-1;if(s>this.open){for(;s>this.open;s--)this.nodes[s-1].content.push(this.nodes[s].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let s=this.open;s>=0;s--)if(this.nodes[s]==t)return this.open=s,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let s=this.open;s>=0;s--){let r=this.nodes[s].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;s&&t++}return t}findAtPoint(t,s){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==s&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&t.nodeType==1&&t.contains(this.find[s].node)&&(this.find[s].pos=this.currentPos)}findAround(t,s,r){if(t!=s&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&s.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==t&&(this.find[s].pos=this.currentPos-(t.nodeValue.length-this.find[s].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let s=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(a,c)=>{for(;a>=0;a--){let u=s[a];if(u==""){if(a==s.length-1||a==0)continue;for(;c>=o;c--)if(l(a-1,c))return!0;return!1}else{let h=c>0||c==0&&i?this.nodes[c].type:r&&c>=o?r.node(c-o).type:null;if(!h||h.name!=u&&!h.isInGroup(u))return!1;c--}}return!0};return l(s.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let s=t.depth;s>=0;s--){let r=t.node(s).contentMatchAt(t.indexAfter(s)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let s in this.parser.schema.nodes){let r=this.parser.schema.nodes[s];if(r.isTextblock&&r.defaultAttrs)return r}}}function rT(n){for(let t=n.firstChild,s=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&K3.hasOwnProperty(r)&&s?(s.appendChild(t),t=s):r=="li"?s=t:r&&(s=null)}}function iT(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function n2(n){let t={};for(let s in n)t[s]=n[s];return t}function s2(n,t){let s=t.schema.nodes;for(let r in s){let i=s[r];if(!i.allowsMarkType(n))continue;let o=[],l=a=>{o.push(a);for(let c=0;c<a.edgeCount;c++){let{type:u,next:h}=a.edge(c);if(u==t||o.indexOf(h)<0&&l(h))return!0}};if(l(i.contentMatch))return!0}}class Xr{constructor(t,s){this.nodes=t,this.marks=s}serializeFragment(t,s={},r){r||(r=Lu(s).createDocumentFragment());let i=r,o=[];return t.forEach(l=>{if(o.length||l.marks.length){let a=0,c=0;for(;a<o.length&&c<l.marks.length;){let u=l.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,c++}for(;a<o.length;)i=o.pop()[1];for(;c<l.marks.length;){let u=l.marks[c++],h=this.serializeMark(u,l.isInline,s);h&&(o.push([u,i]),i.appendChild(h.dom),i=h.contentDOM||h.dom)}}i.appendChild(this.serializeNodeInner(l,s))}),r}serializeNodeInner(t,s){let{dom:r,contentDOM:i}=ha(Lu(s),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,s,i)}return r}serializeNode(t,s={}){let r=this.serializeNodeInner(t,s);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,s);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,s,r={}){let i=this.marks[t.type.name];return i&&ha(Lu(r),i(t,s),null,t.attrs)}static renderSpec(t,s,r=null,i){return ha(t,s,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Xr(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let s=r2(t.nodes);return s.text||(s.text=r=>r.text),s}static marksFromSchema(t){return r2(t.marks)}}function r2(n){let t={};for(let s in n){let r=n[s].spec.toDOM;r&&(t[s]=r)}return t}function Lu(n){return n.document||window.document}const i2=new WeakMap;function oT(n){let t=i2.get(n);return t===void 0&&i2.set(n,t=lT(n)),t}function lT(n){let t=null;function s(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)s(r[i]);else for(let i in r)s(r[i])}return s(n),t}function ha(n,t,s,r){if(typeof t=="string")return{dom:n.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=oT(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(s=i.slice(0,l),i=i.slice(l+1));let a,c=s?n.createElementNS(s,i):n.createElement(i),u=t[1],h=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){h=2;for(let f in u)if(u[f]!=null){let p=f.indexOf(" ");p>0?c.setAttributeNS(f.slice(0,p),f.slice(p+1),u[f]):c.setAttribute(f,u[f])}}for(let f=h;f<t.length;f++){let p=t[f];if(p===0){if(f<t.length-1||f>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:m,contentDOM:v}=ha(n,p,s,r);if(c.appendChild(m),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:c,contentDOM:a}}const G3=65535,J3=Math.pow(2,16);function aT(n,t){return n+t*J3}function o2(n){return n&G3}function cT(n){return(n-(n&G3))/J3}const Z3=1,Y3=2,fa=4,X3=8;class Ld{constructor(t,s,r){this.pos=t,this.delInfo=s,this.recover=r}get deleted(){return(this.delInfo&X3)>0}get deletedBefore(){return(this.delInfo&(Z3|fa))>0}get deletedAfter(){return(this.delInfo&(Y3|fa))>0}get deletedAcross(){return(this.delInfo&fa)>0}}class ln{constructor(t,s=!1){if(this.ranges=t,this.inverted=s,!t.length&&ln.empty)return ln.empty}recover(t){let s=0,r=o2(t);if(!this.inverted)for(let i=0;i<r;i++)s+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+s+cT(t)}mapResult(t,s=1){return this._map(t,s,!1)}map(t,s=1){return this._map(t,s,!0)}_map(t,s,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?i:0);if(c>t)break;let u=this.ranges[a+o],h=this.ranges[a+l],f=c+u;if(t<=f){let p=u?t==c?-1:t==f?1:s:s,m=c+i+(p<0?0:h);if(r)return m;let v=t==(s<0?c:f)?null:aT(a/3,t-c),C=t==c?Y3:t==f?Z3:fa;return(s<0?t!=c:t!=f)&&(C|=X3),new Ld(m,C,v)}i+=h-u}return r?t+i:new Ld(t+i,0,null)}touches(t,s){let r=0,i=o2(s),o=this.inverted?2:1,l=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let c=this.ranges[a]-(this.inverted?r:0);if(c>t)break;let u=this.ranges[a+o],h=c+u;if(t<=h&&a==i*3)return!0;r+=this.ranges[a+l]-u}return!1}forEach(t){let s=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],a=l-(this.inverted?o:0),c=l+(this.inverted?0:o),u=this.ranges[i+s],h=this.ranges[i+r];t(a,a+u,c,c+h),o+=h-u}}invert(){return new ln(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ln.empty:new ln(t<0?[0,-t,0]:[0,0,t])}}ln.empty=new ln([]);class Mi{constructor(t=[],s,r=0,i=t.length){this.maps=t,this.mirror=s,this.from=r,this.to=i}slice(t=0,s=this.maps.length){return new Mi(this.maps,this.mirror,t,s)}copy(){return new Mi(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,s){this.to=this.maps.push(t),s!=null&&this.setMirror(this.maps.length-1,s)}appendMapping(t){for(let s=0,r=this.maps.length;s<t.maps.length;s++){let i=t.getMirror(s);this.appendMap(t.maps[s],i!=null&&i<s?r+i:void 0)}}getMirror(t){if(this.mirror){for(let s=0;s<this.mirror.length;s++)if(this.mirror[s]==t)return this.mirror[s+(s%2?-1:1)]}}setMirror(t,s){this.mirror||(this.mirror=[]),this.mirror.push(t,s)}appendMappingInverted(t){for(let s=t.maps.length-1,r=this.maps.length+t.maps.length;s>=0;s--){let i=t.getMirror(s);this.appendMap(t.maps[s].invert(),i!=null&&i>s?r-i-1:void 0)}}invert(){let t=new Mi;return t.appendMappingInverted(this),t}map(t,s=1){if(this.mirror)return this._map(t,s,!0);for(let r=this.from;r<this.to;r++)t=this.maps[r].map(t,s);return t}mapResult(t,s=1){return this._map(t,s,!1)}_map(t,s,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this.maps[o],a=l.mapResult(t,s);if(a.recover!=null){let c=this.getMirror(o);if(c!=null&&c>o&&c<this.to){o=c,t=this.maps[c].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new Ld(t,i,null)}}const Pu=Object.create(null);class Rt{getMap(){return ln.empty}merge(t){return null}static fromJSON(t,s){if(!s||!s.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Pu[s.stepType];if(!r)throw new RangeError(`No step type ${s.stepType} defined`);return r.fromJSON(t,s)}static jsonID(t,s){if(t in Pu)throw new RangeError("Duplicate use of step JSON ID "+t);return Pu[t]=s,s.prototype.jsonID=t,s}}class lt{constructor(t,s){this.doc=t,this.failed=s}static ok(t){return new lt(t,null)}static fail(t){return new lt(null,t)}static fromReplace(t,s,r,i){try{return lt.ok(t.replace(s,r,i))}catch(o){if(o instanceof qa)return lt.fail(o.message);throw o}}}function Yh(n,t,s){let r=[];for(let i=0;i<n.childCount;i++){let o=n.child(i);o.content.size&&(o=o.copy(Yh(o.content,t,o))),o.isInline&&(o=t(o,s,i)),r.push(o)}return K.fromArray(r)}class Js extends Rt{constructor(t,s,r){super(),this.from=t,this.to=s,this.mark=r}apply(t){let s=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new ne(Yh(s.content,(l,a)=>!l.isAtom||!a.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),s.openStart,s.openEnd);return lt.fromReplace(t,this.from,this.to,o)}invert(){return new Un(this.from,this.to,this.mark)}map(t){let s=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return s.deleted&&r.deleted||s.pos>=r.pos?null:new Js(s.pos,r.pos,this.mark)}merge(t){return t instanceof Js&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Js(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,s){if(typeof s.from!="number"||typeof s.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Js(s.from,s.to,t.markFromJSON(s.mark))}}Rt.jsonID("addMark",Js);class Un extends Rt{constructor(t,s,r){super(),this.from=t,this.to=s,this.mark=r}apply(t){let s=t.slice(this.from,this.to),r=new ne(Yh(s.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),s.openStart,s.openEnd);return lt.fromReplace(t,this.from,this.to,r)}invert(){return new Js(this.from,this.to,this.mark)}map(t){let s=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return s.deleted&&r.deleted||s.pos>=r.pos?null:new Un(s.pos,r.pos,this.mark)}merge(t){return t instanceof Un&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Un(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,s){if(typeof s.from!="number"||typeof s.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Un(s.from,s.to,t.markFromJSON(s.mark))}}Rt.jsonID("removeMark",Un);class Zs extends Rt{constructor(t,s){super(),this.pos=t,this.mark=s}apply(t){let s=t.nodeAt(this.pos);if(!s)return lt.fail("No node at mark step's position");let r=s.type.create(s.attrs,null,this.mark.addToSet(s.marks));return lt.fromReplace(t,this.pos,this.pos+1,new ne(K.from(r),0,s.isLeaf?0:1))}invert(t){let s=t.nodeAt(this.pos);if(s){let r=this.mark.addToSet(s.marks);if(r.length==s.marks.length){for(let i=0;i<s.marks.length;i++)if(!s.marks[i].isInSet(r))return new Zs(this.pos,s.marks[i]);return new Zs(this.pos,this.mark)}}return new Hi(this.pos,this.mark)}map(t){let s=t.mapResult(this.pos,1);return s.deletedAfter?null:new Zs(s.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,s){if(typeof s.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Zs(s.pos,t.markFromJSON(s.mark))}}Rt.jsonID("addNodeMark",Zs);class Hi extends Rt{constructor(t,s){super(),this.pos=t,this.mark=s}apply(t){let s=t.nodeAt(this.pos);if(!s)return lt.fail("No node at mark step's position");let r=s.type.create(s.attrs,null,this.mark.removeFromSet(s.marks));return lt.fromReplace(t,this.pos,this.pos+1,new ne(K.from(r),0,s.isLeaf?0:1))}invert(t){let s=t.nodeAt(this.pos);return!s||!this.mark.isInSet(s.marks)?this:new Zs(this.pos,this.mark)}map(t){let s=t.mapResult(this.pos,1);return s.deletedAfter?null:new Hi(s.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,s){if(typeof s.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Hi(s.pos,t.markFromJSON(s.mark))}}Rt.jsonID("removeNodeMark",Hi);class pt extends Rt{constructor(t,s,r,i=!1){super(),this.from=t,this.to=s,this.slice=r,this.structure=i}apply(t){return this.structure&&Pd(t,this.from,this.to)?lt.fail("Structure replace would overwrite content"):lt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ln([this.from,this.to-this.from,this.slice.size])}invert(t){return new pt(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let s=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return s.deletedAcross&&r.deletedAcross?null:new pt(s.pos,Math.max(s.pos,r.pos),this.slice)}merge(t){if(!(t instanceof pt)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let s=this.slice.size+t.slice.size==0?ne.empty:new ne(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new pt(this.from,this.to+(t.to-t.from),s,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let s=this.slice.size+t.slice.size==0?ne.empty:new ne(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new pt(t.from,this.to,s,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,s){if(typeof s.from!="number"||typeof s.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new pt(s.from,s.to,ne.fromJSON(t,s.slice),!!s.structure)}}Rt.jsonID("replace",pt);class mt extends Rt{constructor(t,s,r,i,o,l,a=!1){super(),this.from=t,this.to=s,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=a}apply(t){if(this.structure&&(Pd(t,this.from,this.gapFrom)||Pd(t,this.gapTo,this.to)))return lt.fail("Structure gap-replace would overwrite content");let s=t.slice(this.gapFrom,this.gapTo);if(s.openStart||s.openEnd)return lt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,s.content);return r?lt.fromReplace(t,this.from,this.to,r):lt.fail("Content does not fit in gap")}getMap(){return new ln([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let s=this.gapTo-this.gapFrom;return new mt(this.from,this.from+this.slice.size+s,this.from+this.insert,this.from+this.insert+s,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let s=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?s.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return s.deletedAcross&&r.deletedAcross||i<s.pos||o>r.pos?null:new mt(s.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,s){if(typeof s.from!="number"||typeof s.to!="number"||typeof s.gapFrom!="number"||typeof s.gapTo!="number"||typeof s.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new mt(s.from,s.to,s.gapFrom,s.gapTo,ne.fromJSON(t,s.slice),s.insert,!!s.structure)}}Rt.jsonID("replaceAround",mt);function Pd(n,t,s){let r=n.resolve(t),i=s-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function uT(n,t,s,r){let i=[],o=[],l,a;n.doc.nodesBetween(t,s,(c,u,h)=>{if(!c.isInline)return;let f=c.marks;if(!r.isInSet(f)&&h.type.allowsMarkType(r.type)){let p=Math.max(u,t),m=Math.min(u+c.nodeSize,s),v=r.addToSet(f);for(let C=0;C<f.length;C++)f[C].isInSet(v)||(l&&l.to==p&&l.mark.eq(f[C])?l.to=m:i.push(l=new Un(p,m,f[C])));a&&a.to==p?a.to=m:o.push(a=new Js(p,m,r))}}),i.forEach(c=>n.step(c)),o.forEach(c=>n.step(c))}function dT(n,t,s,r){let i=[],o=0;n.doc.nodesBetween(t,s,(l,a)=>{if(!l.isInline)return;o++;let c=null;if(r instanceof Oc){let u=l.marks,h;for(;h=r.isInSet(u);)(c||(c=[])).push(h),u=h.removeFromSet(u)}else r?r.isInSet(l.marks)&&(c=[r]):c=l.marks;if(c&&c.length){let u=Math.min(a+l.nodeSize,s);for(let h=0;h<c.length;h++){let f=c[h],p;for(let m=0;m<i.length;m++){let v=i[m];v.step==o-1&&f.eq(i[m].style)&&(p=v)}p?(p.to=u,p.step=o):i.push({style:f,from:Math.max(a,t),to:u,step:o})}}}),i.forEach(l=>n.step(new Un(l.from,l.to,l.style)))}function Xh(n,t,s,r=s.contentMatch,i=!0){let o=n.doc.nodeAt(t),l=[],a=t+1;for(let c=0;c<o.childCount;c++){let u=o.child(c),h=a+u.nodeSize,f=r.matchType(u.type);if(!f)l.push(new pt(a,h,ne.empty));else{r=f;for(let p=0;p<u.marks.length;p++)s.allowsMarkType(u.marks[p].type)||n.step(new Un(a,h,u.marks[p]));if(i&&u.isText&&s.whitespace!="pre"){let p,m=/\r?\n|\r/g,v;for(;p=m.exec(u.text);)v||(v=new ne(K.from(s.schema.text(" ",s.allowedMarks(u.marks))),0,0)),l.push(new pt(a+p.index,a+p.index+p[0].length,v))}}a=h}if(!r.validEnd){let c=r.fillBefore(K.empty,!0);n.replace(a,a,new ne(c,0,0))}for(let c=l.length-1;c>=0;c--)n.step(l[c])}function hT(n,t,s){return(t==0||n.canReplace(t,n.childCount))&&(s==n.childCount||n.canReplace(0,s))}function Qi(n){let s=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let i=n.$from.node(r),o=n.$from.index(r),l=n.$to.indexAfter(r);if(r<n.depth&&i.canReplace(o,l,s))return r;if(r==0||i.type.spec.isolating||!hT(i,o,l))break}return null}function fT(n,t,s){let{$from:r,$to:i,depth:o}=t,l=r.before(o+1),a=i.after(o+1),c=l,u=a,h=K.empty,f=0;for(let v=o,C=!1;v>s;v--)C||r.index(v)>0?(C=!0,h=K.from(r.node(v).copy(h)),f++):c--;let p=K.empty,m=0;for(let v=o,C=!1;v>s;v--)C||i.after(v+1)<i.end(v)?(C=!0,p=K.from(i.node(v).copy(p)),m++):u++;n.step(new mt(c,u,l,a,new ne(h.append(p),f,m),h.size-f,!0))}function Qh(n,t,s=null,r=n){let i=pT(n,t),o=i&&mT(r,t);return o?i.map(l2).concat({type:t,attrs:s}).concat(o.map(l2)):null}function l2(n){return{type:n,attrs:null}}function pT(n,t){let{parent:s,startIndex:r,endIndex:i}=n,o=s.contentMatchAt(r).findWrapping(t);if(!o)return null;let l=o.length?o[0]:t;return s.canReplaceWith(r,i,l)?o:null}function mT(n,t){let{parent:s,startIndex:r,endIndex:i}=n,o=s.child(r),l=t.contentMatch.findWrapping(o.type);if(!l)return null;let c=(l.length?l[l.length-1]:t).contentMatch;for(let u=r;c&&u<i;u++)c=c.matchType(s.child(u).type);return!c||!c.validEnd?null:l}function gT(n,t,s){let r=K.empty;for(let l=s.length-1;l>=0;l--){if(r.size){let a=s[l].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(s[l].type.create(s[l].attrs,r))}let i=t.start,o=t.end;n.step(new mt(i,o,i,o,new ne(r,0,0),s.length,!0))}function yT(n,t,s,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=n.steps.length;n.doc.nodesBetween(t,s,(l,a)=>{let c=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,c)&&vT(n.doc,n.mapping.slice(o).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!v?u=!1:!m&&v&&(u=!0)}u===!1&&eg(n,l,a,o),Xh(n,n.mapping.slice(o).map(a,1),r,void 0,u===null);let h=n.mapping.slice(o),f=h.map(a,1),p=h.map(a+l.nodeSize,1);return n.step(new mt(f,p,f+1,p-1,new ne(K.from(r.create(c,null,l.marks)),0,0),1,!0)),u===!0&&Q3(n,l,a,o),!1}})}function Q3(n,t,s,r){t.forEach((i,o)=>{if(i.isText){let l,a=/\r?\n|\r/g;for(;l=a.exec(i.text);){let c=n.mapping.slice(r).map(s+1+o+l.index);n.replaceWith(c,c+1,t.type.schema.linebreakReplacement.create())}}})}function eg(n,t,s,r){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let l=n.mapping.slice(r).map(s+1+o);n.replaceWith(l,l+1,t.type.schema.text(`
`))}})}function vT(n,t,s){let r=n.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,s)}function CT(n,t,s,r,i){let o=n.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");s||(s=o.type);let l=s.create(r,null,i||o.marks);if(o.isLeaf)return n.replaceWith(t,t+o.nodeSize,l);if(!s.validContent(o.content))throw new RangeError("Invalid content for node type "+s.name);n.step(new mt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new ne(K.from(l),0,0),1,!0))}function Ai(n,t,s=1,r){let i=n.resolve(t),o=i.depth-s,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,h=s-2;u>o;u--,h--){let f=i.node(u),p=i.index(u);if(f.type.spec.isolating)return!1;let m=f.content.cutByIndex(p,f.childCount),v=r&&r[h+1];v&&(m=m.replaceChild(0,v.type.create(v.attrs)));let C=r&&r[h]||f;if(!f.canReplace(p+1,f.childCount)||!C.type.validContent(m))return!1}let a=i.indexAfter(o),c=r&&r[0];return i.node(o).canReplaceWith(a,a,c?c.type:i.node(o+1).type)}function wT(n,t,s=1,r){let i=n.doc.resolve(t),o=K.empty,l=K.empty;for(let a=i.depth,c=i.depth-s,u=s-1;a>c;a--,u--){o=K.from(i.node(a).copy(o));let h=r&&r[u];l=K.from(h?h.type.create(h.attrs,l):i.node(a).copy(l))}n.step(new pt(t,t,new ne(o.append(l),s,s),!0))}function pr(n,t){let s=n.resolve(t),r=s.index();return tg(s.nodeBefore,s.nodeAfter)&&s.parent.canReplace(r,r+1)}function bT(n,t){t.content.size||n.type.compatibleContent(t.type);let s=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),l=o.type==r?n.type.schema.nodes.text:o.type;if(s=s.matchType(l),!s||!n.type.allowsMarks(o.marks))return!1}return s.validEnd}function tg(n,t){return!!(n&&t&&!n.isLeaf&&bT(n,t))}function Lc(n,t,s=-1){let r=n.resolve(t);for(let i=r.depth;;i--){let o,l,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,l=r.nodeAfter):s>0?(o=r.node(i+1),a++,l=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),l=r.node(i+1)),o&&!o.isTextblock&&tg(o,l)&&r.node(i).canReplace(a,a+1))return t;if(i==0)break;t=s<0?r.before(i):r.after(i)}}function kT(n,t,s){let r=null,{linebreakReplacement:i}=n.doc.type.schema,o=n.doc.resolve(t-s),l=o.node().type;if(i&&l.inlineContent){let h=l.whitespace=="pre",f=!!l.contentMatch.matchType(i);h&&!f?r=!1:!h&&f&&(r=!0)}let a=n.steps.length;if(r===!1){let h=n.doc.resolve(t+s);eg(n,h.node(),h.before(),a)}l.inlineContent&&Xh(n,t+s-1,l,o.node().contentMatchAt(o.index()),r==null);let c=n.mapping.slice(a),u=c.map(t-s);if(n.step(new pt(u,c.map(t+s,-1),ne.empty,!0)),r===!0){let h=n.doc.resolve(u);Q3(n,h.node(),h.before(),n.steps.length)}return n}function xT(n,t,s){let r=n.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),s))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,s))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,s))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function ng(n,t,s){let r=n.resolve(t);if(!s.content.size)return t;let i=s.content;for(let o=0;o<s.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(s.openStart==0&&s.size?2:1);o++)for(let l=r.depth;l>=0;l--){let a=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,c=r.index(l)+(a>0?1:0),u=r.node(l),h=!1;if(o==1)h=u.canReplace(c,c,i);else{let f=u.contentMatchAt(c).findWrapping(i.firstChild.type);h=f&&u.canReplaceWith(c,c,f[0])}if(h)return a==0?r.pos:a<0?r.before(l+1):r.after(l+1)}return null}function Pc(n,t,s=t,r=ne.empty){if(t==s&&!r.size)return null;let i=n.resolve(t),o=n.resolve(s);return sg(i,o,r)?new pt(t,s,r):new _T(i,o,r).fit()}function sg(n,t,s){return!s.openStart&&!s.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),s.content)}class _T{constructor(t,s,r){this.$from=t,this.$to=s,this.unplaced=r,this.frontier=[],this.placed=K.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=K.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),s=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,l=r.depth,a=i.depth;for(;l&&a&&o.childCount==1;)o=o.firstChild.content,l--,a--;let c=new ne(o,l,a);return t>-1?new mt(r.pos,t,this.$to.pos,this.$to.end(),c,s):c.size||r.pos!=this.$to.pos?new pt(r.pos,i.pos,c):null}findFittable(){let t=this.unplaced.openStart;for(let s=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=s.firstChild;if(s.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}s=o.content}for(let s=1;s<=2;s++)for(let r=s==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Nu(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:c,match:u}=this.frontier[a],h,f=null;if(s==1&&(l?u.matchType(l.type)||(f=u.fillBefore(K.from(l),!1)):o&&c.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:f};if(s==2&&l&&(h=u.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:h};if(o&&u.matchType(o.type))break}}}openMore(){let{content:t,openStart:s,openEnd:r}=this.unplaced,i=Nu(t,s);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ne(t,s+1,Math.max(r,i.size+s>=t.size-r?s+1:0)),!0)}dropNode(){let{content:t,openStart:s,openEnd:r}=this.unplaced,i=Nu(t,s);if(i.childCount<=1&&s>0){let o=t.size-s<=s+i.size;this.unplaced=new ne(ko(t,s-1,1),s-1,o?s-1:r)}else this.unplaced=new ne(ko(t,s,1),s,r)}placeNodes({sliceDepth:t,frontierDepth:s,parent:r,inject:i,wrap:o}){for(;this.depth>s;)this.closeFrontierNode();if(o)for(let C=0;C<o.length;C++)this.openFrontierNode(o[C]);let l=this.unplaced,a=r?r.content:l.content,c=l.openStart-t,u=0,h=[],{match:f,type:p}=this.frontier[s];if(i){for(let C=0;C<i.childCount;C++)h.push(i.child(C));f=f.matchFragment(i)}let m=a.size+t-(l.content.size-l.openEnd);for(;u<a.childCount;){let C=a.child(u),x=f.matchType(C.type);if(!x)break;u++,(u>1||c==0||C.content.size)&&(f=x,h.push(rg(C.mark(p.allowedMarks(C.marks)),u==1?c:0,u==a.childCount?m:-1)))}let v=u==a.childCount;v||(m=-1),this.placed=xo(this.placed,s,K.from(h)),this.frontier[s].match=f,v&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let C=0,x=a;C<m;C++){let _=x.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),x=_.content}this.unplaced=v?t==0?ne.empty:new ne(ko(l.content,t-1,1),t-1,m<0?l.openEnd:t-1):new ne(ko(l.content,t,u),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],s;if(!t.type.isTextblock||!Du(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(s=this.findCloseLevel(this.$to))&&s.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let s=Math.min(this.depth,t.depth);s>=0;s--){let{match:r,type:i}=this.frontier[s],o=s<t.depth&&t.end(s+1)==t.pos+(t.depth-(s+1)),l=Du(t,s,i,r,o);if(l){for(let a=s-1;a>=0;a--){let{match:c,type:u}=this.frontier[a],h=Du(t,a,u,c,!0);if(!h||h.childCount)continue e}return{depth:s,fit:l,move:o?t.doc.resolve(t.after(s+1)):t}}}}close(t){let s=this.findCloseLevel(t);if(!s)return null;for(;this.depth>s.depth;)this.closeFrontierNode();s.fit.childCount&&(this.placed=xo(this.placed,s.depth,s.fit)),t=s.move;for(let r=s.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,s=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=xo(this.placed,this.depth,K.from(t.create(s,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let s=this.frontier.pop().match.fillBefore(K.empty,!0);s.childCount&&(this.placed=xo(this.placed,this.frontier.length,s))}}function ko(n,t,s){return t==0?n.cutByIndex(s,n.childCount):n.replaceChild(0,n.firstChild.copy(ko(n.firstChild.content,t-1,s)))}function xo(n,t,s){return t==0?n.append(s):n.replaceChild(n.childCount-1,n.lastChild.copy(xo(n.lastChild.content,t-1,s)))}function Nu(n,t){for(let s=0;s<t;s++)n=n.firstChild.content;return n}function rg(n,t,s){if(t<=0)return n;let r=n.content;return t>1&&(r=r.replaceChild(0,rg(r.firstChild,t-1,r.childCount==1?s-1:0))),t>0&&(r=n.type.contentMatch.fillBefore(r).append(r),s<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),n.copy(r)}function Du(n,t,s,r,i){let o=n.node(t),l=i?n.indexAfter(t):n.index(t);if(l==o.childCount&&!s.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,l);return a&&!ST(s,o.content,l)?a:null}function ST(n,t,s){for(let r=s;r<t.childCount;r++)if(!n.allowsMarks(t.child(r).marks))return!0;return!1}function TT(n){return n.spec.defining||n.spec.definingForContent}function ET(n,t,s,r){if(!r.size)return n.deleteRange(t,s);let i=n.doc.resolve(t),o=n.doc.resolve(s);if(sg(i,o,r))return n.step(new pt(t,s,r));let l=og(i,n.doc.resolve(s));l[l.length-1]==0&&l.pop();let a=-(i.depth+1);l.unshift(a);for(let p=i.depth,m=i.pos-1;p>0;p--,m--){let v=i.node(p).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;l.indexOf(p)>-1?a=p:i.before(p)==m&&l.splice(1,0,-p)}let c=l.indexOf(a),u=[],h=r.openStart;for(let p=r.content,m=0;;m++){let v=p.firstChild;if(u.push(v),m==r.openStart)break;p=v.content}for(let p=h-1;p>=0;p--){let m=u[p],v=TT(m.type);if(v&&!m.sameMarkup(i.node(Math.abs(a)-1)))h=p;else if(v||!m.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let m=(p+h+1)%(r.openStart+1),v=u[m];if(v)for(let C=0;C<l.length;C++){let x=l[(C+c)%l.length],_=!0;x<0&&(_=!1,x=-x);let M=i.node(x-1),E=i.index(x-1);if(M.canReplaceWith(E,E,v.type,v.marks))return n.replace(i.before(x),_?o.after(x):s,new ne(ig(r.content,0,r.openStart,m),m,r.openEnd))}}let f=n.steps.length;for(let p=l.length-1;p>=0&&(n.replace(t,s,r),!(n.steps.length>f));p--){let m=l[p];m<0||(t=i.before(m),s=o.after(m))}}function ig(n,t,s,r,i){if(t<s){let o=n.firstChild;n=n.replaceChild(0,o.copy(ig(o.content,t+1,s,r,o)))}if(t>r){let o=i.contentMatchAt(0),l=o.fillBefore(n).append(n);n=l.append(o.matchFragment(l).fillBefore(K.empty,!0))}return n}function MT(n,t,s,r){if(!r.isInline&&t==s&&n.doc.resolve(t).parent.content.size){let i=xT(n.doc,t,r.type);i!=null&&(t=s=i)}n.replaceRange(t,s,new ne(K.from(r),0,0))}function AT(n,t,s){let r=n.doc.resolve(t),i=n.doc.resolve(s),o=og(r,i);for(let l=0;l<o.length;l++){let a=o[l],c=l==o.length-1;if(c&&a==0||r.node(a).type.contentMatch.validEnd)return n.delete(r.start(a),i.end(a));if(a>0&&(c||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return n.delete(r.before(a),i.after(a))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(t-r.start(l)==r.depth-l&&s>r.end(l)&&i.end(l)-s!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return n.delete(r.before(l),s);n.delete(t,s)}function og(n,t){let s=[],r=Math.min(n.depth,t.depth);for(let i=r;i>=0;i--){let o=n.start(i);if(o<n.pos-(n.depth-i)||t.end(i)>t.pos+(t.depth-i)||n.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==n.depth&&i==t.depth&&n.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&s.push(i)}return s}class Ii extends Rt{constructor(t,s,r){super(),this.pos=t,this.attr=s,this.value=r}apply(t){let s=t.nodeAt(this.pos);if(!s)return lt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in s.attrs)r[o]=s.attrs[o];r[this.attr]=this.value;let i=s.type.create(r,null,s.marks);return lt.fromReplace(t,this.pos,this.pos+1,new ne(K.from(i),0,s.isLeaf?0:1))}getMap(){return ln.empty}invert(t){return new Ii(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let s=t.mapResult(this.pos,1);return s.deletedAfter?null:new Ii(s.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,s){if(typeof s.pos!="number"||typeof s.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ii(s.pos,s.attr,s.value)}}Rt.jsonID("attr",Ii);class nl extends Rt{constructor(t,s){super(),this.attr=t,this.value=s}apply(t){let s=Object.create(null);for(let i in t.attrs)s[i]=t.attrs[i];s[this.attr]=this.value;let r=t.type.create(s,t.content,t.marks);return lt.ok(r)}getMap(){return ln.empty}invert(t){return new nl(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,s){if(typeof s.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new nl(s.attr,s.value)}}Rt.jsonID("docAttr",nl);let Ui=class extends Error{};Ui=function n(t){let s=Error.call(this,t);return s.__proto__=n.prototype,s};Ui.prototype=Object.create(Error.prototype);Ui.prototype.constructor=Ui;Ui.prototype.name="TransformError";class IT{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Mi}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let s=this.maybeStep(t);if(s.failed)throw new Ui(s.failed);return this}maybeStep(t){let s=t.apply(this.doc);return s.failed||this.addStep(t,s.doc),s}get docChanged(){return this.steps.length>0}addStep(t,s){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=s}replace(t,s=t,r=ne.empty){let i=Pc(this.doc,t,s,r);return i&&this.step(i),this}replaceWith(t,s,r){return this.replace(t,s,new ne(K.from(r),0,0))}delete(t,s){return this.replace(t,s,ne.empty)}insert(t,s){return this.replaceWith(t,t,s)}replaceRange(t,s,r){return ET(this,t,s,r),this}replaceRangeWith(t,s,r){return MT(this,t,s,r),this}deleteRange(t,s){return AT(this,t,s),this}lift(t,s){return fT(this,t,s),this}join(t,s=1){return kT(this,t,s),this}wrap(t,s){return gT(this,t,s),this}setBlockType(t,s=t,r,i=null){return yT(this,t,s,r,i),this}setNodeMarkup(t,s,r=null,i){return CT(this,t,s,r,i),this}setNodeAttribute(t,s,r){return this.step(new Ii(t,s,r)),this}setDocAttribute(t,s){return this.step(new nl(t,s)),this}addNodeMark(t,s){return this.step(new Zs(t,s)),this}removeNodeMark(t,s){if(!(s instanceof We)){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(s=s.isInSet(r.marks),!s)return this}return this.step(new Hi(t,s)),this}split(t,s=1,r){return wT(this,t,s,r),this}addMark(t,s,r){return uT(this,t,s,r),this}removeMark(t,s,r){return dT(this,t,s,r),this}clearIncompatible(t,s,r){return Xh(this,t,s,r),this}}const Ru=Object.create(null);class Se{constructor(t,s,r){this.$anchor=t,this.$head=s,this.ranges=r||[new OT(t.min(s),t.max(s))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let s=0;s<t.length;s++)if(t[s].$from.pos!=t[s].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,s=ne.empty){let r=s.content.lastChild,i=null;for(let a=0;a<s.openEnd;a++)i=r,r=r.lastChild;let o=t.steps.length,l=this.ranges;for(let a=0;a<l.length;a++){let{$from:c,$to:u}=l[a],h=t.mapping.slice(o);t.replaceRange(h.map(c.pos),h.map(u.pos),a?ne.empty:s),a==0&&u2(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,s){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:a}=i[o],c=t.mapping.slice(r),u=c.map(l.pos),h=c.map(a.pos);o?t.deleteRange(u,h):(t.replaceRangeWith(u,h,s),u2(t,r,s.isInline?-1:1))}}static findFrom(t,s,r=!1){let i=t.parent.inlineContent?new _e(t):pi(t.node(0),t.parent,t.pos,t.index(),s,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let l=s<0?pi(t.node(0),t.node(o),t.before(o+1),t.index(o),s,r):pi(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,s,r);if(l)return l}return null}static near(t,s=1){return this.findFrom(t,s)||this.findFrom(t,-s)||new Ln(t.node(0))}static atStart(t){return pi(t,t,0,0,1)||new Ln(t)}static atEnd(t){return pi(t,t,t.content.size,t.childCount,-1)||new Ln(t)}static fromJSON(t,s){if(!s||!s.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ru[s.type];if(!r)throw new RangeError(`No selection type ${s.type} defined`);return r.fromJSON(t,s)}static jsonID(t,s){if(t in Ru)throw new RangeError("Duplicate use of selection JSON ID "+t);return Ru[t]=s,s.prototype.jsonID=t,s}getBookmark(){return _e.between(this.$anchor,this.$head).getBookmark()}}Se.prototype.visible=!0;class OT{constructor(t,s){this.$from=t,this.$to=s}}let a2=!1;function c2(n){!a2&&!n.parent.inlineContent&&(a2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class _e extends Se{constructor(t,s=t){c2(t),c2(s),super(t,s)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,s){let r=t.resolve(s.map(this.head));if(!r.parent.inlineContent)return Se.near(r);let i=t.resolve(s.map(this.anchor));return new _e(i.parent.inlineContent?i:r,r)}replace(t,s=ne.empty){if(super.replace(t,s),s==ne.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof _e&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Nc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,s){if(typeof s.anchor!="number"||typeof s.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new _e(t.resolve(s.anchor),t.resolve(s.head))}static create(t,s,r=s){let i=t.resolve(s);return new this(i,r==s?i:t.resolve(r))}static between(t,s,r){let i=t.pos-s.pos;if((!r||i)&&(r=i>=0?1:-1),!s.parent.inlineContent){let o=Se.findFrom(s,r,!0)||Se.findFrom(s,-r,!0);if(o)s=o.$head;else return Se.near(s,r)}return t.parent.inlineContent||(i==0?t=s:(t=(Se.findFrom(t,-r,!0)||Se.findFrom(t,r,!0)).$anchor,t.pos<s.pos!=i<0&&(t=s))),new _e(t,s)}}Se.jsonID("text",_e);class Nc{constructor(t,s){this.anchor=t,this.head=s}map(t){return new Nc(t.map(this.anchor),t.map(this.head))}resolve(t){return _e.between(t.resolve(this.anchor),t.resolve(this.head))}}class ye extends Se{constructor(t){let s=t.nodeAfter,r=t.node(0).resolve(t.pos+s.nodeSize);super(t,r),this.node=s}map(t,s){let{deleted:r,pos:i}=s.mapResult(this.anchor),o=t.resolve(i);return r?Se.near(o):new ye(o)}content(){return new ne(K.from(this.node),0,0)}eq(t){return t instanceof ye&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ef(this.anchor)}static fromJSON(t,s){if(typeof s.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ye(t.resolve(s.anchor))}static create(t,s){return new ye(t.resolve(s))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}ye.prototype.visible=!1;Se.jsonID("node",ye);class ef{constructor(t){this.anchor=t}map(t){let{deleted:s,pos:r}=t.mapResult(this.anchor);return s?new Nc(r,r):new ef(r)}resolve(t){let s=t.resolve(this.anchor),r=s.nodeAfter;return r&&ye.isSelectable(r)?new ye(s):Se.near(s)}}class Ln extends Se{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,s=ne.empty){if(s==ne.empty){t.delete(0,t.doc.content.size);let r=Se.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,s)}toJSON(){return{type:"all"}}static fromJSON(t){return new Ln(t)}map(t){return new Ln(t)}eq(t){return t instanceof Ln}getBookmark(){return LT}}Se.jsonID("all",Ln);const LT={map(){return this},resolve(n){return new Ln(n)}};function pi(n,t,s,r,i,o=!1){if(t.inlineContent)return _e.create(n,s);for(let l=r-(i>0?0:1);i>0?l<t.childCount:l>=0;l+=i){let a=t.child(l);if(a.isAtom){if(!o&&ye.isSelectable(a))return ye.create(n,s-(i<0?a.nodeSize:0))}else{let c=pi(n,a,s+i,i<0?a.childCount:0,i,o);if(c)return c}s+=a.nodeSize*i}return null}function u2(n,t,s){let r=n.steps.length-1;if(r<t)return;let i=n.steps[r];if(!(i instanceof pt||i instanceof mt))return;let o=n.mapping.maps[r],l;o.forEach((a,c,u,h)=>{l==null&&(l=h)}),n.setSelection(Se.near(n.doc.resolve(l),s))}const d2=1,Ql=2,h2=4;class PT extends IT{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|d2)&~Ql,this.storedMarks=null,this}get selectionSet(){return(this.updated&d2)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Ql,this}ensureMarks(t){return We.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ql)>0}addStep(t,s){super.addStep(t,s),this.updated=this.updated&~Ql,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,s=!0){let r=this.selection;return s&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||We.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,s,r){let i=this.doc.type.schema;if(s==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=s),r=r??s,!t)return this.deleteRange(s,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(s);o=r==s?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(s,r,i.text(t,o)),this.selection.empty||this.setSelection(Se.near(this.selection.$to)),this}}setMeta(t,s){return this.meta[typeof t=="string"?t:t.key]=s,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=h2,this}get scrolledIntoView(){return(this.updated&h2)>0}}function f2(n,t){return!t||!n?n:n.bind(t)}class _o{constructor(t,s,r){this.name=t,this.init=f2(s.init,r),this.apply=f2(s.apply,r)}}const NT=[new _o("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new _o("selection",{init(n,t){return n.selection||Se.atStart(t.doc)},apply(n){return n.selection}}),new _o("storedMarks",{init(n){return n.storedMarks||null},apply(n,t,s,r){return r.selection.$cursor?n.storedMarks:null}}),new _o("scrollToSelection",{init(){return 0},apply(n,t){return n.scrolledIntoView?t+1:t}})];class $u{constructor(t,s){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=NT.slice(),s&&s.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new _o(r.key,r.spec.state,r))})}}class yi{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,s=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=s){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let s=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let a=this.config.plugins[l];if(a.spec.appendTransaction){let c=i?i[l].n:0,u=i?i[l].state:this,h=c<s.length&&a.spec.appendTransaction.call(a,c?s.slice(c):s,u,r);if(h&&r.filterTransaction(h,l)){if(h.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<l?{state:r,n:s.length}:{state:this,n:0})}s.push(h),r=r.applyInner(h),o=!0}i&&(i[l]={state:r,n:s.length})}}if(!o)return{state:r,transactions:s}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let s=new yi(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];s[o.name]=o.apply(t,this[o.name],this,s)}return s}get tr(){return new PT(this)}static create(t){let s=new $u(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new yi(s);for(let i=0;i<s.fields.length;i++)r[s.fields[i].name]=s.fields[i].init(t,r);return r}reconfigure(t){let s=new $u(this.schema,t.plugins),r=s.fields,i=new yi(s);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(t,i)}return i}toJSON(t){let s={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(s.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(s[r]=o.toJSON.call(i,this[i.key]))}return s}static fromJSON(t,s,r){if(!s)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new $u(t.schema,t.plugins),o=new yi(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=Rr.fromJSON(t.schema,s.doc);else if(l.name=="selection")o.selection=Se.fromJSON(o.doc,s.selection);else if(l.name=="storedMarks")s.storedMarks&&(o.storedMarks=s.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let c=r[a],u=c.spec.state;if(c.key==l.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(s,a)){o[l.name]=u.fromJSON.call(c,t,s[a],o);return}}o[l.name]=l.init(t,o)}}),o}}function lg(n,t,s){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=lg(i,t,{})),s[r]=i}return s}class rn{constructor(t){this.spec=t,this.props={},t.props&&lg(t.props,this,this.props),this.key=t.key?t.key.key:ag("plugin")}getState(t){return t[this.key]}}const Fu=Object.create(null);function ag(n){return n in Fu?n+"$"+ ++Fu[n]:(Fu[n]=0,n+"$")}class Jn{constructor(t="key"){this.key=ag(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const kt=function(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t},sl=function(n){let t=n.assignedSlot||n.parentNode;return t&&t.nodeType==11?t.host:t};let Nd=null;const ss=function(n,t,s){let r=Nd||(Nd=document.createRange());return r.setEnd(n,s??n.nodeValue.length),r.setStart(n,t||0),r},DT=function(){Nd=null},qr=function(n,t,s,r){return s&&(p2(n,t,s,r,-1)||p2(n,t,s,r,1))},RT=/^(img|br|input|textarea|hr)$/i;function p2(n,t,s,r,i){for(;;){if(n==s&&t==r)return!0;if(t==(i<0?0:yn(n))){let o=n.parentNode;if(!o||o.nodeType!=1||_l(n)||RT.test(n.nodeName)||n.contentEditable=="false")return!1;t=kt(n)+(i<0?0:1),n=o}else if(n.nodeType==1){if(n=n.childNodes[t+(i<0?-1:0)],n.contentEditable=="false")return!1;t=i<0?yn(n):0}else return!1}}function yn(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function $T(n,t){for(;;){if(n.nodeType==3&&t)return n;if(n.nodeType==1&&t>0){if(n.contentEditable=="false")return null;n=n.childNodes[t-1],t=yn(n)}else if(n.parentNode&&!_l(n))t=kt(n),n=n.parentNode;else return null}}function FT(n,t){for(;;){if(n.nodeType==3&&t<n.nodeValue.length)return n;if(n.nodeType==1&&t<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[t],t=0}else if(n.parentNode&&!_l(n))t=kt(n)+1,n=n.parentNode;else return null}}function BT(n,t,s){for(let r=t==0,i=t==yn(n);r||i;){if(n==s)return!0;let o=kt(n);if(n=n.parentNode,!n)return!1;r=r&&o==0,i=i&&o==yn(n)}}function _l(n){let t;for(let s=n;s&&!(t=s.pmViewDesc);s=s.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}const Dc=function(n){return n.focusNode&&qr(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function xr(n,t){let s=document.createEvent("Event");return s.initEvent("keydown",!0,!0),s.keyCode=n,s.key=s.code=t,s}function VT(n){let t=n.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function HT(n,t,s){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(t,s);if(r)return{node:r.offsetNode,offset:Math.min(yn(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(t,s);if(r)return{node:r.startContainer,offset:Math.min(yn(r.startContainer),r.startOffset)}}}const Kn=typeof navigator<"u"?navigator:null,m2=typeof document<"u"?document:null,mr=Kn&&Kn.userAgent||"",Dd=/Edge\/(\d+)/.exec(mr),cg=/MSIE \d/.exec(mr),Rd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mr),tn=!!(cg||Rd||Dd),rr=cg?document.documentMode:Rd?+Rd[1]:Dd?+Dd[1]:0,Dn=!tn&&/gecko\/(\d+)/i.test(mr);Dn&&+(/Firefox\/(\d+)/.exec(mr)||[0,0])[1];const $d=!tn&&/Chrome\/(\d+)/.exec(mr),Pt=!!$d,ug=$d?+$d[1]:0,qt=!tn&&!!Kn&&/Apple Computer/.test(Kn.vendor),ji=qt&&(/Mobile\/\w+/.test(mr)||!!Kn&&Kn.maxTouchPoints>2),gn=ji||(Kn?/Mac/.test(Kn.platform):!1),UT=Kn?/Win/.test(Kn.platform):!1,Sn=/Android \d/.test(mr),Sl=!!m2&&"webkitFontSmoothing"in m2.documentElement.style,jT=Sl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function zT(n){let t=n.defaultView&&n.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function es(n,t){return typeof n=="number"?n:n[t]}function qT(n){let t=n.getBoundingClientRect(),s=t.width/n.offsetWidth||1,r=t.height/n.offsetHeight||1;return{left:t.left,right:t.left+n.clientWidth*s,top:t.top,bottom:t.top+n.clientHeight*r}}function g2(n,t,s){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,o=n.dom.ownerDocument;for(let l=s||n.dom;l;l=sl(l)){if(l.nodeType!=1)continue;let a=l,c=a==o.body,u=c?zT(o):qT(a),h=0,f=0;if(t.top<u.top+es(r,"top")?f=-(u.top-t.top+es(i,"top")):t.bottom>u.bottom-es(r,"bottom")&&(f=t.bottom-t.top>u.bottom-u.top?t.top+es(i,"top")-u.top:t.bottom-u.bottom+es(i,"bottom")),t.left<u.left+es(r,"left")?h=-(u.left-t.left+es(i,"left")):t.right>u.right-es(r,"right")&&(h=t.right-u.right+es(i,"right")),h||f)if(c)o.defaultView.scrollBy(h,f);else{let p=a.scrollLeft,m=a.scrollTop;f&&(a.scrollTop+=f),h&&(a.scrollLeft+=h);let v=a.scrollLeft-p,C=a.scrollTop-m;t={left:t.left-v,top:t.top-C,right:t.right-v,bottom:t.bottom-C}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(l).position))break}}function WT(n){let t=n.dom.getBoundingClientRect(),s=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,l=s+1;l<Math.min(innerHeight,t.bottom);l+=5){let a=n.root.elementFromPoint(o,l);if(!a||a==n.dom||!n.dom.contains(a))continue;let c=a.getBoundingClientRect();if(c.top>=s-20){r=a,i=c.top;break}}return{refDOM:r,refTop:i,stack:dg(n.dom)}}function dg(n){let t=[],s=n.ownerDocument;for(let r=n;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=s);r=sl(r));return t}function KT({refDOM:n,refTop:t,stack:s}){let r=n?n.getBoundingClientRect().top:0;hg(s,r==0?0:r-t)}function hg(n,t){for(let s=0;s<n.length;s++){let{dom:r,top:i,left:o}=n[s];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ci=null;function GT(n){if(n.setActive)return n.setActive();if(ci)return n.focus(ci);let t=dg(n);n.focus(ci==null?{get preventScroll(){return ci={preventScroll:!0},!0}}:void 0),ci||(ci=!1,hg(t,0))}function fg(n,t){let s,r=2e8,i,o=0,l=t.top,a=t.top,c,u;for(let h=n.firstChild,f=0;h;h=h.nextSibling,f++){let p;if(h.nodeType==1)p=h.getClientRects();else if(h.nodeType==3)p=ss(h).getClientRects();else continue;for(let m=0;m<p.length;m++){let v=p[m];if(v.top<=l&&v.bottom>=a){l=Math.max(v.bottom,l),a=Math.min(v.top,a);let C=v.left>t.left?v.left-t.left:v.right<t.left?t.left-v.right:0;if(C<r){s=h,r=C,i=C&&s.nodeType==3?{left:v.right<t.left?v.right:v.left,top:t.top}:t,h.nodeType==1&&C&&(o=f+(t.left>=(v.left+v.right)/2?1:0));continue}}else v.top>t.top&&!c&&v.left<=t.left&&v.right>=t.left&&(c=h,u={left:Math.max(v.left,Math.min(v.right,t.left)),top:v.top});!s&&(t.left>=v.right&&t.top>=v.top||t.left>=v.left&&t.top>=v.bottom)&&(o=f+1)}}return!s&&c&&(s=c,i=u,r=0),s&&s.nodeType==3?JT(s,i):!s||r&&s.nodeType==1?{node:n,offset:o}:fg(s,i)}function JT(n,t){let s=n.nodeValue.length,r=document.createRange();for(let i=0;i<s;i++){r.setEnd(n,i+1),r.setStart(n,i);let o=Rs(r,1);if(o.top!=o.bottom&&tf(t,o))return{node:n,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:n,offset:0}}function tf(n,t){return n.left>=t.left-1&&n.left<=t.right+1&&n.top>=t.top-1&&n.top<=t.bottom+1}function ZT(n,t){let s=n.parentNode;return s&&/^li$/i.test(s.nodeName)&&t.left<n.getBoundingClientRect().left?s:n}function YT(n,t,s){let{node:r,offset:i}=fg(t,s),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&s.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(r,i,o)}function XT(n,t,s,r){let i=-1;for(let o=t,l=!1;o!=n.dom;){let a=n.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let c=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!l&&c.left>r.left||c.top>r.top?i=a.posBefore:(!l&&c.right<r.left||c.bottom<r.top)&&(i=a.posAfter),l=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:n.docView.posFromDOM(t,s,-1)}function pg(n,t,s){let r=n.childNodes.length;if(r&&s.top<s.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-s.top)/(s.bottom-s.top))-2)),o=i;;){let l=n.childNodes[o];if(l.nodeType==1){let a=l.getClientRects();for(let c=0;c<a.length;c++){let u=a[c];if(tf(t,u))return pg(l,t,u)}}if((o=(o+1)%r)==i)break}return n}function QT(n,t){let s=n.dom.ownerDocument,r,i=0,o=HT(s,t.left,t.top);o&&({node:r,offset:i}=o);let l=(n.root.elementFromPoint?n.root:s).elementFromPoint(t.left,t.top),a;if(!l||!n.dom.contains(l.nodeType!=1?l.parentNode:l)){let u=n.dom.getBoundingClientRect();if(!tf(t,u)||(l=pg(n.dom,t,u),!l))return null}if(qt)for(let u=l;r&&u;u=sl(u))u.draggable&&(r=void 0);if(l=ZT(l,t),r){if(Dn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let h=r.childNodes[i],f;h.nodeName=="IMG"&&(f=h.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let u;Sl&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=XT(n,r,i,t))}a==null&&(a=YT(n,l,t));let c=n.docView.nearestDesc(l,!0);return{pos:a,inside:c?c.posAtStart-c.border:-1}}function y2(n){return n.top<n.bottom||n.left<n.right}function Rs(n,t){let s=n.getClientRects();if(s.length){let r=s[t<0?0:s.length-1];if(y2(r))return r}return Array.prototype.find.call(s,y2)||n.getBoundingClientRect()}const eE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function mg(n,t,s){let{node:r,offset:i,atom:o}=n.docView.domFromPos(t,s<0?-1:1),l=Sl||Dn;if(r.nodeType==3)if(l&&(eE.test(r.nodeValue)||(s<0?!i:i==r.nodeValue.length))){let c=Rs(ss(r,i,i),s);if(Dn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Rs(ss(r,i-1,i-1),-1);if(u.top==c.top){let h=Rs(ss(r,i,i+1),-1);if(h.top!=c.top)return Co(h,h.left<u.left)}}return c}else{let c=i,u=i,h=s<0?1:-1;return s<0&&!i?(u++,h=-1):s>=0&&i==r.nodeValue.length?(c--,h=1):s<0?c--:u++,Co(Rs(ss(r,c,u),h),h<0)}if(!n.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(s<0||i==yn(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return Bu(c.getBoundingClientRect(),!1)}if(o==null&&i<yn(r)){let c=r.childNodes[i];if(c.nodeType==1)return Bu(c.getBoundingClientRect(),!0)}return Bu(r.getBoundingClientRect(),s>=0)}if(o==null&&i&&(s<0||i==yn(r))){let c=r.childNodes[i-1],u=c.nodeType==3?ss(c,yn(c)-(l?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Co(Rs(u,1),!1)}if(o==null&&i<yn(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?ss(c,0,l?0:1):c.nodeType==1?c:null:null;if(u)return Co(Rs(u,-1),!0)}return Co(Rs(r.nodeType==3?ss(r):r,-s),s>=0)}function Co(n,t){if(n.width==0)return n;let s=t?n.left:n.right;return{top:n.top,bottom:n.bottom,left:s,right:s}}function Bu(n,t){if(n.height==0)return n;let s=t?n.top:n.bottom;return{top:s,bottom:s,left:n.left,right:n.right}}function gg(n,t,s){let r=n.state,i=n.root.activeElement;r!=t&&n.updateState(t),i!=n.dom&&n.focus();try{return s()}finally{r!=t&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function tE(n,t,s){let r=t.selection,i=s=="up"?r.$from:r.$to;return gg(n,t,()=>{let{node:o}=n.docView.domFromPos(i.pos,s=="up"?-1:1);for(;;){let a=n.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let l=mg(n,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let c;if(a.nodeType==1)c=a.getClientRects();else if(a.nodeType==3)c=ss(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let h=c[u];if(h.bottom>h.top+1&&(s=="up"?l.top-h.top>(h.bottom-l.top)*2:h.bottom-l.bottom>(l.bottom-h.top)*2))return!1}}return!0})}const nE=/[\u0590-\u08ac]/;function sE(n,t,s){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,a=n.domSelection();return a?!nE.test(r.parent.textContent)||!a.modify?s=="left"||s=="backward"?o:l:gg(n,t,()=>{let{focusNode:c,focusOffset:u,anchorNode:h,anchorOffset:f}=n.domSelectionRange(),p=a.caretBidiLevel;a.modify("move",s,"character");let m=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:v,focusOffset:C}=n.domSelectionRange(),x=v&&!m.contains(v.nodeType==1?v:v.parentNode)||c==v&&u==C;try{a.collapse(h,f),c&&(c!=h||u!=f)&&a.extend&&a.extend(c,u)}catch{}return p!=null&&(a.caretBidiLevel=p),x}):r.pos==r.start()||r.pos==r.end()}let v2=null,C2=null,w2=!1;function rE(n,t,s){return v2==t&&C2==s?w2:(v2=t,C2=s,w2=s=="up"||s=="down"?tE(n,t,s):sE(n,t,s))}const wn=0,b2=1,Tr=2,Gn=3;class Tl{constructor(t,s,r,i){this.parent=t,this.children=s,this.dom=r,this.contentDOM=i,this.dirty=wn,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,s,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let s=0;s<this.children.length;s++)t+=this.children[s].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let s=0,r=this.posAtStart;;s++){let i=this.children[s];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,s,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,l;if(t==this.contentDOM)o=t.childNodes[s-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(t==this.contentDOM)o=t.childNodes[s];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=s>kt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(s==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&s==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,s=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!s||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(t.nodeType==1?t:t.parentNode):l==t))r=!1;else return o}}getDesc(t){let s=t.pmViewDesc;for(let r=s;r;r=r.parent)if(r==this)return s}posFromDOM(t,s,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,s,r)}return-1}descAt(t){for(let s=0,r=0;s<this.children.length;s++){let i=this.children[s],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,s){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],a=o+l.size;if(a>t||l instanceof vg){i=t-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,s);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof yg&&o.side>=0;r--);if(s<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&s&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,s):{node:this.contentDOM,offset:o?kt(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,s):{node:this.contentDOM,offset:o?kt(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,s,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:s,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,a=0;;a++){let c=this.children[a],u=l+c.size;if(i==-1&&t<=u){let h=l+c.border;if(t>=h&&s<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(t,s,h);t=l;for(let f=a;f>0;f--){let p=this.children[f-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=kt(p.dom)+1;break}t-=p.size}i==-1&&(i=0)}if(i>-1&&(u>s||a==this.children.length-1)){s=u;for(let h=a+1;h<this.children.length;h++){let f=this.children[h];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=kt(f.dom);break}s+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=u}return{node:this.contentDOM,from:t,to:s,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let s=this.children[t<0?0:this.children.length-1];return s.size==0||s.emptyChildAt(t)}domAfterPos(t){let{node:s,offset:r}=this.domFromPos(t,0);if(s.nodeType!=1||r==s.childNodes.length)throw new RangeError("No node after pos "+t);return s.childNodes[r]}setSelection(t,s,r,i=!1){let o=Math.min(t,s),l=Math.max(t,s);for(let p=0,m=0;p<this.children.length;p++){let v=this.children[p],C=m+v.size;if(o>m&&l<C)return v.setSelection(t-m-v.border,s-m-v.border,r,i);m=C}let a=this.domFromPos(t,t?-1:1),c=s==t?a:this.domFromPos(s,s?-1:1),u=r.getSelection(),h=!1;if((Dn||qt)&&t==s){let{node:p,offset:m}=a;if(p.nodeType==3){if(h=!!(m&&p.nodeValue[m-1]==`
`),h&&m==p.nodeValue.length)for(let v=p,C;v;v=v.parentNode){if(C=v.nextSibling){C.nodeName=="BR"&&(a=c={node:C.parentNode,offset:kt(C)+1});break}let x=v.pmViewDesc;if(x&&x.node&&x.node.isBlock)break}}else{let v=p.childNodes[m-1];h=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(Dn&&u.focusNode&&u.focusNode!=c.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||h&&qt)&&qr(a.node,a.offset,u.anchorNode,u.anchorOffset)&&qr(c.node,c.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||t==s)&&!h){u.collapse(a.node,a.offset);try{t!=s&&u.extend(c.node,c.offset),f=!0}catch{}}if(!f){if(t>s){let m=a;a=c,c=m}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,s){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?t<=l&&s>=r:t<l&&s>r){let a=r+o.border,c=l-o.border;if(t>=a&&s<=c){this.dirty=t==r||s==l?Tr:b2,t==a&&s==c&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Gn:o.markDirty(t-a,s-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Tr:Gn}r=l}this.dirty=Tr}markParentsDirty(){let t=1;for(let s=this.parent;s;s=s.parent,t++){let r=t==1?Tr:b2;s.dirty<r&&(s.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(t){return!1}}class yg extends Tl{constructor(t,s,r,i){let o,l=s.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!s.type.spec.raw){if(l.nodeType!=1){let a=document.createElement("span");a.appendChild(l),l=a}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(t,[],l,null),this.widget=s,this.widget=s,o=this}matchesWidget(t){return this.dirty==wn&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let s=this.widget.spec.stopEvent;return s?s(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class iE extends Tl{constructor(t,s,r,i){super(t,[],s,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,s){return t!=this.textDOM?this.posAtStart+(s?this.size:0):this.posAtStart+s}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Wr extends Tl{constructor(t,s,r,i){super(t,[],r,i),this.mark=s}static create(t,s,r,i){let o=i.nodeViews[s.type.name],l=o&&o(s,i,r);return(!l||!l.dom)&&(l=Xr.renderSpec(document,s.type.spec.toDOM(s,r),null,s.attrs)),new Wr(t,s,l.dom,l.contentDOM||l.dom)}parseRule(){return this.dirty&Gn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Gn&&this.mark.eq(t)}markDirty(t,s){if(super.markDirty(t,s),this.dirty!=wn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=wn}}slice(t,s,r){let i=Wr.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;s<l&&(o=Bd(o,s,l,r)),t>0&&(o=Bd(o,0,t,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class ir extends Tl{constructor(t,s,r,i,o,l,a,c,u){super(t,[],o,l),this.node=s,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,s,r,i,o,l){let a=o.nodeViews[s.type.name],c,u=a&&a(s,o,()=>{if(!c)return l;if(c.parent)return c.parent.posBeforeChild(c)},r,i),h=u&&u.dom,f=u&&u.contentDOM;if(s.isText){if(!h)h=document.createTextNode(s.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:f}=Xr.renderSpec(document,s.type.spec.toDOM(s),null,s.attrs));!f&&!s.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),s.type.spec.draggable&&(h.draggable=!0));let p=h;return h=bg(h,r,s),u?c=new oE(t,s,r,i,h,f||null,p,u,o,l+1):s.isText?new Rc(t,s,r,i,h,p,o):new ir(t,s,r,i,h,f||null,p,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let s=this.children.length-1;s>=0;s--){let r=this.children[s];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>K.empty)}return t}matchesNode(t,s,r){return this.dirty==wn&&t.eq(this.node)&&Ya(s,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,s){let r=this.node.inlineContent,i=s,o=t.composing?this.localCompositionInfo(t,s):null,l=o&&o.pos>-1?o:null,a=o&&o.pos<0,c=new aE(this,l&&l.node,t);dE(this.node,this.innerDeco,(u,h,f)=>{u.spec.marks?c.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!f&&c.syncToMarks(h==this.node.childCount?We.none:this.node.child(h).marks,r,t),c.placeWidget(u,t,i)},(u,h,f,p)=>{c.syncToMarks(u.marks,r,t);let m;c.findNodeMatch(u,h,f,p)||a&&t.state.selection.from>i&&t.state.selection.to<i+u.nodeSize&&(m=c.findIndexWithChild(o.node))>-1&&c.updateNodeAt(u,h,f,m,t)||c.updateNextNode(u,h,f,t,p,i)||c.addNode(u,h,f,t,i),i+=u.nodeSize}),c.syncToMarks([],r,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Tr)&&(l&&this.protectLocalComposition(t,l),Cg(this.contentDOM,this.children,t),ji&&hE(this.dom))}localCompositionInfo(t,s){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof _e)||r<s||i>s+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,a=fE(this.node.content,l,r-s,i-s);return a<0?null:{node:o,pos:a,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:s,pos:r,text:i}){if(this.getDesc(s))return;let o=s;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new iE(this,o,s,i);t.input.compositionNodes.push(l),this.children=Bd(this.children,r,r+i.length,t,l)}update(t,s,r,i){return this.dirty==Gn||!t.sameMarkup(this.node)?!1:(this.updateInner(t,s,r,i),!0)}updateInner(t,s,r,i){this.updateOuterDeco(s),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=wn}updateOuterDeco(t){if(Ya(t,this.outerDeco))return;let s=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=wg(this.dom,this.nodeDOM,Fd(this.outerDeco,this.node,s),Fd(t,this.node,s)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function k2(n,t,s,r,i){bg(r,t,n);let o=new ir(void 0,n,t,s,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Rc extends ir{constructor(t,s,r,i,o,l,a){super(t,s,r,i,o,null,l,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,s,r,i){return this.dirty==Gn||this.dirty!=wn&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(s),(this.dirty!=wn||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=wn,!0)}inParent(){let t=this.parent.contentDOM;for(let s=this.nodeDOM;s;s=s.parentNode)if(s==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,s,r){return t==this.nodeDOM?this.posAtStart+Math.min(s,this.node.text.length):super.localPosFromDOM(t,s,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,s,r){let i=this.node.cut(t,s),o=document.createTextNode(i.text);return new Rc(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,s){super.markDirty(t,s),this.dom!=this.nodeDOM&&(t==0||s==this.nodeDOM.nodeValue.length)&&(this.dirty=Gn)}get domAtom(){return!1}isText(t){return this.node.text==t}}class vg extends Tl{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==wn&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class oE extends ir{constructor(t,s,r,i,o,l,a,c,u,h){super(t,s,r,i,o,l,a,u,h),this.spec=c}update(t,s,r,i){if(this.dirty==Gn)return!1;if(this.spec.update){let o=this.spec.update(t,s,r);return o&&this.updateInner(t,s,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,s,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,s,r,i){this.spec.setSelection?this.spec.setSelection(t,s,r):super.setSelection(t,s,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Cg(n,t,s){let r=n.firstChild,i=!1;for(let o=0;o<t.length;o++){let l=t[o],a=l.dom;if(a.parentNode==n){for(;a!=r;)r=x2(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(a,r);if(l instanceof Wr){let c=r?r.previousSibling:n.lastChild;Cg(l.contentDOM,l.children,s),r=c?c.nextSibling:n.firstChild}}for(;r;)r=x2(r),i=!0;i&&s.trackWrites==n&&(s.trackWrites=null)}const Uo=function(n){n&&(this.nodeName=n)};Uo.prototype=Object.create(null);const Er=[new Uo];function Fd(n,t,s){if(n.length==0)return Er;let r=s?Er[0]:new Uo,i=[r];for(let o=0;o<n.length;o++){let l=n[o].type.attrs;if(l){l.nodeName&&i.push(r=new Uo(l.nodeName));for(let a in l){let c=l[a];c!=null&&(s&&i.length==1&&i.push(r=new Uo(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+c:a=="style"?r.style=(r.style?r.style+";":"")+c:a!="nodeName"&&(r[a]=c))}}}return i}function wg(n,t,s,r){if(s==Er&&r==Er)return t;let i=t;for(let o=0;o<r.length;o++){let l=r[o],a=s[o];if(o){let c;a&&a.nodeName==l.nodeName&&i!=n&&(c=i.parentNode)&&c.nodeName.toLowerCase()==l.nodeName||(c=document.createElement(l.nodeName),c.pmIsDeco=!0,c.appendChild(i),a=Er[0]),i=c}lE(i,a||Er[0],l)}return i}function lE(n,t,s){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in s)&&n.removeAttribute(r);for(let r in s)r!="class"&&r!="style"&&r!="nodeName"&&s[r]!=t[r]&&n.setAttribute(r,s[r]);if(t.class!=s.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=s.class?s.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&n.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&n.classList.add(i[o]);n.classList.length==0&&n.removeAttribute("class")}if(t.style!=s.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)n.style.removeProperty(i[1])}s.style&&(n.style.cssText+=s.style)}}function bg(n,t,s){return wg(n,n,Er,Fd(t,s,n.nodeType!=1))}function Ya(n,t){if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(!n[s].type.eq(t[s].type))return!1;return!0}function x2(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}class aE{constructor(t,s,r){this.lock=s,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=cE(t.node.content,t)}destroyBetween(t,s){if(t!=s){for(let r=t;r<s;r++)this.top.children[r].destroy();this.top.children.splice(t,s-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,s,r){let i=0,o=this.stack.length>>1,l=Math.min(o,t.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=wn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(t[o])&&!this.isLocked(u.dom)){a=c;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let c=Wr.create(this.top,t[o],s,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}}findNodeMatch(t,s,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(t,s,r))o=this.top.children.indexOf(l,this.index);else for(let a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){let u=this.top.children[a];if(u.matchesNode(t,s,r)&&!this.preMatch.matched.has(u)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,s,r,i,o){let l=this.top.children[i];return l.dirty==Gn&&l.dom==l.contentDOM&&(l.dirty=Tr),l.update(t,s,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let s=t.parentNode;if(!s)return-1;if(s==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=s}}updateNextNode(t,s,r,i,o,l){for(let a=this.index;a<this.top.children.length;a++){let c=this.top.children[a];if(c instanceof ir){let u=this.preMatch.matched.get(c);if(u!=null&&u!=o)return!1;let h=c.dom,f,p=this.isLocked(h)&&!(t.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==t.text&&c.dirty!=Gn&&Ya(s,c.outerDeco));if(!p&&c.update(t,s,r,i))return this.destroyBetween(this.index,a),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!p&&(f=this.recreateWrapper(c,t,s,r,i,l)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Tr,f.updateChildren(i,l+1),f.dirty=wn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,s,r,i,o,l){if(t.dirty||s.isAtom||!t.children.length||!t.node.content.eq(s.content)||!Ya(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let a=ir.create(this.top,s,r,i,o,l);if(a.contentDOM){a.children=t.children,t.children=[];for(let c of a.children)c.parent=a}return t.destroy(),a}addNode(t,s,r,i,o){let l=ir.create(this.top,t,s,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(t,s,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new yg(this.top,t,s,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],s=this.top;for(;t instanceof Wr;)s=t,t=s.children[s.children.length-1];(!t||!(t instanceof Rc)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((qt||Pt)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",s),this.addHackNode("BR",this.top))}addHackNode(t,s){if(s==this.top&&this.index<s.children.length&&s.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new vg(this.top,[],r,null);s!=this.top?s.children.push(i):s.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function cE(n,t){let s=t,r=s.children.length,i=n.childCount,o=new Map,l=[];e:for(;i>0;){let a;for(;;)if(r){let u=s.children[r-1];if(u instanceof Wr)s=u,r=u.children.length;else{a=u,r--;break}}else{if(s==t)break e;r=s.parent.children.indexOf(s),s=s.parent}let c=a.node;if(c){if(c!=n.child(i-1))break;--i,o.set(a,i),l.push(a)}}return{index:i,matched:o,matches:l.reverse()}}function uE(n,t){return n.type.side-t.type.side}function dE(n,t,s,r){let i=t.locals(n),o=0;if(i.length==0){for(let u=0;u<n.childCount;u++){let h=n.child(u);r(h,i,t.forChild(o,h),u),o+=h.nodeSize}return}let l=0,a=[],c=null;for(let u=0;;){let h,f;for(;l<i.length&&i[l].to==o;){let x=i[l++];x.widget&&(h?(f||(f=[h])).push(x):h=x)}if(h)if(f){f.sort(uE);for(let x=0;x<f.length;x++)s(f[x],u,!!c)}else s(h,u,!!c);let p,m;if(c)m=-1,p=c,c=null;else if(u<n.childCount)m=u,p=n.child(u++);else break;for(let x=0;x<a.length;x++)a[x].to<=o&&a.splice(x--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)a.push(i[l++]);let v=o+p.nodeSize;if(p.isText){let x=v;l<i.length&&i[l].from<x&&(x=i[l].from);for(let _=0;_<a.length;_++)a[_].to<x&&(x=a[_].to);x<v&&(c=p.cut(x-o),p=p.cut(0,x-o),v=x,m=-1)}else for(;l<i.length&&i[l].to<v;)l++;let C=p.isInline&&!p.isLeaf?a.filter(x=>!x.inline):a.slice();r(p,C,t.forChild(o,p),m),o=v}}function hE(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let t=n.style.cssText;n.style.cssText=t+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=t}}function fE(n,t,s,r){for(let i=0,o=0;i<n.childCount&&o<=r;){let l=n.child(i++),a=o;if(o+=l.nodeSize,!l.isText)continue;let c=l.text;for(;i<n.childCount;){let u=n.child(i++);if(o+=u.nodeSize,!u.isText)break;c+=u.text}if(o>=s){if(o>=r&&c.slice(r-t.length-a,r-a)==t)return r-t.length;let u=a<r?c.lastIndexOf(t,r-a-1):-1;if(u>=0&&u+t.length+a>=s)return a+u;if(s==r&&c.length>=r+t.length-a&&c.slice(r-a,r-a+t.length)==t)return r}}return-1}function Bd(n,t,s,r,i){let o=[];for(let l=0,a=0;l<n.length;l++){let c=n[l],u=a,h=a+=c.size;u>=s||h<=t?o.push(c):(u<t&&o.push(c.slice(0,t-u,r)),i&&(o.push(i),i=void 0),h>s&&o.push(c.slice(s-u,c.size,r)))}return o}function nf(n,t=null){let s=n.domSelectionRange(),r=n.state.doc;if(!s.focusNode)return null;let i=n.docView.nearestDesc(s.focusNode),o=i&&i.size==0,l=n.docView.posFromDOM(s.focusNode,s.focusOffset,1);if(l<0)return null;let a=r.resolve(l),c,u;if(Dc(s)){for(c=l;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&ye.isSelectable(f)&&i.parent&&!(f.isInline&&BT(s.focusNode,s.focusOffset,i.dom))){let p=i.posBefore;u=new ye(l==p?a:r.resolve(p))}}else{if(s instanceof n.dom.ownerDocument.defaultView.Selection&&s.rangeCount>1){let f=l,p=l;for(let m=0;m<s.rangeCount;m++){let v=s.getRangeAt(m);f=Math.min(f,n.docView.posFromDOM(v.startContainer,v.startOffset,1)),p=Math.max(p,n.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(f<0)return null;[c,l]=p==n.state.selection.anchor?[p,f]:[f,p],a=r.resolve(l)}else c=n.docView.posFromDOM(s.anchorNode,s.anchorOffset,1);if(c<0)return null}let h=r.resolve(c);if(!u){let f=t=="pointer"||n.state.selection.head<a.pos&&!o?1:-1;u=sf(n,h,a,f)}return u}function kg(n){return n.editable?n.hasFocus():_g(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function gs(n,t=!1){let s=n.state.selection;if(xg(n,s),!!kg(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Pt){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&qr(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)mE(n);else{let{anchor:r,head:i}=s,o,l;_2&&!(s instanceof _e)&&(s.$from.parent.inlineContent||(o=S2(n,s.from)),!s.empty&&!s.$from.parent.inlineContent&&(l=S2(n,s.to))),n.docView.setSelection(r,i,n.root,t),_2&&(o&&T2(o),l&&T2(l)),s.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&pE(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const _2=qt||Pt&&ug<63;function S2(n,t){let{node:s,offset:r}=n.docView.domFromPos(t,0),i=r<s.childNodes.length?s.childNodes[r]:null,o=r?s.childNodes[r-1]:null;if(qt&&i&&i.contentEditable=="false")return Vu(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Vu(i);if(o)return Vu(o)}}function Vu(n){return n.contentEditable="true",qt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function T2(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function pE(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let s=n.domSelectionRange(),r=s.anchorNode,i=s.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(s.anchorNode!=r||s.anchorOffset!=i)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!kg(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function mE(n){let t=n.domSelection(),s=document.createRange();if(!t)return;let r=n.cursorWrapper.dom,i=r.nodeName=="IMG";i?s.setStart(r.parentNode,kt(r)+1):s.setStart(r,0),s.collapse(!0),t.removeAllRanges(),t.addRange(s),!i&&!n.state.selection.visible&&tn&&rr<=11&&(r.disabled=!0,r.disabled=!1)}function xg(n,t){if(t instanceof ye){let s=n.docView.descAt(t.from);s!=n.lastSelectedViewDesc&&(E2(n),s&&s.selectNode(),n.lastSelectedViewDesc=s)}else E2(n)}function E2(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function sf(n,t,s,r){return n.someProp("createSelectionBetween",i=>i(n,t,s))||_e.between(t,s,r)}function M2(n){return n.editable&&!n.hasFocus()?!1:_g(n)}function _g(n){let t=n.domSelectionRange();if(!t.anchorNode)return!1;try{return n.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function gE(n){let t=n.docView.domFromPos(n.state.selection.anchor,0),s=n.domSelectionRange();return qr(t.node,t.offset,s.anchorNode,s.anchorOffset)}function Vd(n,t){let{$anchor:s,$head:r}=n.selection,i=t>0?s.max(r):s.min(r),o=i.parent.inlineContent?i.depth?n.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Se.findFrom(o,t)}function Us(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function A2(n,t,s){let r=n.state.selection;if(r instanceof _e)if(s.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=n.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return Us(n,new _e(r.$anchor,l))}else if(r.empty){if(n.endOfTextblock(t>0?"forward":"backward")){let i=Vd(n.state,t);return i&&i instanceof ye?Us(n,i):!1}else if(!(gn&&s.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let a=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=n.docView.descAt(a))&&!l.contentDOM?ye.isSelectable(o)?Us(n,new ye(t<0?n.state.doc.resolve(i.pos-o.nodeSize):i)):Sl?Us(n,new _e(n.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ye&&r.node.isInline)return Us(n,new _e(t>0?r.$to:r.$from));{let i=Vd(n.state,t);return i?Us(n,i):!1}}}function Xa(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function jo(n,t){let s=n.pmViewDesc;return s&&s.size==0&&(t<0||n.nextSibling||n.nodeName!="BR")}function ui(n,t){return t<0?yE(n):vE(n)}function yE(n){let t=n.domSelectionRange(),s=t.focusNode,r=t.focusOffset;if(!s)return;let i,o,l=!1;for(Dn&&s.nodeType==1&&r<Xa(s)&&jo(s.childNodes[r],-1)&&(l=!0);;)if(r>0){if(s.nodeType!=1)break;{let a=s.childNodes[r-1];if(jo(a,-1))i=s,o=--r;else if(a.nodeType==3)s=a,r=s.nodeValue.length;else break}}else{if(Sg(s))break;{let a=s.previousSibling;for(;a&&jo(a,-1);)i=s.parentNode,o=kt(a),a=a.previousSibling;if(a)s=a,r=Xa(s);else{if(s=s.parentNode,s==n.dom)break;r=0}}}l?Hd(n,s,r):i&&Hd(n,i,o)}function vE(n){let t=n.domSelectionRange(),s=t.focusNode,r=t.focusOffset;if(!s)return;let i=Xa(s),o,l;for(;;)if(r<i){if(s.nodeType!=1)break;let a=s.childNodes[r];if(jo(a,1))o=s,l=++r;else break}else{if(Sg(s))break;{let a=s.nextSibling;for(;a&&jo(a,1);)o=a.parentNode,l=kt(a)+1,a=a.nextSibling;if(a)s=a,r=0,i=Xa(s);else{if(s=s.parentNode,s==n.dom)break;r=i=0}}}o&&Hd(n,o,l)}function Sg(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function CE(n,t){for(;n&&t==n.childNodes.length&&!_l(n);)t=kt(n)+1,n=n.parentNode;for(;n&&t<n.childNodes.length;){let s=n.childNodes[t];if(s.nodeType==3)return s;if(s.nodeType==1&&s.contentEditable=="false")break;n=s,t=0}}function wE(n,t){for(;n&&!t&&!_l(n);)t=kt(n),n=n.parentNode;for(;n&&t;){let s=n.childNodes[t-1];if(s.nodeType==3)return s;if(s.nodeType==1&&s.contentEditable=="false")break;n=s,t=n.childNodes.length}}function Hd(n,t,s){if(t.nodeType!=3){let o,l;(l=CE(t,s))?(t=l,s=0):(o=wE(t,s))&&(t=o,s=o.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Dc(r)){let o=document.createRange();o.setEnd(t,s),o.setStart(t,s),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,s);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&gs(n)},50)}function I2(n,t){let s=n.state.doc.resolve(t);if(!(Pt||UT)&&s.parent.inlineContent){let i=n.coordsAtPos(t);if(t>s.start()){let o=n.coordsAtPos(t-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<s.end()){let o=n.coordsAtPos(t+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function O2(n,t,s){let r=n.state.selection;if(r instanceof _e&&!r.empty||s.indexOf("s")>-1||gn&&s.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let l=Vd(n.state,t);if(l&&l instanceof ye)return Us(n,l)}if(!i.parent.inlineContent){let l=t<0?i:o,a=r instanceof Ln?Se.near(l,t):Se.findFrom(l,t);return a?Us(n,a):!1}return!1}function L2(n,t){if(!(n.state.selection instanceof _e))return!0;let{$head:s,$anchor:r,empty:i}=n.state.selection;if(!s.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!s.textOffset&&(t<0?s.nodeBefore:s.nodeAfter);if(o&&!o.isText){let l=n.state.tr;return t<0?l.delete(s.pos-o.nodeSize,s.pos):l.delete(s.pos,s.pos+o.nodeSize),n.dispatch(l),!0}return!1}function P2(n,t,s){n.domObserver.stop(),t.contentEditable=s,n.domObserver.start()}function bE(n){if(!qt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:s}=n.domSelectionRange();if(t&&t.nodeType==1&&s==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;P2(n,r,"true"),setTimeout(()=>P2(n,r,"false"),20)}return!1}function kE(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}function xE(n,t){let s=t.keyCode,r=kE(t);if(s==8||gn&&s==72&&r=="c")return L2(n,-1)||ui(n,-1);if(s==46&&!t.shiftKey||gn&&s==68&&r=="c")return L2(n,1)||ui(n,1);if(s==13||s==27)return!0;if(s==37||gn&&s==66&&r=="c"){let i=s==37?I2(n,n.state.selection.from)=="ltr"?-1:1:-1;return A2(n,i,r)||ui(n,i)}else if(s==39||gn&&s==70&&r=="c"){let i=s==39?I2(n,n.state.selection.from)=="ltr"?1:-1:1;return A2(n,i,r)||ui(n,i)}else{if(s==38||gn&&s==80&&r=="c")return O2(n,-1,r)||ui(n,-1);if(s==40||gn&&s==78&&r=="c")return bE(n)||O2(n,1,r)||ui(n,1);if(r==(gn?"m":"c")&&(s==66||s==73||s==89||s==90))return!0}return!1}function Tg(n,t){n.someProp("transformCopied",m=>{t=m(t,n)});let s=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let m=r.firstChild;s.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let l=n.someProp("clipboardSerializer")||Xr.fromSchema(n.state.schema),a=Lg(),c=a.createElement("div");c.appendChild(l.serializeFragment(r,{document:a}));let u=c.firstChild,h,f=0;for(;u&&u.nodeType==1&&(h=Og[u.nodeName.toLowerCase()]);){for(let m=h.length-1;m>=0;m--){let v=a.createElement(h[m]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),f++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(s)}`);let p=n.someProp("clipboardTextSerializer",m=>m(t,n))||t.content.textBetween(0,t.content.size,`

`);return{dom:c,text:p,slice:t}}function Eg(n,t,s,r,i){let o=i.parent.type.spec.code,l,a;if(!s&&!t)return null;let c=t&&(r||o||!s);if(c){if(n.someProp("transformPastedText",p=>{t=p(t,o||r,n)}),o)return t?new ne(K.from(n.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):ne.empty;let f=n.someProp("clipboardTextParser",p=>p(t,i,r,n));if(f)a=f;else{let p=i.marks(),{schema:m}=n.state,v=Xr.fromSchema(m);l=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(C=>{let x=l.appendChild(document.createElement("p"));C&&x.appendChild(v.serializeNode(m.text(C,p)))})}}else n.someProp("transformPastedHTML",f=>{s=f(s,n)}),l=EE(s),Sl&&ME(l);let u=l&&l.querySelector("[data-pm-slice]"),h=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let f=+h[3];f>0;f--){let p=l.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;l=p}if(a||(a=(n.someProp("clipboardParser")||n.someProp("domParser")||sr.fromSchema(n.state.schema)).parseSlice(l,{preserveWhitespace:!!(c||h),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!_E.test(p.parentNode.nodeName)?{ignore:!0}:null}})),h)a=AE(N2(a,+h[1],+h[2]),h[4]);else if(a=ne.maxOpen(SE(a.content,i),!0),a.openStart||a.openEnd){let f=0,p=0;for(let m=a.content.firstChild;f<a.openStart&&!m.type.spec.isolating;f++,m=m.firstChild);for(let m=a.content.lastChild;p<a.openEnd&&!m.type.spec.isolating;p++,m=m.lastChild);a=N2(a,f,p)}return n.someProp("transformPasted",f=>{a=f(a,n)}),a}const _E=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function SE(n,t){if(n.childCount<2)return n;for(let s=t.depth;s>=0;s--){let i=t.node(s).contentMatchAt(t.index(s)),o,l=[];if(n.forEach(a=>{if(!l)return;let c=i.findWrapping(a.type),u;if(!c)return l=null;if(u=l.length&&o.length&&Ag(c,o,a,l[l.length-1],0))l[l.length-1]=u;else{l.length&&(l[l.length-1]=Ig(l[l.length-1],o.length));let h=Mg(a,c);l.push(h),i=i.matchType(h.type),o=c}}),l)return K.from(l)}return n}function Mg(n,t,s=0){for(let r=t.length-1;r>=s;r--)n=t[r].create(null,K.from(n));return n}function Ag(n,t,s,r,i){if(i<n.length&&i<t.length&&n[i]==t[i]){let o=Ag(n,t,s,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?s.type:n[i+1]))return r.copy(r.content.append(K.from(Mg(s,n,i+1))))}}function Ig(n,t){if(t==0)return n;let s=n.content.replaceChild(n.childCount-1,Ig(n.lastChild,t-1)),r=n.contentMatchAt(n.childCount).fillBefore(K.empty,!0);return n.copy(s.append(r))}function Ud(n,t,s,r,i,o){let l=t<0?n.firstChild:n.lastChild,a=l.content;return n.childCount>1&&(o=0),i<r-1&&(a=Ud(a,t,s,r,i+1,o)),i>=s&&(a=t<0?l.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(l.contentMatchAt(l.childCount).fillBefore(K.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,l.copy(a))}function N2(n,t,s){return t<n.openStart&&(n=new ne(Ud(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),s<n.openEnd&&(n=new ne(Ud(n.content,1,s,n.openEnd,0,0),n.openStart,s)),n}const Og={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let D2=null;function Lg(){return D2||(D2=document.implementation.createHTMLDocument("title"))}function TE(n){let t=window.trustedTypes;return t?t.createPolicy("detachedDocument",{createHTML:s=>s}).createHTML(n):n}function EE(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let s=Lg().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&Og[r[1].toLowerCase()])&&(n=i.map(o=>"<"+o+">").join("")+n+i.map(o=>"</"+o+">").reverse().join("")),s.innerHTML=TE(n),i)for(let o=0;o<i.length;o++)s=s.querySelector(i[o])||s;return s}function ME(n){let t=n.querySelectorAll(Pt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let s=0;s<t.length;s++){let r=t[s];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function AE(n,t){if(!n.size)return n;let s=n.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return n}let{content:i,openStart:o,openEnd:l}=n;for(let a=r.length-2;a>=0;a-=2){let c=s.nodes[r[a]];if(!c||c.hasRequiredAttrs())break;i=K.from(c.create(r[a+1],i)),o++,l++}return new ne(i,o,l)}const Wt={},Kt={},IE={touchstart:!0,touchmove:!0};class OE{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function LE(n){for(let t in Wt){let s=Wt[t];n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>{NE(n,r)&&!rf(n,r)&&(n.editable||!(r.type in Kt))&&s(n,r)},IE[t]?{passive:!0}:void 0)}qt&&n.dom.addEventListener("input",()=>null),jd(n)}function Ys(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}function PE(n){n.domObserver.stop();for(let t in n.input.eventHandlers)n.dom.removeEventListener(t,n.input.eventHandlers[t]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function jd(n){n.someProp("handleDOMEvents",t=>{for(let s in t)n.input.eventHandlers[s]||n.dom.addEventListener(s,n.input.eventHandlers[s]=r=>rf(n,r))})}function rf(n,t){return n.someProp("handleDOMEvents",s=>{let r=s[t.type];return r?r(n,t)||t.defaultPrevented:!1})}function NE(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let s=t.target;s!=n.dom;s=s.parentNode)if(!s||s.nodeType==11||s.pmViewDesc&&s.pmViewDesc.stopEvent(t))return!1;return!0}function DE(n,t){!rf(n,t)&&Wt[t.type]&&(n.editable||!(t.type in Kt))&&Wt[t.type](n,t)}Kt.keydown=(n,t)=>{let s=t;if(n.input.shiftKey=s.keyCode==16||s.shiftKey,!Ng(n,s)&&(n.input.lastKeyCode=s.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Sn&&Pt&&s.keyCode==13)))if(n.domObserver.selectionChanged(n.domSelectionRange())?n.domObserver.flush():s.keyCode!=229&&n.domObserver.forceFlush(),ji&&s.keyCode==13&&!s.ctrlKey&&!s.altKey&&!s.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,xr(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,s))||xE(n,s)?s.preventDefault():Ys(n,"key")};Kt.keyup=(n,t)=>{t.keyCode==16&&(n.input.shiftKey=!1)};Kt.keypress=(n,t)=>{let s=t;if(Ng(n,s)||!s.charCode||s.ctrlKey&&!s.altKey||gn&&s.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,s))){s.preventDefault();return}let r=n.state.selection;if(!(r instanceof _e)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(s.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",o=>o(n,r.$from.pos,r.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),s.preventDefault()}};function $c(n){return{left:n.clientX,top:n.clientY}}function RE(n,t){let s=t.x-n.clientX,r=t.y-n.clientY;return s*s+r*r<100}function of(n,t,s,r,i){if(r==-1)return!1;let o=n.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(n.someProp(t,a=>l>o.depth?a(n,s,o.nodeAfter,o.before(l),i,!0):a(n,s,o.node(l),o.before(l),i,!1)))return!0;return!1}function Oi(n,t,s){if(n.focused||n.focus(),n.state.selection.eq(t))return;let r=n.state.tr.setSelection(t);r.setMeta("pointer",!0),n.dispatch(r)}function $E(n,t){if(t==-1)return!1;let s=n.state.doc.resolve(t),r=s.nodeAfter;return r&&r.isAtom&&ye.isSelectable(r)?(Oi(n,new ye(s)),!0):!1}function FE(n,t){if(t==-1)return!1;let s=n.state.selection,r,i;s instanceof ye&&(r=s.node);let o=n.state.doc.resolve(t);for(let l=o.depth+1;l>0;l--){let a=l>o.depth?o.nodeAfter:o.node(l);if(ye.isSelectable(a)){r&&s.$from.depth>0&&l>=s.$from.depth&&o.before(s.$from.depth+1)==s.$from.pos?i=o.before(s.$from.depth):i=o.before(l);break}}return i!=null?(Oi(n,ye.create(n.state.doc,i)),!0):!1}function BE(n,t,s,r,i){return of(n,"handleClickOn",t,s,r)||n.someProp("handleClick",o=>o(n,t,r))||(i?FE(n,s):$E(n,s))}function VE(n,t,s,r){return of(n,"handleDoubleClickOn",t,s,r)||n.someProp("handleDoubleClick",i=>i(n,t,r))}function HE(n,t,s,r){return of(n,"handleTripleClickOn",t,s,r)||n.someProp("handleTripleClick",i=>i(n,t,r))||UE(n,s,r)}function UE(n,t,s){if(s.button!=0)return!1;let r=n.state.doc;if(t==-1)return r.inlineContent?(Oi(n,_e.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(l.inlineContent)Oi(n,_e.create(r,a+1,a+1+l.content.size));else if(ye.isSelectable(l))Oi(n,ye.create(r,a));else continue;return!0}}function lf(n){return Qa(n)}const Pg=gn?"metaKey":"ctrlKey";Wt.mousedown=(n,t)=>{let s=t;n.input.shiftKey=s.shiftKey;let r=lf(n),i=Date.now(),o="singleClick";i-n.input.lastClick.time<500&&RE(s,n.input.lastClick)&&!s[Pg]&&(n.input.lastClick.type=="singleClick"?o="doubleClick":n.input.lastClick.type=="doubleClick"&&(o="tripleClick")),n.input.lastClick={time:i,x:s.clientX,y:s.clientY,type:o};let l=n.posAtCoords($c(s));l&&(o=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new jE(n,l,s,!!r)):(o=="doubleClick"?VE:HE)(n,l.pos,l.inside,s)?s.preventDefault():Ys(n,"pointer"))};class jE{constructor(t,s,r,i){this.view=t,this.pos=s,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Pg],this.allowDefault=r.shiftKey;let o,l;if(s.inside>-1)o=t.state.doc.nodeAt(s.inside),l=s.inside;else{let h=t.state.doc.resolve(s.pos);o=h.parent,l=h.depth?h.before():0}const a=i?null:r.target,c=a?t.docView.nearestDesc(a,!0):null;this.target=c&&c.dom.nodeType==1?c.dom:null;let{selection:u}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof ye&&u.from<=l&&u.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Dn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ys(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>gs(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let s=this.pos;this.view.state.doc!=this.startDoc&&(s=this.view.posAtCoords($c(t))),this.updateAllowDefault(t),this.allowDefault||!s?Ys(this.view,"pointer"):BE(this.view,s.pos,s.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||qt&&this.mightDrag&&!this.mightDrag.node.isAtom||Pt&&!this.view.state.selection.visible&&Math.min(Math.abs(s.pos-this.view.state.selection.from),Math.abs(s.pos-this.view.state.selection.to))<=2)?(Oi(this.view,Se.near(this.view.state.doc.resolve(s.pos))),t.preventDefault()):Ys(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ys(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Wt.touchstart=n=>{n.input.lastTouch=Date.now(),lf(n),Ys(n,"pointer")};Wt.touchmove=n=>{n.input.lastTouch=Date.now(),Ys(n,"pointer")};Wt.contextmenu=n=>lf(n);function Ng(n,t){return n.composing?!0:qt&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const zE=Sn?5e3:-1;Kt.compositionstart=Kt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,s=t.selection.$to;if(t.selection instanceof _e&&(t.storedMarks||!s.textOffset&&s.parentOffset&&s.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||s.marks(),Qa(n,!0),n.markCursor=null;else if(Qa(n,!t.selection.empty),Dn&&t.selection.empty&&s.parentOffset&&!s.textOffset&&s.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){let a=n.domSelection();a&&a.collapse(l,l.nodeValue.length);break}else i=l,o=-1}}n.input.composing=!0}Dg(n,zE)};Kt.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Dg(n,20))};function Dg(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>Qa(n),t))}function Rg(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=WE());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function qE(n){let t=n.domSelectionRange();if(!t.focusNode)return null;let s=$T(t.focusNode,t.focusOffset),r=FT(t.focusNode,t.focusOffset);if(s&&r&&s!=r){let i=r.pmViewDesc,o=n.domObserver.lastChangedTextNode;if(s==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let l=s.pmViewDesc;if(!(!l||!l.isText(s.nodeValue)))return r}}return s||r}function WE(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Qa(n,t=!1){if(!(Sn&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Rg(n),t||n.docView&&n.docView.dirty){let s=nf(n);return s&&!s.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(s)):(n.markCursor||t)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function KE(n,t){if(!n.dom.parentNode)return;let s=n.dom.parentNode.appendChild(document.createElement("div"));s.appendChild(t),s.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{s.parentNode&&s.parentNode.removeChild(s),n.focus()},50)}const rl=tn&&rr<15||ji&&jT<604;Wt.copy=Kt.cut=(n,t)=>{let s=t,r=n.state.selection,i=s.type=="cut";if(r.empty)return;let o=rl?null:s.clipboardData,l=r.content(),{dom:a,text:c}=Tg(n,l);o?(s.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):KE(n,a),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function GE(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function JE(n,t){if(!n.dom.parentNode)return;let s=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(s?"textarea":"div"));s||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),s?il(n,r.value,null,i,t):il(n,r.textContent,r.innerHTML,i,t)},50)}function il(n,t,s,r,i){let o=Eg(n,t,s,r,n.state.selection.$from);if(n.someProp("handlePaste",c=>c(n,i,o||ne.empty)))return!0;if(!o)return!1;let l=GE(o),a=l?n.state.tr.replaceSelectionWith(l,r):n.state.tr.replaceSelection(o);return n.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function $g(n){let t=n.getData("text/plain")||n.getData("Text");if(t)return t;let s=n.getData("text/uri-list");return s?s.replace(/\r?\n/g," "):""}Kt.paste=(n,t)=>{let s=t;if(n.composing&&!Sn)return;let r=rl?null:s.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&il(n,$g(r),r.getData("text/html"),i,s)?s.preventDefault():JE(n,s)};class Fg{constructor(t,s,r){this.slice=t,this.move=s,this.node=r}}const Bg=gn?"altKey":"ctrlKey";Wt.dragstart=(n,t)=>{let s=t,r=n.input.mouseDown;if(r&&r.done(),!s.dataTransfer)return;let i=n.state.selection,o=i.empty?null:n.posAtCoords($c(s)),l;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof ye?i.to-1:i.to))){if(r&&r.mightDrag)l=ye.create(n.state.doc,r.mightDrag.pos);else if(s.target&&s.target.nodeType==1){let f=n.docView.nearestDesc(s.target,!0);f&&f.node.type.spec.draggable&&f!=n.docView&&(l=ye.create(n.state.doc,f.posBefore))}}let a=(l||n.state.selection).content(),{dom:c,text:u,slice:h}=Tg(n,a);(!s.dataTransfer.files.length||!Pt||ug>120)&&s.dataTransfer.clearData(),s.dataTransfer.setData(rl?"Text":"text/html",c.innerHTML),s.dataTransfer.effectAllowed="copyMove",rl||s.dataTransfer.setData("text/plain",u),n.dragging=new Fg(h,!s[Bg],l)};Wt.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)};Kt.dragover=Kt.dragenter=(n,t)=>t.preventDefault();Kt.drop=(n,t)=>{let s=t,r=n.dragging;if(n.dragging=null,!s.dataTransfer)return;let i=n.posAtCoords($c(s));if(!i)return;let o=n.state.doc.resolve(i.pos),l=r&&r.slice;l?n.someProp("transformPasted",v=>{l=v(l,n)}):l=Eg(n,$g(s.dataTransfer),rl?null:s.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!s[Bg]);if(n.someProp("handleDrop",v=>v(n,s,l||ne.empty,a))){s.preventDefault();return}if(!l)return;s.preventDefault();let c=l?ng(n.state.doc,o.pos,l):o.pos;c==null&&(c=o.pos);let u=n.state.tr;if(a){let{node:v}=r;v?v.replace(u):u.deleteSelection()}let h=u.mapping.map(c),f=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,p=u.doc;if(f?u.replaceRangeWith(h,h,l.content.firstChild):u.replaceRange(h,h,l),u.doc.eq(p))return;let m=u.doc.resolve(h);if(f&&ye.isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))u.setSelection(new ye(m));else{let v=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((C,x,_,M)=>v=M),u.setSelection(sf(n,m,u.doc.resolve(v)))}n.focus(),n.dispatch(u.setMeta("uiEvent","drop"))};Wt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&gs(n)},20))};Wt.blur=(n,t)=>{let s=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),s.relatedTarget&&n.dom.contains(s.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Wt.beforeinput=(n,t)=>{if(Pt&&Sn&&t.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",o=>o(n,xr(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in Kt)Wt[n]=Kt[n];function ol(n,t){if(n==t)return!0;for(let s in n)if(n[s]!==t[s])return!1;for(let s in t)if(!(s in n))return!1;return!0}class ec{constructor(t,s){this.toDOM=t,this.spec=s||$r,this.side=this.spec.side||0}map(t,s,r,i){let{pos:o,deleted:l}=t.mapResult(s.from+i,this.side<0?-1:1);return l?null:new vn(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof ec&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ol(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class or{constructor(t,s){this.attrs=t,this.spec=s||$r}map(t,s,r,i){let o=t.map(s.from+i,this.spec.inclusiveStart?-1:1)-r,l=t.map(s.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new vn(o,l,this)}valid(t,s){return s.from<s.to}eq(t){return this==t||t instanceof or&&ol(this.attrs,t.attrs)&&ol(this.spec,t.spec)}static is(t){return t.type instanceof or}destroy(){}}class af{constructor(t,s){this.attrs=t,this.spec=s||$r}map(t,s,r,i){let o=t.mapResult(s.from+i,1);if(o.deleted)return null;let l=t.mapResult(s.to+i,-1);return l.deleted||l.pos<=o.pos?null:new vn(o.pos-r,l.pos-r,this)}valid(t,s){let{index:r,offset:i}=t.content.findIndex(s.from),o;return i==s.from&&!(o=t.child(r)).isText&&i+o.nodeSize==s.to}eq(t){return this==t||t instanceof af&&ol(this.attrs,t.attrs)&&ol(this.spec,t.spec)}destroy(){}}class vn{constructor(t,s,r){this.from=t,this.to=s,this.type=r}copy(t,s){return new vn(t,s,this.type)}eq(t,s=0){return this.type.eq(t.type)&&this.from+s==t.from&&this.to+s==t.to}map(t,s,r){return this.type.map(t,this,s,r)}static widget(t,s,r){return new vn(t,t,new ec(s,r))}static inline(t,s,r,i){return new vn(t,s,new or(r,i))}static node(t,s,r,i){return new vn(t,s,new af(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof or}get widget(){return this.type instanceof ec}}const mi=[],$r={};class at{constructor(t,s){this.local=t.length?t:mi,this.children=s.length?s:mi}static create(t,s){return s.length?tc(s,t,0,$r):At}find(t,s,r){let i=[];return this.findInner(t??0,s??1e9,i,0,r),i}findInner(t,s,r,i,o){for(let l=0;l<this.local.length;l++){let a=this.local[l];a.from<=s&&a.to>=t&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<s&&this.children[l+1]>t){let a=this.children[l]+1;this.children[l+2].findInner(t-a,s-a,r,i+a,o)}}map(t,s,r){return this==At||t.maps.length==0?this:this.mapInner(t,s,0,0,r||$r)}mapInner(t,s,r,i,o){let l;for(let a=0;a<this.local.length;a++){let c=this.local[a].map(t,r,i);c&&c.type.valid(s,c)?(l||(l=[])).push(c):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?ZE(this.children,l||[],t,s,r,i,o):l?new at(l.sort(Fr),mi):At}add(t,s){return s.length?this==At?at.create(t,s):this.addInner(t,s,0):this}addInner(t,s,r){let i,o=0;t.forEach((a,c)=>{let u=c+r,h;if(h=Hg(s,a,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<c;)o+=3;i[o]==c?i[o+2]=i[o+2].addInner(a,h,u+1):i.splice(o,0,c,c+a.nodeSize,tc(h,a,u+1,$r)),o+=3}});let l=Vg(o?Ug(s):s,-r);for(let a=0;a<l.length;a++)l[a].type.valid(t,l[a])||l.splice(a--,1);return new at(l.length?this.local.concat(l).sort(Fr):this.local,i||this.children)}remove(t){return t.length==0||this==At?this:this.removeInner(t,0)}removeInner(t,s){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let l,a=r[o]+s,c=r[o+1]+s;for(let h=0,f;h<t.length;h++)(f=t[h])&&f.from>a&&f.to<c&&(t[h]=null,(l||(l=[])).push(f));if(!l)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(l,a+1);u!=At?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,l;o<t.length;o++)if(l=t[o])for(let a=0;a<i.length;a++)i[a].eq(l,s)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new at(i,r):At}forChild(t,s){if(this==At)return this;if(s.isLeaf)return at.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let o=t+1,l=o+s.content.size;for(let a=0;a<this.local.length;a++){let c=this.local[a];if(c.from<l&&c.to>o&&c.type instanceof or){let u=Math.max(o,c.from)-o,h=Math.min(l,c.to)-o;u<h&&(i||(i=[])).push(c.copy(u,h))}}if(i){let a=new at(i.sort(Fr),mi);return r?new Gs([a,r]):a}return r||At}eq(t){if(this==t)return!0;if(!(t instanceof at)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let s=0;s<this.local.length;s++)if(!this.local[s].eq(t.local[s]))return!1;for(let s=0;s<this.children.length;s+=3)if(this.children[s]!=t.children[s]||this.children[s+1]!=t.children[s+1]||!this.children[s+2].eq(t.children[s+2]))return!1;return!0}locals(t){return cf(this.localsInner(t))}localsInner(t){if(this==At)return mi;if(t.inlineContent||!this.local.some(or.is))return this.local;let s=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof or||s.push(this.local[r]);return s}forEachSet(t){t(this)}}at.empty=new at([],[]);at.removeOverlap=cf;const At=at.empty;class Gs{constructor(t){this.members=t}map(t,s){const r=this.members.map(i=>i.map(t,s,$r));return Gs.from(r)}forChild(t,s){if(s.isLeaf)return at.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,s);o!=At&&(o instanceof Gs?r=r.concat(o.members):r.push(o))}return Gs.from(r)}eq(t){if(!(t instanceof Gs)||t.members.length!=this.members.length)return!1;for(let s=0;s<this.members.length;s++)if(!this.members[s].eq(t.members[s]))return!1;return!0}locals(t){let s,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!s)s=o;else{r&&(s=s.slice(),r=!1);for(let l=0;l<o.length;l++)s.push(o[l])}}return s?cf(r?s:s.sort(Fr)):mi}static from(t){switch(t.length){case 0:return At;case 1:return t[0];default:return new Gs(t.every(s=>s instanceof at)?t:t.reduce((s,r)=>s.concat(r instanceof at?r:r.members),[]))}}forEachSet(t){for(let s=0;s<this.members.length;s++)this.members[s].forEachSet(t)}}function ZE(n,t,s,r,i,o,l){let a=n.slice();for(let u=0,h=o;u<s.maps.length;u++){let f=0;s.maps[u].forEach((p,m,v,C)=>{let x=C-v-(m-p);for(let _=0;_<a.length;_+=3){let M=a[_+1];if(M<0||p>M+h-f)continue;let E=a[_]+h-f;m>=E?a[_+1]=p<=E?-2:-1:p>=h&&x&&(a[_]+=x,a[_+1]+=x)}f+=x}),h=s.maps[u].map(h,-1)}let c=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){c=!0,a[u+1]=-1;continue}let h=s.map(n[u]+o),f=h-i;if(f<0||f>=r.content.size){c=!0;continue}let p=s.map(n[u+1]+o,-1),m=p-i,{index:v,offset:C}=r.content.findIndex(f),x=r.maybeChild(v);if(x&&C==f&&C+x.nodeSize==m){let _=a[u+2].mapInner(s,x,h+1,n[u]+o+1,l);_!=At?(a[u]=f,a[u+1]=m,a[u+2]=_):(a[u+1]=-2,c=!0)}else c=!0}if(c){let u=YE(a,n,t,s,i,o,l),h=tc(u,r,0,l);t=h.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,p=0;f<h.children.length;f+=3){let m=h.children[f];for(;p<a.length&&a[p]<m;)p+=3;a.splice(p,0,h.children[f],h.children[f+1],h.children[f+2])}}return new at(t.sort(Fr),a)}function Vg(n,t){if(!t||!n.length)return n;let s=[];for(let r=0;r<n.length;r++){let i=n[r];s.push(new vn(i.from+t,i.to+t,i.type))}return s}function YE(n,t,s,r,i,o,l){function a(c,u){for(let h=0;h<c.local.length;h++){let f=c.local[h].map(r,i,u);f?s.push(f):l.onRemove&&l.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)a(c.children[h+2],c.children[h]+u+1)}for(let c=0;c<n.length;c+=3)n[c+1]==-1&&a(n[c+2],t[c]+o+1);return s}function Hg(n,t,s){if(t.isLeaf)return null;let r=s+t.nodeSize,i=null;for(let o=0,l;o<n.length;o++)(l=n[o])&&l.from>s&&l.to<r&&((i||(i=[])).push(l),n[o]=null);return i}function Ug(n){let t=[];for(let s=0;s<n.length;s++)n[s]!=null&&t.push(n[s]);return t}function tc(n,t,s,r){let i=[],o=!1;t.forEach((a,c)=>{let u=Hg(n,a,c+s);if(u){o=!0;let h=tc(u,a,s+c+1,r);h!=At&&i.push(c,c+a.nodeSize,h)}});let l=Vg(o?Ug(n):n,-s).sort(Fr);for(let a=0;a<l.length;a++)l[a].type.valid(t,l[a])||(r.onRemove&&r.onRemove(l[a].spec),l.splice(a--,1));return l.length||i.length?new at(l,i):At}function Fr(n,t){return n.from-t.from||n.to-t.to}function cf(n){let t=n;for(let s=0;s<t.length-1;s++){let r=t[s];if(r.from!=r.to)for(let i=s+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==n&&(t=n.slice()),t[i]=o.copy(o.from,r.to),R2(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==n&&(t=n.slice()),t[s]=r.copy(r.from,o.from),R2(t,i,r.copy(o.from,r.to)));break}}}return t}function R2(n,t,s){for(;t<n.length&&Fr(s,n[t])>0;)t++;n.splice(t,0,s)}function Hu(n){let t=[];return n.someProp("decorations",s=>{let r=s(n.state);r&&r!=At&&t.push(r)}),n.cursorWrapper&&t.push(at.create(n.state.doc,[n.cursorWrapper.deco])),Gs.from(t)}const XE={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},QE=tn&&rr<=11;class eM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class tM{constructor(t,s){this.view=t,this.handleDOMChange=s,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new eM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);tn&&rr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),QE&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,XE)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let s=0;s<t.length;s++)this.queue.push(t[s]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(M2(this.view)){if(this.suppressingSelectionUpdates)return gs(this.view);if(tn&&rr<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&qr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let s=new Set,r;for(let o=t.focusNode;o;o=sl(o))s.add(o);for(let o=t.anchorNode;o;o=sl(o))if(s.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}selectionChanged(t){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&M2(this.view)&&!this.ignoreSelectionChange(t)}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let s=this.pendingRecords();s.length&&(this.queue=[]);let r=t.domSelectionRange(),i=this.selectionChanged(r),o=-1,l=-1,a=!1,c=[];if(t.editable)for(let h=0;h<s.length;h++){let f=this.registerMutation(s[h],c);f&&(o=o<0?f.from:Math.min(f.from,o),l=l<0?f.to:Math.max(f.to,l),f.typeOver&&(a=!0))}if(Dn&&c.length){let h=c.filter(f=>f.nodeName=="BR");if(h.length==2){let[f,p]=h;f.parentNode&&f.parentNode.parentNode==p.parentNode?p.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let p of h){let m=p.parentNode;m&&m.nodeName=="LI"&&(!f||rM(t,f)!=m)&&p.remove()}}}let u=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Dc(r)&&(u=nf(t))&&u.eq(Se.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,gs(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,l),nM(t)),this.handleDOMChange(o,l,a,c),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||gs(t),this.currentSelection.set(r))}registerMutation(t,s){if(s.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let h=0;h<t.addedNodes.length;h++){let f=t.addedNodes[h];s.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(tn&&rr<=11&&t.addedNodes.length)for(let h=0;h<t.addedNodes.length;h++){let{previousSibling:f,nextSibling:p}=t.addedNodes[h];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!p||Array.prototype.indexOf.call(t.addedNodes,p)<0)&&(o=p)}let l=i&&i.parentNode==t.target?kt(i)+1:0,a=r.localPosFromDOM(t.target,l,-1),c=o&&o.parentNode==t.target?kt(o):t.target.childNodes.length,u=r.localPosFromDOM(t.target,c,1);return{from:a,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let $2=new WeakMap,F2=!1;function nM(n){if(!$2.has(n)&&($2.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Dn,F2)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),F2=!0}}function B2(n,t){let s=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,l=n.domAtPos(n.state.selection.anchor);return qr(l.node,l.offset,i,o)&&([s,r,i,o]=[i,o,s,r]),{anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:o}}function sM(n,t){if(t.getComposedRanges){let i=t.getComposedRanges(n.root)[0];if(i)return B2(n,i)}let s;function r(i){i.preventDefault(),i.stopImmediatePropagation(),s=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),s?B2(n,s):null}function rM(n,t){for(let s=t.parentNode;s&&s!=n.dom;s=s.parentNode){let r=n.docView.nearestDesc(s,!0);if(r&&r.node.isBlock)return s}return null}function iM(n,t,s){let{node:r,fromOffset:i,toOffset:o,from:l,to:a}=n.docView.parseRange(t,s),c=n.domSelectionRange(),u,h=c.anchorNode;if(h&&n.dom.contains(h.nodeType==1?h:h.parentNode)&&(u=[{node:h,offset:c.anchorOffset}],Dc(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Pt&&n.input.lastKeyCode===8)for(let x=o;x>i;x--){let _=r.childNodes[x-1],M=_.pmViewDesc;if(_.nodeName=="BR"&&!M){o=x;break}if(!M||M.size)break}let f=n.state.doc,p=n.someProp("domParser")||sr.fromSchema(n.state.schema),m=f.resolve(l),v=null,C=p.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:o,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:oM,context:m});if(u&&u[0].pos!=null){let x=u[0].pos,_=u[1]&&u[1].pos;_==null&&(_=x),v={anchor:x+l,head:_+l}}return{doc:C,sel:v,from:l,to:a}}function oM(n){let t=n.pmViewDesc;if(t)return t.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(qt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let s=document.createElement("div");return s.appendChild(document.createElement("li")),{skip:s}}else if(n.parentNode.lastChild==n||qt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const lM=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function aM(n,t,s,r,i){let o=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,t<0){let b=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,S=nf(n,b);if(S&&!n.state.selection.eq(S)){if(Pt&&Sn&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",O=>O(n,xr(13,"Enter"))))return;let L=n.state.tr.setSelection(S);b=="pointer"?L.setMeta("pointer",!0):b=="key"&&L.scrollIntoView(),o&&L.setMeta("composition",o),n.dispatch(L)}return}let l=n.state.doc.resolve(t),a=l.sharedDepth(s);t=l.before(a+1),s=n.state.doc.resolve(s).after(a+1);let c=n.state.selection,u=iM(n,t,s),h=n.state.doc,f=h.slice(u.from,u.to),p,m;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(p=n.state.selection.to,m="end"):(p=n.state.selection.from,m="start"),n.input.lastKeyCode=null;let v=dM(f.content,u.doc.content,u.from,p,m);if(v&&n.input.domChangeCount++,(ji&&n.input.lastIOSEnter>Date.now()-225||Sn)&&i.some(b=>b.nodeType==1&&!lM.test(b.nodeName))&&(!v||v.endA>=v.endB)&&n.someProp("handleKeyDown",b=>b(n,xr(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!v)if(r&&c instanceof _e&&!c.empty&&c.$head.sameParent(c.$anchor)&&!n.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let b=V2(n,n.state.doc,u.sel);if(b&&!b.eq(n.state.selection)){let S=n.state.tr.setSelection(b);o&&S.setMeta("composition",o),n.dispatch(S)}}return}n.state.selection.from<n.state.selection.to&&v.start==v.endB&&n.state.selection instanceof _e&&(v.start>n.state.selection.from&&v.start<=n.state.selection.from+2&&n.state.selection.from>=u.from?v.start=n.state.selection.from:v.endA<n.state.selection.to&&v.endA>=n.state.selection.to-2&&n.state.selection.to<=u.to&&(v.endB+=n.state.selection.to-v.endA,v.endA=n.state.selection.to)),tn&&rr<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>u.from&&u.doc.textBetween(v.start-u.from-1,v.start-u.from+1)==" "&&(v.start--,v.endA--,v.endB--);let C=u.doc.resolveNoCache(v.start-u.from),x=u.doc.resolveNoCache(v.endB-u.from),_=h.resolve(v.start),M=C.sameParent(x)&&C.parent.inlineContent&&_.end()>=v.endA,E;if((ji&&n.input.lastIOSEnter>Date.now()-225&&(!M||i.some(b=>b.nodeName=="DIV"||b.nodeName=="P"))||!M&&C.pos<u.doc.content.size&&!C.sameParent(x)&&(E=Se.findFrom(u.doc.resolve(C.pos+1),1,!0))&&E.head==x.pos)&&n.someProp("handleKeyDown",b=>b(n,xr(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>v.start&&uM(h,v.start,v.endA,C,x)&&n.someProp("handleKeyDown",b=>b(n,xr(8,"Backspace")))){Sn&&Pt&&n.domObserver.suppressSelectionUpdates();return}Pt&&Sn&&v.endB==v.start&&(n.input.lastAndroidDelete=Date.now()),Sn&&!M&&C.start()!=x.start()&&x.parentOffset==0&&C.depth==x.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==v.endA&&(v.endB-=2,x=u.doc.resolveNoCache(v.endB-u.from),setTimeout(()=>{n.someProp("handleKeyDown",function(b){return b(n,xr(13,"Enter"))})},20));let N=v.start,R=v.endA,B,A,k;if(M){if(C.pos==x.pos)tn&&rr<=11&&C.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>gs(n),20)),B=n.state.tr.delete(N,R),A=h.resolve(v.start).marksAcross(h.resolve(v.endA));else if(v.endA==v.endB&&(k=cM(C.parent.content.cut(C.parentOffset,x.parentOffset),_.parent.content.cut(_.parentOffset,v.endA-_.start()))))B=n.state.tr,k.type=="add"?B.addMark(N,R,k.mark):B.removeMark(N,R,k.mark);else if(C.parent.child(C.index()).isText&&C.index()==x.index()-(x.textOffset?0:1)){let b=C.parent.textBetween(C.parentOffset,x.parentOffset);if(n.someProp("handleTextInput",S=>S(n,N,R,b)))return;B=n.state.tr.insertText(b,N,R)}}if(B||(B=n.state.tr.replace(N,R,u.doc.slice(v.start-u.from,v.endB-u.from))),u.sel){let b=V2(n,B.doc,u.sel);b&&!(Pt&&Sn&&n.composing&&b.empty&&(v.start!=v.endB||n.input.lastAndroidDelete<Date.now()-100)&&(b.head==N||b.head==B.mapping.map(R)-1)||tn&&b.empty&&b.head==N)&&B.setSelection(b)}A&&B.ensureMarks(A),o&&B.setMeta("composition",o),n.dispatch(B.scrollIntoView())}function V2(n,t,s){return Math.max(s.anchor,s.head)>t.content.size?null:sf(n,t.resolve(s.anchor),t.resolve(s.head))}function cM(n,t){let s=n.firstChild.marks,r=t.firstChild.marks,i=s,o=r,l,a,c;for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);for(let h=0;h<s.length;h++)o=s[h].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],l="add",c=h=>h.mark(a.addToSet(h.marks));else if(i.length==0&&o.length==1)a=o[0],l="remove",c=h=>h.mark(a.removeFromSet(h.marks));else return null;let u=[];for(let h=0;h<t.childCount;h++)u.push(c(t.child(h)));if(K.from(u).eq(n))return{mark:a,type:l}}function uM(n,t,s,r,i){if(s-t<=i.pos-r.pos||Uu(r,!0,!1)<i.pos)return!1;let o=n.resolve(t);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&s==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=n.resolve(Uu(o,!0,!0));return!l.parent.isTextblock||l.pos>s||Uu(l,!0,!1)<s?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Uu(n,t,s){let r=n.depth,i=t?n.end():n.pos;for(;r>0&&(t||n.indexAfter(r)==n.node(r).childCount);)r--,i++,t=!1;if(s){let o=n.node(r).maybeChild(n.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function dM(n,t,s,r,i){let o=n.findDiffStart(t,s);if(o==null)return null;let{a:l,b:a}=n.findDiffEnd(t,s+n.size,s+t.size);if(i=="end"){let c=Math.max(0,o-Math.min(l,a));r-=l+c-o}if(l<o&&n.size<t.size){let c=r<=o&&r>=l?o-r:0;o-=c,o&&o<t.size&&H2(t.textBetween(o-1,o+1))&&(o+=c?1:-1),a=o+(a-l),l=o}else if(a<o){let c=r<=o&&r>=a?o-r:0;o-=c,o&&o<n.size&&H2(n.textBetween(o-1,o+1))&&(o+=c?1:-1),l=o+(l-a),a=o}return{start:o,endA:l,endB:a}}function H2(n){if(n.length!=2)return!1;let t=n.charCodeAt(0),s=n.charCodeAt(1);return t>=56320&&t<=57343&&s>=55296&&s<=56319}class hM{constructor(t,s){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new OE,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=s,this.state=s.state,this.directPlugins=s.plugins||[],this.directPlugins.forEach(W2),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=z2(this),j2(this),this.nodeViews=q2(this),this.docView=k2(this.state.doc,U2(this),Hu(this),this.dom,this),this.domObserver=new tM(this,(r,i,o,l)=>aM(this,r,i,o,l)),this.domObserver.start(),LE(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let s in t)this._props[s]=t[s];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&jd(this);let s=this._props;this._props=t,t.plugins&&(t.plugins.forEach(W2),this.directPlugins=t.plugins),this.updateStateInner(t.state,s)}setProps(t){let s={};for(let r in this._props)s[r]=this._props[r];s.state=this.state;for(let r in t)s[r]=t[r];this.update(s)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,s){var r;let i=this.state,o=!1,l=!1;t.storedMarks&&this.composing&&(Rg(this),l=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=s.plugins;if(a||this._props.plugins!=s.plugins||this._props.nodeViews!=s.nodeViews){let m=q2(this);pM(m,this.nodeViews)&&(this.nodeViews=m,o=!0)}(a||s.handleDOMEvents!=this._props.handleDOMEvents)&&jd(this),this.editable=z2(this),j2(this);let c=Hu(this),u=U2(this),h=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(t.doc,u,c);(f||!t.selection.eq(i.selection))&&(l=!0);let p=h=="preserve"&&l&&this.dom.style.overflowAnchor==null&&WT(this);if(l){this.domObserver.stop();let m=f&&(tn||Pt)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&fM(i.selection,t.selection);if(f){let v=Pt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=qE(this)),(o||!this.docView.update(t.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=k2(t.doc,u,c,this.dom,this)),v&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&gE(this))?gs(this,m):(xg(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():p&&KT(p)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",s=>s(this)))if(this.state.selection instanceof ye){let s=this.docView.domAfterPos(this.state.selection.from);s.nodeType==1&&g2(this,s.getBoundingClientRect(),t)}else g2(this,this.coordsAtPos(this.state.selection.head,1),t)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let s=0;s<this.directPlugins.length;s++){let r=this.directPlugins[s];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let s=0;s<this.state.plugins.length;s++){let r=this.state.plugins[s];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let s=0;s<this.pluginViews.length;s++){let r=this.pluginViews[s];r.update&&r.update(this,t)}}updateDraggedNode(t,s){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-s.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new Fg(t.slice,t.move,i<0?void 0:ye.create(this.state.doc,i))}someProp(t,s){let r=this._props&&this._props[t],i;if(r!=null&&(i=s?s(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let a=this.directPlugins[l].props[t];if(a!=null&&(i=s?s(a):a))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let a=o[l].props[t];if(a!=null&&(i=s?s(a):a))return i}}hasFocus(){if(tn){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&GT(this.dom),gs(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let s=this.dom.parentNode;s;s=s.parentNode)if(s.nodeType==9||s.nodeType==11&&s.host)return s.getSelection||(Object.getPrototypeOf(s).getSelection=()=>s.ownerDocument.getSelection()),this._root=s}return t||document}updateRoot(){this._root=null}posAtCoords(t){return QT(this,t)}coordsAtPos(t,s=1){return mg(this,t,s)}domAtPos(t,s=0){return this.docView.domFromPos(t,s)}nodeDOM(t){let s=this.docView.descAt(t);return s?s.nodeDOM:null}posAtDOM(t,s,r=-1){let i=this.docView.posFromDOM(t,s,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,s){return rE(this,s||this.state,t)}pasteHTML(t,s){return il(this,"",t,!1,s||new ClipboardEvent("paste"))}pasteText(t,s){return il(this,t,null,!0,s||new ClipboardEvent("paste"))}destroy(){this.docView&&(PE(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,DT())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return DE(this,t)}dispatch(t){let s=this._props.dispatchTransaction;s?s.call(this,t):this.updateState(this.state.apply(t))}domSelectionRange(){let t=this.domSelection();return t?qt&&this.root.nodeType===11&&VT(this.dom.ownerDocument)==this.dom&&sM(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function U2(n){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(n.editable),n.someProp("attributes",s=>{if(typeof s=="function"&&(s=s(n.state)),s)for(let r in s)r=="class"?t.class+=" "+s[r]:r=="style"?t.style=(t.style?t.style+";":"")+s[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(s[r]))}),t.translate||(t.translate="no"),[vn.node(0,n.state.doc.content.size,t)]}function j2(n){if(n.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),n.cursorWrapper={dom:t,deco:vn.widget(n.state.selection.from,t,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function z2(n){return!n.someProp("editable",t=>t(n.state)===!1)}function fM(n,t){let s=Math.min(n.$anchor.sharedDepth(n.head),t.$anchor.sharedDepth(t.head));return n.$anchor.start(s)!=t.$anchor.start(s)}function q2(n){let t=Object.create(null);function s(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return n.someProp("nodeViews",s),n.someProp("markViews",s),t}function pM(n,t){let s=0,r=0;for(let i in n){if(n[i]!=t[i])return!0;s++}for(let i in t)r++;return s!=r}function W2(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ur={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},nc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mM=typeof navigator<"u"&&/Mac/.test(navigator.platform),gM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var xt=0;xt<10;xt++)ur[48+xt]=ur[96+xt]=String(xt);for(var xt=1;xt<=24;xt++)ur[xt+111]="F"+xt;for(var xt=65;xt<=90;xt++)ur[xt]=String.fromCharCode(xt+32),nc[xt]=String.fromCharCode(xt);for(var ju in ur)nc.hasOwnProperty(ju)||(nc[ju]=ur[ju]);function yM(n){var t=mM&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||gM&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",s=!t&&n.key||(n.shiftKey?nc:ur)[n.keyCode]||n.key||"Unidentified";return s=="Esc"&&(s="Escape"),s=="Del"&&(s="Delete"),s=="Left"&&(s="ArrowLeft"),s=="Up"&&(s="ArrowUp"),s=="Right"&&(s="ArrowRight"),s=="Down"&&(s="ArrowDown"),s}const vM=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function CM(n){let t=n.split(/-(?!$)/),s=t[t.length-1];s=="Space"&&(s=" ");let r,i,o,l;for(let a=0;a<t.length-1;a++){let c=t[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))vM?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(s="Alt-"+s),i&&(s="Ctrl-"+s),l&&(s="Meta-"+s),o&&(s="Shift-"+s),s}function wM(n){let t=Object.create(null);for(let s in n)t[CM(s)]=n[s];return t}function zu(n,t,s=!0){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),s&&t.shiftKey&&(n="Shift-"+n),n}function bM(n){return new rn({props:{handleKeyDown:jg(n)}})}function jg(n){let t=wM(n);return function(s,r){let i=yM(r),o,l=t[zu(i,r)];if(l&&l(s.state,s.dispatch,s))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[zu(i,r,!1)];if(a&&a(s.state,s.dispatch,s))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ur[r.keyCode])&&o!=i){let a=t[zu(o,r)];if(a&&a(s.state,s.dispatch,s))return!0}}return!1}}const kM=(n,t)=>n.selection.empty?!1:(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function zg(n,t){let{$cursor:s}=n.selection;return!s||(t?!t.endOfTextblock("backward",n):s.parentOffset>0)?null:s}const xM=(n,t,s)=>{let r=zg(n,s);if(!r)return!1;let i=uf(r);if(!i){let l=r.blockRange(),a=l&&Qi(l);return a==null?!1:(t&&t(n.tr.lift(l,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(Gg(n,i,t,-1))return!0;if(r.parent.content.size==0&&(zi(o,"end")||ye.isSelectable(o)))for(let l=r.depth;;l--){let a=Pc(n.doc,r.before(l),r.after(l),ne.empty);if(a&&a.slice.size<a.to-a.from){if(t){let c=n.tr.step(a);c.setSelection(zi(o,"end")?Se.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):ye.create(c.doc,i.pos-o.nodeSize)),t(c.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(t&&t(n.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},_M=(n,t,s)=>{let r=zg(n,s);if(!r)return!1;let i=uf(r);return i?qg(n,i,t):!1},SM=(n,t,s)=>{let r=Wg(n,s);if(!r)return!1;let i=df(r);return i?qg(n,i,t):!1};function qg(n,t,s){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let h=i.lastChild;if(!h)return!1;i=h}let l=t.nodeAfter,a=l,c=t.pos+1;for(;!a.isTextblock;c++){if(a.type.spec.isolating)return!1;let h=a.firstChild;if(!h)return!1;a=h}let u=Pc(n.doc,o,c,ne.empty);if(!u||u.from!=o||u instanceof pt&&u.slice.size>=c-o)return!1;if(s){let h=n.tr.step(u);h.setSelection(_e.create(h.doc,o)),s(h.scrollIntoView())}return!0}function zi(n,t,s=!1){for(let r=n;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(s&&r.childCount!=1)return!1}return!1}const TM=(n,t,s)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(s?!s.endOfTextblock("backward",n):r.parentOffset>0)return!1;o=uf(r)}let l=o&&o.nodeBefore;return!l||!ye.isSelectable(l)?!1:(t&&t(n.tr.setSelection(ye.create(n.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function uf(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function Wg(n,t){let{$cursor:s}=n.selection;return!s||(t?!t.endOfTextblock("forward",n):s.parentOffset<s.parent.content.size)?null:s}const EM=(n,t,s)=>{let r=Wg(n,s);if(!r)return!1;let i=df(r);if(!i)return!1;let o=i.nodeAfter;if(Gg(n,i,t,1))return!0;if(r.parent.content.size==0&&(zi(o,"start")||ye.isSelectable(o))){let l=Pc(n.doc,r.before(),r.after(),ne.empty);if(l&&l.slice.size<l.to-l.from){if(t){let a=n.tr.step(l);a.setSelection(zi(o,"start")?Se.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):ye.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(n.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},MM=(n,t,s)=>{let{$head:r,empty:i}=n.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(s?!s.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;o=df(r)}let l=o&&o.nodeAfter;return!l||!ye.isSelectable(l)?!1:(t&&t(n.tr.setSelection(ye.create(n.doc,o.pos)).scrollIntoView()),!0)};function df(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let s=n.node(t);if(n.index(t)+1<s.childCount)return n.doc.resolve(n.after(t+1));if(s.type.spec.isolating)break}return null}const AM=(n,t)=>{let s=n.selection,r=s instanceof ye,i;if(r){if(s.node.isTextblock||!pr(n.doc,s.from))return!1;i=s.from}else if(i=Lc(n.doc,s.from,-1),i==null)return!1;if(t){let o=n.tr.join(i);r&&o.setSelection(ye.create(o.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},IM=(n,t)=>{let s=n.selection,r;if(s instanceof ye){if(s.node.isTextblock||!pr(n.doc,s.to))return!1;r=s.to}else if(r=Lc(n.doc,s.to,1),r==null)return!1;return t&&t(n.tr.join(r).scrollIntoView()),!0},OM=(n,t)=>{let{$from:s,$to:r}=n.selection,i=s.blockRange(r),o=i&&Qi(i);return o==null?!1:(t&&t(n.tr.lift(i,o).scrollIntoView()),!0)},LM=(n,t)=>{let{$head:s,$anchor:r}=n.selection;return!s.parent.type.spec.code||!s.sameParent(r)?!1:(t&&t(n.tr.insertText(`
`).scrollIntoView()),!0)};function Kg(n){for(let t=0;t<n.edgeCount;t++){let{type:s}=n.edge(t);if(s.isTextblock&&!s.hasRequiredAttrs())return s}return null}const PM=(n,t)=>{let{$head:s,$anchor:r}=n.selection;if(!s.parent.type.spec.code||!s.sameParent(r))return!1;let i=s.node(-1),o=s.indexAfter(-1),l=Kg(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(t){let a=s.after(),c=n.tr.replaceWith(a,a,l.createAndFill());c.setSelection(Se.near(c.doc.resolve(a),1)),t(c.scrollIntoView())}return!0},NM=(n,t)=>{let s=n.selection,{$from:r,$to:i}=s;if(s instanceof Ln||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Kg(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=n.tr.insert(l,o.createAndFill());a.setSelection(_e.create(a.doc,l+1)),t(a.scrollIntoView())}return!0},DM=(n,t)=>{let{$cursor:s}=n.selection;if(!s||s.parent.content.size)return!1;if(s.depth>1&&s.after()!=s.end(-1)){let o=s.before();if(Ai(n.doc,o))return t&&t(n.tr.split(o).scrollIntoView()),!0}let r=s.blockRange(),i=r&&Qi(r);return i==null?!1:(t&&t(n.tr.lift(r,i).scrollIntoView()),!0)},RM=(n,t)=>{let{$from:s,to:r}=n.selection,i,o=s.sharedDepth(r);return o==0?!1:(i=s.before(o),t&&t(n.tr.setSelection(ye.create(n.doc,i))),!0)};function $M(n,t,s){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(s&&s(n.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||pr(n.doc,t.pos))?!1:(s&&s(n.tr.join(t.pos).scrollIntoView()),!0)}function Gg(n,t,s,r){let i=t.nodeBefore,o=t.nodeAfter,l,a,c=i.type.spec.isolating||o.type.spec.isolating;if(!c&&$M(n,t,s))return!0;let u=!c&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(l=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(l[0]||o.type).validEnd){if(s){let m=t.pos+o.nodeSize,v=K.empty;for(let _=l.length-1;_>=0;_--)v=K.from(l[_].create(null,v));v=K.from(i.copy(v));let C=n.tr.step(new mt(t.pos-1,m,t.pos,m,new ne(v,1,0),l.length,!0)),x=C.doc.resolve(m+2*l.length);x.nodeAfter&&x.nodeAfter.type==i.type&&pr(C.doc,x.pos)&&C.join(x.pos),s(C.scrollIntoView())}return!0}let h=o.type.spec.isolating||r>0&&c?null:Se.findFrom(t,1),f=h&&h.$from.blockRange(h.$to),p=f&&Qi(f);if(p!=null&&p>=t.depth)return s&&s(n.tr.lift(f,p).scrollIntoView()),!0;if(u&&zi(o,"start",!0)&&zi(i,"end")){let m=i,v=[];for(;v.push(m),!m.isTextblock;)m=m.lastChild;let C=o,x=1;for(;!C.isTextblock;C=C.firstChild)x++;if(m.canReplace(m.childCount,m.childCount,C.content)){if(s){let _=K.empty;for(let E=v.length-1;E>=0;E--)_=K.from(v[E].copy(_));let M=n.tr.step(new mt(t.pos-v.length,t.pos+o.nodeSize,t.pos+x,t.pos+o.nodeSize-x,new ne(_,v.length,0),0,!0));s(M.scrollIntoView())}return!0}}return!1}function Jg(n){return function(t,s){let r=t.selection,i=n<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(s&&s(t.tr.setSelection(_e.create(t.doc,n<0?i.start(o):i.end(o)))),!0):!1}}const FM=Jg(-1),BM=Jg(1);function VM(n,t=null){return function(s,r){let{$from:i,$to:o}=s.selection,l=i.blockRange(o),a=l&&Qh(l,n,t);return a?(r&&r(s.tr.wrap(l,a).scrollIntoView()),!0):!1}}function K2(n,t=null){return function(s,r){let i=!1;for(let o=0;o<s.selection.ranges.length&&!i;o++){let{$from:{pos:l},$to:{pos:a}}=s.selection.ranges[o];s.doc.nodesBetween(l,a,(c,u)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(n,t)))if(c.type==n)i=!0;else{let h=s.doc.resolve(u),f=h.index();i=h.parent.canReplaceWith(f,f+1,n)}})}if(!i)return!1;if(r){let o=s.tr;for(let l=0;l<s.selection.ranges.length;l++){let{$from:{pos:a},$to:{pos:c}}=s.selection.ranges[l];o.setBlockType(a,c,n,t)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function HM(n,t=null){return function(s,r){let{$from:i,$to:o}=s.selection,l=i.blockRange(o),a=!1,c=l;if(!l)return!1;if(l.depth>=2&&i.node(l.depth-1).type.compatibleContent(n)&&l.startIndex==0){if(i.index(l.depth-1)==0)return!1;let h=s.doc.resolve(l.start-2);c=new Ka(h,h,l.depth),l.endIndex<l.parent.childCount&&(l=new Ka(i,s.doc.resolve(o.end(l.depth)),l.depth)),a=!0}let u=Qh(c,n,t,l);return u?(r&&r(UM(s.tr,l,u,a,n).scrollIntoView()),!0):!1}}function UM(n,t,s,r,i){let o=K.empty;for(let h=s.length-1;h>=0;h--)o=K.from(s[h].type.create(s[h].attrs,o));n.step(new mt(t.start-(r?2:0),t.end,t.start,t.end,new ne(o,0,0),s.length,!0));let l=0;for(let h=0;h<s.length;h++)s[h].type==i&&(l=h+1);let a=s.length-l,c=t.start+s.length-(r?2:0),u=t.parent;for(let h=t.startIndex,f=t.endIndex,p=!0;h<f;h++,p=!1)!p&&Ai(n.doc,c,a)&&(n.split(c,a),c+=2*a),c+=u.child(h).nodeSize;return n}function jM(n){return function(t,s){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==n);return o?s?r.node(o.depth-1).type==n?zM(t,s,n,o):qM(t,s,o):!0:!1}}function zM(n,t,s,r){let i=n.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new mt(o-1,l,o,l,new ne(K.from(s.create(null,r.parent.copy())),1,0),1,!0)),r=new Ka(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const a=Qi(r);if(a==null)return!1;i.lift(r,a);let c=i.mapping.map(o,-1)-1;return pr(i.doc,c)&&i.join(c),t(i.scrollIntoView()),!0}function qM(n,t,s){let r=n.tr,i=s.parent;for(let m=s.end,v=s.endIndex-1,C=s.startIndex;v>C;v--)m-=i.child(v).nodeSize,r.delete(m-1,m+1);let o=r.doc.resolve(s.start),l=o.nodeAfter;if(r.mapping.map(s.end)!=s.start+o.nodeAfter.nodeSize)return!1;let a=s.startIndex==0,c=s.endIndex==i.childCount,u=o.node(-1),h=o.index(-1);if(!u.canReplace(h+(a?0:1),h+1,l.content.append(c?K.empty:K.from(i))))return!1;let f=o.pos,p=f+l.nodeSize;return r.step(new mt(f-(a?1:0),p+(c?1:0),f+1,p-1,new ne((a?K.empty:K.from(i.copy(K.empty))).append(c?K.empty:K.from(i.copy(K.empty))),a?0:1,c?0:1),a?0:1)),t(r.scrollIntoView()),!0}function WM(n){return function(t,s){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==n);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let a=o.parent,c=a.child(l-1);if(c.type!=n)return!1;if(s){let u=c.lastChild&&c.lastChild.type==a.type,h=K.from(u?n.create():null),f=new ne(K.from(n.create(null,K.from(a.type.create(null,h)))),u?3:1,0),p=o.start,m=o.end;s(t.tr.step(new mt(p-(u?3:1),m,p,m,f,1,!0)).scrollIntoView())}return!0}}function Fc(n){const{state:t,transaction:s}=n;let{selection:r}=s,{doc:i}=s,{storedMarks:o}=s;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=s.selection,i=s.doc,o=s.storedMarks,s}}}class Bc{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:s,state:r}=this,{view:i}=s,{tr:o}=r,l=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...h)=>{const f=c(...h)(l);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,s=!0){const{rawCommands:r,editor:i,state:o}=this,{view:l}=i,a=[],c=!!t,u=t||o.tr,h=()=>(!c&&s&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(u),a.every(p=>p===!0)),f={...Object.fromEntries(Object.entries(r).map(([p,m])=>[p,(...C)=>{const x=this.buildProps(u,s),_=m(...C)(x);return a.push(_),f}])),run:h};return f}createCan(t){const{rawCommands:s,state:r}=this,i=!1,o=t||r.tr,l=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(s).map(([c,u])=>[c,(...h)=>u(...h)({...l,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(t,s=!0){const{rawCommands:r,editor:i,state:o}=this,{view:l}=i,a={tr:t,editor:i,view:l,state:Fc({state:o,transaction:t}),dispatch:s?()=>{}:void 0,chain:()=>this.createChain(t,s),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([c,u])=>[c,(...h)=>u(...h)(a)]))}};return a}}class KM{constructor(){this.callbacks={}}on(t,s){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(s),this}emit(t,...s){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,s)),this}off(t,s){const r=this.callbacks[t];return r&&(s?this.callbacks[t]=r.filter(i=>i!==s):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}function de(n,t,s){return n.config[t]===void 0&&n.parent?de(n.parent,t,s):typeof n.config[t]=="function"?n.config[t].bind({...s,parent:n.parent?de(n.parent,t,s):null}):n.config[t]}function Vc(n){const t=n.filter(i=>i.type==="extension"),s=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:s,markExtensions:r}}function Zg(n){const t=[],{nodeExtensions:s,markExtensions:r}=Vc(n),i=[...s,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(l=>{const a={name:l.name,options:l.options,storage:l.storage,extensions:i},c=de(l,"addGlobalAttributes",a);if(!c)return;c().forEach(h=>{h.types.forEach(f=>{Object.entries(h.attributes).forEach(([p,m])=>{t.push({type:f,name:p,attribute:{...o,...m}})})})})}),i.forEach(l=>{const a={name:l.name,options:l.options,storage:l.storage},c=de(l,"addAttributes",a);if(!c)return;const u=c();Object.entries(u).forEach(([h,f])=>{const p={...o,...f};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,t.push({type:l.name,name:h,attribute:p})})}),t}function yt(n,t){if(typeof n=="string"){if(!t.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return t.nodes[n]}return n}function Nt(...n){return n.filter(t=>!!t).reduce((t,s)=>{const r={...t};return Object.entries(s).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?o.split(" "):[],c=r[i]?r[i].split(" "):[],u=a.filter(h=>!c.includes(h));r[i]=[...c,...u].join(" ")}else if(i==="style"){const a=o?o.split(";").map(h=>h.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(h=>h.trim()).filter(Boolean):[],u=new Map;c.forEach(h=>{const[f,p]=h.split(":").map(m=>m.trim());u.set(f,p)}),a.forEach(h=>{const[f,p]=h.split(":").map(m=>m.trim());u.set(f,p)}),r[i]=Array.from(u.entries()).map(([h,f])=>`${h}: ${f}`).join("; ")}else r[i]=o}),r},{})}function zd(n,t){return t.filter(s=>s.type===n.type.name).filter(s=>s.attribute.rendered).map(s=>s.attribute.renderHTML?s.attribute.renderHTML(n.attrs)||{}:{[s.name]:n.attrs[s.name]}).reduce((s,r)=>Nt(s,r),{})}function Yg(n){return typeof n=="function"}function Ee(n,t=void 0,...s){return Yg(n)?t?n.bind(t)(...s):n(...s):n}function GM(n={}){return Object.keys(n).length===0&&n.constructor===Object}function JM(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function G2(n,t){return"style"in n?n:{...n,getAttrs:s=>{const r=n.getAttrs?n.getAttrs(s):n.attrs;if(r===!1)return!1;const i=t.reduce((o,l)=>{const a=l.attribute.parseHTML?l.attribute.parseHTML(s):JM(s.getAttribute(l.name));return a==null?o:{...o,[l.name]:a}},{});return{...r,...i}}}}function J2(n){return Object.fromEntries(Object.entries(n).filter(([t,s])=>t==="attrs"&&GM(s)?!1:s!=null))}function ZM(n,t){var s;const r=Zg(n),{nodeExtensions:i,markExtensions:o}=Vc(n),l=(s=i.find(u=>de(u,"topNode")))===null||s===void 0?void 0:s.name,a=Object.fromEntries(i.map(u=>{const h=r.filter(_=>_.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:t},p=n.reduce((_,M)=>{const E=de(M,"extendNodeSchema",f);return{..._,...E?E(u):{}}},{}),m=J2({...p,content:Ee(de(u,"content",f)),marks:Ee(de(u,"marks",f)),group:Ee(de(u,"group",f)),inline:Ee(de(u,"inline",f)),atom:Ee(de(u,"atom",f)),selectable:Ee(de(u,"selectable",f)),draggable:Ee(de(u,"draggable",f)),code:Ee(de(u,"code",f)),whitespace:Ee(de(u,"whitespace",f)),defining:Ee(de(u,"defining",f)),isolating:Ee(de(u,"isolating",f)),attrs:Object.fromEntries(h.map(_=>{var M;return[_.name,{default:(M=_==null?void 0:_.attribute)===null||M===void 0?void 0:M.default}]}))}),v=Ee(de(u,"parseHTML",f));v&&(m.parseDOM=v.map(_=>G2(_,h)));const C=de(u,"renderHTML",f);C&&(m.toDOM=_=>C({node:_,HTMLAttributes:zd(_,h)}));const x=de(u,"renderText",f);return x&&(m.toText=x),[u.name,m]})),c=Object.fromEntries(o.map(u=>{const h=r.filter(x=>x.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:t},p=n.reduce((x,_)=>{const M=de(_,"extendMarkSchema",f);return{...x,...M?M(u):{}}},{}),m=J2({...p,inclusive:Ee(de(u,"inclusive",f)),excludes:Ee(de(u,"excludes",f)),group:Ee(de(u,"group",f)),spanning:Ee(de(u,"spanning",f)),code:Ee(de(u,"code",f)),attrs:Object.fromEntries(h.map(x=>{var _;return[x.name,{default:(_=x==null?void 0:x.attribute)===null||_===void 0?void 0:_.default}]}))}),v=Ee(de(u,"parseHTML",f));v&&(m.parseDOM=v.map(x=>G2(x,h)));const C=de(u,"renderHTML",f);return C&&(m.toDOM=x=>C({mark:x,HTMLAttributes:zd(x,h)})),[u.name,m]}));return new q3({topNode:l,nodes:a,marks:c})}function qu(n,t){return t.nodes[n]||t.marks[n]||null}function Z2(n,t){return Array.isArray(t)?t.some(s=>(typeof s=="string"?s:s.name)===n.name):t}const YM=(n,t=500)=>{let s="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-t),r,(i,o,l,a)=>{var c,u;const h=((u=(c=i.type.spec).toText)===null||u===void 0?void 0:u.call(c,{node:i,pos:o,parent:l,index:a}))||i.textContent||"%leaf%";s+=i.isAtom&&!i.isText?h:h.slice(0,Math.max(0,r-o))}),s};function hf(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Hc{constructor(t){this.find=t.find,this.handler=t.handler}}const XM=(n,t)=>{if(hf(t))return t.exec(n);const s=t(n);if(!s)return null;const r=[s.text];return r.index=s.index,r.input=n,r.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(s.replaceWith)),r};function ea(n){var t;const{editor:s,from:r,to:i,text:o,rules:l,plugin:a}=n,{view:c}=s;if(c.composing)return!1;const u=c.state.doc.resolve(r);if(u.parent.type.spec.code||!((t=u.nodeBefore||u.nodeAfter)===null||t===void 0)&&t.marks.find(p=>p.type.spec.code))return!1;let h=!1;const f=YM(u)+o;return l.forEach(p=>{if(h)return;const m=XM(f,p.find);if(!m)return;const v=c.state.tr,C=Fc({state:c.state,transaction:v}),x={from:r-(m[0].length-o.length),to:i},{commands:_,chain:M,can:E}=new Bc({editor:s,state:C});p.handler({state:C,range:x,match:m,commands:_,chain:M,can:E})===null||!v.steps.length||(v.setMeta(a,{transform:v,from:r,to:i,text:o}),c.dispatch(v),h=!0)}),h}function QM(n){const{editor:t,rules:s}=n,r=new rn({state:{init(){return null},apply(i,o){const l=i.getMeta(r);if(l)return l;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:u,text:h}=a,f=u+h.length;ea({editor:t,from:u,to:f,text:h,rules:s,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,l,a){return ea({editor:t,from:o,to:l,text:a,rules:s,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&ea({editor:t,from:o.pos,to:o.pos,text:"",rules:s,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?ea({editor:t,from:l.pos,to:l.pos,text:`
`,rules:s,plugin:r}):!1}},isInputRules:!0});return r}function eA(n){return Object.prototype.toString.call(n).slice(8,-1)}function ta(n){return eA(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Uc(n,t){const s={...n};return ta(n)&&ta(t)&&Object.keys(t).forEach(r=>{ta(t[r])&&ta(n[r])?s[r]=Uc(n[r],t[r]):s[r]=t[r]}),s}class xs{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(de(this,"addOptions",{name:this.name}))),this.storage=Ee(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new xs(t)}configure(t={}){const s=this.extend({...this.config,addOptions:()=>Uc(this.options,t)});return s.name=this.name,s.parent=this.parent,s}extend(t={}){const s=new xs(t);return s.parent=this,this.child=s,s.name=t.name?t.name:s.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${s.name}".`),s.options=Ee(de(s,"addOptions",{name:s.name})),s.storage=Ee(de(s,"addStorage",{name:s.name,options:s.options})),s}static handleExit({editor:t,mark:s}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(u=>(u==null?void 0:u.type.name)===s.name))return!1;const c=l.find(u=>(u==null?void 0:u.type.name)===s.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}}function tA(n){return typeof n=="number"}class nA{constructor(t){this.find=t.find,this.handler=t.handler}}const sA=(n,t,s)=>{if(hf(t))return[...n.matchAll(t)];const r=t(n,s);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=n,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function rA(n){const{editor:t,state:s,from:r,to:i,rule:o,pasteEvent:l,dropEvent:a}=n,{commands:c,chain:u,can:h}=new Bc({editor:t,state:s}),f=[];return s.doc.nodesBetween(r,i,(m,v)=>{if(!m.isTextblock||m.type.spec.code)return;const C=Math.max(r,v),x=Math.min(i,v+m.content.size),_=m.textBetween(C-v,x-v,void 0,"");sA(_,o.find,l).forEach(E=>{if(E.index===void 0)return;const N=C+E.index+1,R=N+E[0].length,B={from:s.tr.mapping.map(N),to:s.tr.mapping.map(R)},A=o.handler({state:s,range:B,match:E,commands:c,chain:u,can:h,pasteEvent:l,dropEvent:a});f.push(A)})}),f.every(m=>m!==null)}const iA=n=>{var t;const s=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=s.clipboardData)===null||t===void 0||t.setData("text/html",n),s};function oA(n){const{editor:t,rules:s}=n;let r=null,i=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const c=({state:h,from:f,to:p,rule:m,pasteEvt:v})=>{const C=h.tr,x=Fc({state:h,transaction:C});if(!(!rA({editor:t,state:x,from:Math.max(f-1,0),to:p.b-1,rule:m,pasteEvent:v,dropEvent:a})||!C.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,C};return s.map(h=>new rn({view(f){const p=m=>{var v;r=!((v=f.dom.parentElement)===null||v===void 0)&&v.contains(m.target)?f.dom.parentElement:null};return window.addEventListener("dragstart",p),{destroy(){window.removeEventListener("dragstart",p)}}},props:{handleDOMEvents:{drop:(f,p)=>(o=r===f.dom.parentElement,a=p,!1),paste:(f,p)=>{var m;const v=(m=p.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return l=p,i=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(f,p,m)=>{const v=f[0],C=v.getMeta("uiEvent")==="paste"&&!i,x=v.getMeta("uiEvent")==="drop"&&!o,_=v.getMeta("applyPasteRules"),M=!!_;if(!C&&!x&&!M)return;if(M){const{from:R,text:B}=_,A=R+B.length,k=iA(B);return c({rule:h,state:m,from:R,to:{b:A},pasteEvt:k})}const E=p.doc.content.findDiffStart(m.doc.content),N=p.doc.content.findDiffEnd(m.doc.content);if(!(!tA(E)||!N||E===N.b))return c({rule:h,state:m,from:E,to:N,pasteEvt:l})}}))}function lA(n){const t=n.filter((s,r)=>n.indexOf(s)!==r);return Array.from(new Set(t))}class vi{constructor(t,s){this.splittableMarks=[],this.editor=s,this.extensions=vi.resolve(t),this.schema=ZM(this.extensions,s),this.setupExtensions()}static resolve(t){const s=vi.sort(vi.flatten(t)),r=lA(s.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),s}static flatten(t){return t.map(s=>{const r={name:s.name,options:s.options,storage:s.storage},i=de(s,"addExtensions",r);return i?[s,...this.flatten(i())]:s}).flat(10)}static sort(t){return t.sort((r,i)=>{const o=de(r,"priority")||100,l=de(i,"priority")||100;return o>l?-1:o<l?1:0})}get commands(){return this.extensions.reduce((t,s)=>{const r={name:s.name,options:s.options,storage:s.storage,editor:this.editor,type:qu(s.name,this.schema)},i=de(s,"addCommands",r);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this,s=vi.sort([...this.extensions].reverse()),r=[],i=[],o=s.map(l=>{const a={name:l.name,options:l.options,storage:l.storage,editor:t,type:qu(l.name,this.schema)},c=[],u=de(l,"addKeyboardShortcuts",a);let h={};if(l.type==="mark"&&de(l,"exitable",a)&&(h.ArrowRight=()=>xs.handleExit({editor:t,mark:l})),u){const C=Object.fromEntries(Object.entries(u()).map(([x,_])=>[x,()=>_({editor:t})]));h={...h,...C}}const f=bM(h);c.push(f);const p=de(l,"addInputRules",a);Z2(l,t.options.enableInputRules)&&p&&r.push(...p());const m=de(l,"addPasteRules",a);Z2(l,t.options.enablePasteRules)&&m&&i.push(...m());const v=de(l,"addProseMirrorPlugins",a);if(v){const C=v();c.push(...C)}return c}).flat();return[QM({editor:t,rules:r}),...oA({editor:t,rules:i}),...o]}get attributes(){return Zg(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:s}=Vc(this.extensions);return Object.fromEntries(s.filter(r=>!!de(r,"addNodeView")).map(r=>{const i=this.attributes.filter(c=>c.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:t,type:yt(r.name,this.schema)},l=de(r,"addNodeView",o);if(!l)return[];const a=(c,u,h,f,p)=>{const m=zd(c,i);return l()({node:c,view:u,getPos:h,decorations:f,innerDecorations:p,editor:t,extension:r,HTMLAttributes:m})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(t=>{var s;this.editor.extensionStorage[t.name]=t.storage;const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:qu(t.name,this.schema)};t.type==="mark"&&(!((s=Ee(de(t,"keepOnSplit",r)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(t.name);const i=de(t,"onBeforeCreate",r),o=de(t,"onCreate",r),l=de(t,"onUpdate",r),a=de(t,"onSelectionUpdate",r),c=de(t,"onTransaction",r),u=de(t,"onFocus",r),h=de(t,"onBlur",r),f=de(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),l&&this.editor.on("update",l),a&&this.editor.on("selectionUpdate",a),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),h&&this.editor.on("blur",h),f&&this.editor.on("destroy",f)})}}class Gt{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(de(this,"addOptions",{name:this.name}))),this.storage=Ee(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Gt(t)}configure(t={}){const s=this.extend({...this.config,addOptions:()=>Uc(this.options,t)});return s.name=this.name,s.parent=this.parent,s}extend(t={}){const s=new Gt({...this.config,...t});return s.parent=this,this.child=s,s.name=t.name?t.name:s.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${s.name}".`),s.options=Ee(de(s,"addOptions",{name:s.name})),s.storage=Ee(de(s,"addStorage",{name:s.name,options:s.options})),s}}function Xg(n,t,s){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:l={}}=s||{};let a="";return n.nodesBetween(r,i,(c,u,h,f)=>{var p;c.isBlock&&u>r&&(a+=o);const m=l==null?void 0:l[c.type.name];if(m)return h&&(a+=m({node:c,pos:u,parent:h,index:f,range:t})),!1;c.isText&&(a+=(p=c==null?void 0:c.text)===null||p===void 0?void 0:p.slice(Math.max(r,u)-u,i-u))}),a}function Qg(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,t])=>t.spec.toText).map(([t,s])=>[t,s.spec.toText]))}const aA=Gt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new rn({key:new Jn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:t,schema:s}=n,{doc:r,selection:i}=t,{ranges:o}=i,l=Math.min(...o.map(h=>h.$from.pos)),a=Math.max(...o.map(h=>h.$to.pos)),c=Qg(s);return Xg(r,{from:l,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),cA=()=>({editor:n,view:t})=>(requestAnimationFrame(()=>{var s;n.isDestroyed||(t.dom.blur(),(s=window==null?void 0:window.getSelection())===null||s===void 0||s.removeAllRanges())}),!0),uA=(n=!1)=>({commands:t})=>t.setContent("",n),dA=()=>({state:n,tr:t,dispatch:s})=>{const{selection:r}=t,{ranges:i}=r;return s&&i.forEach(({$from:o,$to:l})=>{n.doc.nodesBetween(o.pos,l.pos,(a,c)=>{if(a.type.isText)return;const{doc:u,mapping:h}=t,f=u.resolve(h.map(c)),p=u.resolve(h.map(c+a.nodeSize)),m=f.blockRange(p);if(!m)return;const v=Qi(m);if(a.type.isTextblock){const{defaultType:C}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(m.start,C)}(v||v===0)&&t.lift(m,v)})}),!0},hA=n=>t=>n(t),fA=()=>({state:n,dispatch:t})=>NM(n,t),pA=(n,t)=>({editor:s,tr:r})=>{const{state:i}=s,o=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const l=r.mapping.map(t);return r.insert(l,o.content),r.setSelection(new _e(r.doc.resolve(l-1))),!0},mA=()=>({tr:n,dispatch:t})=>{const{selection:s}=n,r=s.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const a=i.before(o),c=i.after(o);n.delete(a,c).scrollIntoView()}return!0}return!1},gA=n=>({tr:t,state:s,dispatch:r})=>{const i=yt(n,s.schema),o=t.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===i){if(r){const c=o.before(l),u=o.after(l);t.delete(c,u).scrollIntoView()}return!0}return!1},yA=n=>({tr:t,dispatch:s})=>{const{from:r,to:i}=n;return s&&t.delete(r,i),!0},vA=()=>({state:n,dispatch:t})=>kM(n,t),CA=()=>({commands:n})=>n.keyboardShortcut("Enter"),wA=()=>({state:n,dispatch:t})=>PM(n,t);function sc(n,t,s={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>s.strict?t[i]===n[i]:hf(t[i])?t[i].test(n[i]):t[i]===n[i]):!0}function qd(n,t,s={}){return n.find(r=>r.type===t&&sc(r.attrs,s))}function bA(n,t,s={}){return!!qd(n,t,s)}function ff(n,t,s={}){if(!n||!t)return;let r=n.parent.childAfter(n.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===t))&&(r=n.parent.childBefore(n.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===t))return;const i=qd([...r.node.marks],t,s);if(!i)return;let o=r.index,l=n.start()+r.offset,a=o+1,c=l+r.node.nodeSize;for(qd([...r.node.marks],t,s);o>0&&i.isInSet(n.parent.child(o-1).marks);)o-=1,l-=n.parent.child(o).nodeSize;for(;a<n.parent.childCount&&bA([...n.parent.child(a).marks],t,s);)c+=n.parent.child(a).nodeSize,a+=1;return{from:l,to:c}}function gr(n,t){if(typeof n=="string"){if(!t.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return t.marks[n]}return n}const kA=(n,t={})=>({tr:s,state:r,dispatch:i})=>{const o=gr(n,r.schema),{doc:l,selection:a}=s,{$from:c,from:u,to:h}=a;if(i){const f=ff(c,o,t);if(f&&f.from<=u&&f.to>=h){const p=_e.create(l,f.from,f.to);s.setSelection(p)}}return!0},xA=n=>t=>{const s=typeof n=="function"?n(t):n;for(let r=0;r<s.length;r+=1)if(s[r](t))return!0;return!1};function e5(n){return n instanceof _e}function Mr(n=0,t=0,s=0){return Math.min(Math.max(n,t),s)}function t5(n,t=null){if(!t)return null;const s=Se.atStart(n),r=Se.atEnd(n);if(t==="start"||t===!0)return s;if(t==="end")return r;const i=s.from,o=r.to;return t==="all"?_e.create(n,Mr(0,i,o),Mr(n.content.size,i,o)):_e.create(n,Mr(t,i,o),Mr(t,i,o))}function pf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const _A=(n=null,t={})=>({editor:s,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const l=()=>{pf()&&r.dom.focus(),requestAnimationFrame(()=>{s.isDestroyed||(r.focus(),t!=null&&t.scrollIntoView&&s.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(o&&n===null&&!e5(s.state.selection))return l(),!0;const a=t5(i.doc,n)||s.state.selection,c=s.state.selection.eq(a);return o&&(c||i.setSelection(a),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},SA=(n,t)=>s=>n.every((r,i)=>t(r,{...s,index:i})),TA=(n,t)=>({tr:s,commands:r})=>r.insertContentAt({from:s.selection.from,to:s.selection.to},n,t),n5=n=>{const t=n.childNodes;for(let s=t.length-1;s>=0;s-=1){const r=t[s];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&n5(r)}return n};function na(n){const t=`<body>${n}</body>`,s=new window.DOMParser().parseFromString(t,"text/html").body;return n5(s)}function rc(n,t,s){s={slice:!0,parseOptions:{},...s};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return K.fromArray(n.map(a=>t.nodeFromJSON(a)));const l=t.nodeFromJSON(n);return s.errorOnInvalidContent&&l.check(),l}catch(o){if(s.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),rc("",t,s)}if(i){if(s.errorOnInvalidContent){let l=!1,a="";const c=new q3({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(l=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(s.slice?sr.fromSchema(c).parseSlice(na(n),s.parseOptions):sr.fromSchema(c).parse(na(n),s.parseOptions),s.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=sr.fromSchema(t);return s.slice?o.parseSlice(na(n),s.parseOptions).content:o.parse(na(n),s.parseOptions)}return rc("",t,s)}function EA(n,t,s){const r=n.steps.length-1;if(r<t)return;const i=n.steps[r];if(!(i instanceof pt||i instanceof mt))return;const o=n.mapping.maps[r];let l=0;o.forEach((a,c,u,h)=>{l===0&&(l=h)}),n.setSelection(Se.near(n.doc.resolve(l),s))}const MA=n=>!("type"in n),AA=(n,t,s)=>({tr:r,dispatch:i,editor:o})=>{var l;if(i){s={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...s};let a;try{a=rc(t,o.schema,{parseOptions:{preserveWhitespace:"full",...s.parseOptions},errorOnInvalidContent:(l=s.errorOnInvalidContent)!==null&&l!==void 0?l:o.options.enableContentCheck})}catch(v){return o.emit("contentError",{editor:o,error:v,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:c,to:u}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},h=!0,f=!0;if((MA(a)?a:[a]).forEach(v=>{v.check(),h=h?v.isText&&v.marks.length===0:!1,f=f?v.isBlock:!1}),c===u&&f){const{parent:v}=r.doc.resolve(c);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(c-=1,u+=1)}let m;h?(Array.isArray(t)?m=t.map(v=>v.text||"").join(""):typeof t=="object"&&t&&t.text?m=t.text:m=t,r.insertText(m,c,u)):(m=a,r.replaceWith(c,u,m)),s.updateSelection&&EA(r,r.steps.length-1,-1),s.applyInputRules&&r.setMeta("applyInputRules",{from:c,text:m}),s.applyPasteRules&&r.setMeta("applyPasteRules",{from:c,text:m})}return!0},IA=()=>({state:n,dispatch:t})=>AM(n,t),OA=()=>({state:n,dispatch:t})=>IM(n,t),LA=()=>({state:n,dispatch:t})=>xM(n,t),PA=()=>({state:n,dispatch:t})=>EM(n,t),NA=()=>({state:n,dispatch:t,tr:s})=>{try{const r=Lc(n.doc,n.selection.$from.pos,-1);return r==null?!1:(s.join(r,2),t&&t(s),!0)}catch{return!1}},DA=()=>({state:n,dispatch:t,tr:s})=>{try{const r=Lc(n.doc,n.selection.$from.pos,1);return r==null?!1:(s.join(r,2),t&&t(s),!0)}catch{return!1}},RA=()=>({state:n,dispatch:t})=>_M(n,t),$A=()=>({state:n,dispatch:t})=>SM(n,t);function s5(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function FA(n){const t=n.split(/-(?!$)/);let s=t[t.length-1];s==="Space"&&(s=" ");let r,i,o,l;for(let a=0;a<t.length-1;a+=1){const c=t[a];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))pf()||s5()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(s=`Alt-${s}`),i&&(s=`Ctrl-${s}`),l&&(s=`Meta-${s}`),o&&(s=`Shift-${s}`),s}const BA=n=>({editor:t,view:s,tr:r,dispatch:i})=>{const o=FA(n).split(/-(?!$)/),l=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),c=t.captureTransaction(()=>{s.someProp("handleKeyDown",u=>u(s,a))});return c==null||c.steps.forEach(u=>{const h=u.map(r.mapping);h&&i&&r.maybeStep(h)}),!0};function ll(n,t,s={}){const{from:r,to:i,empty:o}=n.selection,l=t?yt(t,n.schema):null,a=[];n.doc.nodesBetween(r,i,(f,p)=>{if(f.isText)return;const m=Math.max(r,p),v=Math.min(i,p+f.nodeSize);a.push({node:f,from:m,to:v})});const c=i-r,u=a.filter(f=>l?l.name===f.node.type.name:!0).filter(f=>sc(f.node.attrs,s,{strict:!1}));return o?!!u.length:u.reduce((f,p)=>f+p.to-p.from,0)>=c}const VA=(n,t={})=>({state:s,dispatch:r})=>{const i=yt(n,s.schema);return ll(s,i,t)?OM(s,r):!1},HA=()=>({state:n,dispatch:t})=>DM(n,t),UA=n=>({state:t,dispatch:s})=>{const r=yt(n,t.schema);return jM(r)(t,s)},jA=()=>({state:n,dispatch:t})=>LM(n,t);function jc(n,t){return t.nodes[n]?"node":t.marks[n]?"mark":null}function Y2(n,t){const s=typeof t=="string"?[t]:t;return Object.keys(n).reduce((r,i)=>(s.includes(i)||(r[i]=n[i]),r),{})}const zA=(n,t)=>({tr:s,state:r,dispatch:i})=>{let o=null,l=null;const a=jc(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=yt(n,r.schema)),a==="mark"&&(l=gr(n,r.schema)),i&&s.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,h)=>{o&&o===u.type&&s.setNodeMarkup(h,void 0,Y2(u.attrs,t)),l&&u.marks.length&&u.marks.forEach(f=>{l===f.type&&s.addMark(h,h+u.nodeSize,l.create(Y2(f.attrs,t)))})})}),!0):!1},qA=()=>({tr:n,dispatch:t})=>(t&&n.scrollIntoView(),!0),WA=()=>({tr:n,commands:t})=>t.setTextSelection({from:0,to:n.doc.content.size}),KA=()=>({state:n,dispatch:t})=>TM(n,t),GA=()=>({state:n,dispatch:t})=>MM(n,t),JA=()=>({state:n,dispatch:t})=>RM(n,t),ZA=()=>({state:n,dispatch:t})=>BM(n,t),YA=()=>({state:n,dispatch:t})=>FM(n,t);function Wd(n,t,s={},r={}){return rc(n,t,{slice:!1,parseOptions:s,errorOnInvalidContent:r.errorOnInvalidContent})}const XA=(n,t=!1,s={},r={})=>({editor:i,tr:o,dispatch:l,commands:a})=>{var c,u;const{doc:h}=o;if(s.preserveWhitespace!=="full"){const f=Wd(n,i.schema,s,{errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck});return l&&o.replaceWith(0,h.content.size,f).setMeta("preventUpdate",!t),!0}return l&&o.setMeta("preventUpdate",!t),a.insertContentAt({from:0,to:h.content.size},n,{parseOptions:s,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function r5(n,t){const s=gr(t,n.schema),{from:r,to:i,empty:o}=n.selection,l=[];o?(n.storedMarks&&l.push(...n.storedMarks),l.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,c=>{l.push(...c.marks)});const a=l.find(c=>c.type.name===s.name);return a?{...a.attrs}:{}}function QA(n){for(let t=0;t<n.edgeCount;t+=1){const{type:s}=n.edge(t);if(s.isTextblock&&!s.hasRequiredAttrs())return s}return null}function eI(n,t){for(let s=n.depth;s>0;s-=1){const r=n.node(s);if(t(r))return{pos:s>0?n.before(s):0,start:n.start(s),depth:s,node:r}}}function mf(n){return t=>eI(t.$from,n)}function tI(n,t){const s=Xr.fromSchema(t).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(s),i.innerHTML}function nI(n,t){const s={from:0,to:n.content.size};return Xg(n,s,t)}function sI(n,t){const s=yt(t,n.schema),{from:r,to:i}=n.selection,o=[];n.doc.nodesBetween(r,i,a=>{o.push(a)});const l=o.reverse().find(a=>a.type.name===s.name);return l?{...l.attrs}:{}}function rI(n,t){const s=jc(typeof t=="string"?t:t.name,n.schema);return s==="node"?sI(n,t):s==="mark"?r5(n,t):{}}function i5(n,t,s){const r=[];return n===t?s.resolve(n).marks().forEach(i=>{const o=s.resolve(n),l=ff(o,i.type);l&&r.push({mark:i,...l})}):s.nodesBetween(n,t,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(l=>({from:o,to:o+i.nodeSize,mark:l})))}),r}function pa(n,t,s){return Object.fromEntries(Object.entries(s).filter(([r])=>{const i=n.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Kd(n,t,s={}){const{empty:r,ranges:i}=n.selection,o=t?gr(t,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>sc(f.attrs,s,{strict:!1}));let l=0;const a=[];if(i.forEach(({$from:f,$to:p})=>{const m=f.pos,v=p.pos;n.doc.nodesBetween(m,v,(C,x)=>{if(!C.isText&&!C.marks.length)return;const _=Math.max(m,x),M=Math.min(v,x+C.nodeSize),E=M-_;l+=E,a.push(...C.marks.map(N=>({mark:N,from:_,to:M})))})}),l===0)return!1;const c=a.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>sc(f.mark.attrs,s,{strict:!1})).reduce((f,p)=>f+p.to-p.from,0),u=a.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,p)=>f+p.to-p.from,0);return(c>0?c+u:c)>=l}function iI(n,t,s={}){if(!t)return ll(n,null,s)||Kd(n,null,s);const r=jc(t,n.schema);return r==="node"?ll(n,t,s):r==="mark"?Kd(n,t,s):!1}function X2(n,t){const{nodeExtensions:s}=Vc(t),r=s.find(l=>l.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ee(de(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function gf(n,{checkChildren:t=!0,ignoreWhitespace:s=!1}={}){var r;if(s){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(t){let i=!0;return n.content.forEach(o=>{i!==!1&&(gf(o,{ignoreWhitespace:s,checkChildren:t})||(i=!1))}),i}return!1}function oI(n){return n instanceof ye}function lI(n,t,s){var r;const{selection:i}=t;let o=null;if(e5(i)&&(o=i.$cursor),o){const a=(r=n.storedMarks)!==null&&r!==void 0?r:o.marks();return!!s.isInSet(a)||!a.some(c=>c.type.excludes(s))}const{ranges:l}=i;return l.some(({$from:a,$to:c})=>{let u=a.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(s):!1;return n.doc.nodesBetween(a.pos,c.pos,(h,f,p)=>{if(u)return!1;if(h.isInline){const m=!p||p.type.allowsMarkType(s),v=!!s.isInSet(h.marks)||!h.marks.some(C=>C.type.excludes(s));u=m&&v}return!u}),u})}const aI=(n,t={})=>({tr:s,state:r,dispatch:i})=>{const{selection:o}=s,{empty:l,ranges:a}=o,c=gr(n,r.schema);if(i)if(l){const u=r5(r,c);s.addStoredMark(c.create({...u,...t}))}else a.forEach(u=>{const h=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(h,f,(p,m)=>{const v=Math.max(m,h),C=Math.min(m+p.nodeSize,f);p.marks.find(_=>_.type===c)?p.marks.forEach(_=>{c===_.type&&s.addMark(v,C,c.create({..._.attrs,...t}))}):s.addMark(v,C,c.create(t))})});return lI(r,s,c)},cI=(n,t)=>({tr:s})=>(s.setMeta(n,t),!0),uI=(n,t={})=>({state:s,dispatch:r,chain:i})=>{const o=yt(n,s.schema);return o.isTextblock?i().command(({commands:l})=>K2(o,t)(s)?!0:l.clearNodes()).command(({state:l})=>K2(o,t)(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},dI=n=>({tr:t,dispatch:s})=>{if(s){const{doc:r}=t,i=Mr(n,0,r.content.size),o=ye.create(r,i);t.setSelection(o)}return!0},hI=n=>({tr:t,dispatch:s})=>{if(s){const{doc:r}=t,{from:i,to:o}=typeof n=="number"?{from:n,to:n}:n,l=_e.atStart(r).from,a=_e.atEnd(r).to,c=Mr(i,l,a),u=Mr(o,l,a),h=_e.create(r,c,u);t.setSelection(h)}return!0},fI=n=>({state:t,dispatch:s})=>{const r=yt(n,t.schema);return WM(r)(t,s)};function Q2(n,t){const s=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(s){const r=s.filter(i=>t==null?void 0:t.includes(i.type.name));n.tr.ensureMarks(r)}}const pI=({keepMarks:n=!0}={})=>({tr:t,state:s,dispatch:r,editor:i})=>{const{selection:o,doc:l}=t,{$from:a,$to:c}=o,u=i.extensionManager.attributes,h=pa(u,a.node().type.name,a.node().attrs);if(o instanceof ye&&o.node.isBlock)return!a.parentOffset||!Ai(l,a.pos)?!1:(r&&(n&&Q2(s,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=c.parentOffset===c.parent.content.size,p=a.depth===0?void 0:QA(a.node(-1).contentMatchAt(a.indexAfter(-1)));let m=f&&p?[{type:p,attrs:h}]:void 0,v=Ai(t.doc,t.mapping.map(a.pos),1,m);if(!m&&!v&&Ai(t.doc,t.mapping.map(a.pos),1,p?[{type:p}]:void 0)&&(v=!0,m=p?[{type:p,attrs:h}]:void 0),r){if(v&&(o instanceof _e&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,m),p&&!f&&!a.parentOffset&&a.parent.type!==p)){const C=t.mapping.map(a.before()),x=t.doc.resolve(C);a.node(-1).canReplaceWith(x.index(),x.index()+1,p)&&t.setNodeMarkup(t.mapping.map(a.before()),p)}n&&Q2(s,i.extensionManager.splittableMarks),t.scrollIntoView()}return v},mI=(n,t={})=>({tr:s,state:r,dispatch:i,editor:o})=>{var l;const a=yt(n,r.schema),{$from:c,$to:u}=r.selection,h=r.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(u))return!1;const f=c.node(-1);if(f.type!==a)return!1;const p=o.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let _=K.empty;const M=c.index(-1)?1:c.index(-2)?2:3;for(let k=c.depth-M;k>=c.depth-3;k-=1)_=K.from(c.node(k).copy(_));const E=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,N={...pa(p,c.node().type.name,c.node().attrs),...t},R=((l=a.contentMatch.defaultType)===null||l===void 0?void 0:l.createAndFill(N))||void 0;_=_.append(K.from(a.createAndFill(null,R)||void 0));const B=c.before(c.depth-(M-1));s.replace(B,c.after(-E),new ne(_,4-M,0));let A=-1;s.doc.nodesBetween(B,s.doc.content.size,(k,b)=>{if(A>-1)return!1;k.isTextblock&&k.content.size===0&&(A=b+1)}),A>-1&&s.setSelection(_e.near(s.doc.resolve(A))),s.scrollIntoView()}return!0}const m=u.pos===c.end()?f.contentMatchAt(0).defaultType:null,v={...pa(p,f.type.name,f.attrs),...t},C={...pa(p,c.node().type.name,c.node().attrs),...t};s.delete(c.pos,u.pos);const x=m?[{type:a,attrs:v},{type:m,attrs:C}]:[{type:a,attrs:v}];if(!Ai(s.doc,c.pos,2))return!1;if(i){const{selection:_,storedMarks:M}=r,{splittableMarks:E}=o.extensionManager,N=M||_.$to.parentOffset&&_.$from.marks();if(s.split(c.pos,2,x).scrollIntoView(),!N||!i)return!0;const R=N.filter(B=>E.includes(B.type.name));s.ensureMarks(R)}return!0},Wu=(n,t)=>{const s=mf(l=>l.type===t)(n.selection);if(!s)return!0;const r=n.doc.resolve(Math.max(0,s.pos-1)).before(s.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return s.node.type===(i==null?void 0:i.type)&&pr(n.doc,s.pos)&&n.join(s.pos),!0},Ku=(n,t)=>{const s=mf(l=>l.type===t)(n.selection);if(!s)return!0;const r=n.doc.resolve(s.start).after(s.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return s.node.type===(i==null?void 0:i.type)&&pr(n.doc,r)&&n.join(r),!0},gI=(n,t,s,r={})=>({editor:i,tr:o,state:l,dispatch:a,chain:c,commands:u,can:h})=>{const{extensions:f,splittableMarks:p}=i.extensionManager,m=yt(n,l.schema),v=yt(t,l.schema),{selection:C,storedMarks:x}=l,{$from:_,$to:M}=C,E=_.blockRange(M),N=x||C.$to.parentOffset&&C.$from.marks();if(!E)return!1;const R=mf(B=>X2(B.type.name,f))(C);if(E.depth>=1&&R&&E.depth-R.depth<=1){if(R.node.type===m)return u.liftListItem(v);if(X2(R.node.type.name,f)&&m.validContent(R.node.content)&&a)return c().command(()=>(o.setNodeMarkup(R.pos,m),!0)).command(()=>Wu(o,m)).command(()=>Ku(o,m)).run()}return!s||!N||!a?c().command(()=>h().wrapInList(m,r)?!0:u.clearNodes()).wrapInList(m,r).command(()=>Wu(o,m)).command(()=>Ku(o,m)).run():c().command(()=>{const B=h().wrapInList(m,r),A=N.filter(k=>p.includes(k.type.name));return o.ensureMarks(A),B?!0:u.clearNodes()}).wrapInList(m,r).command(()=>Wu(o,m)).command(()=>Ku(o,m)).run()},yI=(n,t={},s={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=s,l=gr(n,r.schema);return Kd(r,l,t)?i.unsetMark(l,{extendEmptyMarkRange:o}):i.setMark(l,t)},vI=(n,t,s={})=>({state:r,commands:i})=>{const o=yt(n,r.schema),l=yt(t,r.schema),a=ll(r,o,s);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),a?i.setNode(l,c):i.setNode(o,{...c,...s})},CI=(n,t={})=>({state:s,commands:r})=>{const i=yt(n,s.schema);return ll(s,i,t)?r.lift(i):r.wrapIn(i,t)},wI=()=>({state:n,dispatch:t})=>{const s=n.plugins;for(let r=0;r<s.length;r+=1){const i=s[r];let o;if(i.spec.isInputRules&&(o=i.getState(n))){if(t){const l=n.tr,a=o.transform;for(let c=a.steps.length-1;c>=0;c-=1)l.step(a.steps[c].invert(a.docs[c]));if(o.text){const c=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,n.schema.text(o.text,c))}else l.delete(o.from,o.to)}return!0}}return!1},bI=()=>({tr:n,dispatch:t})=>{const{selection:s}=n,{empty:r,ranges:i}=s;return r||t&&i.forEach(o=>{n.removeMark(o.$from.pos,o.$to.pos)}),!0},kI=(n,t={})=>({tr:s,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:l=!1}=t,{selection:a}=s,c=gr(n,r.schema),{$from:u,empty:h,ranges:f}=a;if(!i)return!0;if(h&&l){let{from:p,to:m}=a;const v=(o=u.marks().find(x=>x.type===c))===null||o===void 0?void 0:o.attrs,C=ff(u,c,v);C&&(p=C.from,m=C.to),s.removeMark(p,m,c)}else f.forEach(p=>{s.removeMark(p.$from.pos,p.$to.pos,c)});return s.removeStoredMark(c),!0},xI=(n,t={})=>({tr:s,state:r,dispatch:i})=>{let o=null,l=null;const a=jc(typeof n=="string"?n:n.name,r.schema);return a?(a==="node"&&(o=yt(n,r.schema)),a==="mark"&&(l=gr(n,r.schema)),i&&s.selection.ranges.forEach(c=>{const u=c.$from.pos,h=c.$to.pos;r.doc.nodesBetween(u,h,(f,p)=>{o&&o===f.type&&s.setNodeMarkup(p,void 0,{...f.attrs,...t}),l&&f.marks.length&&f.marks.forEach(m=>{if(l===m.type){const v=Math.max(p,u),C=Math.min(p+f.nodeSize,h);s.addMark(v,C,l.create({...m.attrs,...t}))}})})}),!0):!1},_I=(n,t={})=>({state:s,dispatch:r})=>{const i=yt(n,s.schema);return VM(i,t)(s,r)},SI=(n,t={})=>({state:s,dispatch:r})=>{const i=yt(n,s.schema);return HM(i,t)(s,r)};var TI=Object.freeze({__proto__:null,blur:cA,clearContent:uA,clearNodes:dA,command:hA,createParagraphNear:fA,cut:pA,deleteCurrentNode:mA,deleteNode:gA,deleteRange:yA,deleteSelection:vA,enter:CA,exitCode:wA,extendMarkRange:kA,first:xA,focus:_A,forEach:SA,insertContent:TA,insertContentAt:AA,joinBackward:LA,joinDown:OA,joinForward:PA,joinItemBackward:NA,joinItemForward:DA,joinTextblockBackward:RA,joinTextblockForward:$A,joinUp:IA,keyboardShortcut:BA,lift:VA,liftEmptyBlock:HA,liftListItem:UA,newlineInCode:jA,resetAttributes:zA,scrollIntoView:qA,selectAll:WA,selectNodeBackward:KA,selectNodeForward:GA,selectParentNode:JA,selectTextblockEnd:ZA,selectTextblockStart:YA,setContent:XA,setMark:aI,setMeta:cI,setNode:uI,setNodeSelection:dI,setTextSelection:hI,sinkListItem:fI,splitBlock:pI,splitListItem:mI,toggleList:gI,toggleMark:yI,toggleNode:vI,toggleWrap:CI,undoInputRule:wI,unsetAllMarks:bI,unsetMark:kI,updateAttributes:xI,wrapIn:_I,wrapInList:SI});const EI=Gt.create({name:"commands",addCommands(){return{...TI}}}),MI=Gt.create({name:"drop",addProseMirrorPlugins(){return[new rn({key:new Jn("tiptapDrop"),props:{handleDrop:(n,t,s,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:s,moved:r})}}})]}}),AI=Gt.create({name:"editable",addProseMirrorPlugins(){return[new rn({key:new Jn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),II=Gt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new rn({key:new Jn("focusEvents"),props:{handleDOMEvents:{focus:(t,s)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:s}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,s)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:s}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),OI=Gt.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:a})=>{const{selection:c,doc:u}=a,{empty:h,$anchor:f}=c,{pos:p,parent:m}=f,v=f.parent.isTextblock&&p>0?a.doc.resolve(p-1):f,C=v.parent.type.spec.isolating,x=f.pos-f.parentOffset,_=C&&v.parent.childCount===1?x===f.pos:Se.atStart(u).from===p;return!h||!m.type.isTextblock||m.textContent.length||!_||_&&f.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return pf()||s5()?o:i},addProseMirrorPlugins(){return[new rn({key:new Jn("clearDocument"),appendTransaction:(n,t,s)=>{const r=n.some(C=>C.docChanged)&&!t.doc.eq(s.doc),i=n.some(C=>C.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:l,to:a}=t.selection,c=Se.atStart(t.doc).from,u=Se.atEnd(t.doc).to;if(o||!(l===c&&a===u)||!gf(s.doc))return;const p=s.tr,m=Fc({state:s,transaction:p}),{commands:v}=new Bc({editor:this.editor,state:m});if(v.clearNodes(),!!p.steps.length)return p}})]}}),LI=Gt.create({name:"paste",addProseMirrorPlugins(){return[new rn({key:new Jn("tiptapPaste"),props:{handlePaste:(n,t,s)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:s})}}})]}}),PI=Gt.create({name:"tabindex",addProseMirrorPlugins(){return[new rn({key:new Jn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class _r{get name(){return this.node.type.name}constructor(t,s,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=s,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let s=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}s=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:s,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),s=this.resolvedPos.doc.resolve(t);return new _r(s,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new _r(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new _r(t,this.editor)}get children(){const t=[];return this.node.content.forEach((s,r)=>{const i=s.isBlock&&!s.isTextblock,o=s.isAtom&&!s.isText,l=this.pos+r+(o?0:1),a=this.resolvedPos.doc.resolve(l);if(!i&&a.depth<=this.depth)return;const c=new _r(a,this.editor,i,i?s:null);i&&(c.actualDepth=this.depth+1),t.push(new _r(a,this.editor,i,i?s:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,s={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(s).length>0){const o=i.node.attrs,l=Object.keys(s);for(let a=0;a<l.length;a+=1){const c=l[a];if(o[c]!==s[c])break}}else r=i;i=i.parent}return r}querySelector(t,s={}){return this.querySelectorAll(t,s,!0)[0]||null}querySelectorAll(t,s={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(s);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===t&&o.every(c=>s[c]===l.node.attrs[c])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(t,s,r))))}),i}setAttribute(t){const{tr:s}=this.editor.state;s.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(s)}}const NI=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function DI(n,t,s){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}let RI=class extends KM{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:r,moved:i})=>this.options.onDrop(s,r,i)),this.on("paste",({event:s,slice:r})=>this.options.onPaste(s,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=DI(NI,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,s=!0){this.setOptions({editable:t}),s&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,s){const r=Yg(s)?s(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const s=this.state.plugins;let r=s;if([].concat(t).forEach(o=>{const l=typeof o=="string"?`${o}$`:o.key;r=s.filter(a=>!a.key.startsWith(l))}),s.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var t,s;const i=[...this.options.enableCoreExtensions?[AI,aA.configure({blockSeparator:(s=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||s===void 0?void 0:s.blockSeparator}),EI,II,OI,PI,MI,LI].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new vi(i,this)}createCommandManager(){this.commandManager=new Bc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let t;try{t=Wd(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(l=>l.name!=="collaboration"),this.createExtensionManager()}}),t=Wd(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const s=t5(t,this.options.autofocus);this.view=new hM(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:yi.create({doc:t,selection:s||void 0})}),this.view.dom.setAttribute("role","textbox"),this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const s=this.capturedTransaction;return this.capturedTransaction=null,s}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(l=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(l)});return}const s=this.state.apply(t),r=!this.state.selection.eq(s.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:s}),this.view.updateState(s),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return rI(this.state,t)}isActive(t,s){const r=typeof t=="string"?t:null,i=typeof t=="string"?s:t;return iI(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tI(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:s=`

`,textSerializers:r={}}=t||{};return nI(this.state.doc,{blockSeparator:s,textSerializers:{...Qg(this.schema),...r}})}get isEmpty(){return gf(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,s){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(t,s))||null}$nodes(t,s){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(t,s))||null}$pos(t){const s=this.state.doc.resolve(t);return new _r(s,this)}get $doc(){return this.$pos(0)}};function qi(n){return new Hc({find:n.find,handler:({state:t,range:s,match:r})=>{const i=Ee(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,l=r[r.length-1],a=r[0];if(l){const c=a.search(/\S/),u=s.from+a.indexOf(l),h=u+l.length;if(i5(s.from,s.to,t.doc).filter(m=>m.mark.type.excluded.find(C=>C===n.type&&C!==m.mark.type)).filter(m=>m.to>u).length)return null;h<s.to&&o.delete(h,s.to),u>s.from&&o.delete(s.from+c,u);const p=s.from+c+l.length;o.addMark(s.from+c,p,n.type.create(i||{})),o.removeStoredMark(n.type)}}})}function $I(n){return new Hc({find:n.find,handler:({state:t,range:s,match:r})=>{const i=Ee(n.getAttributes,void 0,r)||{},{tr:o}=t,l=s.from;let a=s.to;const c=n.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let h=l+u;h>a?h=a:a=h+r[1].length;const f=r[0][r[0].length-1];o.insertText(f,l+r[0].length-1),o.replaceWith(h,a,c)}else if(r[0]){const u=n.type.isInline?l:l-1;o.insert(u,n.type.create(i)).delete(o.mapping.map(l),o.mapping.map(a))}o.scrollIntoView()}})}function Gd(n){return new Hc({find:n.find,handler:({state:t,range:s,match:r})=>{const i=t.doc.resolve(s.from),o=Ee(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;t.tr.delete(s.from,s.to).setBlockType(s.from,s.from,n.type,o)}})}function al(n){return new Hc({find:n.find,handler:({state:t,range:s,match:r,chain:i})=>{const o=Ee(n.getAttributes,void 0,r)||{},l=t.tr.delete(s.from,s.to),c=l.doc.resolve(s.from).blockRange(),u=c&&Qh(c,n.type,o);if(!u)return null;if(l.wrap(c,u),n.keepMarks&&n.editor){const{selection:f,storedMarks:p}=t,{splittableMarks:m}=n.editor.extensionManager,v=p||f.$to.parentOffset&&f.$from.marks();if(v){const C=v.filter(x=>m.includes(x.type.name));l.ensureMarks(C)}}if(n.keepAttributes){const f=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,o).run()}const h=l.doc.resolve(s.from-1).nodeBefore;h&&h.type===n.type&&pr(l.doc,s.from-1)&&(!n.joinPredicate||n.joinPredicate(r,h))&&l.join(s.from-1)}})}class nn{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ee(de(this,"addOptions",{name:this.name}))),this.storage=Ee(de(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new nn(t)}configure(t={}){const s=this.extend({...this.config,addOptions:()=>Uc(this.options,t)});return s.name=this.name,s.parent=this.parent,s}extend(t={}){const s=new nn(t);return s.parent=this,this.child=s,s.name=t.name?t.name:s.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${s.name}".`),s.options=Ee(de(s,"addOptions",{name:s.name})),s.storage=Ee(de(s,"addStorage",{name:s.name,options:s.options})),s}}function Wi(n){return new nA({find:n.find,handler:({state:t,range:s,match:r,pasteEvent:i})=>{const o=Ee(n.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:l}=t,a=r[r.length-1],c=r[0];let u=s.to;if(a){const h=c.search(/\S/),f=s.from+c.indexOf(a),p=f+a.length;if(i5(s.from,s.to,t.doc).filter(v=>v.mark.type.excluded.find(x=>x===n.type&&x!==v.mark.type)).filter(v=>v.to>f).length)return null;p<s.to&&l.delete(p,s.to),f>s.from&&l.delete(s.from+h,f),u=s.from+h+a.length,l.addMark(s.from+h,u,n.type.create(o||{})),l.removeStoredMark(n.type)}}})}function e0(n){return uh((t,s)=>({get(){return t(),n},set(r){n=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{s()})})}}))}class FI extends RI{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=e0(this.view.state),this.reactiveExtensionStorage=e0(this.extensionStorage),this.on("beforeTransaction",({nextState:s})=>{this.reactiveState.value=s,this.reactiveExtensionStorage.value=this.extensionStorage}),hl(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,s){const r=super.registerPlugin(t,s);return this.reactiveState&&(this.reactiveState.value=r),r}unregisterPlugin(t){const s=super.unregisterPlugin(t);return this.reactiveState&&s&&(this.reactiveState.value=s),s}}const BI=Ji({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(n){const t=fe(),s=un();return xh(()=>{const r=n.editor;r&&r.options.element&&t.value&&Zr(()=>{if(!t.value||!r.options.element.firstChild)return;const i=rt(t.value);t.value.append(...r.options.element.childNodes),r.contentComponent=s.ctx._,s&&(r.appContext={...s.appContext,provides:s.provides}),r.setOptions({element:i}),r.createNodeViews()})}),pl(()=>{const r=n.editor;r&&(r.contentComponent=null,r.appContext=null)}),{rootEl:t}},render(){return yl("div",{ref:n=>{this.rootEl=n}})}}),VI=/^\s*>\s$/,HI=nn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[al({find:VI,type:this.type})]}}),UI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,jI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,zI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,WI=xs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[qi({find:UI,type:this.type}),qi({find:zI,type:this.type})]},addPasteRules(){return[Wi({find:jI,type:this.type}),Wi({find:qI,type:this.type})]}}),KI="listItem",t0="textStyle",n0=/^\s*([-+*])\s$/,GI=nn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Nt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(KI,this.editor.getAttributes(t0)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=al({find:n0,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=al({find:n0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(t0),editor:this.editor})),[n]}}),JI=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,ZI=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,YI=xs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[qi({find:JI,type:this.type})]},addPasteRules(){return[Wi({find:ZI,type:this.type})]}}),XI=/^```([a-z]+)?[\s\n]$/,QI=/^~~~([a-z]+)?[\s\n]$/,eO=nn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var t;const{languageClassPrefix:s}=this.options,o=[...((t=n.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(l=>l.startsWith(s)).map(l=>l.replace(s,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:t}){return["pre",Nt(this.options.HTMLAttributes,t),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:t})=>t.setNode(this.name,n),toggleCodeBlock:n=>({commands:t})=>t.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:t}=this.editor.state.selection,s=t.pos===1;return!n||t.parent.type.name!==this.name?!1:s||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=n,{selection:s}=t,{$from:r,empty:i}=s;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!o||!l?!1:n.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=n,{selection:s,doc:r}=t,{$from:i,empty:o}=s;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?n.commands.command(({tr:u})=>(u.setSelection(Se.near(r.resolve(a))),!0)):n.commands.exitCode()}}},addInputRules(){return[Gd({find:XI,type:this.type,getAttributes:n=>({language:n[1]})}),Gd({find:QI,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new rn({key:new Jn("codeBlockVSCodeHandler"),props:{handlePaste:(n,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const s=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!s||!o)return!1;const{tr:l,schema:a}=n.state,c=a.text(s.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},c)),l.selection.$from.parent.type!==this.type&&l.setSelection(_e.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),n.dispatch(l),!0}}})]}}),tO=nn.create({name:"doc",topNode:!0,content:"block+"});function nO(n={}){return new rn({view(t){return new sO(t,n)}})}class sO{constructor(t,s){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=s.width)!==null&&r!==void 0?r:1,this.color=s.color===!1?void 0:s.color||"black",this.class=s.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=l=>{this[i](l)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:s})=>this.editorView.dom.removeEventListener(t,s))}update(t,s){this.cursorPos!=null&&s.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),s=!t.parent.inlineContent,r;if(s){let a=t.nodeBefore,c=t.nodeAfter;if(a||c){let u=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(u){let h=u.getBoundingClientRect(),f=a?h.bottom:h.top;a&&c&&(f=(f+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:h.left,right:h.right,top:f-this.width/2,bottom:f+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",s),this.element.classList.toggle("prosemirror-dropcursor-inline",!s);let o,l;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,l=-pageYOffset;else{let a=i.getBoundingClientRect();o=a.left-i.scrollLeft,l=a.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-l+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let s=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=s&&s.inside>=0&&this.editorView.state.doc.nodeAt(s.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,s,t):i;if(s&&!o){let l=s.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=ng(this.editorView.state.doc,l,this.editorView.dragging.slice);a!=null&&(l=a)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const rO=Gt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[nO(this.options)]}});class st extends Se{constructor(t){super(t,t)}map(t,s){let r=t.resolve(s.map(this.head));return st.valid(r)?new st(r):Se.near(r)}content(){return ne.empty}eq(t){return t instanceof st&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,s){if(typeof s.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new st(t.resolve(s.pos))}getBookmark(){return new yf(this.anchor)}static valid(t){let s=t.parent;if(s.isTextblock||!iO(t)||!oO(t))return!1;let r=s.type.spec.allowGapCursor;if(r!=null)return r;let i=s.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,s,r=!1){e:for(;;){if(!r&&st.valid(t))return t;let i=t.pos,o=null;for(let l=t.depth;;l--){let a=t.node(l);if(s>0?t.indexAfter(l)<a.childCount:t.index(l)>0){o=a.child(s>0?t.indexAfter(l):t.index(l)-1);break}else if(l==0)return null;i+=s;let c=t.doc.resolve(i);if(st.valid(c))return c}for(;;){let l=s>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!ye.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*s),r=!1;continue e}break}o=l,i+=s;let a=t.doc.resolve(i);if(st.valid(a))return a}return null}}}st.prototype.visible=!1;st.findFrom=st.findGapCursorFrom;Se.jsonID("gapcursor",st);class yf{constructor(t){this.pos=t}map(t){return new yf(t.map(this.pos))}resolve(t){let s=t.resolve(this.pos);return st.valid(s)?new st(s):Se.near(s)}}function iO(n){for(let t=n.depth;t>=0;t--){let s=n.index(t),r=n.node(t);if(s==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(s-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function oO(n){for(let t=n.depth;t>=0;t--){let s=n.indexAfter(t),r=n.node(t);if(s==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(s);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function lO(){return new rn({props:{decorations:dO,createSelectionBetween(n,t,s){return t.pos==s.pos&&st.valid(s)?new st(s):null},handleClick:cO,handleKeyDown:aO,handleDOMEvents:{beforeinput:uO}}})}const aO=jg({ArrowLeft:sa("horiz",-1),ArrowRight:sa("horiz",1),ArrowUp:sa("vert",-1),ArrowDown:sa("vert",1)});function sa(n,t){const s=n=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let l=r.selection,a=t>0?l.$to:l.$from,c=l.empty;if(l instanceof _e){if(!o.endOfTextblock(s)||a.depth==0)return!1;c=!1,a=r.doc.resolve(t>0?a.after():a.before())}let u=st.findGapCursorFrom(a,t,c);return u?(i&&i(r.tr.setSelection(new st(u))),!0):!1}}function cO(n,t,s){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(t);if(!st.valid(r))return!1;let i=n.posAtCoords({left:s.clientX,top:s.clientY});return i&&i.inside>-1&&ye.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new st(r))),!0)}function uO(n,t){if(t.inputType!="insertCompositionText"||!(n.state.selection instanceof st))return!1;let{$from:s}=n.state.selection,r=s.parent.contentMatchAt(s.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=K.empty;for(let l=r.length-1;l>=0;l--)i=K.from(r[l].createAndFill(null,i));let o=n.state.tr.replace(s.pos,s.pos,new ne(i,0,0));return o.setSelection(_e.near(o.doc.resolve(s.pos+1))),n.dispatch(o),!1}function dO(n){if(!(n.selection instanceof st))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",at.create(n.doc,[vn.widget(n.selection.head,t,{key:"gapcursor"})])}const hO=Gt.create({name:"gapCursor",addProseMirrorPlugins(){return[lO()]},extendNodeSchema(n){var t;const s={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(t=Ee(de(n,"allowGapCursor",s)))!==null&&t!==void 0?t:null}}}),fO=nn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Nt(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:t,state:s,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:o}=s;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:a}=r.extensionManager,c=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:h})=>{if(h&&c&&l){const f=c.filter(p=>a.includes(p.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),pO=nn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:t}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Nt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.setNode(this.name,n):!1,toggleHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,t)=>({...n,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(n=>Gd({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var ic=200,gt=function(){};gt.prototype.append=function(t){return t.length?(t=gt.from(t),!this.length&&t||t.length<ic&&this.leafAppend(t)||this.length<ic&&t.leafPrepend(this)||this.appendInner(t)):this};gt.prototype.prepend=function(t){return t.length?gt.from(t).append(this):this};gt.prototype.appendInner=function(t){return new mO(this,t)};gt.prototype.slice=function(t,s){return t===void 0&&(t=0),s===void 0&&(s=this.length),t>=s?gt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,s))};gt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};gt.prototype.forEach=function(t,s,r){s===void 0&&(s=0),r===void 0&&(r=this.length),s<=r?this.forEachInner(t,s,r,0):this.forEachInvertedInner(t,s,r,0)};gt.prototype.map=function(t,s,r){s===void 0&&(s=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,l){return i.push(t(o,l))},s,r),i};gt.from=function(t){return t instanceof gt?t:t&&t.length?new o5(t):gt.empty};var o5=function(n){function t(r){n.call(this),this.values=r}n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t;var s={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,l,a){for(var c=o;c<l;c++)if(i(this.values[c],a+c)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,l,a){for(var c=o-1;c>=l;c--)if(i(this.values[c],a+c)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=ic)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=ic)return new t(i.flatten().concat(this.values))},s.length.get=function(){return this.values.length},s.depth.get=function(){return 0},Object.defineProperties(t.prototype,s),t}(gt);gt.empty=new o5([]);var mO=function(n){function t(s,r){n.call(this),this.left=s,this.right=r,this.length=s.length+r.length,this.depth=Math.max(s.depth,r.depth)+1}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,l){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),l)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,l+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,l){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,l+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,l)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(gt);const gO=500;class En{constructor(t,s){this.items=t,this.eventCount=s}popEvent(t,s){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;s&&(i=this.remapping(r,this.items.length),o=i.maps.length);let l=t.tr,a,c,u=[],h=[];return this.items.forEach((f,p)=>{if(!f.step){i||(i=this.remapping(r,p+1),o=i.maps.length),o--,h.push(f);return}if(i){h.push(new Bn(f.map));let m=f.step.map(i.slice(o)),v;m&&l.maybeStep(m).doc&&(v=l.mapping.maps[l.mapping.maps.length-1],u.push(new Bn(v,void 0,void 0,u.length+h.length))),o--,v&&i.appendMap(v,o)}else l.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(o)):f.selection,c=new En(this.items.slice(0,r).append(h.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:l,selection:a}}addTransform(t,s,r,i){let o=[],l=this.eventCount,a=this.items,c=!i&&a.length?a.get(a.length-1):null;for(let h=0;h<t.steps.length;h++){let f=t.steps[h].invert(t.docs[h]),p=new Bn(t.mapping.maps[h],f,s),m;(m=c&&c.merge(p))&&(p=m,h?o.pop():a=a.slice(0,a.length-1)),o.push(p),s&&(l++,s=void 0),i||(c=p)}let u=l-r.depth;return u>vO&&(a=yO(a,u),l-=u),new En(a.append(o),l)}remapping(t,s){let r=new Mi;return this.items.forEach((i,o)=>{let l=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},t,s),r}addMaps(t){return this.eventCount==0?this:new En(this.items.append(t.map(s=>new Bn(s))),this.eventCount)}rebased(t,s){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-s),o=t.mapping,l=t.steps.length,a=this.eventCount;this.items.forEach(p=>{p.selection&&a--},i);let c=s;this.items.forEach(p=>{let m=o.getMirror(--c);if(m==null)return;l=Math.min(l,m);let v=o.maps[m];if(p.step){let C=t.steps[m].invert(t.docs[m]),x=p.selection&&p.selection.map(o.slice(c+1,m));x&&a++,r.push(new Bn(v,C,x))}else r.push(new Bn(v))},i);let u=[];for(let p=s;p<l;p++)u.push(new Bn(o.maps[p]));let h=this.items.slice(0,i).append(u).append(r),f=new En(h,a);return f.emptyItemCount()>gO&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let t=0;return this.items.forEach(s=>{s.step||t++}),t}compress(t=this.items.length){let s=this.remapping(0,t),r=s.maps.length,i=[],o=0;return this.items.forEach((l,a)=>{if(a>=t)i.push(l),l.selection&&o++;else if(l.step){let c=l.step.map(s.slice(r)),u=c&&c.getMap();if(r--,u&&s.appendMap(u,r),c){let h=l.selection&&l.selection.map(s.slice(r));h&&o++;let f=new Bn(u.invert(),c,h),p,m=i.length-1;(p=i.length&&i[m].merge(f))?i[m]=p:i.push(f)}}else l.map&&r--},this.items.length,0),new En(gt.from(i.reverse()),o)}}En.empty=new En(gt.empty,0);function yO(n,t){let s;return n.forEach((r,i)=>{if(r.selection&&t--==0)return s=i,!1}),n.slice(s)}class Bn{constructor(t,s,r,i){this.map=t,this.step=s,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let s=t.step.merge(this.step);if(s)return new Bn(s.getMap().invert(),s,this.selection)}}}class js{constructor(t,s,r,i,o){this.done=t,this.undone=s,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const vO=20;function CO(n,t,s,r){let i=s.getMeta(Br),o;if(i)return i.historyState;s.getMeta(kO)&&(n=new js(n.done,n.undone,null,0,-1));let l=s.getMeta("appendedTransaction");if(s.steps.length==0)return n;if(l&&l.getMeta(Br))return l.getMeta(Br).redo?new js(n.done.addTransform(s,void 0,r,ma(t)),n.undone,s0(s.mapping.maps),n.prevTime,n.prevComposition):new js(n.done,n.undone.addTransform(s,void 0,r,ma(t)),null,n.prevTime,n.prevComposition);if(s.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let a=s.getMeta("composition"),c=n.prevTime==0||!l&&n.prevComposition!=a&&(n.prevTime<(s.time||0)-r.newGroupDelay||!wO(s,n.prevRanges)),u=l?Gu(n.prevRanges,s.mapping):s0(s.mapping.maps);return new js(n.done.addTransform(s,c?t.selection.getBookmark():void 0,r,ma(t)),En.empty,u,s.time,a??n.prevComposition)}else return(o=s.getMeta("rebased"))?new js(n.done.rebased(s,o),n.undone.rebased(s,o),Gu(n.prevRanges,s.mapping),n.prevTime,n.prevComposition):new js(n.done.addMaps(s.mapping.maps),n.undone.addMaps(s.mapping.maps),Gu(n.prevRanges,s.mapping),n.prevTime,n.prevComposition)}function wO(n,t){if(!t)return!1;if(!n.docChanged)return!0;let s=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(s=!0)}),s}function s0(n){let t=[];for(let s=n.length-1;s>=0&&t.length==0;s--)n[s].forEach((r,i,o,l)=>t.push(o,l));return t}function Gu(n,t){if(!n)return null;let s=[];for(let r=0;r<n.length;r+=2){let i=t.map(n[r],1),o=t.map(n[r+1],-1);i<=o&&s.push(i,o)}return s}function bO(n,t,s){let r=ma(t),i=Br.get(t).spec.config,o=(s?n.undone:n.done).popEvent(t,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),a=(s?n.done:n.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),c=new js(s?a:o.remaining,s?o.remaining:a,null,0,-1);return o.transform.setSelection(l).setMeta(Br,{redo:s,historyState:c})}let Ju=!1,r0=null;function ma(n){let t=n.plugins;if(r0!=t){Ju=!1,r0=t;for(let s=0;s<t.length;s++)if(t[s].spec.historyPreserveItems){Ju=!0;break}}return Ju}const Br=new Jn("history"),kO=new Jn("closeHistory");function xO(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new rn({key:Br,state:{init(){return new js(En.empty,En.empty,null,0,-1)},apply(t,s,r){return CO(s,r,t,n)}},config:n,props:{handleDOMEvents:{beforeinput(t,s){let r=s.inputType,i=r=="historyUndo"?a5:r=="historyRedo"?c5:null;return i?(s.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function l5(n,t){return(s,r)=>{let i=Br.getState(s);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let o=bO(i,s,n);o&&r(t?o.scrollIntoView():o)}return!0}}const a5=l5(!1,!0),c5=l5(!0,!0),_O=Gt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:t})=>a5(n,t),redo:()=>({state:n,dispatch:t})=>c5(n,t)}},addProseMirrorPlugins(){return[xO(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),SO=nn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Nt(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:t})=>{const{selection:s}=t,{$from:r,$to:i}=s,o=n();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):oI(s)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:l,dispatch:a})=>{var c;if(a){const{$to:u}=l.selection,h=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?l.setSelection(_e.create(l.doc,u.pos+1)):u.nodeAfter.isBlock?l.setSelection(ye.create(l.doc,u.pos)):l.setSelection(_e.create(l.doc,u.pos));else{const f=(c=u.parent.type.contentMatch.defaultType)===null||c===void 0?void 0:c.create();f&&(l.insert(h,f),l.setSelection(_e.create(l.doc,h+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[$I({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),TO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,EO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,MO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,AO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,IO=xs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[qi({find:TO,type:this.type}),qi({find:MO,type:this.type})]},addPasteRules(){return[Wi({find:EO,type:this.type}),Wi({find:AO,type:this.type})]}}),OO=nn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Nt(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),LO="listItem",i0="textStyle",o0=/^(\d+)\.\s$/,PO=nn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:t,...s}=n;return t===1?["ol",Nt(this.options.HTMLAttributes,s),0]:["ol",Nt(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(LO,this.editor.getAttributes(i0)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=al({find:o0,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,s)=>s.childCount+s.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=al({find:o0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(i0)}),joinPredicate:(t,s)=>s.childCount+s.attrs.start===+t[1],editor:this.editor})),[n]}}),NO=nn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),DO=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,RO=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,$O=xs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[qi({find:DO,type:this.type})]},addPasteRules(){return[Wi({find:RO,type:this.type})]}}),FO=nn.create({name:"text",group:"inline"}),BO=Gt.create({name:"starterKit",addExtensions(){var n,t,s,r,i,o,l,a,c,u,h,f,p,m,v,C,x,_;const M=[];return this.options.bold!==!1&&M.push(WI.configure((n=this.options)===null||n===void 0?void 0:n.bold)),this.options.blockquote!==!1&&M.push(HI.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bulletList!==!1&&M.push(GI.configure((s=this.options)===null||s===void 0?void 0:s.bulletList)),this.options.code!==!1&&M.push(YI.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&M.push(eO.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&M.push(tO.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&M.push(rO.configure((l=this.options)===null||l===void 0?void 0:l.dropcursor)),this.options.gapcursor!==!1&&M.push(hO.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&M.push(fO.configure((c=this.options)===null||c===void 0?void 0:c.hardBreak)),this.options.heading!==!1&&M.push(pO.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&M.push(_O.configure((h=this.options)===null||h===void 0?void 0:h.history)),this.options.horizontalRule!==!1&&M.push(SO.configure((f=this.options)===null||f===void 0?void 0:f.horizontalRule)),this.options.italic!==!1&&M.push(IO.configure((p=this.options)===null||p===void 0?void 0:p.italic)),this.options.listItem!==!1&&M.push(OO.configure((m=this.options)===null||m===void 0?void 0:m.listItem)),this.options.orderedList!==!1&&M.push(PO.configure((v=this.options)===null||v===void 0?void 0:v.orderedList)),this.options.paragraph!==!1&&M.push(NO.configure((C=this.options)===null||C===void 0?void 0:C.paragraph)),this.options.strike!==!1&&M.push($O.configure((x=this.options)===null||x===void 0?void 0:x.strike)),this.options.text!==!1&&M.push(FO.configure((_=this.options)===null||_===void 0?void 0:_.text)),M}}),VO=xs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",Nt(this.options.HTMLAttributes,n),0]},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),HO={name:"RichTextInput",props:{modelValue:{type:String,default:""}},components:{EditorContent:BI},emits:["update:modelValue"],data(){return{editor:null}},watch:{modelValue(n){n!==this.editor.getHTML()&&this.editor.commands.setContent(n)}},computed:{isBoldActive(){return this.editor&&this.editor.isActive("bold")},isItalicActive(){return this.editor&&this.editor.isActive("italic")},isUnderlineActive(){return this.editor&&this.editor.isActive("underline")},isHeadingActive(){return n=>this.editor&&this.editor.isActive("heading",{level:n})},isBulletListActive(){return this.editor&&this.editor.isActive("bulletList")},isOrderedListActive(){return this.editor&&this.editor.isActive("orderedList")}},mounted(){this.editor=new FI({extensions:[VO,BO],content:this.modelValue,onUpdate:({editor:n})=>{this.$emit("update:modelValue",n.getHTML())}})},methods:{toggleBold(){this.editor.chain().focus().toggleBold().run()},toggleItalic(){this.editor.chain().focus().toggleItalic().run()},toggleUnderline(){this.editor.chain().focus().toggleUnderline().run()},toggleHeading(n){this.editor.chain().focus().toggleHeading({level:n}).run()},toggleBulletList(){this.editor.chain().focus().toggleBulletList().run()},toggleOrderedList(){this.editor.chain().focus().toggleOrderedList().run()}},beforeUnmount(){this.editor.destroy()}},UO={class:"editor-toolbar"};function jO(n,t,s,r,i,o){const l=fr("EditorContent");return F(),U("div",null,[y("div",UO,[y("button",{onClick:t[0]||(t[0]=(...a)=>o.toggleBold&&o.toggleBold(...a)),class:Be({active:o.isBoldActive})},t[11]||(t[11]=[y("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M16.457 11.868A4.47 4.47 0 0 0 18 8.5 5.506 5.506 0 0 0 12.5 3H5v19h8.5a5.497 5.497 0 0 0 2.957-10.132zM8 6h4.5a2.5 2.5 0 0 1 0 5H8zm5.5 13H8v-5h5.5a2.5 2.5 0 0 1 0 5z"}),y("path",{fill:"none",d:"M0 0h24v24H0z"})],-1)]),2),y("button",{onClick:t[1]||(t[1]=(...a)=>o.toggleItalic&&o.toggleItalic(...a)),class:Be({active:o.isItalicActive})},t[12]||(t[12]=[y("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("g",{id:"Edit / Italic"},[y("path",{id:"Vector",d:"M8 19H10M10 19H12M10 19L14 5M12 5H14M14 5H16",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)]),2),y("button",{onClick:t[2]||(t[2]=(...a)=>o.toggleUnderline&&o.toggleUnderline(...a)),class:Be({active:o.isUnderlineActive})},t[13]||(t[13]=[y("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M4 21H20M18 4V11C18 14.3137 15.3137 17 12 17C8.68629 17 6 14.3137 6 11V4M4 3H8M16 3H20",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2),y("button",{onClick:t[3]||(t[3]=a=>o.toggleHeading(1)),class:Be({active:o.isHeadingActive(1)})},"H1",2),y("button",{onClick:t[4]||(t[4]=a=>o.toggleHeading(2)),class:Be({active:o.isHeadingActive(2)})},"H2",2),y("button",{onClick:t[5]||(t[5]=a=>o.toggleHeading(3)),class:Be({active:o.isHeadingActive(3)})},"H3",2),y("button",{onClick:t[6]||(t[6]=a=>o.toggleHeading(4)),class:Be({active:o.isHeadingActive(4)})},"H4",2),y("button",{onClick:t[7]||(t[7]=a=>o.toggleHeading(5)),class:Be({active:o.isHeadingActive(5)})},"H5",2),y("button",{onClick:t[8]||(t[8]=a=>o.toggleHeading(6)),class:Be({active:o.isHeadingActive(6)})},"H6",2),y("button",{onClick:t[9]||(t[9]=(...a)=>o.toggleBulletList&&o.toggleBulletList(...a)),class:Be({active:o.isBulletListActive})},t[14]||(t[14]=[y("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M8 6.00067L21 6.00139M8 12.0007L21 12.0015M8 18.0007L21 18.0015M3.5 6H3.51M3.5 12H3.51M3.5 18H3.51M4 6C4 6.27614 3.77614 6.5 3.5 6.5C3.22386 6.5 3 6.27614 3 6C3 5.72386 3.22386 5.5 3.5 5.5C3.77614 5.5 4 5.72386 4 6ZM4 12C4 12.2761 3.77614 12.5 3.5 12.5C3.22386 12.5 3 12.2761 3 12C3 11.7239 3.22386 11.5 3.5 11.5C3.77614 11.5 4 11.7239 4 12ZM4 18C4 18.2761 3.77614 18.5 3.5 18.5C3.22386 18.5 3 18.2761 3 18C3 17.7239 3.22386 17.5 3.5 17.5C3.77614 17.5 4 17.7239 4 18Z",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2),y("button",{onClick:t[10]||(t[10]=(...a)=>o.toggleOrderedList&&o.toggleOrderedList(...a)),class:Be({active:o.isOrderedListActive})},t[15]||(t[15]=[y("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M10 6L21 6.00066M10 12L21 12.0007M10 18L21 18.0007M3 5L5 4V10M5 10H3M5 10H7M7 20H3L6.41274 17.0139C6.78593 16.6873 7 16.2156 7 15.7197C7 14.7699 6.23008 14 5.28033 14H5C4.06808 14 3.28503 14.6374 3.06301 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)]),X(l,{editor:i.editor},null,8,["editor"])])}const zO=Ah(HO,[["render",jO]]),qO={class:"section"},WO={class:"container create-agreement-page"},KO={class:"col form-col create-agreement-form",style:{height:"fit-content"}},GO={class:"multi-setp-form-content"},JO={class:"input-group mb-1"},ZO={class:"agreement-type-select"},YO={class:"select-item",for:"AT-nda-from"},XO={class:"select-item",for:"AT-fixed-price-contract"},QO={class:"select-item",for:"AT-hourly-contract"},eL={class:"select-item",for:"AT-reimbursement-contract"},tL={class:"select-item",for:"AT-cost-plus-contract"},nL={class:"select-item",for:"AT-bilateral-contract"},sL={class:"select-item",for:"AT-time-and-material-contract"},rL={class:"select-item",for:"AT-other"},iL={class:"input-group"},oL={class:"multi-setp-form-content"},lL={class:"input-group"},aL={class:"input-group"},cL={class:"label",style:{display:"flex","align-items":"center",gap:"10px"}},uL={key:0,class:"selected-agreement-type-info warning mt-1"},dL={class:"multi-setp-form-content"},hL={class:"required-documents-select"},fL={class:"required-document-item",for:"RD-photo"},pL={class:"required-document-item",for:"RD-id-card"},mL={class:"required-document-item",for:"RD-passport"},gL={class:"required-document-item",for:"RD-drivers-license"},yL={class:"required-document-item",for:"RD-custom"},vL={class:"input-group mt-1 custom-doc-name-input"},CL={class:"multi-setp-form-footer"},wL={style:{transform:"rotate(180deg)"},width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},bL={class:"col preview-col"},kL=3,xL={__name:"CreateAgreement",setup(n){const t=Dt.useToast(),r=dn().setGlobalLoading,i=sn(),o=he(()=>(i.userProfile||{}).organizationName),l=Xi(),a=fe(1),c=fe({agreementType:"nda-from",agreementName:"",agreementFile:"",agreementText:"",requiredDocuments:[],customDocumentName:""});function u(v){c.value.agreementText=v}function h(){if(a.value===kL){m();return}window.scrollTo(0,0),a.value++}function f(){a.value!==1&&a.value--}const p=he(()=>c.value.agreementFile&&c.value.agreementText.trim()&&c.value.agreementText.trim()!=="<p></p>");async function m(){if(c.value.agreementName.trim()){if(c.value.agreementName.trim().length<10){t.error("Agreement name must be at least 10 characters"),a.value=1;return}}else{t.error("Agreement name is required"),a.value=1;return}if(!c.value.agreementFile&&!c.value.agreementText){t.error("Agreement file or text is required"),a.value=2;return}if(!c.value.agreementFile){if(c.value.agreementText&&c.value.agreementText.trim().length<100){t.error("Agreement text must be at least 100 characters"),a.value=2;return}else if(c.value.agreementText&&c.value.agreementText.trim().length>1e5){t.error("Agreement text must not exceed 100,000 characters"),a.value=2;return}}if(c.value.requiredDocuments.includes("custom")&&!c.value.customDocumentName.trim()){t.error("Custom document name is required"),a.value=3;return}r(!0);try{const v=await Tb({...c.value,agreementType:c.value.agreementType.replace(/-/g," ").toLowerCase()}),{success:C,content:x,message:_}=v;if(!C){t.error(_||"Error saving agreement"),r(!1);return}t.success("Agreement saved successfully"),l.addAgreement(x),ft.push("/dashboard")}catch(v){t.error("Failed to save agreement"),console.error(v)}r(!1)}return(v,C)=>{const x=vs("gradientbg");return ve((F(),U("section",qO,[y("div",WO,[y("div",KO,[C[44]||(C[44]=y("h2",{class:"title"},"Create new agreement",-1)),X(uS,{step:a.value},null,8,["step"]),ve(y("div",GO,[y("div",JO,[C[25]||(C[25]=y("label",{class:"label"},"Agreement type",-1)),y("div",ZO,[y("label",YO,[ve(y("input",{type:"radio",name:"agreement-type",value:"nda-from",checked:"",id:"AT-nda-from","onUpdate:modelValue":C[0]||(C[0]=_=>c.value.agreementType=_)},null,512),[[_n,c.value.agreementType]]),C[17]||(C[17]=y("span",null,"NDA Form",-1))]),y("label",XO,[ve(y("input",{type:"radio",name:"agreement-type",value:"fixed-price-contract",id:"AT-fixed-price-contract","onUpdate:modelValue":C[1]||(C[1]=_=>c.value.agreementType=_)},null,512),[[_n,c.value.agreementType]]),C[18]||(C[18]=y("span",null,"Fixed Price Contract",-1))]),y("label",QO,[ve(y("input",{type:"radio",name:"agreement-type",value:"hourly-contract",id:"AT-hourly-contract","onUpdate:modelValue":C[2]||(C[2]=_=>c.value.agreementType=_)},null,512),[[_n,c.value.agreementType]]),C[19]||(C[19]=y("span",null,"Hourly Contract",-1))]),y("label",eL,[ve(y("input",{type:"radio",name:"agreement-type",value:"reimbursement-contract",id:"AT-reimbursement-contract","onUpdate:modelValue":C[3]||(C[3]=_=>c.value.agreementType=_)},null,512),[[_n,c.value.agreementType]]),C[20]||(C[20]=y("span",null,"Reimbursement Contract",-1))]),y("label",tL,[ve(y("input",{type:"radio",name:"agreement-type",value:"cost-plus-contract",id:"AT-cost-plus-contract","onUpdate:modelValue":C[4]||(C[4]=_=>c.value.agreementType=_)},null,512),[[_n,c.value.agreementType]]),C[21]||(C[21]=y("span",null,"Cost Plus Contract",-1))]),y("label",nL,[ve(y("input",{type:"radio",name:"agreement-type",value:"bilateral-contract",id:"AT-bilateral-contract","onUpdate:modelValue":C[5]||(C[5]=_=>c.value.agreementType=_)},null,512),[[_n,c.value.agreementType]]),C[22]||(C[22]=y("span",null,"Bilateral Contract",-1))]),y("label",sL,[ve(y("input",{type:"radio",name:"agreement-type",value:"time-and-material-contract",id:"AT-time-and-material-contract","onUpdate:modelValue":C[6]||(C[6]=_=>c.value.agreementType=_)},null,512),[[_n,c.value.agreementType]]),C[23]||(C[23]=y("span",null,"Time and Material Contract",-1))]),y("label",rL,[ve(y("input",{type:"radio",name:"agreement-type",value:"other",id:"AT-other","onUpdate:modelValue":C[7]||(C[7]=_=>c.value.agreementType=_)},null,512),[[_n,c.value.agreementType]]),C[24]||(C[24]=y("span",null,"Other (Custom)",-1))])])]),X(pS,{seletedForm:c.value.agreementType},null,8,["seletedForm"]),y("div",iL,[C[26]||(C[26]=y("label",{class:"label"},"Agreement name",-1)),C[27]||(C[27]=y("p",{class:"sublabel"},"Give your agreement a name that will help you identify it later",-1)),ve(y("input",{maxlength:"80",type:"text",class:"input",placeholder:"Agreement name","onUpdate:modelValue":C[8]||(C[8]=_=>c.value.agreementName=_)},null,512),[[je,c.value.agreementName]])])],512),[[Lo,a.value===1]]),ve(y("div",oL,[y("div",lL,[C[28]||(C[28]=y("label",{class:"label"},"Agreement file",-1)),X(on,{onFileSelected:C[9]||(C[9]=_=>c.value.agreementFile=_)})]),C[31]||(C[31]=y("div",{class:"or-indicator my-1-5"},[y("div",{class:"hr"}),y("span",{class:"text"},"or"),y("div",{class:"hr"})],-1)),y("div",aL,[y("label",cL,[C[29]||(C[29]=y("span",null,"Write agreement",-1)),X(FS,{agreementType:c.value.agreementType.replace(/-/g," "),orgName:o.value,onContent:u},null,8,["agreementType","orgName"])]),X(zO,{modelValue:c.value.agreementText,"onUpdate:modelValue":C[10]||(C[10]=_=>c.value.agreementText=_)},null,8,["modelValue"])]),p.value?(F(),U("div",uL,C[30]||(C[30]=[y("p",{class:"title"},"Warning",-1),y("p",{class:"info main"},"You have a file selected but also some text in input box! Only the text in the input box will be saved.",-1),y("p",{class:"info"},"Clear the text in the input box if you want to save the file instead.",-1)]))):le("",!0)],512),[[Lo,a.value===2]]),ve(y("div",dL,[C[41]||(C[41]=y("div",{class:"input-group"},[y("label",{class:"label"},"Required documents"),y("p",{class:"sublabel"},"Select the documents that the signee must provide")],-1)),y("div",hL,[y("label",fL,[ve(y("input",{type:"checkbox",name:"required-document",value:"photo",id:"RD-photo","onUpdate:modelValue":C[11]||(C[11]=_=>c.value.requiredDocuments=_)},null,512),[[Hn,c.value.requiredDocuments]]),C[32]||(C[32]=tt('<svg class="icon" viewBox="0 -1 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-260.000000, -2199.000000)" fill="#000000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M226,2058 C226,2058.552 225.552,2059 225,2059 L221,2059 C220.448,2059 220,2058.552 220,2058 C220,2057.448 220.448,2057 221,2057 L225,2057 C225.552,2057 226,2057.448 226,2058 M214.623,2048.933 C214.037,2048.885 213.864,2048.893 213.368,2048.93 C212.017,2048.639 211,2047.437 211,2046 C211,2044.346 212.346,2043 214,2043 C215.654,2043 217,2044.346 217,2046 C217,2047.44 215.979,2048.645 214.623,2048.933 M206.012,2056.059 C206.011,2056.038 206,2056.021 206,2056 L206,2042 C206,2041.448 206.448,2041 207,2041 L213.936,2041 C211.205,2041.035 209,2043.257 209,2045.997 C209,2047.441 209.622,2048.734 210.602,2049.647 C208.107,2050.805 206.307,2053.204 206.012,2056.059 M214.064,2041 L221,2041 C221.552,2041 222,2041.448 222,2042 L222,2051.09 C222,2051.593 222.408,2052 222.91,2052 C223.668,2052 224,2051.594 224,2051.09 L224,2041 C224,2039.895 223.105,2039 222,2039 L206,2039 C204.895,2039 204,2039.895 204,2041 L204,2057 C204,2058.104 204.895,2059 206,2059 L216.09,2059 C216.593,2059 217,2058.593 217,2058.09 C217,2057.332 216.594,2057 216.09,2057 L207.975,2057 C207.974,2057 207.969,2056.934 207.969,2056.893 C207.969,2050.795 215.355,2049.989 217.21,2051.713 C218.221,2052.652 219.716,2051.151 218.596,2050.356 C218.214,2050.084 217.806,2049.845 217.375,2049.642 C218.368,2048.728 219,2047.443 219,2045.987 C219,2043.248 216.795,2041.035 214.064,2041" id="profile_image_minus_round-[#1329]"></path></g></g></g></svg><span class="text">Photo</span>',2))]),y("label",pL,[ve(y("input",{type:"checkbox",name:"required-document",value:"id-card",id:"RD-id-card","onUpdate:modelValue":C[12]||(C[12]=_=>c.value.requiredDocuments=_)},null,512),[[Hn,c.value.requiredDocuments]]),C[33]||(C[33]=tt('<svg class="icon" viewBox="0 -0.5 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7V17C3.5 18.1046 4.39543 19 5.5 19H19.5C20.6046 19 21.5 18.1046 21.5 17V7C21.5 5.89543 20.6046 5 19.5 5H5.5C4.39543 5 3.5 5.89543 3.5 7Z" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15.5 10H18.5" stroke="#000000" stroke-width="1.5" stroke-linecap="round"></path><path d="M15.5 13H18.5" stroke="#000000" stroke-width="1.5" stroke-linecap="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 10C11.5 11.1046 10.6046 12 9.5 12C8.39543 12 7.5 11.1046 7.5 10C7.5 8.89543 8.39543 8 9.5 8C10.0304 8 10.5391 8.21071 10.9142 8.58579C11.2893 8.96086 11.5 9.46957 11.5 10Z" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 16C8.283 12.863 11.552 13.849 13.5 16" stroke="#000000" stroke-width="1.5" stroke-linecap="round"></path></svg><span class="text">ID Card</span>',2))]),y("label",mL,[ve(y("input",{type:"checkbox",name:"required-document",value:"passport",id:"RD-passport","onUpdate:modelValue":C[13]||(C[13]=_=>c.value.requiredDocuments=_)},null,512),[[Hn,c.value.requiredDocuments]]),C[34]||(C[34]=y("svg",{class:"icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5 18.5357V2.25L7.75991 2.25C5.97624 2.25254 4.5 3.66931 4.5 5.45455V21.75H19.5V20.25H6C6 19.3221 6.77841 18.5357 7.78125 18.5357H19.5ZM6 5.45455C6 4.53017 6.77286 3.75 7.76471 3.75H18V17.0357H7.78125C7.12794 17.0357 6.51512 17.2242 6 17.5507V5.45455ZM9.34805 9.75L8.32501 9.75C8.52407 8.76938 9.10577 7.92771 9.90749 7.38764C9.64746 8.0369 9.42796 8.82887 9.34805 9.75ZM6.75 10.5C6.75 7.89002 8.65454 5.72488 11.1497 5.31851L11.1523 5.31562L11.1735 5.2928L11.1807 5.28524L11.1834 5.28244L11.185 5.28075C11.1851 5.28066 11.1852 5.28057 11.2141 5.30843C11.4704 5.26995 11.7329 5.25 12 5.25C12.2671 5.25 12.5296 5.26995 12.7859 5.30843C12.8148 5.28057 12.8154 5.28118 12.8155 5.28128L12.8166 5.28244L12.8193 5.28525L12.8265 5.2928L12.8477 5.31562L12.8503 5.31851C15.3455 5.72488 17.25 7.89002 17.25 10.5C17.25 13.11 15.3455 15.2751 12.8503 15.6815L12.8477 15.6844L12.8265 15.7072L12.8193 15.7148L12.8166 15.7176L12.815 15.7192C12.8149 15.7193 12.8148 15.7194 12.7859 15.6916C12.5296 15.7301 12.2671 15.75 12 15.75C11.7329 15.75 11.4704 15.7301 11.2141 15.6916C11.1852 15.7194 11.1846 15.7188 11.1845 15.7187L11.1834 15.7176L11.1807 15.7148L11.1735 15.7072L11.1593 15.692L11.1523 15.6844L11.1497 15.6815C8.65454 15.2751 6.75 13.11 6.75 10.5ZM12.4392 7.37513C12.3089 7.12343 12.1794 6.91446 12.0674 6.75059C12.045 6.7502 12.0225 6.75 12 6.75C11.9775 6.75 11.955 6.7502 11.9326 6.75059C11.8206 6.91446 11.6911 7.12343 11.5608 7.37513C11.2617 7.95281 10.9602 8.75233 10.8549 9.75L13.1451 9.75C13.0398 8.75233 12.7383 7.95281 12.4392 7.37513ZM8.32501 11.25L9.34805 11.25C9.42796 12.1711 9.64746 12.9631 9.90749 13.6124C9.10578 13.0723 8.52407 12.2306 8.32501 11.25ZM11.5608 13.6249C11.6911 13.8766 11.8206 14.0855 11.9326 14.2494C11.955 14.2498 11.9775 14.25 12 14.25C12.0225 14.25 12.045 14.2498 12.0674 14.2494C12.1794 14.0855 12.3089 13.8766 12.4392 13.6249C12.7383 13.0472 13.0398 12.2477 13.1451 11.25L10.8549 11.25C10.9602 12.2477 11.2617 13.0472 11.5608 13.6249ZM15.675 11.25C15.4759 12.2306 14.8942 13.0723 14.0925 13.6124C14.3525 12.9631 14.572 12.1711 14.6519 11.25H15.675ZM14.0925 7.38764C14.3525 8.0369 14.572 8.82887 14.6519 9.75L15.675 9.75C15.4759 8.76938 14.8942 7.92771 14.0925 7.38764Z",fill:"#000"})],-1)),C[35]||(C[35]=y("span",{class:"text"},"Passport",-1))]),y("label",gL,[ve(y("input",{type:"checkbox",name:"required-document",value:"drivers-license",id:"RD-drivers-license","onUpdate:modelValue":C[14]||(C[14]=_=>c.value.requiredDocuments=_)},null,512),[[Hn,c.value.requiredDocuments]]),C[36]||(C[36]=tt(`<svg fill="#000000" class="icon" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 60 60" xml:space="preserve"><g><path d="M52.29,44.29C52.109,44.479,52,44.74,52,45s0.1,0.52,0.29,0.71C52.479,45.89,52.74,46,53,46s0.52-0.11,0.71-0.29
                                        C53.89,45.52,54,45.26,54,45s-0.11-0.521-0.29-0.71C53.34,43.93,52.67,43.92,52.29,44.29z"></path><path d="M23.642,42.265L20,40.405v-0.387c1.628-0.889,2.773-2.353,3.412-4.365C24.381,35.14,25,34.14,25,33.018v-1
                                        c0-0.927-0.431-1.786-1.151-2.35c-0.624-3.78-3.262-5.696-7.849-5.696c-0.217,0-0.429,0.009-0.636,0.025
                                        c-1.206,0.099-2.364-0.161-3.224-0.741c-0.41-0.276-0.719-0.544-0.917-0.796c-0.444-0.563-1.368-0.587-1.841-0.059
                                        c-0.227,0.254-0.333,0.596-0.294,0.938c0.042,0.372,0.105,0.808,0.2,1.285c0.193,0.975,0.193,0.975-0.078,1.558
                                        c-0.102,0.221-0.228,0.49-0.376,0.853c-0.331,0.81-0.566,1.697-0.701,2.646C7.424,30.245,7,31.1,7,32.018v1
                                        c0,1.122,0.619,2.122,1.588,2.636c0.639,2.013,1.784,3.477,3.412,4.365v0.376l-3.77,1.857C6.854,43.003,6,44.443,6,46.011v1.324
                                        c0,0.803,0,2.683,10,2.683s10-1.88,10-2.683v-1.244C26,44.46,25.094,42.992,23.642,42.265z"></path><path d="M31,29.018h10c0.553,0,1-0.447,1-1s-0.447-1-1-1H31c-0.553,0-1,0.447-1,1S30.447,29.018,31,29.018z"></path><path d="M32,44.018h-1c-0.553,0-1,0.447-1,1s0.447,1,1,1h1c0.553,0,1-0.447,1-1S32.553,44.018,32,44.018z"></path><path d="M38,44.018h-2c-0.553,0-1,0.447-1,1s0.447,1,1,1h2c0.553,0,1-0.447,1-1S38.553,44.018,38,44.018z"></path><path d="M43,44.018h-1c-0.553,0-1,0.447-1,1s0.447,1,1,1h1c0.553,0,1-0.447,1-1S43.553,44.018,43,44.018z"></path><path d="M49,44.018h-2c-0.553,0-1,0.447-1,1s0.447,1,1,1h2c0.553,0,1-0.447,1-1S49.553,44.018,49,44.018z"></path><path d="M53,33.018H31c-0.553,0-1,0.447-1,1s0.447,1,1,1h22c0.553,0,1-0.447,1-1S53.553,33.018,53,33.018z"></path><path d="M53,39.018H31c-0.553,0-1,0.447-1,1s0.447,1,1,1h22c0.553,0,1-0.447,1-1S53.553,39.018,53,39.018z"></path><path d="M55.322,14H37V6.313C37,5.037,35.963,4,34.687,4h-9.375C24.037,4,23,5.037,23,6.313V14H4.678C2.099,14,0,16.099,0,18.678
                                        v32.645C0,53.901,2.099,56,4.678,56h50.645C57.901,56,60,53.901,60,51.322V18.678C60,16.099,57.901,14,55.322,14z M30,7
                                        c2.206,0,4,1.794,4,4s-1.794,4-4,4s-4-1.794-4-4S27.794,7,30,7z M58,51.322C58,52.799,56.799,54,55.322,54H4.678
                                        C3.201,54,2,52.799,2,51.322V18.678C2,17.201,3.201,16,4.678,16H23v3.688C23,20.963,24.037,22,25.312,22h9.375
                                        C35.963,22,37,20.963,37,19.688V16h18.322C56.799,16,58,17.201,58,18.678V51.322z"></path></g></svg><span class="text">Drivers License</span>`,2))]),y("label",yL,[ve(y("input",{type:"checkbox",name:"required-document",value:"custom",id:"RD-custom","onUpdate:modelValue":C[15]||(C[15]=_=>c.value.requiredDocuments=_)},null,512),[[Hn,c.value.requiredDocuments]]),C[37]||(C[37]=y("svg",{class:"icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{d:"M9 17H15M9 13H15M9 9H10M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H15.8C16.9201 21 17.4802 21 17.908 20.782C18.2843 20.5903 18.5903 20.2843 18.782 19.908C19 19.4802 19 18.9201 19 17.8V9M13 3L19 9M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),C[38]||(C[38]=y("span",{class:"text"},"Custom",-1))])]),y("div",vL,[C[39]||(C[39]=y("label",{class:"label"},"Custom document name",-1)),C[40]||(C[40]=y("p",{class:"sublabel"},"Signee will be able to upload any file of up to 100MB",-1)),ve(y("input",{placeholder:"eg. Introduction video",type:"text",class:"input","onUpdate:modelValue":C[16]||(C[16]=_=>c.value.customDocumentName=_)},null,512),[[je,c.value.customDocumentName]])])],512),[[Lo,a.value===3]]),y("div",CL,[y("span",{onClick:f,class:Be(["back-link",{disabled:a.value===1}])},C[42]||(C[42]=[y("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z",fill:"#000000"})],-1),y("span",null,"back",-1)]),2),y("span",{onClick:h,class:"btn btn-sm",style:{gap:"1px"}},[y("span",null,pe(a.value===3?"Finish":"Next"),1),(F(),U("svg",wL,C[43]||(C[43]=[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z",fill:"#fff"},null,-1)])))])])]),y("div",bL,[C[45]||(C[45]=y("p",{class:"title"},"Preview",-1)),X(M3,{agreementModel:c.value},null,8,["agreementModel"])])])])),[[x]])}}},_L={key:0,class:"create-profile-info"},SL={__name:"CreateProfileMessage",setup(n){const t=fe(!0);return(s,r)=>t.value?(F(),U("div",_L,[r[2]||(r[2]=y("p",{class:"text"},"You need to create a profile to continue using full features",-1)),(F(),U("svg",{onClick:r[0]||(r[0]=i=>t.value=!1),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r[1]||(r[1]=[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))])):le("",!0)}},TL={key:0,class:"modal-wrapper"},EL={class:"modal-content"},ML={class:"modal-header"},AL={class:"modal-body"},IL=["src"],OL={class:"modal-footer"},u5={__name:"ImgUploader",props:["label","handler"],setup(n){const t=Dt.useToast(),s=n,r=fe(!1),i=fe(null),o=fe(null),l=fe(!1);async function a(){u.value&&(r.value=!1,s.handler(o.value))}async function c(h){if(!h){i.value=null,o.value=null;return}l.value=!0;try{const{blob:f,dataUrl:p}=await Gh(h,1e3,1e3);i.value=p,o.value=f}catch(f){console.log(f),t.error("Error resizing image")}l.value=!1}const u=he(()=>!l.value&&o.value);return(h,f)=>(F(),U(Pe,null,[y("button",{onClick:f[0]||(f[0]=p=>r.value=!0),class:"btn btn-outline btn-sm"},pe(n.label||"Upload photo"),1),(F(),Ne(H0,{to:"body"},[r.value?(F(),U("div",TL,[y("div",EL,[y("div",ML,[f[4]||(f[4]=y("h4",{class:"modal-title"},"Upload image",-1)),(F(),U("svg",{onClick:f[1]||(f[1]=p=>r.value=!1),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f[3]||(f[3]=[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),y("div",AL,[X(on,{accept:"image/jpeg, image/png",label:"Drag and drop or click to upload image",onFileSelected:c}),l.value?(F(),Ne(ks,{key:0})):le("",!0),i.value?(F(),U("img",{key:1,class:"mt-1",src:i.value,alt:"preview"},null,8,IL)):le("",!0)]),y("div",OL,[y("button",{onClick:f[2]||(f[2]=p=>r.value=!1),type:"button",class:"btn btn-md btn-outline"},"Cancel"),y("button",{onClick:a,class:Be([{disabled:!u.value},"btn btn-md"]),type:"button"},"Save image",2)])])])):le("",!0)]))],64))}},LL={class:"profile-dp-form"},PL=["src"],NL={class:"data"},DL={class:"name"},RL={class:"email"},Jd={__name:"ProfileDP",props:["name","email","profilePicture"],emits:["update"],setup(n,{emit:t}){const r=dn().setGlobalLoading,i=Dt.useToast(),o=t;async function l(a){r(!0);try{const{success:c,message:u,content:h}=await Rb(a);if(!c){i.error(u||"Error saving image"),r(!1);return}i.success("Image saved successfully"),o("update",h)}catch(c){i.error(typeof c=="string"?c:c.message||"Error saving image")}r(!1)}return(a,c)=>(F(),U("div",LL,[n.profilePicture?(F(),U("img",{key:0,class:"dp-img",src:n.profilePicture,alt:""},null,8,PL)):le("",!0),y("div",NL,[y("p",DL,pe(n.name),1),y("p",RL,pe(n.email),1),X(u5,{label:"Change photo",handler:l})])]))}},$L={key:0,class:"subscription-upgrade-overlay"},FL={class:"info"},BL={__name:"SubscriptionUpgradeOverlay",props:{message:{type:String,default:"You need to upgrade your subscription to access this feature."}},setup(n){const t=sn(),s=he(()=>t.subscription||{}),r=he(()=>(s.value.packageName||"").toLowerCase());return(i,o)=>{const l=fr("router-link");return r.value!=="standard"&&r.value!=="enterprise"?(F(),U("div",$L,[y("p",FL,pe(n.message),1),X(l,{to:"/pricing",class:"btn btn-md btn-outline",style:{"--Dark":"#fff"}},{default:Ye(()=>o[0]||(o[0]=[xe(" Change plan ")])),_:1})])):le("",!0)}}},VL={class:"input-group mb-1-5"},HL={class:"input-group mb-2"},UL={class:"branding-form"},jL={class:"input-group mb-1-5"},zL={key:1,class:"input-group"},qL={class:"org-logo"},WL=["src"],KL={__name:"ProfileDetailsForm",props:["userProfile"],emits:["logoUpdate","profileUpdate"],setup(n,{emit:t}){const s=Dt.useToast(),i=dn().setGlobalLoading,o=n,l=fe(JSON.parse(JSON.stringify(o.userProfile||{}))),a=!!o.userProfile;ps(()=>o.userProfile,f=>{l.value=JSON.parse(JSON.stringify(f||{}))});const c=t;async function u(f){i(!0);try{const{success:p,message:m,content:v}=await $b(f);if(!p){s.error(m||"Error saving image"),i(!1);return}s.success("Image saved successfully"),console.log(v),l.value.organizationLogo=v,c("logoUpdate",v)}catch(p){s.error(typeof p=="string"?p:p.message||"Error saving image")}i(!1)}async function h(){const f=["fullName","organizationName","organizationTagline"];for(let p of f)if(!l.value[p]){s.error("Please fill all the fields");return}for(let p of f)if(l.value[p].trim().length<3){console.log(p,l.value[p].trim()),s.error("All fields must be atleast 3 characters long");return}i(!0);try{const{success:p,message:m,content:v}=await Fb(l.value.fullName,l.value.organizationName,l.value.organizationTagline);if(!p){s.error(m||"Error saving details"),i(!1);return}s.success("Details saved successfully"),a&&ft.push("/pricing"),c("profileUpdate",v)}catch(p){s.error(typeof p=="string"?p:p.message||"Error saving details")}i(!1)}return(f,p)=>(F(),U(Pe,null,[y("div",VL,[p[3]||(p[3]=y("label",{class:"label"},"Full name",-1)),ve(y("input",{maxlength:"100",type:"text",placeholder:"Enter your full name",class:"input","onUpdate:modelValue":p[0]||(p[0]=m=>l.value.fullName=m)},null,512),[[je,l.value.fullName]])]),y("div",HL,[p[4]||(p[4]=y("label",{class:"label"},"Organization name",-1)),p[5]||(p[5]=y("p",{class:"sublabel"},"Copmany name or just use your own name",-1)),ve(y("input",{maxlength:"100",type:"text",placeholder:"Enter organization name",class:"input","onUpdate:modelValue":p[1]||(p[1]=m=>l.value.organizationName=m)},null,512),[[je,l.value.organizationName]])]),y("div",UL,[a?le("",!0):(F(),Ne(BL,{key:0})),p[10]||(p[10]=y("h3",{class:"title"},"Branding",-1)),p[11]||(p[11]=y("h5",{class:"subtitle"}," These details will be shown on agreement signing page and emails to the signee",-1)),y("div",jL,[p[6]||(p[6]=y("label",{class:"label"},"Tagline",-1)),p[7]||(p[7]=y("p",{class:"sublabel"},"Write a short tagline/motto of your organization(or you)",-1)),ve(y("textarea",{class:"input","onUpdate:modelValue":p[2]||(p[2]=m=>l.value.organizationTagline=m),maxlength:"100"},null,512),[[je,l.value.organizationTagline]])]),a?le("",!0):(F(),U("div",zL,[p[8]||(p[8]=y("label",{class:"label"},"Logo/Banner",-1)),p[9]||(p[9]=y("p",{class:"sublabel"},"A logo or cover photo of your organization",-1)),y("div",qL,[l.value.organizationLogo?(F(),U("img",{key:0,class:"logo",src:l.value.organizationLogo,alt:""},null,8,WL)):le("",!0),X(u5,{handler:u})])]))]),y("div",{class:"text-right mt-2"},[y("button",{onClick:h,class:"btn btn-md"},"Save details")])],64))}},GL={class:"section"},JL={class:"profile-page-wrapper"},ZL={class:"dp-col col"},YL=["src"],XL={class:"form-col col"},l0="/assets/images/default-dp.jpg",QL={__name:"ProfileView",setup(n){const t=sn(),s=he(()=>t.profileNotFound),r=he(()=>t.userProfile||{}),i=Te.currentUser||{},o=he(()=>r.value.fullName||i.displayName||""),l=he(()=>i.email||""),a=he(()=>r.value.profilePicture||i.photoURL||l0);function c(u){console.log(1),console.log(u),t.setUserProfile({...r.value,...u})}return(u,h)=>{const f=vs("gradientbg");return F(),U(Pe,null,[s.value?(F(),Ne(SL,{key:0})):le("",!0),ve((F(),U("section",GL,[y("div",JL,[y("div",ZL,[y("img",{class:"dp-col-bg",src:r.value.profilePicture||l0,alt:""},null,8,YL),X(Jd,{name:o.value,email:l.value,profilePicture:a.value,onUpdate:h[0]||(h[0]=p=>r.value.profilePicture=p)},null,8,["name","email","profilePicture"])]),y("div",XL,[h[2]||(h[2]=y("h3",{class:"title"},"Profile details",-1)),X(Jd,{name:o.value,email:l.value,profilePicture:a.value,onUpdate:h[1]||(h[1]=p=>r.value.profilePicture=p)},null,8,["name","email","profilePicture"]),X(KL,{userProfile:r.value,onProfileUpdate:c},null,8,["userProfile"])])])])),[[f]])],64)}}},eP={__name:"ChangePlanBtn",props:{hasActiveSubscription:Boolean},setup(n){return(t,s)=>{const r=fr("RouterLink");return F(),Ne(r,{to:"/pricing",class:"btn btn-md"},{default:Ye(()=>[xe(pe(n.hasActiveSubscription?"Change":"Select")+" Plan",1)]),_:1})}}},tP={class:"section"},nP={class:"profile-page-wrapper"},sP={class:"dp-col col"},rP=["src"],iP={key:0,class:"form-col col"},oP={class:"subscription-detail-item"},lP={class:"value text-capitalize"},aP={class:"subscription-detail-item"},cP={class:"value"},uP={key:0,class:"subscription-detail-item"},dP={class:"value text-bold text-uppercase"},hP={key:1,class:"subscription-detail-item"},fP={class:"value"},pP={class:"subscription-cta"},mP={key:1,class:"form-col col"},gP={class:"create-profile-info flex-default"},a0="/assets/images/default-dp.jpg",yP={__name:"ManageSubscriptionView",setup(n){const t=sn(),s=he(()=>t.userProfile||{}),r=Te.currentUser||{},i=he(()=>s.value.fullName||r.displayName||""),o=he(()=>r.email||""),l=he(()=>s.value.profilePicture||r.photoURL||a0),c=dn().setGlobalLoading,u=Dt.useToast(),h=he(()=>t.notSubscribed),f=he(()=>t.subscription),p=he(()=>{if(!f.value)return"";const C=f.value.renews_at,x=new Date(C),_={year:"numeric",month:"long",day:"numeric"};return x.toLocaleDateString("en-US",_)}),m=he(()=>f.value?f.value.card_brand+" ("+(f.value.card_last_four||"")+")":""),v=async()=>{if(!Te.currentUser){u.error("Please login to manage subscription");return}if(!f.value){u.error("You do not have an active subscription");return}c(!0);try{const{success:C,message:x,content:_}=await Hb();if(!C){u.error(x||"Failed to cancel subscription"),c(!1);return}u.success("Sunscription cancelled succesfully"),setTimeout(()=>{window.location.href="https://my-agreements.com/"},1500)}catch(C){console.error(C),u.error(e.message||"Failed to cancel subscription")}c(!1)};return(C,x)=>{var E,N,R,B,A,k;const _=fr("RouterLink"),M=vs("gradientbg");return ve((F(),U("section",tP,[y("div",nP,[y("div",sP,[y("img",{class:"dp-col-bg",src:s.value.profilePicture||a0,alt:""},null,8,rP),X(Jd,{name:i.value,email:o.value,profilePicture:l.value,onUpdate:x[0]||(x[0]=b=>s.value.profilePicture=b)},null,8,["name","email","profilePicture"])]),!h.value&&f.value?(F(),U("div",iP,[x[6]||(x[6]=y("h3",{class:"title",style:{"margin-bottom":"36px"}},"Subscription details",-1)),y("div",oP,[x[1]||(x[1]=y("p",{class:"label"},"Current Plan",-1)),y("p",lP,[y("b",null,pe((E=f.value)==null?void 0:E.packageName),1),xe(" ($"+pe((N=f.value)==null?void 0:N.price)+")",1)])]),y("div",aP,[x[2]||(x[2]=y("p",{class:"label"},"Subscription Status",-1)),y("p",cP,[y("span",{class:Be("subscription-status-badge "+((R=f.value)==null?void 0:R.status))},pe((A=(B=f.value)==null?void 0:B.status)==null?void 0:A.replace("_"," ")),3)])]),m.value?(F(),U("div",uP,[x[3]||(x[3]=y("p",{class:"label"},"Payment method",-1)),y("p",dP,pe(m.value),1)])):le("",!0),p.value?(F(),U("div",hP,[x[4]||(x[4]=y("p",{class:"label"},"Next Billing Date",-1)),y("p",fP,pe(p.value),1)])):le("",!0),y("div",pP,[f.value.status==="active"?(F(),Ne(Pr,{key:0,message:"Are you sure you want to calncel your subscription? All your data will be deleted and this action is permanent!",title:"Cancel Subscription?",onConfirm:v},{btn:Ye(()=>x[5]||(x[5]=[y("button",{class:"btn btn-danger btn-md"},"Cancel Subscription",-1)])),_:1})):le("",!0),X(eP,{hasActiveSubscription:((k=f.value)==null?void 0:k.status)==="active"},null,8,["hasActiveSubscription"])])])):(F(),U("div",mP,[y("div",gP,[x[8]||(x[8]=y("p",{class:"text"},"You do not have an active subscription",-1)),X(_,{to:"/pricing",class:"btn btn-sm btn-outline"},{default:Ye(()=>x[7]||(x[7]=[xe("Select Plan")])),_:1})])]))])])),[[M]])}}},vP={class:"section pricing-section"},CP={class:"container"},wP={class:"billing-frequency",style:{"margin-top":"64px"}},bP={class:"toggle"},kP={class:"pricing-grid"},xP={class:"info-graphic",width:"220",height:"88",viewBox:"0 0 220 88",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_P={key:0,class:"modal-wrapper",style:{"--modal-max-width":"600px"}},SP={__name:"PricingView",setup(n){const t=Dt.useToast(),r=dn().setGlobalLoading,i=fe(!1),o=sn(),l=he(()=>o.subscription),a=he(()=>{var x;return((x=l.value)==null?void 0:x.packageName)||""}),c=he(()=>a.value),u=he(()=>{var x;return((x=l.value)==null?void 0:x.billing)||""}),h=he(()=>{var x;return((x=l.value)==null?void 0:x.status)||""}),f=he(()=>l.value&&l.value.status==="active");he(()=>o.user);function p(x){return!(h!=="active"||!(c.value.toLowerCase()===x)||!(u.value===(i.value?"yearly":"monthly")))}function m(x){return f.value?p(x)?"Current Plan":"Switch Plan":"Select Package"}const v=fe(!1);async function C(x){if(!Te.currentUser){ft.push({path:"/authentication",query:{auth_rdr:"/pricing"}});return}try{if(r(!0),f.value){const{success:_,message:M}=await Vb(x,i.value);if(!_){t.error(M||"Error switching plan"),r(!1);return}v.value=!0}else{const{success:_,message:M,content:E}=await Bb(x,i.value);if(!_){t.error(M||"Error selecting package"),r(!1);return}window.location.href=E}}catch(_){console.error(_),t.error(typeof _=="string"?_:_.message||"Error selecting package")}r(!1)}return(x,_)=>{const M=vs("scrollreveal"),E=vs("gradientbg");return F(),U(Pe,null,[ve((F(),U("section",vP,[y("div",CP,[_[14]||(_[14]=y("h1",{class:"section-title",style:{"max-width":"750px"}},[xe("Choose A Plan Thats "),y("span",{class:"character-popin"},"Right For You")],-1)),y("div",wP,[_[5]||(_[5]=y("span",{class:"text"},"Monthly",-1)),y("label",bP,[ve(y("input",{id:"yearly-billing-toggle",class:"toggle-checkbox",type:"checkbox","onUpdate:modelValue":_[0]||(_[0]=N=>i.value=N)},null,512),[[Hn,i.value]]),_[4]||(_[4]=y("div",{class:"toggle-switch"},null,-1))]),_[6]||(_[6]=y("span",{class:"text"},"Yearly",-1))]),y("div",kP,[y("div",{class:Be(["pricing-card basic",{subscribed:p("basic")}])},[_[7]||(_[7]=tt('<p class="title">Basic</p><p class="info">Perfect if you are a new freelancer or entrepreneur who is just starting out.</p><div class="price monthly-price"><span class="text currency">$</span><span class="text amount">6<span class="sub">.99</span></span><span class="period">/mo</span></div><div class="price yearly-price"><span class="text currency">$</span><span class="text amount">69<span class="sub">.99</span></span><span class="period">/yr</span></div>',4)),y("button",{onClick:_[1]||(_[1]=N=>C("basic")),class:"btn btn-block select-plan-btn","data-plan":"basic"},pe(m("basic")),1),_[8]||(_[8]=tt('<div class="features"><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 10 active agreements</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 3 signees per agreement</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Email support</span></div><div class="feature-item not-included"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#F2F2F2"></rect><path d="M20.2422 20.2426C20.5025 19.9823 20.5025 19.5602 20.2422 19.2998L16.9428 16.0005L20.2431 12.7002C20.5034 12.4398 20.5034 12.0177 20.2431 11.7574C19.9827 11.497 19.5606 11.497 19.3003 11.7574L16 15.0577L12.6997 11.7574C12.4394 11.497 12.0173 11.497 11.7569 11.7574C11.4966 12.0177 11.4966 12.4398 11.7569 12.7002L15.0572 16.0005L11.7578 19.2998C11.4975 19.5602 11.4975 19.9823 11.7578 20.2426C12.0182 20.503 12.4403 20.503 12.7006 20.2426L16 16.9433L19.2994 20.2426C19.5597 20.503 19.9818 20.503 20.2422 20.2426Z" fill="#003366"></path></svg><span class="text">Custom branding</span></div><div class="feature-item not-included"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#F2F2F2"></rect><path d="M20.2422 20.2426C20.5025 19.9823 20.5025 19.5602 20.2422 19.2998L16.9428 16.0005L20.2431 12.7002C20.5034 12.4398 20.5034 12.0177 20.2431 11.7574C19.9827 11.497 19.5606 11.497 19.3003 11.7574L16 15.0577L12.6997 11.7574C12.4394 11.497 12.0173 11.497 11.7569 11.7574C11.4966 12.0177 11.4966 12.4398 11.7569 12.7002L15.0572 16.0005L11.7578 19.2998C11.4975 19.5602 11.4975 19.9823 11.7578 20.2426C12.0182 20.503 12.4403 20.503 12.7006 20.2426L16 16.9433L19.2994 20.2426C19.5597 20.503 19.9818 20.503 20.2422 20.2426Z" fill="#003366"></path></svg><span class="text"><span class="highlight">AI</span> powered agreement generation</span></div><div class="feature-item not-included"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#F2F2F2"></rect><path d="M20.2422 20.2426C20.5025 19.9823 20.5025 19.5602 20.2422 19.2998L16.9428 16.0005L20.2431 12.7002C20.5034 12.4398 20.5034 12.0177 20.2431 11.7574C19.9827 11.497 19.5606 11.497 19.3003 11.7574L16 15.0577L12.6997 11.7574C12.4394 11.497 12.0173 11.497 11.7569 11.7574C11.4966 12.0177 11.4966 12.4398 11.7569 12.7002L15.0572 16.0005L11.7578 19.2998C11.4975 19.5602 11.4975 19.9823 11.7578 20.2426C12.0182 20.503 12.4403 20.503 12.7006 20.2426L16 16.9433L19.2994 20.2426C19.5597 20.503 19.9818 20.503 20.2422 20.2426Z" fill="#003366"></path></svg><span class="text">Require document(NID, Passport etc.) from signees</span></div></div>',1))],2),y("div",{class:Be(["pricing-card standard",{subscribed:p("standard")}])},[_[10]||(_[10]=tt('<p class="title">Standard</p><p class="info">Perfect if you an experienced freelancer or entrepreneur who is rapidly growing their business.</p><div class="price monthly-price"><span class="text currency">$</span><span class="text amount">9<span class="sub">.99</span></span><span class="period">/mo</span></div><div class="price yearly-price"><span class="text currency">$</span><span class="text amount">99<span class="sub">.99</span></span><span class="period">/yr</span></div>',4)),y("button",{onClick:_[2]||(_[2]=N=>C("standard")),class:"btn btn-block select-plan-btn","data-plan":"basic"},pe(m("standard")),1),_[11]||(_[11]=tt('<div class="features"><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 50 active agreements</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 15 signees per agreement</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Email support</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Custom branding</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text"><span class="highlight">AI</span> powered agreement generation</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Require document(NID, Passport etc.) from signees</span></div></div>',1)),ve((F(),U("svg",xP,_[9]||(_[9]=[y("path",{class:"arrow-line",d:"M95.4465 61.5974C83.1574 64.6611 68.4839 65.2432 57.684 57.5059C50.7821 52.5613 47.1172 42.5627 49.6965 34.4471C52.1326 26.7825 57.8213 20.0481 66.3458 20.2534C70.7891 20.3604 74.6203 22.4047 75.4291 27.084C76.6649 34.2328 69.5332 41.6308 63.863 44.7404C46.1673 54.4451 21.1342 53.9051 4.27699 42.6406",stroke:"#00C79F","stroke-width":"3","stroke-linecap":"round"},null,-1),y("path",{class:"arrow-line alt",d:"M11.7068 55.8447C9.64482 52.9634 5.14208 46.2418 3.62681 42.4054",stroke:"#00C79F","stroke-width":"3","stroke-linecap":"round"},null,-1),y("path",{class:"arrow-line alt",d:"M3.62695 42.4054C7.1396 41.942 15.124 40.6362 18.9603 39.1209",stroke:"#00C79F","stroke-width":"3","stroke-linecap":"round"},null,-1),y("path",{d:"M105.242 69V56.4H108.14L111.992 64.266L115.808 56.4H118.706V69H116.276V60.54L112.946 67.236H111.02L107.672 60.54V69H105.242ZM125.415 69.216C124.551 69.216 123.771 69.018 123.075 68.622C122.391 68.214 121.845 67.656 121.437 66.948C121.041 66.228 120.843 65.406 120.843 64.482C120.843 63.534 121.041 62.706 121.437 61.998C121.845 61.278 122.397 60.72 123.093 60.324C123.789 59.916 124.569 59.712 125.433 59.712C126.309 59.712 127.089 59.916 127.773 60.324C128.469 60.72 129.015 61.278 129.411 61.998C129.819 62.706 130.023 63.528 130.023 64.464C130.023 65.4 129.819 66.228 129.411 66.948C129.015 67.656 128.469 68.214 127.773 68.622C127.077 69.018 126.291 69.216 125.415 69.216ZM125.415 67.11C125.823 67.11 126.183 67.014 126.495 66.822C126.819 66.63 127.071 66.336 127.251 65.94C127.443 65.544 127.539 65.052 127.539 64.464C127.539 63.876 127.443 63.39 127.251 63.006C127.071 62.61 126.819 62.316 126.495 62.124C126.183 61.92 125.829 61.818 125.433 61.818C125.049 61.818 124.695 61.92 124.371 62.124C124.047 62.316 123.789 62.61 123.597 63.006C123.417 63.39 123.327 63.876 123.327 64.464C123.327 65.052 123.417 65.544 123.597 65.94C123.789 66.336 124.041 66.63 124.353 66.822C124.677 67.014 125.031 67.11 125.415 67.11ZM135.826 69.216C134.998 69.216 134.278 69.084 133.666 68.82C133.054 68.556 132.574 68.19 132.226 67.722C131.878 67.254 131.68 66.726 131.632 66.138H134.044C134.104 66.366 134.206 66.576 134.35 66.768C134.494 66.948 134.686 67.092 134.926 67.2C135.166 67.308 135.454 67.362 135.79 67.362C136.114 67.362 136.378 67.32 136.582 67.236C136.786 67.14 136.936 67.014 137.032 66.858C137.14 66.702 137.194 66.54 137.194 66.372C137.194 66.12 137.122 65.928 136.978 65.796C136.834 65.652 136.624 65.538 136.348 65.454C136.072 65.37 135.736 65.286 135.34 65.202C134.908 65.118 134.482 65.016 134.062 64.896C133.654 64.764 133.288 64.602 132.964 64.41C132.64 64.218 132.382 63.972 132.19 63.672C131.998 63.372 131.902 63 131.902 62.556C131.902 62.016 132.046 61.536 132.334 61.116C132.622 60.684 133.042 60.342 133.594 60.09C134.146 59.838 134.812 59.712 135.592 59.712C136.684 59.712 137.548 59.958 138.184 60.45C138.82 60.942 139.198 61.62 139.318 62.484H137.032C136.96 62.208 136.798 61.992 136.546 61.836C136.306 61.668 135.982 61.584 135.574 61.584C135.142 61.584 134.812 61.662 134.584 61.818C134.356 61.974 134.242 62.178 134.242 62.43C134.242 62.598 134.314 62.748 134.458 62.88C134.614 63.012 134.83 63.126 135.106 63.222C135.382 63.306 135.718 63.39 136.114 63.474C136.81 63.618 137.422 63.786 137.95 63.978C138.478 64.158 138.892 64.422 139.192 64.77C139.492 65.106 139.642 65.598 139.642 66.246C139.642 66.822 139.486 67.338 139.174 67.794C138.862 68.238 138.418 68.586 137.842 68.838C137.278 69.09 136.606 69.216 135.826 69.216ZM145.503 69C144.867 69 144.309 68.904 143.829 68.712C143.361 68.508 142.995 68.178 142.731 67.722C142.467 67.254 142.335 66.618 142.335 65.814V61.962H140.787V59.928H142.335L142.605 57.462H144.765V59.928H147.159V61.962H144.765V65.85C144.765 66.258 144.855 66.54 145.035 66.696C145.215 66.852 145.521 66.93 145.953 66.93H147.141V69H145.503ZM153.494 69V56.4H158.21C159.23 56.4 160.076 56.574 160.748 56.922C161.42 57.27 161.918 57.738 162.242 58.326C162.566 58.914 162.728 59.586 162.728 60.342C162.728 61.038 162.572 61.68 162.26 62.268C161.948 62.856 161.456 63.336 160.784 63.708C160.112 64.068 159.254 64.248 158.21 64.248H155.924V69H153.494ZM155.924 62.286H158.066C158.846 62.286 159.404 62.112 159.74 61.764C160.088 61.404 160.262 60.93 160.262 60.342C160.262 59.718 160.088 59.238 159.74 58.902C159.404 58.554 158.846 58.38 158.066 58.38H155.924V62.286ZM168.324 69.216C167.46 69.216 166.68 69.018 165.984 68.622C165.3 68.214 164.754 67.656 164.346 66.948C163.95 66.228 163.752 65.406 163.752 64.482C163.752 63.534 163.95 62.706 164.346 61.998C164.754 61.278 165.306 60.72 166.002 60.324C166.698 59.916 167.478 59.712 168.342 59.712C169.218 59.712 169.998 59.916 170.682 60.324C171.378 60.72 171.924 61.278 172.32 61.998C172.728 62.706 172.932 63.528 172.932 64.464C172.932 65.4 172.728 66.228 172.32 66.948C171.924 67.656 171.378 68.214 170.682 68.622C169.986 69.018 169.2 69.216 168.324 69.216ZM168.324 67.11C168.732 67.11 169.092 67.014 169.404 66.822C169.728 66.63 169.98 66.336 170.16 65.94C170.352 65.544 170.448 65.052 170.448 64.464C170.448 63.876 170.352 63.39 170.16 63.006C169.98 62.61 169.728 62.316 169.404 62.124C169.092 61.92 168.738 61.818 168.342 61.818C167.958 61.818 167.604 61.92 167.28 62.124C166.956 62.316 166.698 62.61 166.506 63.006C166.326 63.39 166.236 63.876 166.236 64.464C166.236 65.052 166.326 65.544 166.506 65.94C166.698 66.336 166.95 66.63 167.262 66.822C167.586 67.014 167.94 67.11 168.324 67.11ZM175.026 72.96V59.928H177.186L177.456 61.188C177.648 60.924 177.876 60.684 178.14 60.468C178.404 60.24 178.716 60.06 179.076 59.928C179.448 59.784 179.88 59.712 180.372 59.712C181.224 59.712 181.974 59.922 182.622 60.342C183.27 60.762 183.78 61.332 184.152 62.052C184.536 62.76 184.728 63.57 184.728 64.482C184.728 65.394 184.536 66.21 184.152 66.93C183.768 67.638 183.252 68.196 182.604 68.604C181.956 69.012 181.218 69.216 180.39 69.216C179.718 69.216 179.136 69.096 178.644 68.856C178.164 68.604 177.768 68.262 177.456 67.83V72.96H175.026ZM179.814 67.092C180.294 67.092 180.714 66.984 181.074 66.768C181.446 66.552 181.734 66.246 181.938 65.85C182.142 65.454 182.244 64.998 182.244 64.482C182.244 63.966 182.142 63.51 181.938 63.114C181.734 62.706 181.446 62.394 181.074 62.178C180.714 61.95 180.294 61.836 179.814 61.836C179.346 61.836 178.926 61.95 178.554 62.178C178.194 62.394 177.906 62.7 177.69 63.096C177.486 63.492 177.384 63.948 177.384 64.464C177.384 64.98 177.486 65.442 177.69 65.85C177.906 66.246 178.194 66.552 178.554 66.768C178.926 66.984 179.346 67.092 179.814 67.092ZM190.205 69.216C189.473 69.216 188.843 69.066 188.315 68.766C187.799 68.454 187.403 68.004 187.127 67.416C186.851 66.816 186.713 66.078 186.713 65.202V59.928H189.143V64.95C189.143 65.682 189.293 66.234 189.593 66.606C189.905 66.978 190.379 67.164 191.015 67.164C191.423 67.164 191.783 67.074 192.095 66.894C192.407 66.702 192.653 66.432 192.833 66.084C193.025 65.724 193.121 65.286 193.121 64.77V59.928H195.533V69H193.409L193.211 67.524C192.947 68.04 192.557 68.454 192.041 68.766C191.525 69.066 190.913 69.216 190.205 69.216ZM197.913 69V56.04H200.343V69H197.913ZM205.771 69.216C205.015 69.216 204.391 69.096 203.899 68.856C203.407 68.604 203.041 68.274 202.801 67.866C202.573 67.446 202.459 66.984 202.459 66.48C202.459 65.928 202.597 65.442 202.873 65.022C203.161 64.602 203.587 64.272 204.151 64.032C204.727 63.792 205.447 63.672 206.311 63.672H208.561C208.561 63.228 208.501 62.862 208.381 62.574C208.261 62.274 208.075 62.052 207.823 61.908C207.571 61.764 207.235 61.692 206.815 61.692C206.359 61.692 205.969 61.794 205.645 61.998C205.333 62.19 205.141 62.49 205.069 62.898H202.711C202.771 62.25 202.981 61.692 203.341 61.224C203.713 60.744 204.199 60.372 204.799 60.108C205.411 59.844 206.089 59.712 206.833 59.712C207.685 59.712 208.423 59.856 209.047 60.144C209.671 60.432 210.151 60.846 210.487 61.386C210.823 61.926 210.991 62.592 210.991 63.384V69H208.939L208.669 67.614C208.537 67.854 208.381 68.07 208.201 68.262C208.021 68.454 207.811 68.622 207.571 68.766C207.331 68.91 207.061 69.018 206.761 69.09C206.461 69.174 206.131 69.216 205.771 69.216ZM206.347 67.344C206.659 67.344 206.935 67.29 207.175 67.182C207.427 67.062 207.643 66.906 207.823 66.714C208.003 66.51 208.141 66.282 208.237 66.03C208.345 65.766 208.417 65.484 208.453 65.184V65.166H206.599C206.227 65.166 205.921 65.214 205.681 65.31C205.453 65.394 205.285 65.52 205.177 65.688C205.069 65.856 205.015 66.048 205.015 66.264C205.015 66.504 205.069 66.702 205.177 66.858C205.285 67.014 205.441 67.134 205.645 67.218C205.849 67.302 206.083 67.344 206.347 67.344ZM213.258 69V59.928H215.418L215.652 61.602C215.868 61.206 216.138 60.87 216.462 60.594C216.798 60.318 217.176 60.102 217.596 59.946C218.028 59.79 218.502 59.712 219.018 59.712V62.286H218.19C217.83 62.286 217.494 62.328 217.182 62.412C216.882 62.496 216.618 62.634 216.39 62.826C216.162 63.006 215.988 63.258 215.868 63.582C215.748 63.906 215.688 64.314 215.688 64.806V69H213.258Z",fill:"#00C79F"},null,-1)]))),[[M]])],2),y("div",{class:Be(["pricing-card enterprise",{subscribed:p("enterprise")}])},[_[12]||(_[12]=tt('<p class="title">Enterprise</p><p class="info">Ideal for established businesses with a large number of agreements and signees.</p><div class="price monthly-price"><span class="text currency">$</span><span class="text amount">99<span class="sub">.99</span></span><span class="period">/mo</span></div><div class="price yearly-price"><span class="text currency">$</span><span class="text amount">999<span class="sub">.99</span></span><span class="period">/yr</span></div>',4)),y("button",{onClick:_[3]||(_[3]=N=>C("enterprise")),class:"btn btn-block select-plan-btn","data-plan":"basic"},pe(m("enterprise")),1),_[13]||(_[13]=tt('<div class="features"><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 200 active agreements</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 150 signees per agreement</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Email support</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Custom branding</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text"><span class="highlight">AI</span> powered agreement generation</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Require document(NID, Passport etc.) from signees</span></div></div>',1))],2)])])])),[[E]]),v.value?(F(),U("div",_P,_[15]||(_[15]=[tt('<div class="modal-content text-center"><img style="max-width:300px;" src="'+S3+'" alt=""><h1 class="title">Plan changed successfully!</h1><div class="modal-body"><p style="line-height:1.5;margin:32px 0;">You have successfully changed your plan. You can now enjoy the benefits of your new plan. <br><small class="highlight">If you don&#39;t see the changes, please refresh the page after some time.</small></p></div><a href="/dashboard" class="btn btn-primary">Go to dashboard</a></div>',1)]))):le("",!0)],64)}}},TP={class:"auth-container-wrapper section"},EP={__name:"Authentication",setup(n){sn();async function t(){try{await wb()}catch(s){console.error(s)}}return(s,r)=>{const i=vs("gradientbg");return ve((F(),U("section",TP,[y("div",{class:"auth-container"},[r[1]||(r[1]=tt('<div class="auth-page-logo"><svg width="197" height="91" viewBox="0 0 197 91" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_130_66)"><rect x="69.5" width="58" height="58" rx="29" fill="#F5FBFF"></rect><path d="M73.6626 7.68165L66.262 29.2607L75.0826 32.2858L82.4832 10.7067L73.6626 7.68165Z" fill="#00C79F"></path><path d="M88.8909 9.50872L88.0329 9.93069C86.9639 10.4511 85.7121 10.5214 84.6009 10.1276L83.1662 9.62125C83.0818 9.56498 82.9975 9.52279 82.9131 9.49466L74.08 6.47059C73.4189 6.24554 72.6875 6.59718 72.4624 7.25825L65.05 28.8487C64.9374 29.1722 64.9656 29.5238 65.1062 29.8192C65.2469 30.1146 65.5141 30.3537 65.8376 30.4662L74.6567 33.4903C74.7973 33.5325 74.938 33.5606 75.0646 33.5606C75.599 33.5606 76.0913 33.223 76.2742 32.7026L83.2647 12.364L83.7429 12.5328C85.5011 13.1517 87.4703 13.0391 89.1581 12.2234L90.0161 11.8014C91.071 11.281 92.3088 11.2106 93.4199 11.5904L109.637 17.1744C109.469 17.8495 109.131 18.6513 108.512 19.0873C107.823 19.5655 106.796 19.5655 105.446 19.1013L98.2163 16.6258C97.8787 16.5133 97.513 16.5414 97.2035 16.7102C96.8941 16.879 96.6691 17.1744 96.5706 17.512C96.5565 17.5541 95.5579 21.2956 92.365 23.0115C90.3537 24.0946 87.85 24.1368 84.9104 23.1381C84.2493 22.9131 83.5179 23.2647 83.2928 23.9258C83.0678 24.5869 83.4194 25.3183 84.0805 25.5433C85.7683 26.12 87.3577 26.4154 88.8346 26.4154C90.5506 26.4154 92.1259 26.0356 93.5606 25.262C96.4159 23.7289 97.8928 21.0424 98.5679 19.4389L104.602 21.5065C106.754 22.252 108.554 22.1395 109.947 21.169C112.183 19.6218 112.296 16.4852 112.31 16.3445C112.324 15.7819 111.972 15.2896 111.452 15.1068L94.2357 9.17115C92.5057 8.5804 90.5506 8.70699 88.8909 9.50872ZM74.291 30.6631L67.8771 28.4689L74.4457 9.29774L80.8595 11.4919L74.291 30.6631Z" fill="#2D2B2B"></path><path d="M114.208 11.9243L124.234 32.4144L132.61 28.3163L122.584 7.82616L114.208 11.9243Z" fill="#3597FF"></path><path d="M122.676 32.1119L119.652 34.8969C116.909 37.4146 113.815 39.5385 110.467 41.1701L94.4186 49.0186C93.7153 49.3702 92.8573 49.0748 92.5057 48.3575C92.1541 47.6542 92.4494 46.7962 93.1668 46.4446L93.3637 46.3462L102.141 42.0562C102.773 41.7468 103.041 40.9872 102.731 40.3543C102.422 39.7213 101.662 39.4541 101.029 39.7635L92.2525 44.0535L87.836 46.2196C87.1327 46.5712 86.2747 46.2758 85.9231 45.5585C85.7543 45.2209 85.7262 44.8271 85.8528 44.4754C85.9793 44.1097 86.2325 43.8284 86.5701 43.6597L89.9036 42.0281L99.44 37.3583C100.073 37.0489 100.34 36.2894 100.031 35.6564C99.7213 35.0235 98.9617 34.7562 98.3288 35.0657L88.7784 39.7495L88.4127 39.9323L83.8555 42.1687C83.5179 42.3375 83.1241 42.3656 82.7724 42.239C82.4067 42.1125 82.1254 41.8593 81.9566 41.5217C81.605 40.8184 81.9004 39.9604 82.6177 39.6088L84.193 38.8352L87.414 37.2599L88.3142 36.8238L95.7126 33.195C96.3456 32.8855 96.6128 32.126 96.3034 31.4931C95.9939 30.8601 95.2344 30.5929 94.6015 30.9023L86.5842 34.8266L83.0819 36.5425C82.3786 36.8801 81.5206 36.5988 81.169 35.8815C81.0002 35.5439 80.9721 35.1501 81.0986 34.7984C81.2252 34.4327 81.4784 34.1514 81.816 33.9826L87.9344 30.9867C88.5674 30.6773 88.8346 29.9177 88.5252 29.2848C88.2158 28.6518 87.4562 28.3846 86.8233 28.694L80.7048 31.69C79.7484 32.1541 79.031 32.9699 78.6935 33.9686C78.3559 34.9672 78.4121 36.0502 78.8763 37.0067C79.1717 37.5974 79.5936 38.0897 80.1 38.4554C79.2139 39.6229 78.9888 41.2263 79.678 42.6329C80.1422 43.5893 80.958 44.3067 81.9566 44.6442C82.3786 44.7849 82.8006 44.8552 83.2225 44.8552C83.2085 45.4882 83.335 46.1211 83.6304 46.6978C84.3196 48.1043 85.7402 48.9201 87.203 48.9201C87.7938 48.9201 88.3845 48.7935 88.9472 48.5122L89.8473 48.0762C89.8895 48.5544 90.0161 49.0186 90.2271 49.4687C90.9163 50.8752 92.3369 51.691 93.7997 51.691C94.3905 51.691 94.9812 51.5644 95.5438 51.2831L111.593 43.4346C115.165 41.6905 118.456 39.44 121.382 36.7535L124.969 33.4481L133.183 29.4254C133.816 29.116 134.083 28.3565 133.774 27.7235L123.731 7.25831C123.576 6.94887 123.323 6.72383 123 6.6113C122.676 6.49878 122.324 6.52691 122.029 6.66756L113.646 10.7606C113.013 11.07 112.746 11.8296 113.055 12.4625L122.676 32.1119ZM122.001 9.52285L130.904 27.7376L124.814 30.7195L115.911 12.5047L122.001 9.52285Z" fill="#2D2B2B"></path></g><path d="M2.256 85V68.2H4.824L12.168 80.464H10.824L18.048 68.2H20.616L20.64 85H17.688L17.664 72.832H18.288L12.144 83.08H10.752L4.512 72.832H5.232V85H2.256ZM25.9459 89.824C25.3219 89.824 24.6979 89.72 24.0739 89.512C23.4499 89.304 22.9299 89.016 22.5139 88.648L23.7139 86.44C24.0179 86.712 24.3619 86.928 24.7459 87.088C25.1299 87.248 25.5219 87.328 25.9219 87.328C26.4659 87.328 26.9059 87.192 27.2419 86.92C27.5779 86.648 27.8899 86.192 28.1779 85.552L28.9219 83.872L29.1619 83.512L34.0099 72.184H36.8899L30.8899 86.032C30.4899 86.992 30.0419 87.752 29.5459 88.312C29.0659 88.872 28.5219 89.264 27.9139 89.488C27.3219 89.712 26.6659 89.824 25.9459 89.824ZM28.5859 85.456L22.8019 72.184H25.9219L30.6259 83.248L28.5859 85.456ZM43.3097 85L50.8697 68.2H53.9417L61.5257 85H58.2617L51.7577 69.856H53.0057L46.5257 85H43.3097ZM46.7897 81.112L47.6297 78.664H56.7017L57.5417 81.112H46.7897ZM69.0651 89.824C67.8811 89.824 66.7211 89.664 65.5851 89.344C64.4651 89.04 63.5451 88.592 62.8251 88L64.1691 85.744C64.7291 86.208 65.4331 86.576 66.2811 86.848C67.1451 87.136 68.0171 87.28 68.8971 87.28C70.3051 87.28 71.3371 86.952 71.9931 86.296C72.6491 85.656 72.9771 84.688 72.9771 83.392V81.112L73.2171 78.208L73.1211 75.304V72.184H75.9771V83.056C75.9771 85.376 75.3851 87.08 74.2011 88.168C73.0171 89.272 71.3051 89.824 69.0651 89.824ZM68.6811 84.424C67.4651 84.424 66.3611 84.168 65.3691 83.656C64.3931 83.128 63.6171 82.4 63.0411 81.472C62.4811 80.544 62.2011 79.456 62.2011 78.208C62.2011 76.976 62.4811 75.896 63.0411 74.968C63.6171 74.04 64.3931 73.32 65.3691 72.808C66.3611 72.296 67.4651 72.04 68.6811 72.04C69.7691 72.04 70.7451 72.256 71.6091 72.688C72.4731 73.12 73.1611 73.792 73.6731 74.704C74.2011 75.616 74.4651 76.784 74.4651 78.208C74.4651 79.632 74.2011 80.808 73.6731 81.736C73.1611 82.648 72.4731 83.328 71.6091 83.776C70.7451 84.208 69.7691 84.424 68.6811 84.424ZM69.1371 81.88C69.8891 81.88 70.5611 81.728 71.1531 81.424C71.7451 81.104 72.2011 80.672 72.5211 80.128C72.8571 79.568 73.0251 78.928 73.0251 78.208C73.0251 77.488 72.8571 76.856 72.5211 76.312C72.2011 75.752 71.7451 75.328 71.1531 75.04C70.5611 74.736 69.8891 74.584 69.1371 74.584C68.3851 74.584 67.7051 74.736 67.0971 75.04C66.5051 75.328 66.0411 75.752 65.7051 76.312C65.3851 76.856 65.2251 77.488 65.2251 78.208C65.2251 78.928 65.3851 79.568 65.7051 80.128C66.0411 80.672 66.5051 81.104 67.0971 81.424C67.7051 81.728 68.3851 81.88 69.1371 81.88ZM79.9211 85V72.184H82.7771V75.712L82.4411 74.68C82.8251 73.816 83.4251 73.16 84.2411 72.712C85.0731 72.264 86.1051 72.04 87.3371 72.04V74.896C87.2091 74.864 87.0891 74.848 86.9771 74.848C86.8651 74.832 86.7531 74.824 86.6411 74.824C85.5051 74.824 84.6011 75.16 83.9291 75.832C83.2571 76.488 82.9211 77.472 82.9211 78.784V85H79.9211ZM95.7889 85.168C94.3649 85.168 93.1169 84.888 92.0449 84.328C90.9889 83.752 90.1649 82.968 89.5729 81.976C88.9969 80.984 88.7089 79.856 88.7089 78.592C88.7089 77.312 88.9889 76.184 89.5489 75.208C90.1249 74.216 90.9089 73.44 91.9009 72.88C92.9089 72.32 94.0529 72.04 95.3329 72.04C96.5809 72.04 97.6929 72.312 98.6689 72.856C99.6449 73.4 100.413 74.168 100.973 75.16C101.533 76.152 101.813 77.32 101.813 78.664C101.813 78.792 101.805 78.936 101.789 79.096C101.789 79.256 101.781 79.408 101.765 79.552H91.0849V77.56H100.181L99.0049 78.184C99.0209 77.448 98.8689 76.8 98.5489 76.24C98.2289 75.68 97.7889 75.24 97.2289 74.92C96.6849 74.6 96.0529 74.44 95.3329 74.44C94.5969 74.44 93.9489 74.6 93.3889 74.92C92.8449 75.24 92.4129 75.688 92.0929 76.264C91.7889 76.824 91.6369 77.488 91.6369 78.256V78.736C91.6369 79.504 91.8129 80.184 92.1649 80.776C92.5169 81.368 93.0129 81.824 93.6529 82.144C94.2929 82.464 95.0289 82.624 95.8609 82.624C96.5809 82.624 97.2289 82.512 97.8049 82.288C98.3809 82.064 98.8929 81.712 99.3409 81.232L100.949 83.08C100.373 83.752 99.6449 84.272 98.7649 84.64C97.9009 84.992 96.9089 85.168 95.7889 85.168ZM110.719 85.168C109.295 85.168 108.047 84.888 106.975 84.328C105.919 83.752 105.095 82.968 104.503 81.976C103.927 80.984 103.639 79.856 103.639 78.592C103.639 77.312 103.919 76.184 104.479 75.208C105.055 74.216 105.839 73.44 106.831 72.88C107.839 72.32 108.983 72.04 110.263 72.04C111.511 72.04 112.623 72.312 113.599 72.856C114.575 73.4 115.343 74.168 115.903 75.16C116.463 76.152 116.743 77.32 116.743 78.664C116.743 78.792 116.735 78.936 116.719 79.096C116.719 79.256 116.711 79.408 116.695 79.552H106.015V77.56H115.111L113.935 78.184C113.951 77.448 113.799 76.8 113.479 76.24C113.159 75.68 112.719 75.24 112.159 74.92C111.615 74.6 110.983 74.44 110.263 74.44C109.527 74.44 108.879 74.6 108.319 74.92C107.775 75.24 107.343 75.688 107.023 76.264C106.719 76.824 106.567 77.488 106.567 78.256V78.736C106.567 79.504 106.743 80.184 107.095 80.776C107.447 81.368 107.943 81.824 108.583 82.144C109.223 82.464 109.959 82.624 110.791 82.624C111.511 82.624 112.159 82.512 112.735 82.288C113.311 82.064 113.823 81.712 114.271 81.232L115.879 83.08C115.303 83.752 114.575 84.272 113.695 84.64C112.831 84.992 111.839 85.168 110.719 85.168ZM135.8 72.04C136.824 72.04 137.728 72.24 138.512 72.64C139.312 73.04 139.936 73.656 140.384 74.488C140.832 75.304 141.056 76.36 141.056 77.656V85H138.056V78.04C138.056 76.904 137.808 76.056 137.312 75.496C136.816 74.936 136.104 74.656 135.176 74.656C134.52 74.656 133.936 74.8 133.424 75.088C132.928 75.376 132.536 75.8 132.248 76.36C131.976 76.92 131.84 77.632 131.84 78.496V85H128.84V78.04C128.84 76.904 128.592 76.056 128.096 75.496C127.6 74.936 126.888 74.656 125.96 74.656C125.304 74.656 124.72 74.8 124.208 75.088C123.712 75.376 123.32 75.8 123.032 76.36C122.76 76.92 122.624 77.632 122.624 78.496V85H119.624V72.184H122.48V75.592L121.976 74.584C122.408 73.752 123.032 73.12 123.848 72.688C124.68 72.256 125.624 72.04 126.68 72.04C127.88 72.04 128.92 72.336 129.8 72.928C130.696 73.52 131.288 74.416 131.576 75.616L130.4 75.208C130.816 74.248 131.504 73.48 132.464 72.904C133.424 72.328 134.536 72.04 135.8 72.04ZM150.937 85.168C149.513 85.168 148.265 84.888 147.193 84.328C146.137 83.752 145.313 82.968 144.721 81.976C144.145 80.984 143.857 79.856 143.857 78.592C143.857 77.312 144.137 76.184 144.697 75.208C145.273 74.216 146.057 73.44 147.049 72.88C148.057 72.32 149.201 72.04 150.481 72.04C151.729 72.04 152.841 72.312 153.817 72.856C154.793 73.4 155.561 74.168 156.121 75.16C156.681 76.152 156.961 77.32 156.961 78.664C156.961 78.792 156.953 78.936 156.937 79.096C156.937 79.256 156.929 79.408 156.913 79.552H146.233V77.56H155.329L154.153 78.184C154.169 77.448 154.017 76.8 153.697 76.24C153.377 75.68 152.937 75.24 152.377 74.92C151.833 74.6 151.201 74.44 150.481 74.44C149.745 74.44 149.097 74.6 148.537 74.92C147.993 75.24 147.561 75.688 147.241 76.264C146.937 76.824 146.785 77.488 146.785 78.256V78.736C146.785 79.504 146.961 80.184 147.313 80.776C147.665 81.368 148.161 81.824 148.801 82.144C149.441 82.464 150.177 82.624 151.009 82.624C151.729 82.624 152.377 82.512 152.953 82.288C153.529 82.064 154.041 81.712 154.489 81.232L156.097 83.08C155.521 83.752 154.793 84.272 153.913 84.64C153.049 84.992 152.057 85.168 150.937 85.168ZM167.115 72.04C168.139 72.04 169.051 72.24 169.851 72.64C170.667 73.04 171.307 73.656 171.771 74.488C172.235 75.304 172.467 76.36 172.467 77.656V85H169.467V78.04C169.467 76.904 169.195 76.056 168.651 75.496C168.123 74.936 167.379 74.656 166.419 74.656C165.715 74.656 165.091 74.8 164.547 75.088C164.003 75.376 163.579 75.808 163.275 76.384C162.987 76.944 162.843 77.656 162.843 78.52V85H159.843V72.184H162.699V75.64L162.195 74.584C162.643 73.768 163.291 73.144 164.139 72.712C165.003 72.264 165.995 72.04 167.115 72.04ZM181.097 85.168C179.689 85.168 178.601 84.808 177.833 84.088C177.065 83.352 176.681 82.272 176.681 80.848V69.352H179.681V80.776C179.681 81.384 179.833 81.856 180.137 82.192C180.457 82.528 180.897 82.696 181.457 82.696C182.129 82.696 182.689 82.52 183.137 82.168L183.977 84.304C183.625 84.592 183.193 84.808 182.681 84.952C182.169 85.096 181.641 85.168 181.097 85.168ZM174.569 74.68V72.28H183.113V74.68H174.569ZM190.405 85.168C189.333 85.168 188.301 85.032 187.309 84.76C186.333 84.472 185.557 84.128 184.981 83.728L186.133 81.448C186.709 81.816 187.397 82.12 188.197 82.36C188.997 82.6 189.797 82.72 190.597 82.72C191.541 82.72 192.221 82.592 192.637 82.336C193.069 82.08 193.285 81.736 193.285 81.304C193.285 80.952 193.141 80.688 192.853 80.512C192.565 80.32 192.189 80.176 191.725 80.08C191.261 79.984 190.741 79.896 190.165 79.816C189.605 79.736 189.037 79.632 188.461 79.504C187.901 79.36 187.389 79.16 186.925 78.904C186.461 78.632 186.085 78.272 185.797 77.824C185.509 77.376 185.365 76.784 185.365 76.048C185.365 75.232 185.597 74.528 186.061 73.936C186.525 73.328 187.173 72.864 188.005 72.544C188.853 72.208 189.853 72.04 191.005 72.04C191.869 72.04 192.741 72.136 193.621 72.328C194.501 72.52 195.229 72.792 195.805 73.144L194.653 75.424C194.045 75.056 193.429 74.808 192.805 74.68C192.197 74.536 191.589 74.464 190.981 74.464C190.069 74.464 189.389 74.6 188.941 74.872C188.509 75.144 188.293 75.488 188.293 75.904C188.293 76.288 188.437 76.576 188.725 76.768C189.013 76.96 189.389 77.112 189.853 77.224C190.317 77.336 190.829 77.432 191.389 77.512C191.965 77.576 192.533 77.68 193.093 77.824C193.653 77.968 194.165 78.168 194.629 78.424C195.109 78.664 195.493 79.008 195.781 79.456C196.069 79.904 196.213 80.488 196.213 81.208C196.213 82.008 195.973 82.704 195.493 83.296C195.029 83.888 194.365 84.352 193.501 84.688C192.637 85.008 191.605 85.168 190.405 85.168Z" fill="#2D2B2B"></path><defs><clipPath id="clip0_130_66"><rect x="69.5" width="58" height="58" rx="29" fill="white"></rect></clipPath></defs></svg></div>',1)),y("button",{class:"google-login-btn",onClick:t},r[0]||(r[0]=[tt('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 48 48"><g><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path><path fill="none" d="M0 0h48v48H0z"></path></g></svg><span>Continue <span class="extra-text">With Google</span></span>',2)])),r[2]||(r[2]=y("p",{class:"auth-page-info"},[xe(" By continuing, you agree to our "),y("a",{href:"https://www.my-agreements.com/terms-of-service.html",target:"_blank",class:"link"},"Privacy Policy")],-1))])])),[[i]])}}},MP={key:1,class:"section",style:{"padding-top":"48px"}},AP={class:"view-ageement-form"},IP={key:0,class:"branding-section"},OP=["src"],LP={class:"company-name"},PP={class:"creator-email"},NP={key:0,class:"agreement-dates"},DP={class:"agreement-signee-description"},RP={style:{"font-size":"32px",display:"inline-flex","align-items":"center",gap:"12px","flex-wrap":"wrap"}},$P={class:"ageement-type-badge"},FP={key:0},BP={class:"title"},VP={class:"text"},HP={style:{"font-weight":"600"}},UP={key:1},jP={class:"text"},zP={key:1,class:"label mt-3",style:{"font-weight":"600"}},qP={key:2,class:"required-documents-form"},WP={class:"flex-default",style:{"justify-content":"center"}},KP=["disabled"],GP={__name:"SignAgreemeentView",setup(n){const t=Dt.useToast(),r=dn().setGlobalLoading,i=fe(!0),o=fe(null),l=fe(null),a=fe(null),u=Mh().currentRoute.value.params.id,h=he(()=>{var E,N,R,B;if(!l.value)return"";const _=(N=(E=a.value)==null?void 0:E.startDate)==null?void 0:N._seconds,M=(B=(R=a.value)==null?void 0:R.endDate)==null?void 0:B._seconds;if(!_||!M)return"";if(_&&M){const A=new Date(_*1e3),k=new Date(M*1e3);return`${A.toDateString().split(" ").slice(1,3).join(" ")} - ${k.toDateString().split(" ").slice(1,3).join(" ")} ${k.getFullYear()}`}if(_){const A=new Date(_*1e3);return`Starts on ${A.toDateString().split(" ").slice(1,3).join(" ")} ${A.getFullYear()}`}if(M){const A=new Date(M*1e3);return`Ends on ${A.toDateString().split(" ").slice(1,3).join(" ")} ${A.getFullYear()}`}return""});async function f(){try{const{success:_,content:M,message:E}=await Ab(u);if(!_){alert(E||"An error occured");return}o.value=M.user,l.value=M.agreement,a.value=M.meta,i.value=!1}catch(_){console.log(_),alert(_.message||"An error occured")}}f();const p=fe({photo:null,"id-card":null,passport:null,"drivers-license":null,custom:null,signature:null});async function m(_,M){if(!M){p.value[_]=null;return}if(M.type==="application/pdf"||M.type==="image/gif"){p.value[_]=M;return}try{const{blob:E}=await Gh(M,1e3,1e3);p.value[_]=E}catch{alert("Error resizing image")}}const v=he(()=>{if(!p.value.signature)return!1;if(l.value.requiredDocuments){for(let _ of l.value.requiredDocuments)if(!p.value[_])return!1}return!0});async function C(){const _={signature:p.value.signature,id:u};if(l.value.requiredDocuments)for(let M of l.value.requiredDocuments)_[M]=p.value[M];r(!0);try{const{success:M,message:E,content:N}=await Ib(_);if(!M){t.error(E||"An error occured"),r(!1);return}t.success("Agreement signed successfully"),setTimeout(()=>{window.location.href="https://www.my-agreements.com/"},1e3)}catch(M){console.log(M),t.error(M.message||"An error occured")}r(!1)}const x=he(()=>{switch(l.value.agreementType){case"hourly contract":return"Hourly rate";case"cost plus contract":return"Cost plus amount";default:return"Amount"}});return(_,M)=>{var E;return i.value?(F(),Ne(x6,{key:0})):(F(),U("section",MP,[y("div",AP,[o.value?(F(),U("div",IP,[o.value.organizationLogo||o.value.profilePicture?(F(),U("img",{key:0,src:o.value.organizationLogo||o.value.profilePicture,class:"logo",alt:""},null,8,OP)):le("",!0),y("div",null,[y("p",LP,pe(o.value.organizationName||o.value.fullName),1),y("p",PP,pe(o.value.email),1),h.value?(F(),U("div",NP,pe(h.value),1)):le("",!0)])])):le("",!0),y("div",DP,[y("h3",RP,[xe(pe(l.value.agreementName)+" ",1),y("span",$P,pe((E=l.value.agreementType)==null?void 0:E.split(" ").slice(0,-1).join(" ")),1)]),a.value.amount?(F(),U("div",FP,[y("p",BP,pe(x.value),1),y("p",VP,[y("span",HP,pe(a.value.amount),1),xe(" "+pe(l.value.agreementType==="hourly contract"?"/hr":""),1)])])):le("",!0),a.value.description?(F(),U("div",UP,[M[6]||(M[6]=y("p",{class:"title"},"Desciption",-1)),y("p",jP,pe(a.value.description),1)])):le("",!0)]),X(Zh,{style:{"margin-top":"36px"},agreement:l.value},null,8,["agreement"]),l.value.requiredDocuments?(F(),U("p",zP,"Required documents")):le("",!0),l.value.requiredDocuments?(F(),U("div",qP,[l.value.requiredDocuments.includes("photo")?(F(),Ne(on,{key:0,accept:"image/*",label:"Your Photo",maxSize:10*1024*1024,onFileSelected:M[0]||(M[0]=N=>m("photo",N))})):le("",!0),l.value.requiredDocuments.includes("id-card")?(F(),Ne(on,{key:1,accept:"image/*,application/pdf",label:"Your ID",maxSize:10*1024*1024,onFileSelected:M[1]||(M[1]=N=>m("id-card",N))})):le("",!0),l.value.requiredDocuments.includes("passport")?(F(),Ne(on,{key:2,accept:"image/*,application/pdf",label:"Passport",maxSize:10*1024*1024,onFileSelected:M[2]||(M[2]=N=>m("passport",N))})):le("",!0),l.value.requiredDocuments.includes("drivers-license")?(F(),Ne(on,{key:3,accept:"image/*,application/pdf",label:"Driver's License",maxSize:10*1024*1024,onFileSelected:M[3]||(M[3]=N=>m("drivers-license",N))})):le("",!0),l.value.requiredDocuments.includes("custom")?(F(),Ne(on,{key:4,accept:"*",label:l.value.customDocumentName||"Upload file",maxSize:100*1024*1024,onFileSelected:M[4]||(M[4]=N=>m("custom",N))},null,8,["label"])):le("",!0)])):le("",!0),X(E3,{style:{"margin-top":"36px"},onSign:M[5]||(M[5]=N=>p.value.signature=N)}),M[7]||(M[7]=y("p",{class:"submit-agreement-text text-center"},[xe(" By clicking submit, you agree to the terms & conditions of the agreement as well as our "),y("a",{href:"https://my-agreemeents.com/terms-and-conditions.html",target:"_blank"},"terms & conditions"),xe(". ")],-1)),y("div",WP,[y("button",{class:Be(["btn btn-block mt-1-5",{disabled:!v.value}]),style:{"max-width":"600px"},disabled:!v.value,onClick:C},"Submit",10,KP)])])]))}}},JP={class:"modal-wrapper"},ZP={__name:"NotFoundView",setup(n){const t=Mh();function s(){t.push("/dashboard")}return(r,i)=>(F(),U("div",JP,[y("div",{class:"modal-content"},[i[0]||(i[0]=tt('<p class="text-center mb-0-5"><svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="120" height="120" rx="60" fill="#DFEEFF"></rect><path d="M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z" stroke="#3597FF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z" stroke="#3597FF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z" fill="#3597FF" stroke="#3597FF" stroke-width="0.15625"></path></svg></p><p class="modal-title text-center mb-0-5" style="font-size:32px;">Page not found</p><p class="modal-info text-center mb-1-5">The page you are looking for does not exist.</p>',3)),y("div",{class:"modal-footer",style:{"justify-content":"center"}},[y("button",{onClick:s,class:"btn"},"Back to dashboard")])])]))}},ft=dy({history:j8("/"),routes:[{path:"/",name:"home",component:_b,meta:{requiresAuth:!0}},{path:"/dashboard",name:"dashboard",component:ux,meta:{requiresAuth:!0}},{path:"/agreement/:id",name:"agreement",component:aS,meta:{requiresAuth:!0}},{path:"/create-agreement",name:"create-agreement",component:xL,meta:{requiresAuth:!0}},{path:"/sign/:id",name:"sign-agreement",component:GP},{path:"/profile",name:"profile",component:QL,meta:{requiresAuth:!0}},{path:"/manage-subscription",name:"manage-subscription",component:yP,meta:{requiresAuth:!0}},{path:"/pricing",name:"pricing",component:SP},{path:"/authentication",name:"authentication",component:EP},{path:"/:pathMatch(.*)*",name:"not-found",component:ZP}]}),YP={class:"navbar app-navbar"},XP={class:"container"},QP={class:"nav-links"},eN={key:0,class:"icon"},tN=["src"],nN={__name:"Navbar",setup(n){const t=he(()=>ft.currentRoute.value.path);async function s(){await bb()}const r=sn(),i=he(()=>{var o;return(o=r.userProfile)==null?void 0:o.profilePicture});return(o,l)=>(F(),U("div",YP,[y("div",XP,[X(rt(ms),{to:"/dashboard",class:"logo"},{default:Ye(()=>l[0]||(l[0]=[y("svg",{width:"58",height:"58",viewBox:"0 0 58 58",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("g",{"clip-path":"url(#clip0_14_986)"},[y("rect",{width:"58",height:"58",rx:"29",fill:"#F5FBFF"}),y("path",{d:"M4.16259 7.68165L-3.23804 29.2607L5.58257 32.2858L12.9832 10.7067L4.16259 7.68165Z",fill:"#00C79F"}),y("path",{d:"M19.3909 9.50872L18.5329 9.93069C17.4639 10.4511 16.2121 10.5214 15.1009 10.1276L13.6662 9.62125C13.5818 9.56498 13.4974 9.52279 13.413 9.49466L4.57996 6.47059C3.91888 6.24554 3.18748 6.59718 2.96243 7.25825L-4.45005 28.8487C-4.56258 29.1722 -4.53444 29.5238 -4.39379 29.8192C-4.25314 30.1146 -3.98589 30.3537 -3.66239 30.4662L5.15664 33.4903C5.29729 33.5325 5.43795 33.5606 5.56454 33.5606C6.09902 33.5606 6.59131 33.223 6.77416 32.7026L13.7647 12.364L14.2429 12.5328C16.0011 13.1517 17.9702 13.0391 19.6581 12.2234L20.5161 11.8014C21.571 11.281 22.8088 11.2106 23.9199 11.5904L40.1374 17.1744C39.9686 17.8495 39.631 18.6513 39.0121 19.0873C38.3229 19.5655 37.2962 19.5655 35.9459 19.1013L28.7162 16.6258C28.3787 16.5133 28.013 16.5414 27.7035 16.7102C27.3941 16.879 27.169 17.1744 27.0706 17.512C27.0565 17.5541 26.0579 21.2956 22.865 23.0115C20.8537 24.0946 18.35 24.1368 15.4103 23.1381C14.7493 22.9131 14.0179 23.2647 13.7928 23.9258C13.5678 24.5869 13.9194 25.3183 14.5805 25.5433C16.2683 26.12 17.8577 26.4154 19.3346 26.4154C21.0506 26.4154 22.6259 26.0356 24.0606 25.262C26.9159 23.7289 28.3927 21.0424 29.0679 19.4389L35.1019 21.5065C37.254 22.252 39.0543 22.1395 40.4468 21.169C42.6832 19.6218 42.7957 16.4852 42.8098 16.3445C42.8239 15.7819 42.4722 15.2896 41.9518 15.1068L24.7357 9.17115C23.0057 8.5804 21.0506 8.70699 19.3909 9.50872ZM4.79094 30.6631L-1.6229 28.4689L4.94566 9.29774L11.3595 11.4919L4.79094 30.6631Z",fill:"#2D2B2B"}),y("path",{d:"M44.7084 11.9243L54.7345 32.4144L63.1098 28.3163L53.0837 7.82616L44.7084 11.9243Z",fill:"#3597FF"}),y("path",{d:"M53.176 32.1119L50.152 34.8969C47.4092 37.4146 44.3148 39.5385 40.9672 41.1701L24.9186 49.0186C24.2153 49.3702 23.3573 49.0748 23.0057 48.3575C22.654 47.6542 22.9494 46.7962 23.6668 46.4446L23.8637 46.3462L32.6405 42.0562C33.2734 41.7468 33.5407 40.9872 33.2312 40.3543C32.9218 39.7213 32.1623 39.4541 31.5293 39.7635L22.7525 44.0535L18.336 46.2196C17.6327 46.5712 16.7747 46.2758 16.4231 45.5585C16.2543 45.2209 16.2261 44.8271 16.3527 44.4754C16.4793 44.1097 16.7325 43.8284 17.0701 43.6597L20.4036 42.0281L29.9399 37.3583C30.5729 37.0489 30.8401 36.2894 30.5307 35.6564C30.2212 35.0235 29.4617 34.7562 28.8288 35.0657L19.2783 39.7495L18.9126 39.9323L14.3554 42.1687C14.0179 42.3375 13.624 42.3656 13.2724 42.239C12.9067 42.1125 12.6254 41.8593 12.4566 41.5217C12.105 40.8184 12.4003 39.9604 13.1177 39.6088L14.693 38.8352L17.914 37.2599L18.8142 36.8239L26.2126 33.195C26.8455 32.8855 27.1128 32.126 26.8033 31.4931C26.4939 30.8601 25.7344 30.5929 25.1014 30.9023L17.0841 34.8266L13.5818 36.5425C12.8786 36.8801 12.0206 36.5988 11.6689 35.8815C11.5002 35.5439 11.472 35.1501 11.5986 34.7984C11.7252 34.4327 11.9784 34.1514 12.3159 33.9826L18.4344 30.9867C19.0674 30.6773 19.3346 29.9177 19.0252 29.2848C18.7157 28.6518 17.9562 28.3846 17.3232 28.694L11.2048 31.69C10.2483 32.1541 9.53099 32.9699 9.19342 33.9686C8.85585 34.9672 8.91211 36.0502 9.37627 37.0067C9.67165 37.5974 10.0936 38.0897 10.6 38.4554C9.71384 39.6229 9.4888 41.2263 10.178 42.6329C10.6422 43.5893 11.458 44.3067 12.4566 44.6442C12.8786 44.7849 13.3005 44.8552 13.7225 44.8552C13.7084 45.4882 13.835 46.1211 14.1304 46.6978C14.8196 48.1043 16.2402 48.9201 17.703 48.9201C18.2938 48.9201 18.8845 48.7935 19.4471 48.5122L20.3473 48.0762C20.3895 48.5544 20.5161 49.0186 20.7271 49.4687C21.4163 50.8752 22.8369 51.691 24.2997 51.691C24.8904 51.691 25.4812 51.5644 26.0438 51.2831L42.0925 43.4346C45.6651 41.6905 48.9564 39.44 51.882 36.7535L55.4687 33.4481L63.6829 29.4254C64.3159 29.116 64.5831 28.3565 64.2737 27.7235L54.2309 7.25831C54.0762 6.94887 53.823 6.72383 53.4995 6.6113C53.176 6.49878 52.8244 6.52691 52.529 6.66756L44.146 10.7606C43.5131 11.07 43.2458 11.8296 43.5553 12.4625L53.176 32.1119ZM52.5009 9.52285L61.4043 27.7376L55.314 30.7195L46.4106 12.5047L52.5009 9.52285Z",fill:"#2D2B2B"})]),y("defs",null,[y("clipPath",{id:"clip0_14_986"},[y("rect",{width:"58",height:"58",rx:"29",fill:"white"})])])],-1),y("span",{class:"logo-text"}," My Agreements ",-1)])),_:1}),y("nav",QP,[l[4]||(l[4]=y("a",{href:"mailto:contact@my-agreements.com",class:"link-item hint--bottom","aria-label":"Contact Us"},[y("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.7501 12.725C24.3626 8.75 22.0126 2.5 14.7501 2.5C7.48756 2.5 5.13756 8.75 4.75006 12.725C3.3907 13.2409 2.49404 14.546 2.50003 16V17.75C2.50003 19.683 4.06706 21.25 6.00006 21.25C7.93306 21.25 9.50006 19.683 9.50006 17.75V16C9.49377 14.5774 8.63005 13.2991 7.31256 12.7625C7.56256 10.4625 8.78756 5 14.7501 5C20.7126 5 21.9251 10.4625 22.1751 12.7625C20.8602 13.3003 20.0009 14.5794 20.0001 16V17.75C20.0055 19.0937 20.7771 20.3166 21.9876 20.9C21.4626 21.8875 20.1251 23.225 16.8376 23.625C16.1804 22.6271 14.909 22.2337 13.8031 22.6861C12.6972 23.1385 12.066 24.3102 12.2967 25.4825C12.5273 26.6549 13.5552 27.5 14.7501 27.5C15.6942 27.4948 16.5549 26.9581 16.9751 26.1125C22.3376 25.5 24.0501 22.7375 24.5876 21.1125C26.0417 20.6415 27.0197 19.2784 27.0001 17.75V16C27.0061 14.546 26.1094 13.2409 24.7501 12.725ZM7.00006 17.75C7.00006 18.3023 6.55234 18.75 6.00006 18.75C5.44777 18.75 5.00006 18.3023 5.00006 17.75V16C5.00006 15.6427 5.19066 15.3126 5.50006 15.134C5.80946 14.9553 6.19066 14.9553 6.50006 15.134C6.80946 15.3126 7.00006 15.6427 7.00006 16V17.75ZM22.5001 16C22.5001 15.4477 22.9478 15 23.5001 15C24.0523 15 24.5001 15.4477 24.5001 16V17.75C24.5001 18.3023 24.0523 18.75 23.5001 18.75C22.9478 18.75 22.5001 18.3023 22.5001 17.75V16Z",fill:"#003366"})])],-1)),t.value!=="/dashboard"?(F(),Ne(rt(ms),{key:0,to:"/dashboard",class:"dashboard-nav-item hint--bottom","aria-label":"Dashboard"},{default:Ye(()=>l[1]||(l[1]=[y("div",{class:"icon"},[y("svg",{width:"45",height:"46",viewBox:"0 0 45 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("rect",{y:"0.5",width:"45",height:"45",rx:"22.5",fill:"url(#paint0_radial_139_48)"}),y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.6017 15.9352C24.3332 16.2037 24.3332 16.6358 24.3332 17.5C24.3332 18.3643 24.3332 18.7964 24.6017 19.0649C24.8702 19.3334 25.3023 19.3334 26.1665 19.3334H27.9998C28.8641 19.3334 29.2962 19.3334 29.5647 19.0649C29.8332 18.7964 29.8332 18.3643 29.8332 17.5C29.8332 16.6358 29.8332 16.2037 29.5647 15.9352C29.2962 15.6667 28.8641 15.6667 27.9998 15.6667H26.1665C25.3023 15.6667 24.8702 15.6667 24.6017 15.9352ZM15.435 26.9352C15.1665 27.2037 15.1665 27.6358 15.1665 28.5C15.1665 29.3643 15.1665 29.7964 15.435 30.0649C15.7035 30.3334 16.1356 30.3334 16.9998 30.3334H18.8332C19.6974 30.3334 20.1295 30.3334 20.398 30.0649C20.6665 29.7964 20.6665 29.3643 20.6665 28.5C20.6665 27.6358 20.6665 27.2037 20.398 26.9352C20.1295 26.6667 19.6974 26.6667 18.8332 26.6667H16.9998C16.1356 26.6667 15.7035 26.6667 15.435 26.9352ZM24.3332 24.8334C24.3332 23.9691 24.3332 23.537 24.6017 23.2685C24.8702 23 25.3023 23 26.1665 23H27.9998C28.8641 23 29.2962 23 29.5647 23.2685C29.8332 23.537 29.8332 23.9691 29.8332 24.8334V28.5C29.8332 29.3643 29.8332 29.7964 29.5647 30.0649C29.2962 30.3334 28.8641 30.3334 27.9998 30.3334H26.1665C25.3023 30.3334 24.8702 30.3334 24.6017 30.0649C24.3332 29.7964 24.3332 29.3643 24.3332 28.5V24.8334ZM15.435 15.9352C15.1665 16.2037 15.1665 16.6358 15.1665 17.5V21.1667C15.1665 22.0309 15.1665 22.463 15.435 22.7315C15.7035 23 16.1356 23 16.9998 23H18.8332C19.6974 23 20.1295 23 20.398 22.7315C20.6665 22.463 20.6665 22.0309 20.6665 21.1667V17.5C20.6665 16.6358 20.6665 16.2037 20.398 15.9352C20.1295 15.6667 19.6974 15.6667 18.8332 15.6667H16.9998C16.1356 15.6667 15.7035 15.6667 15.435 15.9352Z",fill:"white"}),y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.9211 16.4213L15.9234 16.4201C15.9251 16.4191 15.9282 16.4177 15.9328 16.4158C15.9528 16.4075 15.9971 16.3935 16.0856 16.3816C16.2788 16.3557 16.5483 16.3542 16.9998 16.3542H18.8332C19.2847 16.3542 19.5542 16.3557 19.7474 16.3816C19.8359 16.3935 19.8802 16.4075 19.9002 16.4158C19.9048 16.4177 19.9079 16.4191 19.9096 16.4201L19.9119 16.4213L19.9131 16.4236C19.9141 16.4253 19.9155 16.4284 19.9174 16.433C19.9257 16.453 19.9397 16.4973 19.9516 16.5858C19.9776 16.779 19.979 17.0485 19.979 17.5V21.1667C19.979 21.6182 19.9776 21.8877 19.9516 22.0809C19.9397 22.1694 19.9257 22.2138 19.9174 22.2337C19.9155 22.2384 19.9141 22.2414 19.9131 22.2431L19.9119 22.2454L19.9096 22.2466C19.9079 22.2476 19.9048 22.2491 19.9002 22.2509C19.8802 22.2592 19.8359 22.2732 19.7474 22.2851C19.5542 22.3111 19.2847 22.3125 18.8332 22.3125H16.9998C16.5483 22.3125 16.2788 22.3111 16.0856 22.2851C15.9971 22.2732 15.9528 22.2592 15.9328 22.2509C15.9282 22.2491 15.9251 22.2476 15.9234 22.2466L15.9211 22.2454L15.9199 22.2431C15.919 22.2414 15.9175 22.2384 15.9156 22.2337C15.9074 22.2138 15.8933 22.1694 15.8814 22.0809C15.8555 21.8877 15.854 21.6182 15.854 21.1667V17.5C15.854 17.0485 15.8555 16.779 15.8814 16.5858C15.8933 16.4973 15.9074 16.453 15.9156 16.433C15.9175 16.4284 15.919 16.4253 15.9199 16.4236L15.9211 16.4213ZM16.9588 14.9792C16.9725 14.9792 16.9861 14.9792 16.9998 14.9792H18.8332C18.8469 14.9792 18.8606 14.9792 18.8742 14.9792C19.2709 14.9791 19.6347 14.9791 19.9306 15.0189C20.2565 15.0627 20.6009 15.1658 20.8841 15.449C21.1675 15.7323 21.2705 16.0767 21.3143 16.4026C21.3541 16.6985 21.3541 17.0623 21.354 17.459C21.354 17.4727 21.354 17.4863 21.354 17.5V21.1667C21.354 21.1804 21.354 21.1941 21.354 21.2078C21.3541 21.6045 21.3541 21.9682 21.3143 22.2641C21.2705 22.59 21.1675 22.9344 20.8841 23.2176C20.6009 23.501 20.2565 23.604 19.9306 23.6478C19.6347 23.6876 19.2709 23.6876 18.8742 23.6875C18.8606 23.6875 18.8469 23.6875 18.8332 23.6875H16.9998C16.9861 23.6875 16.9725 23.6875 16.9588 23.6875C16.5621 23.6876 16.1983 23.6876 15.9024 23.6478C15.5765 23.604 15.2321 23.501 14.9489 23.2176C14.6656 22.9344 14.5625 22.59 14.5187 22.2641C14.4789 21.9682 14.479 21.6045 14.479 21.2078C14.479 21.1941 14.479 21.1804 14.479 21.1667V17.5C14.479 17.4863 14.479 17.4726 14.479 17.459C14.479 17.0623 14.4789 16.6985 14.5187 16.4026C14.5625 16.0767 14.6656 15.7323 14.9489 15.449C15.2321 15.1658 15.5765 15.0627 15.9024 15.0189C16.1983 14.9791 16.5621 14.9791 16.9588 14.9792ZM25.0901 16.4201L25.0878 16.4213L25.0866 16.4236C25.0857 16.4253 25.0841 16.4284 25.0823 16.433C25.074 16.453 25.06 16.4973 25.0481 16.5858C25.0221 16.779 25.0207 17.0485 25.0207 17.5C25.0207 17.9516 25.0221 18.2211 25.0481 18.4143C25.06 18.5028 25.074 18.5471 25.0823 18.5671C25.083 18.5689 25.0843 18.5719 25.0843 18.5719C25.0852 18.5739 25.0866 18.5765 25.0866 18.5765L25.0878 18.5787L25.0901 18.58C25.0918 18.5809 25.0948 18.5824 25.0995 18.5843C25.1194 18.5925 25.1638 18.6065 25.2523 18.6184C25.4455 18.6444 25.715 18.6459 26.1665 18.6459H27.9998C28.4514 18.6459 28.7209 18.6444 28.914 18.6184C29.0026 18.6065 29.0469 18.5925 29.0668 18.5843C29.0715 18.5824 29.0745 18.5809 29.0763 18.58L29.0786 18.5787L29.0798 18.5765C29.0807 18.5747 29.0822 18.5717 29.0841 18.5671C29.0923 18.5471 29.1063 18.5028 29.1183 18.4143C29.1442 18.2211 29.1457 17.9516 29.1457 17.5C29.1457 17.0485 29.1442 16.779 29.1183 16.5858C29.1063 16.4973 29.0923 16.453 29.0841 16.433C29.0822 16.4284 29.0807 16.4253 29.0798 16.4236L29.0786 16.4213L29.0763 16.4201C29.0745 16.4191 29.0715 16.4177 29.0668 16.4158C29.0469 16.4075 29.0026 16.3935 28.914 16.3816C28.7209 16.3557 28.4514 16.3542 27.9998 16.3542H26.1665C25.715 16.3542 25.4455 16.3557 25.2523 16.3816C25.1638 16.3935 25.1194 16.4075 25.0995 16.4158C25.0948 16.4177 25.0918 16.4191 25.0901 16.4201ZM26.1255 14.9792H28.0408C28.4376 14.9791 28.8014 14.9791 29.0973 15.0189C29.4231 15.0627 29.7675 15.1658 30.0508 15.449C30.3341 15.7323 30.4372 16.0767 30.481 16.4026C30.5208 16.6985 30.5208 17.0623 30.5207 17.459V17.541C30.5208 17.9378 30.5208 18.3016 30.481 18.5975C30.4372 18.9233 30.3341 19.2677 30.0508 19.551C29.7675 19.8343 29.4231 19.9374 29.0973 19.9812C28.8014 20.021 28.4376 20.0209 28.0408 20.0209H26.1255C25.7287 20.0209 25.365 20.021 25.0691 19.9812C24.7432 19.9374 24.3988 19.8343 24.1156 19.551C23.8322 19.2677 23.7292 18.9233 23.6854 18.5975C23.6456 18.3016 23.6456 17.9378 23.6457 17.541C23.6457 17.5274 23.6457 17.5137 23.6457 17.5C23.6457 17.4863 23.6457 17.4727 23.6457 17.459C23.6456 17.0623 23.6456 16.6985 23.6854 16.4026C23.7292 16.0767 23.8322 15.7323 24.1156 15.449C24.3988 15.1658 24.7432 15.0627 25.0691 15.0189C25.365 14.9791 25.7287 14.9791 26.1255 14.9792ZM26.1255 22.3125H28.0408C28.4376 22.3125 28.8014 22.3124 29.0973 22.3522C29.4231 22.396 29.7675 22.4991 30.0508 22.7824C30.3341 23.0657 30.4372 23.41 30.481 23.7359C30.5208 24.0318 30.5208 24.3956 30.5207 24.7924V28.5411C30.5208 28.9378 30.5208 29.3016 30.481 29.5975C30.4372 29.9233 30.3341 30.2677 30.0508 30.551C29.7675 30.8343 29.4231 30.9373 29.0973 30.9812C28.8014 31.0209 28.4376 31.0209 28.0408 31.0209H26.1255C25.7287 31.0209 25.365 31.0209 25.0691 30.9812C24.7432 30.9373 24.3988 30.8343 24.1156 30.551C23.8322 30.2677 23.7292 29.9233 23.6854 29.5975C23.6456 29.3016 23.6456 28.9378 23.6457 28.5411V24.8334C23.6457 24.8197 23.6457 24.8059 23.6457 24.7924C23.6456 24.3956 23.6456 24.0318 23.6854 23.7359C23.7292 23.41 23.8322 23.0657 24.1156 22.7824C24.3988 22.4991 24.7432 22.396 25.0691 22.3522C25.365 22.3124 25.7287 22.3125 26.1255 22.3125ZM25.0901 23.7534L25.0878 23.7546L25.0866 23.7569C25.0857 23.7587 25.0841 23.7617 25.0823 23.7664C25.074 23.7863 25.06 23.8306 25.0481 23.9192C25.0221 24.1123 25.0207 24.3818 25.0207 24.8334V28.5C25.0207 28.9516 25.0221 29.2211 25.0481 29.4142C25.06 29.5028 25.074 29.5471 25.0823 29.567C25.0841 29.5717 25.0857 29.5747 25.0866 29.5765L25.0878 29.5788L25.0901 29.5799C25.0918 29.581 25.0948 29.5824 25.0995 29.5843C25.1194 29.5925 25.1638 29.6065 25.2523 29.6184C25.4455 29.6444 25.715 29.6459 26.1665 29.6459H27.9998C28.4514 29.6459 28.7209 29.6444 28.914 29.6184C29.0026 29.6065 29.0469 29.5925 29.0668 29.5843C29.0715 29.5824 29.0745 29.581 29.0763 29.5799L29.0786 29.5788L29.0798 29.5765C29.0807 29.5747 29.0822 29.5717 29.0841 29.567C29.0923 29.5471 29.1063 29.5028 29.1183 29.4142C29.1442 29.2211 29.1457 28.9516 29.1457 28.5V24.8334C29.1457 24.3818 29.1442 24.1123 29.1183 23.9192C29.1063 23.8306 29.0923 23.7863 29.0841 23.7664C29.083 23.7636 29.082 23.7614 29.0812 23.7597L29.0798 23.7569L29.0786 23.7546L29.0763 23.7534C29.0745 23.7525 29.0715 23.751 29.0668 23.7491C29.0469 23.7409 29.0026 23.7268 28.914 23.7149C28.7209 23.689 28.4514 23.6875 27.9998 23.6875H26.1665C25.715 23.6875 25.4455 23.689 25.2523 23.7149C25.1638 23.7268 25.1194 23.7409 25.0995 23.7491C25.0948 23.751 25.0918 23.7525 25.0901 23.7534ZM15.9234 27.4201L15.9211 27.4213L15.9199 27.4236C15.919 27.4253 15.9175 27.4283 15.9156 27.433C15.9074 27.453 15.8933 27.4973 15.8814 27.5858C15.8555 27.779 15.854 28.0485 15.854 28.5C15.854 28.9516 15.8555 29.2211 15.8814 29.4142C15.8933 29.5028 15.9074 29.5471 15.9156 29.567C15.9175 29.5717 15.919 29.5747 15.9199 29.5765L15.9211 29.5788L15.9234 29.5799C15.9251 29.581 15.9282 29.5824 15.9328 29.5843C15.9528 29.5925 15.9971 29.6065 16.0856 29.6184C16.2788 29.6444 16.5483 29.6459 16.9998 29.6459H18.8332C19.2847 29.6459 19.5542 29.6444 19.7474 29.6184C19.8359 29.6065 19.8802 29.5925 19.9002 29.5843C19.9025 29.5833 19.906 29.5818 19.906 29.5818L19.9096 29.5799L19.9119 29.5788L19.9131 29.5765L19.9145 29.5738C19.9153 29.5721 19.9163 29.5699 19.9174 29.567C19.9257 29.5471 19.9397 29.5028 19.9516 29.4142C19.9776 29.2211 19.979 28.9516 19.979 28.5C19.979 28.0485 19.9776 27.779 19.9516 27.5858C19.9397 27.4973 19.9257 27.453 19.9174 27.433C19.9155 27.4283 19.9141 27.4253 19.9131 27.4236L19.9119 27.4213L19.9096 27.4201C19.9079 27.4192 19.9048 27.4176 19.9002 27.4158C19.8802 27.4075 19.8359 27.3935 19.7474 27.3816C19.5542 27.3557 19.2847 27.3542 18.8332 27.3542H16.9998C16.5483 27.3542 16.2788 27.3557 16.0856 27.3816C15.9971 27.3935 15.9528 27.4075 15.9328 27.4158C15.9282 27.4176 15.9251 27.4192 15.9234 27.4201ZM16.9588 25.9792H18.8742C19.2709 25.9792 19.6347 25.9791 19.9306 26.0189C20.2565 26.0627 20.6009 26.1657 20.8841 26.4491C21.1675 26.7323 21.2705 27.0767 21.3143 27.4026C21.3541 27.6985 21.3541 28.0622 21.354 28.459V28.5411C21.3541 28.9378 21.3541 29.3016 21.3143 29.5975C21.2705 29.9233 21.1675 30.2677 20.8841 30.551C20.6009 30.8343 20.2565 30.9373 19.9306 30.9812C19.6347 31.0209 19.2709 31.0209 18.8742 31.0209H16.9588C16.5621 31.0209 16.1983 31.0209 15.9024 30.9812C15.5765 30.9373 15.2321 30.8343 14.9489 30.551C14.6656 30.2677 14.5625 29.9233 14.5187 29.5975C14.4789 29.3016 14.479 28.9378 14.479 28.5411V28.459C14.479 28.0622 14.4789 27.6985 14.5187 27.4026C14.5625 27.0767 14.6656 26.7323 14.9489 26.4491C15.2321 26.1657 15.5765 26.0627 15.9024 26.0189C16.1983 25.9791 16.5621 25.9792 16.9588 25.9792Z",fill:"white"}),y("defs",null,[y("radialGradient",{id:"paint0_radial_139_48",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(13.5 14.3) rotate(73.9092) scale(32.4721)"},[y("stop",{"stop-color":"#78E7EB"}),y("stop",{offset:"1","stop-color":"#A0CEFF"})])])])],-1)])),_:1})):(F(),Ne(rt(ms),{key:1,to:"/profile",class:"dashboard-nav-item hint--bottom","aria-label":"Profile"},{default:Ye(()=>[i.value?(F(),U("img",{key:1,src:i.value,style:{height:"45px",width:"45px","border-radius":"50%","box-shadow":"0px 1px 0 1px rgba(0, 0, 0, 0.2)"},alt:"User profile picture"},null,8,tN)):(F(),U("div",eN,l[2]||(l[2]=[y("svg",{width:"45",height:"46",viewBox:"0 0 45 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("rect",{y:"0.5",width:"45",height:"45",rx:"22.5",fill:"#DAE6FF"}),y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.2095 17.4573C17.2095 14.5353 19.5782 12.1666 22.5002 12.1666C25.4222 12.1666 27.7909 14.5353 27.7909 17.4573C27.7909 20.3793 25.4222 22.748 22.5002 22.748C19.5782 22.748 17.2095 20.3793 17.2095 17.4573Z",fill:"#003366"}),y("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.6899 29.6223C14.6899 26.6606 17.0909 24.2596 20.0526 24.2596H24.9475C27.9091 24.2596 30.3101 26.6606 30.3101 29.6223C30.3101 31.948 28.4248 33.8333 26.0991 33.8333H18.9009C16.5753 33.8333 14.6899 31.948 14.6899 29.6223Z",fill:"#003366"})],-1)])))]),_:1})),y("div",{onClick:s,class:"dashboard-nav-item hint--bottom","aria-label":"Logout"},l[3]||(l[3]=[tt('<div class="icon"><svg width="45" height="46" viewBox="0 0 45 46" fill="none" xmlns="http://www.w3.org/2000/svg"><rect y="0.5" width="45" height="45" rx="22.5" fill="#F5F5F5"></rect><path d="M25.0001 23H14.1667M14.1667 23L17.0834 20.5M14.1667 23L17.0834 25.5" stroke="#1C274C" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path><path d="M20.0017 18.8334C20.0118 17.0208 20.0922 16.0392 20.7325 15.3989C21.4648 14.6667 22.6433 14.6667 25.0003 14.6667H25.8336C28.1906 14.6667 29.3692 14.6667 30.1013 15.3989C30.8336 16.1312 30.8336 17.3097 30.8336 19.6667V26.3334C30.8336 28.6904 30.8336 29.8689 30.1013 30.6011C29.461 31.2414 28.4794 31.3219 26.6668 31.3319M20.0017 27.1667C20.0118 28.9792 20.0922 29.9608 20.7325 30.6011C21.2669 31.1355 22.039 31.2799 23.3334 31.3189" stroke="#1C274C" stroke-width="1.25" stroke-linecap="round"></path></svg></div>',1)]))])])]))}},sN={class:"navbar app-navbar"},rN={class:"container"},iN={__name:"NavbarNoAuth",setup(n){return(t,s)=>(F(),U("div",sN,[y("div",rN,[X(rt(ms),{to:"/authentication",class:"logo"},{default:Ye(()=>s[0]||(s[0]=[y("svg",{width:"58",height:"58",viewBox:"0 0 58 58",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[y("g",{"clip-path":"url(#clip0_14_986)"},[y("rect",{width:"58",height:"58",rx:"29",fill:"#F5FBFF"}),y("path",{d:"M4.16259 7.68165L-3.23804 29.2607L5.58257 32.2858L12.9832 10.7067L4.16259 7.68165Z",fill:"#00C79F"}),y("path",{d:"M19.3909 9.50872L18.5329 9.93069C17.4639 10.4511 16.2121 10.5214 15.1009 10.1276L13.6662 9.62125C13.5818 9.56498 13.4974 9.52279 13.413 9.49466L4.57996 6.47059C3.91888 6.24554 3.18748 6.59718 2.96243 7.25825L-4.45005 28.8487C-4.56258 29.1722 -4.53444 29.5238 -4.39379 29.8192C-4.25314 30.1146 -3.98589 30.3537 -3.66239 30.4662L5.15664 33.4903C5.29729 33.5325 5.43795 33.5606 5.56454 33.5606C6.09902 33.5606 6.59131 33.223 6.77416 32.7026L13.7647 12.364L14.2429 12.5328C16.0011 13.1517 17.9702 13.0391 19.6581 12.2234L20.5161 11.8014C21.571 11.281 22.8088 11.2106 23.9199 11.5904L40.1374 17.1744C39.9686 17.8495 39.631 18.6513 39.0121 19.0873C38.3229 19.5655 37.2962 19.5655 35.9459 19.1013L28.7162 16.6258C28.3787 16.5133 28.013 16.5414 27.7035 16.7102C27.3941 16.879 27.169 17.1744 27.0706 17.512C27.0565 17.5541 26.0579 21.2956 22.865 23.0115C20.8537 24.0946 18.35 24.1368 15.4103 23.1381C14.7493 22.9131 14.0179 23.2647 13.7928 23.9258C13.5678 24.5869 13.9194 25.3183 14.5805 25.5433C16.2683 26.12 17.8577 26.4154 19.3346 26.4154C21.0506 26.4154 22.6259 26.0356 24.0606 25.262C26.9159 23.7289 28.3927 21.0424 29.0679 19.4389L35.1019 21.5065C37.254 22.252 39.0543 22.1395 40.4468 21.169C42.6832 19.6218 42.7957 16.4852 42.8098 16.3445C42.8239 15.7819 42.4722 15.2896 41.9518 15.1068L24.7357 9.17115C23.0057 8.5804 21.0506 8.70699 19.3909 9.50872ZM4.79094 30.6631L-1.6229 28.4689L4.94566 9.29774L11.3595 11.4919L4.79094 30.6631Z",fill:"#2D2B2B"}),y("path",{d:"M44.7084 11.9243L54.7345 32.4144L63.1098 28.3163L53.0837 7.82616L44.7084 11.9243Z",fill:"#3597FF"}),y("path",{d:"M53.176 32.1119L50.152 34.8969C47.4092 37.4146 44.3148 39.5385 40.9672 41.1701L24.9186 49.0186C24.2153 49.3702 23.3573 49.0748 23.0057 48.3575C22.654 47.6542 22.9494 46.7962 23.6668 46.4446L23.8637 46.3462L32.6405 42.0562C33.2734 41.7468 33.5407 40.9872 33.2312 40.3543C32.9218 39.7213 32.1623 39.4541 31.5293 39.7635L22.7525 44.0535L18.336 46.2196C17.6327 46.5712 16.7747 46.2758 16.4231 45.5585C16.2543 45.2209 16.2261 44.8271 16.3527 44.4754C16.4793 44.1097 16.7325 43.8284 17.0701 43.6597L20.4036 42.0281L29.9399 37.3583C30.5729 37.0489 30.8401 36.2894 30.5307 35.6564C30.2212 35.0235 29.4617 34.7562 28.8288 35.0657L19.2783 39.7495L18.9126 39.9323L14.3554 42.1687C14.0179 42.3375 13.624 42.3656 13.2724 42.239C12.9067 42.1125 12.6254 41.8593 12.4566 41.5217C12.105 40.8184 12.4003 39.9604 13.1177 39.6088L14.693 38.8352L17.914 37.2599L18.8142 36.8239L26.2126 33.195C26.8455 32.8855 27.1128 32.126 26.8033 31.4931C26.4939 30.8601 25.7344 30.5929 25.1014 30.9023L17.0841 34.8266L13.5818 36.5425C12.8786 36.8801 12.0206 36.5988 11.6689 35.8815C11.5002 35.5439 11.472 35.1501 11.5986 34.7984C11.7252 34.4327 11.9784 34.1514 12.3159 33.9826L18.4344 30.9867C19.0674 30.6773 19.3346 29.9177 19.0252 29.2848C18.7157 28.6518 17.9562 28.3846 17.3232 28.694L11.2048 31.69C10.2483 32.1541 9.53099 32.9699 9.19342 33.9686C8.85585 34.9672 8.91211 36.0502 9.37627 37.0067C9.67165 37.5974 10.0936 38.0897 10.6 38.4554C9.71384 39.6229 9.4888 41.2263 10.178 42.6329C10.6422 43.5893 11.458 44.3067 12.4566 44.6442C12.8786 44.7849 13.3005 44.8552 13.7225 44.8552C13.7084 45.4882 13.835 46.1211 14.1304 46.6978C14.8196 48.1043 16.2402 48.9201 17.703 48.9201C18.2938 48.9201 18.8845 48.7935 19.4471 48.5122L20.3473 48.0762C20.3895 48.5544 20.5161 49.0186 20.7271 49.4687C21.4163 50.8752 22.8369 51.691 24.2997 51.691C24.8904 51.691 25.4812 51.5644 26.0438 51.2831L42.0925 43.4346C45.6651 41.6905 48.9564 39.44 51.882 36.7535L55.4687 33.4481L63.6829 29.4254C64.3159 29.116 64.5831 28.3565 64.2737 27.7235L54.2309 7.25831C54.0762 6.94887 53.823 6.72383 53.4995 6.6113C53.176 6.49878 52.8244 6.52691 52.529 6.66756L44.146 10.7606C43.5131 11.07 43.2458 11.8296 43.5553 12.4625L53.176 32.1119ZM52.5009 9.52285L61.4043 27.7376L55.314 30.7195L46.4106 12.5047L52.5009 9.52285Z",fill:"#2D2B2B"})]),y("defs",null,[y("clipPath",{id:"clip0_14_986"},[y("rect",{width:"58",height:"58",rx:"29",fill:"white"})])])],-1),y("span",{class:"logo-text"}," My Agreements ",-1)])),_:1}),X(rt(ms),{to:"/authentication",class:"btn btn-sm"},{default:Ye(()=>s[1]||(s[1]=[xe(" Login ")])),_:1})])]))}},oN={__name:"App",setup(n){const t=sn(),s=he(()=>t.user),r=dn(),i=he(()=>r.globalLoading);return(o,l)=>(F(),U(Pe,null,[i.value?(F(),Ne(x6,{key:0})):le("",!0),s.value?(F(),Ne(nN,{key:1})):(F(),Ne(iN,{key:2})),X(rt(k6))],64))}},eo=La(oN);eo.directive("gradientbg",{mounted(n){n.classList.add("gredient-bg");const t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("class","bg-shapes"),t.setAttribute("width","1440"),t.setAttribute("height","1450"),t.setAttribute("viewBox","0 0 1440 1450"),t.setAttribute("fill","none"),t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.innerHTML=`<g opacity="0.7" filter="url(#filter0_f_13_380)">
        <circle cx="523.5" cy="630.5" r="313.5" fill="#3597FF"/>
        </g>
        <g opacity="0.48" filter="url(#filter1_f_13_380)">
        <circle cx="864.5" cy="819.5" r="313.5" fill="#00C79F"/>
        </g>
        <defs>
        <filter id="filter0_f_13_380" x="-106.1" y="0.899994" width="1259.2" height="1259.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
        <feGaussianBlur stdDeviation="158.05" result="effect1_foregroundBlur_13_380"/>
        </filter>
        <filter id="filter1_f_13_380" x="234.9" y="189.9" width="1259.2" height="1259.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
        <feGaussianBlur stdDeviation="158.05" result="effect1_foregroundBlur_13_380"/>
        </filter>
        </defs>`,n.prepend(t),n.addEventListener("mousemove",s=>{const r=n.getBoundingClientRect(),i=(s.clientX-r.left)/r.width*2-1,o=(s.clientY-r.top)/r.height*2-1;t.style.transform=`translateX(-${parseInt(50-i*15)}%) translateY(-${parseInt(50-o*15)}%)`})}});eo.directive("scrollreveal",{mounted(n){new IntersectionObserver(s=>{s.forEach(r=>{r.isIntersecting?r.target.classList.add("visible-in-view"):r.target.classList.remove("visible-in-view")})},{threshold:.5,rootMargin:"0px 0px -10% 0px"}).observe(n)}});eo.use(vy());eo.use(ft);eo.use(Wb);eo.mount("#app");const zs=sn(),Zu=dn();Te.onAuthStateChanged(async n=>{if(n){if(zs.setUser(n),ft.currentRoute.value.name==="home"||ft.currentRoute.value.name==="authentication"){const t=ft.currentRoute.value.query.auth_rdr;t?ft.push(t):ft.push("/dashboard")}try{const t=await Db();if(!t.success&&t.message==="not found"){zs.setUserProfile(null),Zu.setGlobalLoading(!1),ft.push("/profile");return}if(!t.success&&t.message==="not subscribed"){console.log("not subscribed"),zs.setUserProfile(null),Zu.setGlobalLoading(!1),ft.push("/pricing");return}t.success||alert(t.message||"Failed to get user profile"),zs.setUserProfile(t.content.profile),zs.setSubscription(t.content.subscription)}catch(t){console.error(t),alert("Failed to get user profile")}}else zs.setUser(null),ft.currentRoute.value.meta.requiresAuth&&ft.push("/authentication?auth_rdr="+ft.currentRoute.value.fullPath);console.log("auth state changed"),Zu.setGlobalLoading(!1)});ft.beforeEach((n,t,s)=>{const r=n.matched.some(i=>i.meta.requiresAuth);if(zs.user&&(n.name==="home"||n.name==="authentication"))return s("/dashboard");if(r&&!zs.user)return s("/authentication?auth_rdr="+n.fullPath);s()});
