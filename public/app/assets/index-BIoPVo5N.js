(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ic(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Ie={},yi=[],Mn=()=>{},D5=()=>!1,al=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Zd=t=>t.startsWith("onUpdate:"),qe=Object.assign,Yd=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},R5=Object.prototype.hasOwnProperty,$e=(t,e)=>R5.call(t,e),oe=Array.isArray,vi=t=>qi(t)==="[object Map]",Wr=t=>qi(t)==="[object Set]",o1=t=>qi(t)==="[object Date]",$5=t=>qi(t)==="[object RegExp]",we=t=>typeof t=="function",Ge=t=>typeof t=="string",Ln=t=>typeof t=="symbol",je=t=>t!==null&&typeof t=="object",Xd=t=>(je(t)||we(t))&&we(t.then)&&we(t.catch),a0=Object.prototype.toString,qi=t=>a0.call(t),F5=t=>qi(t).slice(8,-1),oc=t=>qi(t)==="[object Object]",Qd=t=>Ge(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ci=ic(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},B5=/-(\w)/g,kt=lc(t=>t.replace(B5,(e,n)=>n?n.toUpperCase():"")),V5=/\B([A-Z])/g,Yt=lc(t=>t.replace(V5,"-$1").toLowerCase()),cl=lc(t=>t.charAt(0).toUpperCase()+t.slice(1)),_o=lc(t=>t?`on${cl(t)}`:""),Ht=(t,e)=>!Object.is(t,e),wi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},c0=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},ma=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ga=t=>{const e=Ge(t)?Number(t):NaN;return isNaN(e)?t:e};let l1;const ac=()=>l1||(l1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),H5="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",U5=ic(H5);function ul(t){if(oe(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Ge(s)?q5(s):ul(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Ge(t)||je(t))return t}const j5=/;(?![^(]*\))/g,z5=/:([^]+)/,W5=/\/\*[^]*?\*\//g;function q5(t){const e={};return t.replace(W5,"").split(j5).forEach(n=>{if(n){const s=n.split(z5);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Fe(t){let e="";if(Ge(t))e=t;else if(oe(t))for(let n=0;n<t.length;n++){const s=Fe(t[n]);s&&(e+=s+" ")}else if(je(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function K5(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Ge(e)&&(t.class=Fe(e)),n&&(t.style=ul(n)),t}const G5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",J5=ic(G5);function u0(t){return!!t||t===""}function Z5(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=or(t[s],e[s]);return n}function or(t,e){if(t===e)return!0;let n=o1(t),s=o1(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Ln(t),s=Ln(e),n||s)return t===e;if(n=oe(t),s=oe(e),n||s)return n&&s?Z5(t,e):!1;if(n=je(t),s=je(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),a=e.hasOwnProperty(o);if(l&&!a||!l&&a||!or(t[o],e[o]))return!1}}return String(t)===String(e)}function cc(t,e){return t.findIndex(n=>or(n,e))}const d0=t=>!!(t&&t.__v_isRef===!0),fe=t=>Ge(t)?t:t==null?"":oe(t)||je(t)&&(t.toString===a0||!we(t.toString))?d0(t)?fe(t.value):JSON.stringify(t,h0,2):String(t),h0=(t,e)=>d0(e)?h0(t,e.value):vi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[ou(s,i)+" =>"]=r,n),{})}:Wr(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ou(n))}:Ln(e)?ou(e):je(e)&&!oe(e)&&!oc(e)?String(e):e,ou=(t,e="")=>{var n;return Ln(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bt;class eh{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bt,!e&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Bt;try{return Bt=this,e()}finally{Bt=n}}}on(){Bt=this}off(){Bt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function th(t){return new eh(t)}function nh(){return Bt}function f0(t,e=!1){Bt&&Bt.cleanups.push(t)}let Ke;const lu=new WeakSet;class jo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bt&&Bt.active&&Bt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,lu.has(this)&&(lu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||m0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,a1(this),g0(this);const e=Ke,n=An;Ke=this,An=!0;try{return this.fn()}finally{y0(this),Ke=e,An=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ih(e);this.deps=this.depsTail=void 0,a1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?lu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yu(this)&&this.run()}get dirty(){return Yu(this)}}let p0=0,So,To;function m0(t,e=!1){if(t.flags|=8,e){t.next=To,To=t;return}t.next=So,So=t}function sh(){p0++}function rh(){if(--p0>0)return;if(To){let e=To;for(To=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;So;){let e=So;for(So=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function g0(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function y0(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),ih(s),Y5(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Yu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(v0(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function v0(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===zo))return;t.globalVersion=zo;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Yu(t)){t.flags&=-3;return}const n=Ke,s=An;Ke=t,An=!0;try{g0(t);const r=t.fn(t._value);(e.version===0||Ht(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ke=n,An=s,y0(t),t.flags&=-3}}function ih(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)ih(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Y5(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function X5(t,e){t.effect instanceof jo&&(t=t.effect.fn);const n=new jo(t);e&&qe(n,e);try{n.run()}catch(r){throw n.stop(),r}const s=n.run.bind(n);return s.effect=n,s}function Q5(t){t.effect.stop()}let An=!0;const C0=[];function ur(){C0.push(An),An=!1}function dr(){const t=C0.pop();An=t===void 0?!0:t}function a1(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ke;Ke=void 0;try{e()}finally{Ke=n}}}let zo=0;class e4{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ke||!An||Ke===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ke)n=this.activeLink=new e4(Ke,this),Ke.deps?(n.prevDep=Ke.depsTail,Ke.depsTail.nextDep=n,Ke.depsTail=n):Ke.deps=Ke.depsTail=n,w0(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ke.depsTail,n.nextDep=void 0,Ke.depsTail.nextDep=n,Ke.depsTail=n,Ke.deps===n&&(Ke.deps=s)}return n}trigger(e){this.version++,zo++,this.notify(e)}notify(e){sh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{rh()}}}function w0(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)w0(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const ya=new WeakMap,Mr=Symbol(""),Xu=Symbol(""),Wo=Symbol("");function At(t,e,n){if(An&&Ke){let s=ya.get(t);s||ya.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new uc),r.map=s,r.key=n),r.track()}}function ss(t,e,n,s,r,i){const o=ya.get(t);if(!o){zo++;return}const l=a=>{a&&a.trigger()};if(sh(),e==="clear")o.forEach(l);else{const a=oe(t),c=a&&Qd(n);if(a&&n==="length"){const d=Number(s);o.forEach((h,f)=>{(f==="length"||f===Wo||!Ln(f)&&f>=d)&&l(h)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),c&&l(o.get(Wo)),e){case"add":a?c&&l(o.get("length")):(l(o.get(Mr)),vi(t)&&l(o.get(Xu)));break;case"delete":a||(l(o.get(Mr)),vi(t)&&l(o.get(Xu)));break;case"set":vi(t)&&l(o.get(Mr));break}}rh()}function t4(t,e){const n=ya.get(t);return n&&n.get(e)}function ri(t){const e=Ae(t);return e===t?e:(At(e,"iterate",Wo),ln(t)?e:e.map(It))}function dc(t){return At(t=Ae(t),"iterate",Wo),t}const n4={__proto__:null,[Symbol.iterator](){return au(this,Symbol.iterator,It)},concat(...t){return ri(this).concat(...t.map(e=>oe(e)?ri(e):e))},entries(){return au(this,"entries",t=>(t[1]=It(t[1]),t))},every(t,e){return Yn(this,"every",t,e,void 0,arguments)},filter(t,e){return Yn(this,"filter",t,e,n=>n.map(It),arguments)},find(t,e){return Yn(this,"find",t,e,It,arguments)},findIndex(t,e){return Yn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Yn(this,"findLast",t,e,It,arguments)},findLastIndex(t,e){return Yn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Yn(this,"forEach",t,e,void 0,arguments)},includes(...t){return cu(this,"includes",t)},indexOf(...t){return cu(this,"indexOf",t)},join(t){return ri(this).join(t)},lastIndexOf(...t){return cu(this,"lastIndexOf",t)},map(t,e){return Yn(this,"map",t,e,void 0,arguments)},pop(){return fo(this,"pop")},push(...t){return fo(this,"push",t)},reduce(t,...e){return c1(this,"reduce",t,e)},reduceRight(t,...e){return c1(this,"reduceRight",t,e)},shift(){return fo(this,"shift")},some(t,e){return Yn(this,"some",t,e,void 0,arguments)},splice(...t){return fo(this,"splice",t)},toReversed(){return ri(this).toReversed()},toSorted(t){return ri(this).toSorted(t)},toSpliced(...t){return ri(this).toSpliced(...t)},unshift(...t){return fo(this,"unshift",t)},values(){return au(this,"values",It)}};function au(t,e,n){const s=dc(t),r=s[e]();return s!==t&&!ln(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const s4=Array.prototype;function Yn(t,e,n,s,r,i){const o=dc(t),l=o!==t&&!ln(t),a=o[e];if(a!==s4[e]){const h=a.apply(t,i);return l?It(h):h}let c=n;o!==t&&(l?c=function(h,f){return n.call(this,It(h),f,t)}:n.length>2&&(c=function(h,f){return n.call(this,h,f,t)}));const d=a.call(o,c,s);return l&&r?r(d):d}function c1(t,e,n,s){const r=dc(t);let i=n;return r!==t&&(ln(t)?n.length>3&&(i=function(o,l,a){return n.call(this,o,l,a,t)}):i=function(o,l,a){return n.call(this,o,It(l),a,t)}),r[e](i,...s)}function cu(t,e,n){const s=Ae(t);At(s,"iterate",Wo);const r=s[e](...n);return(r===-1||r===!1)&&pc(n[0])?(n[0]=Ae(n[0]),s[e](...n)):r}function fo(t,e,n=[]){ur(),sh();const s=Ae(t)[e].apply(t,n);return rh(),dr(),s}const r4=ic("__proto__,__v_isRef,__isVue"),b0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ln));function i4(t){Ln(t)||(t=String(t));const e=Ae(this);return At(e,"has",t),e.hasOwnProperty(t)}class k0{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?M0:E0:i?T0:S0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=oe(e);if(!r){let a;if(o&&(a=n4[n]))return a;if(n==="hasOwnProperty")return i4}const l=Reflect.get(e,n,tt(e)?e:s);return(Ln(n)?b0.has(n):r4(n))||(r||At(e,"get",n),i)?l:tt(l)?o&&Qd(n)?l:l.value:je(l)?r?lh(l):qr(l):l}}class x0 extends k0{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const a=lr(i);if(!ln(s)&&!lr(s)&&(i=Ae(i),s=Ae(s)),!oe(e)&&tt(i)&&!tt(s))return a?!1:(i.value=s,!0)}const o=oe(e)&&Qd(n)?Number(n)<e.length:$e(e,n),l=Reflect.set(e,n,s,tt(e)?e:r);return e===Ae(r)&&(o?Ht(s,i)&&ss(e,"set",n,s):ss(e,"add",n,s)),l}deleteProperty(e,n){const s=$e(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&ss(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!Ln(n)||!b0.has(n))&&At(e,"has",n),s}ownKeys(e){return At(e,"iterate",oe(e)?"length":Mr),Reflect.ownKeys(e)}}class _0 extends k0{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const o4=new x0,l4=new _0,a4=new x0(!0),c4=new _0(!0),Qu=t=>t,Fl=t=>Reflect.getPrototypeOf(t);function u4(t,e,n){return function(...s){const r=this.__v_raw,i=Ae(r),o=vi(i),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=r[t](...s),d=n?Qu:e?ed:It;return!e&&At(i,"iterate",a?Xu:Mr),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:l?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function Bl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function d4(t,e){const n={get(r){const i=this.__v_raw,o=Ae(i),l=Ae(r);t||(Ht(r,l)&&At(o,"get",r),At(o,"get",l));const{has:a}=Fl(o),c=e?Qu:t?ed:It;if(a.call(o,r))return c(i.get(r));if(a.call(o,l))return c(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&At(Ae(r),"iterate",Mr),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=Ae(i),l=Ae(r);return t||(Ht(r,l)&&At(o,"has",r),At(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,a=Ae(l),c=e?Qu:t?ed:It;return!t&&At(a,"iterate",Mr),l.forEach((d,h)=>r.call(i,c(d),c(h),o))}};return qe(n,t?{add:Bl("add"),set:Bl("set"),delete:Bl("delete"),clear:Bl("clear")}:{add(r){!e&&!ln(r)&&!lr(r)&&(r=Ae(r));const i=Ae(this);return Fl(i).has.call(i,r)||(i.add(r),ss(i,"add",r,r)),this},set(r,i){!e&&!ln(i)&&!lr(i)&&(i=Ae(i));const o=Ae(this),{has:l,get:a}=Fl(o);let c=l.call(o,r);c||(r=Ae(r),c=l.call(o,r));const d=a.call(o,r);return o.set(r,i),c?Ht(i,d)&&ss(o,"set",r,i):ss(o,"add",r,i),this},delete(r){const i=Ae(this),{has:o,get:l}=Fl(i);let a=o.call(i,r);a||(r=Ae(r),a=o.call(i,r)),l&&l.call(i,r);const c=i.delete(r);return a&&ss(i,"delete",r,void 0),c},clear(){const r=Ae(this),i=r.size!==0,o=r.clear();return i&&ss(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=u4(r,t,e)}),n}function hc(t,e){const n=d4(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get($e(n,r)&&r in s?n:s,r,i)}const h4={get:hc(!1,!1)},f4={get:hc(!1,!0)},p4={get:hc(!0,!1)},m4={get:hc(!0,!0)},S0=new WeakMap,T0=new WeakMap,E0=new WeakMap,M0=new WeakMap;function g4(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function y4(t){return t.__v_skip||!Object.isExtensible(t)?0:g4(F5(t))}function qr(t){return lr(t)?t:fc(t,!1,o4,h4,S0)}function oh(t){return fc(t,!1,a4,f4,T0)}function lh(t){return fc(t,!0,l4,p4,E0)}function v4(t){return fc(t,!0,c4,m4,M0)}function fc(t,e,n,s,r){if(!je(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=y4(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return r.set(t,l),l}function Un(t){return lr(t)?Un(t.__v_raw):!!(t&&t.__v_isReactive)}function lr(t){return!!(t&&t.__v_isReadonly)}function ln(t){return!!(t&&t.__v_isShallow)}function pc(t){return t?!!t.__v_raw:!1}function Ae(t){const e=t&&t.__v_raw;return e?Ae(e):t}function dl(t){return!$e(t,"__v_skip")&&Object.isExtensible(t)&&c0(t,"__v_skip",!0),t}const It=t=>je(t)?qr(t):t,ed=t=>je(t)?lh(t):t;function tt(t){return t?t.__v_isRef===!0:!1}function ue(t){return A0(t,!1)}function ah(t){return A0(t,!0)}function A0(t,e){return tt(t)?t:new C4(t,e)}class C4{constructor(e,n){this.dep=new uc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ae(e),this._value=n?e:It(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||ln(e)||lr(e);e=s?e:Ae(e),Ht(e,n)&&(this._rawValue=e,this._value=s?e:It(e),this.dep.trigger())}}function w4(t){t.dep&&t.dep.trigger()}function st(t){return tt(t)?t.value:t}function b4(t){return we(t)?t():st(t)}const k4={get:(t,e,n)=>e==="__v_raw"?t:st(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return tt(r)&&!tt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function ch(t){return Un(t)?t:new Proxy(t,k4)}class x4{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new uc,{get:s,set:r}=e(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function uh(t){return new x4(t)}function I0(t){const e=oe(t)?new Array(t.length):{};for(const n in t)e[n]=O0(t,n);return e}class _4{constructor(e,n,s){this._object=e,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return t4(Ae(this._object),this._key)}}class S4{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function T4(t,e,n){return tt(t)?t:we(t)?new S4(t):je(t)&&arguments.length>1?O0(t,e,n):ue(t)}function O0(t,e,n){const s=t[e];return tt(s)?s:new _4(t,e,n)}class E4{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new uc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ke!==this)return m0(this,!0),!0}get value(){const e=this.dep.track();return v0(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function M4(t,e,n=!1){let s,r;return we(t)?s=t:(s=t.get,r=t.set),new E4(s,r,n)}const A4={GET:"get",HAS:"has",ITERATE:"iterate"},I4={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Vl={},va=new WeakMap;let Rs;function O4(){return Rs}function L0(t,e=!1,n=Rs){if(n){let s=va.get(n);s||va.set(n,s=[]),s.push(t)}}function L4(t,e,n=Ie){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:a}=n,c=P=>r?P:ln(P)||r===!1||r===0?rs(P,1):rs(P);let d,h,f,p,y=!1,v=!1;if(tt(t)?(h=()=>t.value,y=ln(t)):Un(t)?(h=()=>c(t),y=!0):oe(t)?(v=!0,y=t.some(P=>Un(P)||ln(P)),h=()=>t.map(P=>{if(tt(P))return P.value;if(Un(P))return c(P);if(we(P))return a?a(P,2):P()})):we(t)?e?h=a?()=>a(t,2):t:h=()=>{if(f){ur();try{f()}finally{dr()}}const P=Rs;Rs=d;try{return a?a(t,3,[p]):t(p)}finally{Rs=P}}:h=Mn,e&&r){const P=h,D=r===!0?1/0:r;h=()=>rs(P(),D)}const k=nh(),S=()=>{d.stop(),k&&Yd(k.effects,d)};if(i&&e){const P=e;e=(...D)=>{P(...D),S()}}let E=v?new Array(t.length).fill(Vl):Vl;const T=P=>{if(!(!(d.flags&1)||!d.dirty&&!P))if(e){const D=d.run();if(r||y||(v?D.some((F,M)=>Ht(F,E[M])):Ht(D,E))){f&&f();const F=Rs;Rs=d;try{const M=[D,E===Vl?void 0:v&&E[0]===Vl?[]:E,p];a?a(e,3,M):e(...M),E=D}finally{Rs=F}}}else d.run()};return l&&l(T),d=new jo(h),d.scheduler=o?()=>o(T,!1):T,p=P=>L0(P,!1,d),f=d.onStop=()=>{const P=va.get(d);if(P){if(a)a(P,4);else for(const D of P)D();va.delete(d)}},e?s?T(!0):E=d.run():o?o(T.bind(null,!0),!0):d.run(),S.pause=d.pause.bind(d),S.resume=d.resume.bind(d),S.stop=S,S}function rs(t,e=1/0,n){if(e<=0||!je(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,tt(t))rs(t.value,e,n);else if(oe(t))for(let s=0;s<t.length;s++)rs(t[s],e,n);else if(Wr(t)||vi(t))t.forEach(s=>{rs(s,e,n)});else if(oc(t)){for(const s in t)rs(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&rs(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const P0=[];function P4(t){P0.push(t)}function N4(){P0.pop()}function D4(t,e){}const R4={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},$4={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Ki(t,e,n,s){try{return s?t(...s):t()}catch(r){Kr(r,e,n)}}function wn(t,e,n,s){if(we(t)){const r=Ki(t,e,n,s);return r&&Xd(r)&&r.catch(i=>{Kr(i,e,n)}),r}if(oe(t)){const r=[];for(let i=0;i<t.length;i++)r.push(wn(t[i],e,n,s));return r}}function Kr(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ie;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const d=l.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,a,c)===!1)return}l=l.parent}if(i){ur(),Ki(i,null,10,[t,a,c]),dr();return}}F4(t,n,r,s,o)}function F4(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const Ut=[];let $n=-1;const bi=[];let $s=null,ci=0;const N0=Promise.resolve();let Ca=null;function Gr(t){const e=Ca||N0;return t?e.then(this?t.bind(this):t):e}function B4(t){let e=$n+1,n=Ut.length;for(;e<n;){const s=e+n>>>1,r=Ut[s],i=qo(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function dh(t){if(!(t.flags&1)){const e=qo(t),n=Ut[Ut.length-1];!n||!(t.flags&2)&&e>=qo(n)?Ut.push(t):Ut.splice(B4(e),0,t),t.flags|=1,D0()}}function D0(){Ca||(Ca=N0.then(R0))}function wa(t){oe(t)?bi.push(...t):$s&&t.id===-1?$s.splice(ci+1,0,t):t.flags&1||(bi.push(t),t.flags|=1),D0()}function u1(t,e,n=$n+1){for(;n<Ut.length;n++){const s=Ut[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Ut.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function ba(t){if(bi.length){const e=[...new Set(bi)].sort((n,s)=>qo(n)-qo(s));if(bi.length=0,$s){$s.push(...e);return}for($s=e,ci=0;ci<$s.length;ci++){const n=$s[ci];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}$s=null,ci=0}}const qo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function R0(t){try{for($n=0;$n<Ut.length;$n++){const e=Ut[$n];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ki(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;$n<Ut.length;$n++){const e=Ut[$n];e&&(e.flags&=-2)}$n=-1,Ut.length=0,ba(),Ca=null,(Ut.length||bi.length)&&R0()}}let ui,Hl=[];function $0(t,e){var n,s;ui=t,ui?(ui.enabled=!0,Hl.forEach(({event:r,args:i})=>ui.emit(r,...i)),Hl=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{$0(i,e)}),setTimeout(()=>{ui||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Hl=[])},3e3)):Hl=[]}let ct=null,mc=null;function Ko(t){const e=ct;return ct=t,mc=t&&t.type.__scopeId||null,e}function V4(t){mc=t}function H4(){mc=null}const U4=t=>Ze;function Ze(t,e=ct,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&ad(-1);const i=Ko(e);let o;try{o=t(...r)}finally{Ko(i),s._d&&ad(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function ye(t,e){if(ct===null)return t;const n=ml(ct),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,l,a=Ie]=e[r];i&&(we(i)&&(i={mounted:i,updated:i}),i.deep&&rs(o),s.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:a}))}return t}function Bn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let a=l.dir[s];a&&(ur(),wn(a,n,8,[t.el,l,t,e]),dr())}}const F0=Symbol("_vte"),B0=t=>t.__isTeleport,Eo=t=>t&&(t.disabled||t.disabled===""),j4=t=>t&&(t.defer||t.defer===""),d1=t=>typeof SVGElement<"u"&&t instanceof SVGElement,h1=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,td=(t,e)=>{const n=t&&t.to;return Ge(n)?e?e(n):null:n},z4={name:"Teleport",__isTeleport:!0,process(t,e,n,s,r,i,o,l,a,c){const{mc:d,pc:h,pbc:f,o:{insert:p,querySelector:y,createText:v,createComment:k}}=c,S=Eo(e.props);let{shapeFlag:E,children:T,dynamicChildren:P}=e;if(t==null){const D=e.el=v(""),F=e.anchor=v("");p(D,n,s),p(F,n,s);const M=(w,x)=>{E&16&&(r&&r.isCE&&(r.ce._teleportTarget=w),d(T,w,x,r,i,o,l,a))},b=()=>{const w=e.target=td(e.props,y),x=H0(w,e,v,p);w&&(o!=="svg"&&d1(w)?o="svg":o!=="mathml"&&h1(w)&&(o="mathml"),S||(M(w,x),sa(e,!1)))};S&&(M(n,F),sa(e,!0)),j4(e.props)?dt(b,i):b()}else{e.el=t.el,e.targetStart=t.targetStart;const D=e.anchor=t.anchor,F=e.target=t.target,M=e.targetAnchor=t.targetAnchor,b=Eo(t.props),w=b?n:F,x=b?D:M;if(o==="svg"||d1(F)?o="svg":(o==="mathml"||h1(F))&&(o="mathml"),P?(f(t.dynamicChildren,P,w,r,i,o,l),kh(t,e,!0)):a||h(t,e,w,x,r,i,o,l,!1),S)b?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ul(e,n,D,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const O=e.target=td(e.props,y);O&&Ul(e,O,null,c,0)}else b&&Ul(e,F,M,c,1);sa(e,S)}},remove(t,e,n,{um:s,o:{remove:r}},i){const{shapeFlag:o,children:l,anchor:a,targetStart:c,targetAnchor:d,target:h,props:f}=t;if(h&&(r(c),r(d)),i&&r(a),o&16){const p=i||!Eo(f);for(let y=0;y<l.length;y++){const v=l[y];s(v,e,n,p,!!v.dynamicChildren)}}},move:Ul,hydrate:W4};function Ul(t,e,n,{o:{insert:s},m:r},i=2){i===0&&s(t.targetAnchor,e,n);const{el:o,anchor:l,shapeFlag:a,children:c,props:d}=t,h=i===2;if(h&&s(o,e,n),(!h||Eo(d))&&a&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);h&&s(l,e,n)}function W4(t,e,n,s,r,i,{o:{nextSibling:o,parentNode:l,querySelector:a,insert:c,createText:d}},h){const f=e.target=td(e.props,a);if(f){const p=Eo(e.props),y=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(o(t),e,l(t),n,s,r,i),e.targetStart=y,e.targetAnchor=y&&o(y);else{e.anchor=o(t);let v=y;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")e.targetStart=v;else if(v.data==="teleport anchor"){e.targetAnchor=v,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}v=o(v)}e.targetAnchor||H0(f,e,d,c),h(y&&o(y),e,f,n,s,r,i)}sa(e,p)}return e.anchor&&o(e.anchor)}const V0=z4;function sa(t,e){const n=t.ctx;if(n&&n.ut){let s,r;for(e?(s=t.el,r=t.anchor):(s=t.targetStart,r=t.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function H0(t,e,n,s){const r=e.targetStart=n(""),i=e.targetAnchor=n("");return r[F0]=i,t&&(s(r,t),s(i,t)),i}const Fs=Symbol("_leaveCb"),jl=Symbol("_enterCb");function hh(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Dn(()=>{t.isMounted=!0}),fl(()=>{t.isUnmounting=!0}),t}const pn=[Function,Array],fh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pn,onEnter:pn,onAfterEnter:pn,onEnterCancelled:pn,onBeforeLeave:pn,onLeave:pn,onAfterLeave:pn,onLeaveCancelled:pn,onBeforeAppear:pn,onAppear:pn,onAfterAppear:pn,onAppearCancelled:pn},U0=t=>{const e=t.subTree;return e.component?U0(e.component):e},q4={name:"BaseTransition",props:fh,setup(t,{slots:e}){const n=cn(),s=hh();return()=>{const r=e.default&&gc(e.default(),!0);if(!r||!r.length)return;const i=j0(r),o=Ae(t),{mode:l}=o;if(s.isLeaving)return uu(i);const a=f1(i);if(!a)return uu(i);let c=Oi(a,o,s,n,f=>c=f);a.type!==it&&gs(a,c);const d=n.subTree,h=d&&f1(d);if(h&&h.type!==it&&!Sn(a,h)&&U0(n).type!==it){const f=Oi(h,o,s,n);if(gs(h,f),l==="out-in"&&a.type!==it)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave},uu(i);l==="in-out"&&a.type!==it&&(f.delayLeave=(p,y,v)=>{const k=W0(s,h);k[String(h.key)]=h,p[Fs]=()=>{y(),p[Fs]=void 0,delete c.delayedLeave},c.delayedLeave=v})}return i}}};function j0(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==it){e=n;break}}return e}const z0=q4;function W0(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function Oi(t,e,n,s,r){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:y,onLeaveCancelled:v,onBeforeAppear:k,onAppear:S,onAfterAppear:E,onAppearCancelled:T}=e,P=String(t.key),D=W0(n,t),F=(w,x)=>{w&&wn(w,s,9,x)},M=(w,x)=>{const O=x[1];F(w,x),oe(w)?w.every(I=>I.length<=1)&&O():w.length<=1&&O()},b={mode:o,persisted:l,beforeEnter(w){let x=a;if(!n.isMounted)if(i)x=k||a;else return;w[Fs]&&w[Fs](!0);const O=D[P];O&&Sn(t,O)&&O.el[Fs]&&O.el[Fs](),F(x,[w])},enter(w){let x=c,O=d,I=h;if(!n.isMounted)if(i)x=S||c,O=E||d,I=T||h;else return;let A=!1;const ve=w[jl]=Te=>{A||(A=!0,Te?F(I,[w]):F(O,[w]),b.delayedLeave&&b.delayedLeave(),w[jl]=void 0)};x?M(x,[w,ve]):ve()},leave(w,x){const O=String(t.key);if(w[jl]&&w[jl](!0),n.isUnmounting)return x();F(f,[w]);let I=!1;const A=w[Fs]=ve=>{I||(I=!0,x(),ve?F(v,[w]):F(y,[w]),w[Fs]=void 0,D[O]===t&&delete D[O])};D[O]=t,p?M(p,[w,A]):A()},clone(w){const x=Oi(w,e,n,s,r);return r&&r(x),x}};return b}function uu(t){if(hl(t))return t=zn(t),t.children=null,t}function f1(t){if(!hl(t))return B0(t.type)&&t.children?j0(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&we(n.default))return n.default()}}function gs(t,e){t.shapeFlag&6&&t.component?(t.transition=e,gs(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function gc(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Le?(o.patchFlag&128&&r++,s=s.concat(gc(o.children,e,l))):(e||o.type!==it)&&s.push(l!=null?zn(o,{key:l}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Gi(t,e){return we(t)?qe({name:t.name},e,{setup:t}):t}function K4(){const t=cn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function ph(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function G4(t){const e=cn(),n=ah(null);if(e){const r=e.refs===Ie?e.refs={}:e.refs;Object.defineProperty(r,t,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function ka(t,e,n,s,r=!1){if(oe(t)){t.forEach((y,v)=>ka(y,e&&(oe(e)?e[v]:e),n,s,r));return}if(Ys(s)&&!r)return;const i=s.shapeFlag&4?ml(s.component):s.el,o=r?null:i,{i:l,r:a}=t,c=e&&e.r,d=l.refs===Ie?l.refs={}:l.refs,h=l.setupState,f=Ae(h),p=h===Ie?()=>!1:y=>$e(f,y);if(c!=null&&c!==a&&(Ge(c)?(d[c]=null,p(c)&&(h[c]=null)):tt(c)&&(c.value=null)),we(a))Ki(a,l,12,[o,d]);else{const y=Ge(a),v=tt(a);if(y||v){const k=()=>{if(t.f){const S=y?p(a)?h[a]:d[a]:a.value;r?oe(S)&&Yd(S,i):oe(S)?S.includes(i)||S.push(i):y?(d[a]=[i],p(a)&&(h[a]=d[a])):(a.value=[i],t.k&&(d[t.k]=a.value))}else y?(d[a]=o,p(a)&&(h[a]=o)):v&&(a.value=o,t.k&&(d[t.k]=o))};o?(k.id=-1,dt(k,n)):k()}}}let p1=!1;const ii=()=>{p1||(console.error("Hydration completed but contains mismatches."),p1=!0)},J4=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Z4=t=>t.namespaceURI.includes("MathML"),zl=t=>{if(t.nodeType===1){if(J4(t))return"svg";if(Z4(t))return"mathml"}},pi=t=>t.nodeType===8;function Y4(t){const{mt:e,p:n,o:{patchProp:s,createText:r,nextSibling:i,parentNode:o,remove:l,insert:a,createComment:c}}=t,d=(T,P)=>{if(!P.hasChildNodes()){n(null,T,P),ba(),P._vnode=T;return}h(P.firstChild,T,null,null,null),ba(),P._vnode=T},h=(T,P,D,F,M,b=!1)=>{b=b||!!P.dynamicChildren;const w=pi(T)&&T.data==="[",x=()=>v(T,P,D,F,M,w),{type:O,ref:I,shapeFlag:A,patchFlag:ve}=P;let Te=T.nodeType;P.el=T,ve===-2&&(b=!1,P.dynamicChildren=null);let ne=null;switch(O){case Xs:Te!==3?P.children===""?(a(P.el=r(""),o(T),T),ne=T):ne=x():(T.data!==P.children&&(ii(),T.data=P.children),ne=i(T));break;case it:E(T)?(ne=i(T),S(P.el=T.content.firstChild,T,D)):Te!==8||w?ne=x():ne=i(T);break;case Ir:if(w&&(T=i(T),Te=T.nodeType),Te===1||Te===3){ne=T;const le=!P.children.length;for(let re=0;re<P.staticCount;re++)le&&(P.children+=ne.nodeType===1?ne.outerHTML:ne.data),re===P.staticCount-1&&(P.anchor=ne),ne=i(ne);return w?i(ne):ne}else x();break;case Le:w?ne=y(T,P,D,F,M,b):ne=x();break;default:if(A&1)(Te!==1||P.type.toLowerCase()!==T.tagName.toLowerCase())&&!E(T)?ne=x():ne=f(T,P,D,F,M,b);else if(A&6){P.slotScopeIds=M;const le=o(T);if(w?ne=k(T):pi(T)&&T.data==="teleport start"?ne=k(T,T.data,"teleport end"):ne=i(T),e(P,le,null,D,F,zl(le),b),Ys(P)){let re;w?(re=Y(Le),re.anchor=ne?ne.previousSibling:le.lastChild):re=T.nodeType===3?ke(""):Y("div"),re.el=T,P.component.subTree=re}}else A&64?Te!==8?ne=x():ne=P.type.hydrate(T,P,D,F,M,b,t,p):A&128&&(ne=P.type.hydrate(T,P,D,F,zl(o(T)),M,b,t,h))}return I!=null&&ka(I,null,F,P),ne},f=(T,P,D,F,M,b)=>{b=b||!!P.dynamicChildren;const{type:w,props:x,patchFlag:O,shapeFlag:I,dirs:A,transition:ve}=P,Te=w==="input"||w==="option";if(Te||O!==-1){A&&Bn(P,null,D,"created");let ne=!1;if(E(T)){ne=ym(null,ve)&&D&&D.vnode.props&&D.vnode.props.appear;const re=T.content.firstChild;ne&&ve.beforeEnter(re),S(re,T,D),P.el=T=re}if(I&16&&!(x&&(x.innerHTML||x.textContent))){let re=p(T.firstChild,P,T,D,F,M,b);for(;re;){Wl(T,1)||ii();const Ye=re;re=re.nextSibling,l(Ye)}}else if(I&8){let re=P.children;re[0]===`
`&&(T.tagName==="PRE"||T.tagName==="TEXTAREA")&&(re=re.slice(1)),T.textContent!==re&&(Wl(T,0)||ii(),T.textContent=P.children)}if(x){if(Te||!b||O&48){const re=T.tagName.includes("-");for(const Ye in x)(Te&&(Ye.endsWith("value")||Ye==="indeterminate")||al(Ye)&&!Ci(Ye)||Ye[0]==="."||re)&&s(T,Ye,null,x[Ye],void 0,D)}else if(x.onClick)s(T,"onClick",null,x.onClick,void 0,D);else if(O&4&&Un(x.style))for(const re in x.style)x.style[re]}let le;(le=x&&x.onVnodeBeforeMount)&&Jt(le,D,P),A&&Bn(P,null,D,"beforeMount"),((le=x&&x.onVnodeMounted)||A||ne)&&Em(()=>{le&&Jt(le,D,P),ne&&ve.enter(T),A&&Bn(P,null,D,"mounted")},F)}return T.nextSibling},p=(T,P,D,F,M,b,w)=>{w=w||!!P.dynamicChildren;const x=P.children,O=x.length;for(let I=0;I<O;I++){const A=w?x[I]:x[I]=Zt(x[I]),ve=A.type===Xs;T?(ve&&!w&&I+1<O&&Zt(x[I+1]).type===Xs&&(a(r(T.data.slice(A.children.length)),D,i(T)),T.data=A.children),T=h(T,A,F,M,b,w)):ve&&!A.children?a(A.el=r(""),D):(Wl(D,1)||ii(),n(null,A,D,null,F,M,zl(D),b))}return T},y=(T,P,D,F,M,b)=>{const{slotScopeIds:w}=P;w&&(M=M?M.concat(w):w);const x=o(T),O=p(i(T),P,x,D,F,M,b);return O&&pi(O)&&O.data==="]"?i(P.anchor=O):(ii(),a(P.anchor=c("]"),x,O),O)},v=(T,P,D,F,M,b)=>{if(Wl(T.parentElement,1)||ii(),P.el=null,b){const O=k(T);for(;;){const I=i(T);if(I&&I!==O)l(I);else break}}const w=i(T),x=o(T);return l(T),n(null,P,x,w,D,F,zl(x),M),w},k=(T,P="[",D="]")=>{let F=0;for(;T;)if(T=i(T),T&&pi(T)&&(T.data===P&&F++,T.data===D)){if(F===0)return i(T);F--}return T},S=(T,P,D)=>{const F=P.parentNode;F&&F.replaceChild(T,P);let M=D;for(;M;)M.vnode.el===P&&(M.vnode.el=M.subTree.el=T),M=M.parent},E=T=>T.nodeType===1&&T.tagName==="TEMPLATE";return[d,h]}const m1="data-allow-mismatch",X4={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Wl(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(m1);)t=t.parentElement;const n=t&&t.getAttribute(m1);if(n==null)return!1;if(n==="")return!0;{const s=n.split(",");return e===0&&s.includes("children")?!0:n.split(",").includes(X4[e])}}const Q4=ac().requestIdleCallback||(t=>setTimeout(t,1)),e7=ac().cancelIdleCallback||(t=>clearTimeout(t)),t7=(t=1e4)=>e=>{const n=Q4(e,{timeout:t});return()=>e7(n)};function n7(t){const{top:e,left:n,bottom:s,right:r}=t.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(e>0&&e<i||s>0&&s<i)&&(n>0&&n<o||r>0&&r<o)}const s7=t=>(e,n)=>{const s=new IntersectionObserver(r=>{for(const i of r)if(i.isIntersecting){s.disconnect(),e();break}},t);return n(r=>{if(r instanceof Element){if(n7(r))return e(),s.disconnect(),!1;s.observe(r)}}),()=>s.disconnect()},r7=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},i7=(t=[])=>(e,n)=>{Ge(t)&&(t=[t]);let s=!1;const r=o=>{s||(s=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{n(o=>{for(const l of t)o.removeEventListener(l,r)})};return n(o=>{for(const l of t)o.addEventListener(l,r,{once:!0})}),i};function o7(t,e){if(pi(t)&&t.data==="["){let n=1,s=t.nextSibling;for(;s;){if(s.nodeType===1){if(e(s)===!1)break}else if(pi(s))if(s.data==="]"){if(--n===0)break}else s.data==="["&&n++;s=s.nextSibling}}else e(t)}const Ys=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function l7(t){we(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:s,delay:r=200,hydrate:i,timeout:o,suspensible:l=!0,onError:a}=t;let c=null,d,h=0;const f=()=>(h++,c=null,p()),p=()=>{let y;return c||(y=c=e().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),a)return new Promise((k,S)=>{a(v,()=>k(f()),()=>S(v),h+1)});throw v}).then(v=>y!==c&&c?c:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),d=v,v)))};return Gi({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(y,v,k){const S=i?()=>{const E=i(k,T=>o7(y,T));E&&(v.bum||(v.bum=[])).push(E)}:k;d?S():p().then(()=>!v.isUnmounted&&S())},get __asyncResolved(){return d},setup(){const y=at;if(ph(y),d)return()=>du(d,y);const v=T=>{c=null,Kr(T,y,13,!s)};if(l&&y.suspense||Li)return p().then(T=>()=>du(T,y)).catch(T=>(v(T),()=>s?Y(s,{error:T}):null));const k=ue(!1),S=ue(),E=ue(!!r);return r&&setTimeout(()=>{E.value=!1},r),o!=null&&setTimeout(()=>{if(!k.value&&!S.value){const T=new Error(`Async component timed out after ${o}ms.`);v(T),S.value=T}},o),p().then(()=>{k.value=!0,y.parent&&hl(y.parent.vnode)&&y.parent.update()}).catch(T=>{v(T),S.value=T}),()=>{if(k.value&&d)return du(d,y);if(S.value&&s)return Y(s,{error:S.value});if(n&&!E.value)return Y(n)}}})}function du(t,e){const{ref:n,props:s,children:r,ce:i}=e.vnode,o=Y(t,s,r);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const hl=t=>t.type.__isKeepAlive,a7={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=cn(),s=n.ctx;if(!s.renderer)return()=>{const E=e.default&&e.default();return E&&E.length===1?E[0]:E};const r=new Map,i=new Set;let o=null;const l=n.suspense,{renderer:{p:a,m:c,um:d,o:{createElement:h}}}=s,f=h("div");s.activate=(E,T,P,D,F)=>{const M=E.component;c(E,T,P,0,l),a(M.vnode,E,T,P,M,l,D,E.slotScopeIds,F),dt(()=>{M.isDeactivated=!1,M.a&&wi(M.a);const b=E.props&&E.props.onVnodeMounted;b&&Jt(b,M.parent,E)},l)},s.deactivate=E=>{const T=E.component;_a(T.m),_a(T.a),c(E,f,null,1,l),dt(()=>{T.da&&wi(T.da);const P=E.props&&E.props.onVnodeUnmounted;P&&Jt(P,T.parent,E),T.isDeactivated=!0},l)};function p(E){hu(E),d(E,n,l,!0)}function y(E){r.forEach((T,P)=>{const D=fd(T.type);D&&!E(D)&&v(P)})}function v(E){const T=r.get(E);T&&(!o||!Sn(T,o))?p(T):o&&hu(o),r.delete(E),i.delete(E)}fs(()=>[t.include,t.exclude],([E,T])=>{E&&y(P=>Co(E,P)),T&&y(P=>!Co(T,P))},{flush:"post",deep:!0});let k=null;const S=()=>{k!=null&&(Sa(n.subTree.type)?dt(()=>{r.set(k,ql(n.subTree))},n.subTree.suspense):r.set(k,ql(n.subTree)))};return Dn(S),vc(S),fl(()=>{r.forEach(E=>{const{subTree:T,suspense:P}=n,D=ql(T);if(E.type===D.type&&E.key===D.key){hu(D);const F=D.component.da;F&&dt(F,P);return}p(E)})}),()=>{if(k=null,!e.default)return o=null;const E=e.default(),T=E[0];if(E.length>1)return o=null,E;if(!vs(T)||!(T.shapeFlag&4)&&!(T.shapeFlag&128))return o=null,T;let P=ql(T);if(P.type===it)return o=null,P;const D=P.type,F=fd(Ys(P)?P.type.__asyncResolved||{}:D),{include:M,exclude:b,max:w}=t;if(M&&(!F||!Co(M,F))||b&&F&&Co(b,F))return P.shapeFlag&=-257,o=P,T;const x=P.key==null?D:P.key,O=r.get(x);return P.el&&(P=zn(P),T.shapeFlag&128&&(T.ssContent=P)),k=x,O?(P.el=O.el,P.component=O.component,P.transition&&gs(P,P.transition),P.shapeFlag|=512,i.delete(x),i.add(x)):(i.add(x),w&&i.size>parseInt(w,10)&&v(i.values().next().value)),P.shapeFlag|=256,o=P,Sa(T.type)?T:P}}},c7=a7;function Co(t,e){return oe(t)?t.some(n=>Co(n,e)):Ge(t)?t.split(",").includes(e):$5(t)?(t.lastIndex=0,t.test(e)):!1}function q0(t,e){G0(t,"a",e)}function K0(t,e){G0(t,"da",e)}function G0(t,e,n=at){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(yc(e,s,n),n){let r=n.parent;for(;r&&r.parent;)hl(r.parent.vnode)&&u7(s,e,n,r),r=r.parent}}function u7(t,e,n,s){const r=yc(e,t,s,!0);Cc(()=>{Yd(s[e],r)},n)}function hu(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ql(t){return t.shapeFlag&128?t.ssContent:t}function yc(t,e,n=at,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ur();const l=Br(n),a=wn(e,n,t,o);return l(),dr(),a});return s?r.unshift(i):r.push(i),i}}const xs=t=>(e,n=at)=>{(!Li||t==="sp")&&yc(t,(...s)=>e(...s),n)},mh=xs("bm"),Dn=xs("m"),J0=xs("bu"),vc=xs("u"),fl=xs("bum"),Cc=xs("um"),Z0=xs("sp"),Y0=xs("rtg"),X0=xs("rtc");function Q0(t,e=at){yc("ec",t,e)}const gh="components",d7="directives";function hr(t,e){return yh(gh,t,!0,e)||t}const em=Symbol.for("v-ndc");function h7(t){return Ge(t)?yh(gh,t,!1)||t:t||em}function ys(t){return yh(d7,t)}function yh(t,e,n=!0,s=!1){const r=ct||at;if(r){const i=r.type;if(t===gh){const l=fd(i,!1);if(l&&(l===e||l===kt(e)||l===cl(kt(e))))return i}const o=g1(r[t]||i[t],e)||g1(r.appContext[t],e);return!o&&s?i:o}}function g1(t,e){return t&&(t[e]||t[kt(e)]||t[cl(kt(e))])}function wc(t,e,n,s){let r;const i=n&&n[s],o=oe(t);if(o||Ge(t)){const l=o&&Un(t);let a=!1;l&&(a=!ln(t),t=dc(t)),r=new Array(t.length);for(let c=0,d=t.length;c<d;c++)r[c]=e(a?It(t[c]):t[c],c,void 0,i&&i[c])}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i&&i[l])}else if(je(t))if(t[Symbol.iterator])r=Array.from(t,(l,a)=>e(l,a,void 0,i&&i[a]));else{const l=Object.keys(t);r=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const d=l[a];r[a]=e(t[d],d,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function f7(t,e){for(let n=0;n<e.length;n++){const s=e[n];if(oe(s))for(let r=0;r<s.length;r++)t[s[r].name]=s[r].fn;else s&&(t[s.name]=s.key?(...r)=>{const i=s.fn(...r);return i&&(i.key=s.key),i}:s.fn)}return t}function vh(t,e,n={},s,r){if(ct.ce||ct.parent&&Ys(ct.parent)&&ct.parent.ce)return e!=="default"&&(n.name=e),$(),De(Le,null,[Y("slot",n,s&&s())],64);let i=t[e];i&&i._c&&(i._d=!1),$();const o=i&&Ch(i(n)),l=n.key||o&&o.key,a=De(Le,{key:(l&&!Ln(l)?l:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Ch(t){return t.some(e=>vs(e)?!(e.type===it||e.type===Le&&!Ch(e.children)):!0)?t:null}function p7(t,e){const n={};for(const s in t)n[e&&/[A-Z]/.test(s)?`on:${s}`:_o(s)]=t[s];return n}const nd=t=>t?Nm(t)?ml(t):nd(t.parent):null,Mo=qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>nd(t.parent),$root:t=>nd(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>wh(t),$forceUpdate:t=>t.f||(t.f=()=>{dh(t.update)}),$nextTick:t=>t.n||(t.n=Gr.bind(t.proxy)),$watch:t=>j7.bind(t)}),fu=(t,e)=>t!==Ie&&!t.__isScriptSetup&&$e(t,e),sd={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(fu(s,e))return o[e]=1,s[e];if(r!==Ie&&$e(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&$e(c,e))return o[e]=3,i[e];if(n!==Ie&&$e(n,e))return o[e]=4,n[e];rd&&(o[e]=0)}}const d=Mo[e];let h,f;if(d)return e==="$attrs"&&At(t.attrs,"get",""),d(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==Ie&&$e(n,e))return o[e]=4,n[e];if(f=a.config.globalProperties,$e(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return fu(r,e)?(r[e]=n,!0):s!==Ie&&$e(s,e)?(s[e]=n,!0):$e(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let l;return!!n[o]||t!==Ie&&$e(t,o)||fu(e,o)||(l=i[0])&&$e(l,o)||$e(s,o)||$e(Mo,o)||$e(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:$e(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},m7=qe({},sd,{get(t,e){if(e!==Symbol.unscopables)return sd.get(t,e,t)},has(t,e){return e[0]!=="_"&&!U5(e)}});function g7(){return null}function y7(){return null}function v7(t){}function C7(t){}function w7(){return null}function b7(){}function k7(t,e){return null}function x7(){return tm().slots}function _7(){return tm().attrs}function tm(){const t=cn();return t.setupContext||(t.setupContext=$m(t))}function Go(t){return oe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function S7(t,e){const n=Go(t);for(const s in e){if(s.startsWith("__skip"))continue;let r=n[s];r?oe(r)||we(r)?r=n[s]={type:r,default:e[s]}:r.default=e[s]:r===null&&(r=n[s]={default:e[s]}),r&&e[`__skip_${s}`]&&(r.skipFactory=!0)}return n}function T7(t,e){return!t||!e?t||e:oe(t)&&oe(e)?t.concat(e):qe({},Go(t),Go(e))}function E7(t,e){const n={};for(const s in t)e.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>t[s]});return n}function M7(t){const e=cn();let n=t();return ud(),Xd(n)&&(n=n.catch(s=>{throw Br(e),s})),[n,()=>Br(e)]}let rd=!0;function A7(t){const e=wh(t),n=t.proxy,s=t.ctx;rd=!1,e.beforeCreate&&y1(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:l,provide:a,inject:c,created:d,beforeMount:h,mounted:f,beforeUpdate:p,updated:y,activated:v,deactivated:k,beforeDestroy:S,beforeUnmount:E,destroyed:T,unmounted:P,render:D,renderTracked:F,renderTriggered:M,errorCaptured:b,serverPrefetch:w,expose:x,inheritAttrs:O,components:I,directives:A,filters:ve}=e;if(c&&I7(c,s,null),o)for(const le in o){const re=o[le];we(re)&&(s[le]=re.bind(n))}if(r){const le=r.call(n,n);je(le)&&(t.data=qr(le))}if(rd=!0,i)for(const le in i){const re=i[le],Ye=we(re)?re.bind(n,n):we(re.get)?re.get.bind(n,n):Mn,bn=!we(re)&&we(re.set)?re.set.bind(n):Mn,dn=he({get:Ye,set:bn});Object.defineProperty(s,le,{enumerable:!0,configurable:!0,get:()=>dn.value,set:Xe=>dn.value=Xe})}if(l)for(const le in l)nm(l[le],s,n,le);if(a){const le=we(a)?a.call(n):a;Reflect.ownKeys(le).forEach(re=>{Ao(re,le[re])})}d&&y1(d,t,"c");function ne(le,re){oe(re)?re.forEach(Ye=>le(Ye.bind(n))):re&&le(re.bind(n))}if(ne(mh,h),ne(Dn,f),ne(J0,p),ne(vc,y),ne(q0,v),ne(K0,k),ne(Q0,b),ne(X0,F),ne(Y0,M),ne(fl,E),ne(Cc,P),ne(Z0,w),oe(x))if(x.length){const le=t.exposed||(t.exposed={});x.forEach(re=>{Object.defineProperty(le,re,{get:()=>n[re],set:Ye=>n[re]=Ye})})}else t.exposed||(t.exposed={});D&&t.render===Mn&&(t.render=D),O!=null&&(t.inheritAttrs=O),I&&(t.components=I),A&&(t.directives=A),w&&ph(t)}function I7(t,e,n=Mn){oe(t)&&(t=id(t));for(const s in t){const r=t[s];let i;je(r)?"default"in r?i=an(r.from||s,r.default,!0):i=an(r.from||s):i=an(r),tt(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function y1(t,e,n){wn(oe(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function nm(t,e,n,s){let r=s.includes(".")?xm(n,s):()=>n[s];if(Ge(t)){const i=e[t];we(i)&&fs(r,i)}else if(we(t))fs(r,t.bind(n));else if(je(t))if(oe(t))t.forEach(i=>nm(i,e,n,s));else{const i=we(t.handler)?t.handler.bind(n):e[t.handler];we(i)&&fs(r,i,t)}}function wh(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let a;return l?a=l:!r.length&&!n&&!s?a=e:(a={},r.length&&r.forEach(c=>xa(a,c,o,!0)),xa(a,e,o)),je(e)&&i.set(e,a),a}function xa(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&xa(t,i,n,!0),r&&r.forEach(o=>xa(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=O7[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const O7={data:v1,props:C1,emits:C1,methods:wo,computed:wo,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:wo,directives:wo,watch:P7,provide:v1,inject:L7};function v1(t,e){return e?t?function(){return qe(we(t)?t.call(this,this):t,we(e)?e.call(this,this):e)}:e:t}function L7(t,e){return wo(id(t),id(e))}function id(t){if(oe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function wo(t,e){return t?qe(Object.create(null),t,e):e}function C1(t,e){return t?oe(t)&&oe(e)?[...new Set([...t,...e])]:qe(Object.create(null),Go(t),Go(e??{})):e}function P7(t,e){if(!t)return e;if(!e)return t;const n=qe(Object.create(null),t);for(const s in e)n[s]=Ft(t[s],e[s]);return n}function sm(){return{app:null,config:{isNativeTag:D5,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let N7=0;function D7(t,e){return function(s,r=null){we(s)||(s=qe({},s)),r!=null&&!je(r)&&(r=null);const i=sm(),o=new WeakSet,l=[];let a=!1;const c=i.app={_uid:N7++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Bm,get config(){return i.config},set config(d){},use(d,...h){return o.has(d)||(d&&we(d.install)?(o.add(d),d.install(c,...h)):we(d)&&(o.add(d),d(c,...h))),c},mixin(d){return i.mixins.includes(d)||i.mixins.push(d),c},component(d,h){return h?(i.components[d]=h,c):i.components[d]},directive(d,h){return h?(i.directives[d]=h,c):i.directives[d]},mount(d,h,f){if(!a){const p=c._ceVNode||Y(s,r);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,d):t(p,d,f),a=!0,c._container=d,d.__vue_app__=c,ml(p.component)}},onUnmount(d){l.push(d)},unmount(){a&&(wn(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,h){return i.provides[d]=h,c},runWithContext(d){const h=Ar;Ar=c;try{return d()}finally{Ar=h}}};return c}}let Ar=null;function Ao(t,e){if(at){let n=at.provides;const s=at.parent&&at.parent.provides;s===n&&(n=at.provides=Object.create(s)),n[t]=e}}function an(t,e,n=!1){const s=at||ct;if(s||Ar){const r=Ar?Ar._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&we(e)?e.call(s&&s.proxy):e}}function rm(){return!!(at||ct||Ar)}const im={},om=()=>Object.create(im),lm=t=>Object.getPrototypeOf(t)===im;function R7(t,e,n,s=!1){const r={},i=om();t.propsDefaults=Object.create(null),am(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:oh(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function $7(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,l=Ae(r),[a]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let f=d[h];if(bc(t.emitsOptions,f))continue;const p=e[f];if(a)if($e(i,f))p!==i[f]&&(i[f]=p,c=!0);else{const y=kt(f);r[y]=od(a,l,y,p,t,!1)}else p!==i[f]&&(i[f]=p,c=!0)}}}else{am(t,e,r,i)&&(c=!0);let d;for(const h in l)(!e||!$e(e,h)&&((d=Yt(h))===h||!$e(e,d)))&&(a?n&&(n[h]!==void 0||n[d]!==void 0)&&(r[h]=od(a,l,h,void 0,t,!0)):delete r[h]);if(i!==l)for(const h in i)(!e||!$e(e,h))&&(delete i[h],c=!0)}c&&ss(t.attrs,"set","")}function am(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(Ci(a))continue;const c=e[a];let d;r&&$e(r,d=kt(a))?!i||!i.includes(d)?n[d]=c:(l||(l={}))[d]=c:bc(t.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(i){const a=Ae(n),c=l||Ie;for(let d=0;d<i.length;d++){const h=i[d];n[h]=od(r,a,h,c[h],t,!$e(c,h))}}return o}function od(t,e,n,s,r,i){const o=t[n];if(o!=null){const l=$e(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&we(a)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const d=Br(r);s=c[n]=a.call(null,e),d()}}else s=a;r.ce&&r.ce._setProp(n,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===Yt(n))&&(s=!0))}return s}const F7=new WeakMap;function cm(t,e,n=!1){const s=n?F7:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},l=[];let a=!1;if(!we(t)){const d=h=>{a=!0;const[f,p]=cm(h,e,!0);qe(o,f),p&&l.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!a)return je(t)&&s.set(t,yi),yi;if(oe(i))for(let d=0;d<i.length;d++){const h=kt(i[d]);w1(h)&&(o[h]=Ie)}else if(i)for(const d in i){const h=kt(d);if(w1(h)){const f=i[d],p=o[h]=oe(f)||we(f)?{type:f}:qe({},f),y=p.type;let v=!1,k=!0;if(oe(y))for(let S=0;S<y.length;++S){const E=y[S],T=we(E)&&E.name;if(T==="Boolean"){v=!0;break}else T==="String"&&(k=!1)}else v=we(y)&&y.name==="Boolean";p[0]=v,p[1]=k,(v||$e(p,"default"))&&l.push(h)}}const c=[o,l];return je(t)&&s.set(t,c),c}function w1(t){return t[0]!=="$"&&!Ci(t)}const um=t=>t[0]==="_"||t==="$stable",bh=t=>oe(t)?t.map(Zt):[Zt(t)],B7=(t,e,n)=>{if(e._n)return e;const s=Ze((...r)=>bh(e(...r)),n);return s._c=!1,s},dm=(t,e,n)=>{const s=t._ctx;for(const r in t){if(um(r))continue;const i=t[r];if(we(i))e[r]=B7(r,i,s);else if(i!=null){const o=bh(i);e[r]=()=>o}}},hm=(t,e)=>{const n=bh(e);t.slots.default=()=>n},fm=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},V7=(t,e,n)=>{const s=t.slots=om();if(t.vnode.shapeFlag&32){const r=e._;r?(fm(s,e,n),n&&c0(s,"_",r,!0)):dm(e,s)}else e&&hm(t,e)},H7=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ie;if(s.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:fm(r,e,n):(i=!e.$stable,dm(e,r)),o=e}else e&&(hm(t,e),o={default:1});if(i)for(const l in r)!um(l)&&o[l]==null&&delete r[l]},dt=Em;function pm(t){return gm(t)}function mm(t){return gm(t,Y4)}function gm(t,e){const n=ac();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:a,setText:c,setElementText:d,parentNode:h,nextSibling:f,setScopeId:p=Mn,insertStaticContent:y}=t,v=(L,N,B,z=null,U=null,W=null,X=void 0,J=null,G=!!N.dynamicChildren)=>{if(L===N)return;L&&!Sn(L,N)&&(z=j(L),Xe(L,U,W,!0),L=null),N.patchFlag===-2&&(G=!1,N.dynamicChildren=null);const{type:K,ref:me,shapeFlag:ee}=N;switch(K){case Xs:k(L,N,B,z);break;case it:S(L,N,B,z);break;case Ir:L==null&&E(N,B,z,X);break;case Le:I(L,N,B,z,U,W,X,J,G);break;default:ee&1?D(L,N,B,z,U,W,X,J,G):ee&6?A(L,N,B,z,U,W,X,J,G):(ee&64||ee&128)&&K.process(L,N,B,z,U,W,X,J,G,ie)}me!=null&&U&&ka(me,L&&L.ref,W,N||L,!N)},k=(L,N,B,z)=>{if(L==null)s(N.el=l(N.children),B,z);else{const U=N.el=L.el;N.children!==L.children&&c(U,N.children)}},S=(L,N,B,z)=>{L==null?s(N.el=a(N.children||""),B,z):N.el=L.el},E=(L,N,B,z)=>{[L.el,L.anchor]=y(L.children,N,B,z,L.el,L.anchor)},T=({el:L,anchor:N},B,z)=>{let U;for(;L&&L!==N;)U=f(L),s(L,B,z),L=U;s(N,B,z)},P=({el:L,anchor:N})=>{let B;for(;L&&L!==N;)B=f(L),r(L),L=B;r(N)},D=(L,N,B,z,U,W,X,J,G)=>{N.type==="svg"?X="svg":N.type==="math"&&(X="mathml"),L==null?F(N,B,z,U,W,X,J,G):w(L,N,U,W,X,J,G)},F=(L,N,B,z,U,W,X,J)=>{let G,K;const{props:me,shapeFlag:ee,transition:pe,dirs:ae}=L;if(G=L.el=o(L.type,W,me&&me.is,me),ee&8?d(G,L.children):ee&16&&b(L.children,G,null,z,U,pu(L,W),X,J),ae&&Bn(L,null,z,"created"),M(G,L,L.scopeId,X,z),me){for(const Re in me)Re!=="value"&&!Ci(Re)&&i(G,Re,null,me[Re],W,z);"value"in me&&i(G,"value",null,me.value,W),(K=me.onVnodeBeforeMount)&&Jt(K,z,L)}ae&&Bn(L,null,z,"beforeMount");const Ce=ym(U,pe);Ce&&pe.beforeEnter(G),s(G,N,B),((K=me&&me.onVnodeMounted)||Ce||ae)&&dt(()=>{K&&Jt(K,z,L),Ce&&pe.enter(G),ae&&Bn(L,null,z,"mounted")},U)},M=(L,N,B,z,U)=>{if(B&&p(L,B),z)for(let W=0;W<z.length;W++)p(L,z[W]);if(U){let W=U.subTree;if(N===W||Sa(W.type)&&(W.ssContent===N||W.ssFallback===N)){const X=U.vnode;M(L,X,X.scopeId,X.slotScopeIds,U.parent)}}},b=(L,N,B,z,U,W,X,J,G=0)=>{for(let K=G;K<L.length;K++){const me=L[K]=J?Bs(L[K]):Zt(L[K]);v(null,me,N,B,z,U,W,X,J)}},w=(L,N,B,z,U,W,X)=>{const J=N.el=L.el;let{patchFlag:G,dynamicChildren:K,dirs:me}=N;G|=L.patchFlag&16;const ee=L.props||Ie,pe=N.props||Ie;let ae;if(B&&Cr(B,!1),(ae=pe.onVnodeBeforeUpdate)&&Jt(ae,B,N,L),me&&Bn(N,L,B,"beforeUpdate"),B&&Cr(B,!0),(ee.innerHTML&&pe.innerHTML==null||ee.textContent&&pe.textContent==null)&&d(J,""),K?x(L.dynamicChildren,K,J,B,z,pu(N,U),W):X||re(L,N,J,null,B,z,pu(N,U),W,!1),G>0){if(G&16)O(J,ee,pe,B,U);else if(G&2&&ee.class!==pe.class&&i(J,"class",null,pe.class,U),G&4&&i(J,"style",ee.style,pe.style,U),G&8){const Ce=N.dynamicProps;for(let Re=0;Re<Ce.length;Re++){const Pe=Ce[Re],_t=ee[Pe],ut=pe[Pe];(ut!==_t||Pe==="value")&&i(J,Pe,_t,ut,U,B)}}G&1&&L.children!==N.children&&d(J,N.children)}else!X&&K==null&&O(J,ee,pe,B,U);((ae=pe.onVnodeUpdated)||me)&&dt(()=>{ae&&Jt(ae,B,N,L),me&&Bn(N,L,B,"updated")},z)},x=(L,N,B,z,U,W,X)=>{for(let J=0;J<N.length;J++){const G=L[J],K=N[J],me=G.el&&(G.type===Le||!Sn(G,K)||G.shapeFlag&70)?h(G.el):B;v(G,K,me,null,z,U,W,X,!0)}},O=(L,N,B,z,U)=>{if(N!==B){if(N!==Ie)for(const W in N)!Ci(W)&&!(W in B)&&i(L,W,N[W],null,U,z);for(const W in B){if(Ci(W))continue;const X=B[W],J=N[W];X!==J&&W!=="value"&&i(L,W,J,X,U,z)}"value"in B&&i(L,"value",N.value,B.value,U)}},I=(L,N,B,z,U,W,X,J,G)=>{const K=N.el=L?L.el:l(""),me=N.anchor=L?L.anchor:l("");let{patchFlag:ee,dynamicChildren:pe,slotScopeIds:ae}=N;ae&&(J=J?J.concat(ae):ae),L==null?(s(K,B,z),s(me,B,z),b(N.children||[],B,me,U,W,X,J,G)):ee>0&&ee&64&&pe&&L.dynamicChildren?(x(L.dynamicChildren,pe,B,U,W,X,J),(N.key!=null||U&&N===U.subTree)&&kh(L,N,!0)):re(L,N,B,me,U,W,X,J,G)},A=(L,N,B,z,U,W,X,J,G)=>{N.slotScopeIds=J,L==null?N.shapeFlag&512?U.ctx.activate(N,B,z,X,G):ve(N,B,z,U,W,X,G):Te(L,N,G)},ve=(L,N,B,z,U,W,X)=>{const J=L.component=Pm(L,z,U);if(hl(L)&&(J.ctx.renderer=ie),Dm(J,!1,X),J.asyncDep){if(U&&U.registerDep(J,ne,X),!L.el){const G=J.subTree=Y(it);S(null,G,N,B)}}else ne(J,L,N,B,U,W,X)},Te=(L,N,B)=>{const z=N.component=L.component;if(J7(L,N,B))if(z.asyncDep&&!z.asyncResolved){le(z,N,B);return}else z.next=N,z.update();else N.el=L.el,z.vnode=N},ne=(L,N,B,z,U,W,X)=>{const J=()=>{if(L.isMounted){let{next:ee,bu:pe,u:ae,parent:Ce,vnode:Re}=L;{const St=vm(L);if(St){ee&&(ee.el=Re.el,le(L,ee,X)),St.asyncDep.then(()=>{L.isUnmounted||J()});return}}let Pe=ee,_t;Cr(L,!1),ee?(ee.el=Re.el,le(L,ee,X)):ee=Re,pe&&wi(pe),(_t=ee.props&&ee.props.onVnodeBeforeUpdate)&&Jt(_t,Ce,ee,Re),Cr(L,!0);const ut=ra(L),gt=L.subTree;L.subTree=ut,v(gt,ut,h(gt.el),j(gt),L,U,W),ee.el=ut.el,Pe===null&&_h(L,ut.el),ae&&dt(ae,U),(_t=ee.props&&ee.props.onVnodeUpdated)&&dt(()=>Jt(_t,Ce,ee,Re),U)}else{let ee;const{el:pe,props:ae}=N,{bm:Ce,m:Re,parent:Pe,root:_t,type:ut}=L,gt=Ys(N);if(Cr(L,!1),Ce&&wi(Ce),!gt&&(ee=ae&&ae.onVnodeBeforeMount)&&Jt(ee,Pe,N),Cr(L,!0),pe&&He){const St=()=>{L.subTree=ra(L),He(pe,L.subTree,L,U,null)};gt&&ut.__asyncHydrate?ut.__asyncHydrate(pe,L,St):St()}else{_t.ce&&_t.ce._injectChildStyle(ut);const St=L.subTree=ra(L);v(null,St,B,z,L,U,W),N.el=St.el}if(Re&&dt(Re,U),!gt&&(ee=ae&&ae.onVnodeMounted)){const St=N;dt(()=>Jt(ee,Pe,St),U)}(N.shapeFlag&256||Pe&&Ys(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&L.a&&dt(L.a,U),L.isMounted=!0,N=B=z=null}};L.scope.on();const G=L.effect=new jo(J);L.scope.off();const K=L.update=G.run.bind(G),me=L.job=G.runIfDirty.bind(G);me.i=L,me.id=L.uid,G.scheduler=()=>dh(me),Cr(L,!0),K()},le=(L,N,B)=>{N.component=L;const z=L.vnode.props;L.vnode=N,L.next=null,$7(L,N.props,z,B),H7(L,N.children,B),ur(),u1(L),dr()},re=(L,N,B,z,U,W,X,J,G=!1)=>{const K=L&&L.children,me=L?L.shapeFlag:0,ee=N.children,{patchFlag:pe,shapeFlag:ae}=N;if(pe>0){if(pe&128){bn(K,ee,B,z,U,W,X,J,G);return}else if(pe&256){Ye(K,ee,B,z,U,W,X,J,G);return}}ae&8?(me&16&&Gt(K,U,W),ee!==K&&d(B,ee)):me&16?ae&16?bn(K,ee,B,z,U,W,X,J,G):Gt(K,U,W,!0):(me&8&&d(B,""),ae&16&&b(ee,B,z,U,W,X,J,G))},Ye=(L,N,B,z,U,W,X,J,G)=>{L=L||yi,N=N||yi;const K=L.length,me=N.length,ee=Math.min(K,me);let pe;for(pe=0;pe<ee;pe++){const ae=N[pe]=G?Bs(N[pe]):Zt(N[pe]);v(L[pe],ae,B,null,U,W,X,J,G)}K>me?Gt(L,U,W,!0,!1,ee):b(N,B,z,U,W,X,J,G,ee)},bn=(L,N,B,z,U,W,X,J,G)=>{let K=0;const me=N.length;let ee=L.length-1,pe=me-1;for(;K<=ee&&K<=pe;){const ae=L[K],Ce=N[K]=G?Bs(N[K]):Zt(N[K]);if(Sn(ae,Ce))v(ae,Ce,B,null,U,W,X,J,G);else break;K++}for(;K<=ee&&K<=pe;){const ae=L[ee],Ce=N[pe]=G?Bs(N[pe]):Zt(N[pe]);if(Sn(ae,Ce))v(ae,Ce,B,null,U,W,X,J,G);else break;ee--,pe--}if(K>ee){if(K<=pe){const ae=pe+1,Ce=ae<me?N[ae].el:z;for(;K<=pe;)v(null,N[K]=G?Bs(N[K]):Zt(N[K]),B,Ce,U,W,X,J,G),K++}}else if(K>pe)for(;K<=ee;)Xe(L[K],U,W,!0),K++;else{const ae=K,Ce=K,Re=new Map;for(K=Ce;K<=pe;K++){const Rt=N[K]=G?Bs(N[K]):Zt(N[K]);Rt.key!=null&&Re.set(Rt.key,K)}let Pe,_t=0;const ut=pe-Ce+1;let gt=!1,St=0;const Ts=new Array(ut);for(K=0;K<ut;K++)Ts[K]=0;for(K=ae;K<=ee;K++){const Rt=L[K];if(_t>=ut){Xe(Rt,U,W,!0);continue}let hn;if(Rt.key!=null)hn=Re.get(Rt.key);else for(Pe=Ce;Pe<=pe;Pe++)if(Ts[Pe-Ce]===0&&Sn(Rt,N[Pe])){hn=Pe;break}hn===void 0?Xe(Rt,U,W,!0):(Ts[hn-Ce]=K+1,hn>=St?St=hn:gt=!0,v(Rt,N[hn],B,null,U,W,X,J,G),_t++)}const Yr=gt?U7(Ts):yi;for(Pe=Yr.length-1,K=ut-1;K>=0;K--){const Rt=Ce+K,hn=N[Rt],Xr=Rt+1<me?N[Rt+1].el:z;Ts[K]===0?v(null,hn,B,Xr,U,W,X,J,G):gt&&(Pe<0||K!==Yr[Pe]?dn(hn,B,Xr,2):Pe--)}}},dn=(L,N,B,z,U=null)=>{const{el:W,type:X,transition:J,children:G,shapeFlag:K}=L;if(K&6){dn(L.component.subTree,N,B,z);return}if(K&128){L.suspense.move(N,B,z);return}if(K&64){X.move(L,N,B,ie);return}if(X===Le){s(W,N,B);for(let ee=0;ee<G.length;ee++)dn(G[ee],N,B,z);s(L.anchor,N,B);return}if(X===Ir){T(L,N,B);return}if(z!==2&&K&1&&J)if(z===0)J.beforeEnter(W),s(W,N,B),dt(()=>J.enter(W),U);else{const{leave:ee,delayLeave:pe,afterLeave:ae}=J,Ce=()=>s(W,N,B),Re=()=>{ee(W,()=>{Ce(),ae&&ae()})};pe?pe(W,Ce,Re):Re()}else s(W,N,B)},Xe=(L,N,B,z=!1,U=!1)=>{const{type:W,props:X,ref:J,children:G,dynamicChildren:K,shapeFlag:me,patchFlag:ee,dirs:pe,cacheIndex:ae}=L;if(ee===-2&&(U=!1),J!=null&&ka(J,null,B,L,!0),ae!=null&&(N.renderCache[ae]=void 0),me&256){N.ctx.deactivate(L);return}const Ce=me&1&&pe,Re=!Ys(L);let Pe;if(Re&&(Pe=X&&X.onVnodeBeforeUnmount)&&Jt(Pe,N,L),me&6)Rn(L.component,B,z);else{if(me&128){L.suspense.unmount(B,z);return}Ce&&Bn(L,null,N,"beforeUnmount"),me&64?L.type.remove(L,N,B,ie,z):K&&!K.hasOnce&&(W!==Le||ee>0&&ee&64)?Gt(K,N,B,!1,!0):(W===Le&&ee&384||!U&&me&16)&&Gt(G,N,B),z&&Qe(L)}(Re&&(Pe=X&&X.onVnodeUnmounted)||Ce)&&dt(()=>{Pe&&Jt(Pe,N,L),Ce&&Bn(L,null,N,"unmounted")},B)},Qe=L=>{const{type:N,el:B,anchor:z,transition:U}=L;if(N===Le){Ss(B,z);return}if(N===Ir){P(L);return}const W=()=>{r(B),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(L.shapeFlag&1&&U&&!U.persisted){const{leave:X,delayLeave:J}=U,G=()=>X(B,W);J?J(L.el,W,G):G()}else W()},Ss=(L,N)=>{let B;for(;L!==N;)B=f(L),r(L),L=B;r(N)},Rn=(L,N,B)=>{const{bum:z,scope:U,job:W,subTree:X,um:J,m:G,a:K}=L;_a(G),_a(K),z&&wi(z),U.stop(),W&&(W.flags|=8,Xe(X,L,N,B)),J&&dt(J,N),dt(()=>{L.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},Gt=(L,N,B,z=!1,U=!1,W=0)=>{for(let X=W;X<L.length;X++)Xe(L[X],N,B,z,U)},j=L=>{if(L.shapeFlag&6)return j(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const N=f(L.anchor||L.el),B=N&&N[F0];return B?f(B):N};let se=!1;const Q=(L,N,B)=>{L==null?N._vnode&&Xe(N._vnode,null,null,!0):v(N._vnode||null,L,N,null,null,null,B),N._vnode=L,se||(se=!0,u1(),ba(),se=!1)},ie={p:v,um:Xe,m:dn,r:Qe,mt:ve,mc:b,pc:re,pbc:x,n:j,o:t};let Me,He;return e&&([Me,He]=e(ie)),{render:Q,hydrate:Me,createApp:D7(Q,Me)}}function pu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Cr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ym(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function kh(t,e,n=!1){const s=t.children,r=e.children;if(oe(s)&&oe(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Bs(r[i]),l.el=o.el),!n&&l.patchFlag!==-2&&kh(o,l)),l.type===Xs&&(l.el=o.el)}}function U7(t){const e=t.slice(),n=[0];let s,r,i,o,l;const a=t.length;for(s=0;s<a;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<c?i=l+1:o=l;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function vm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:vm(e)}function _a(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Cm=Symbol.for("v-scx"),wm=()=>an(Cm);function xh(t,e){return pl(t,null,e)}function bm(t,e){return pl(t,null,{flush:"post"})}function km(t,e){return pl(t,null,{flush:"sync"})}function fs(t,e,n){return pl(t,e,n)}function pl(t,e,n=Ie){const{immediate:s,deep:r,flush:i,once:o}=n,l=qe({},n),a=e&&s||!e&&i!=="post";let c;if(Li){if(i==="sync"){const p=wm();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!a){const p=()=>{};return p.stop=Mn,p.resume=Mn,p.pause=Mn,p}}const d=at;l.call=(p,y,v)=>wn(p,d,y,v);let h=!1;i==="post"?l.scheduler=p=>{dt(p,d&&d.suspense)}:i!=="sync"&&(h=!0,l.scheduler=(p,y)=>{y?p():dh(p)}),l.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=L4(t,e,l);return Li&&(c?c.push(f):a&&f()),f}function j7(t,e,n){const s=this.proxy,r=Ge(t)?t.includes(".")?xm(s,t):()=>s[t]:t.bind(s,s);let i;we(e)?i=e:(i=e.handler,n=e);const o=Br(this),l=pl(r,i.bind(s),n);return o(),l}function xm(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function z7(t,e,n=Ie){const s=cn(),r=kt(e),i=Yt(e),o=_m(t,r),l=uh((a,c)=>{let d,h=Ie,f;return km(()=>{const p=t[r];Ht(d,p)&&(d=p,c())}),{get(){return a(),n.get?n.get(d):d},set(p){const y=n.set?n.set(p):p;if(!Ht(y,d)&&!(h!==Ie&&Ht(p,h)))return;const v=s.vnode.props;v&&(e in v||r in v||i in v)&&(`onUpdate:${e}`in v||`onUpdate:${r}`in v||`onUpdate:${i}`in v)||(d=p,c()),s.emit(`update:${e}`,y),Ht(p,y)&&Ht(p,h)&&!Ht(y,f)&&c(),h=p,f=y}}});return l[Symbol.iterator]=()=>{let a=0;return{next(){return a<2?{value:a++?o||Ie:l,done:!1}:{done:!0}}}},l}const _m=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${kt(e)}Modifiers`]||t[`${Yt(e)}Modifiers`];function W7(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ie;let r=n;const i=e.startsWith("update:"),o=i&&_m(s,e.slice(7));o&&(o.trim&&(r=n.map(d=>Ge(d)?d.trim():d)),o.number&&(r=n.map(ma)));let l,a=s[l=_o(e)]||s[l=_o(kt(e))];!a&&i&&(a=s[l=_o(Yt(e))]),a&&wn(a,t,6,r);const c=s[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,wn(c,t,6,r)}}function Sm(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},l=!1;if(!we(t)){const a=c=>{const d=Sm(c,e,!0);d&&(l=!0,qe(o,d))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!i&&!l?(je(t)&&s.set(t,null),null):(oe(i)?i.forEach(a=>o[a]=null):qe(o,i),je(t)&&s.set(t,o),o)}function bc(t,e){return!t||!al(e)?!1:(e=e.slice(2).replace(/Once$/,""),$e(t,e[0].toLowerCase()+e.slice(1))||$e(t,Yt(e))||$e(t,e))}function ra(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:a,render:c,renderCache:d,props:h,data:f,setupState:p,ctx:y,inheritAttrs:v}=t,k=Ko(t);let S,E;try{if(n.shapeFlag&4){const P=r||s,D=P;S=Zt(c.call(D,P,d,h,p,f,y)),E=l}else{const P=e;S=Zt(P.length>1?P(h,{attrs:l,slots:o,emit:a}):P(h,null)),E=e.props?l:K7(l)}}catch(P){Io.length=0,Kr(P,t,1),S=Y(it)}let T=S;if(E&&v!==!1){const P=Object.keys(E),{shapeFlag:D}=T;P.length&&D&7&&(i&&P.some(Zd)&&(E=G7(E,i)),T=zn(T,E,!1,!0))}return n.dirs&&(T=zn(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&gs(T,n.transition),S=T,Ko(k),S}function q7(t,e=!0){let n;for(let s=0;s<t.length;s++){const r=t[s];if(vs(r)){if(r.type!==it||r.children==="v-if"){if(n)return;n=r}}else return}return n}const K7=t=>{let e;for(const n in t)(n==="class"||n==="style"||al(n))&&((e||(e={}))[n]=t[n]);return e},G7=(t,e)=>{const n={};for(const s in t)(!Zd(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function J7(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:l,patchFlag:a}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?b1(s,o,c):!!o;if(a&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const f=d[h];if(o[f]!==s[f]&&!bc(c,f))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?b1(s,o,c):!0:!!o;return!1}function b1(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!bc(n,i))return!0}return!1}function _h({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Sa=t=>t.__isSuspense;let ld=0;const Z7={name:"Suspense",__isSuspense:!0,process(t,e,n,s,r,i,o,l,a,c){if(t==null)X7(e,n,s,r,i,o,l,a,c);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Q7(t,e,n,s,r,o,l,a,c)}},hydrate:e9,normalize:t9},Y7=Z7;function Jo(t,e){const n=t.props&&t.props[e];we(n)&&n()}function X7(t,e,n,s,r,i,o,l,a){const{p:c,o:{createElement:d}}=a,h=d("div"),f=t.suspense=Tm(t,r,s,e,h,n,i,o,l,a);c(null,f.pendingBranch=t.ssContent,h,null,s,f,i,o),f.deps>0?(Jo(t,"onPending"),Jo(t,"onFallback"),c(null,t.ssFallback,e,n,s,null,i,o),ki(f,t.ssFallback)):f.resolve(!1,!0)}function Q7(t,e,n,s,r,i,o,l,{p:a,um:c,o:{createElement:d}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,p=e.ssFallback,{activeBranch:y,pendingBranch:v,isInFallback:k,isHydrating:S}=h;if(v)h.pendingBranch=f,Sn(f,v)?(a(v,f,h.hiddenContainer,null,r,h,i,o,l),h.deps<=0?h.resolve():k&&(S||(a(y,p,n,s,r,null,i,o,l),ki(h,p)))):(h.pendingId=ld++,S?(h.isHydrating=!1,h.activeBranch=v):c(v,r,h),h.deps=0,h.effects.length=0,h.hiddenContainer=d("div"),k?(a(null,f,h.hiddenContainer,null,r,h,i,o,l),h.deps<=0?h.resolve():(a(y,p,n,s,r,null,i,o,l),ki(h,p))):y&&Sn(f,y)?(a(y,f,n,s,r,h,i,o,l),h.resolve(!0)):(a(null,f,h.hiddenContainer,null,r,h,i,o,l),h.deps<=0&&h.resolve()));else if(y&&Sn(f,y))a(y,f,n,s,r,h,i,o,l),ki(h,f);else if(Jo(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=ld++,a(null,f,h.hiddenContainer,null,r,h,i,o,l),h.deps<=0)h.resolve();else{const{timeout:E,pendingId:T}=h;E>0?setTimeout(()=>{h.pendingId===T&&h.fallback(p)},E):E===0&&h.fallback(p)}}function Tm(t,e,n,s,r,i,o,l,a,c,d=!1){const{p:h,m:f,um:p,n:y,o:{parentNode:v,remove:k}}=c;let S;const E=n9(t);E&&e&&e.pendingBranch&&(S=e.pendingId,e.deps++);const T=t.props?ga(t.props.timeout):void 0,P=i,D={vnode:t,parent:e,parentComponent:n,namespace:o,container:s,hiddenContainer:r,deps:0,pendingId:ld++,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!d,isHydrating:d,isUnmounted:!1,effects:[],resolve(F=!1,M=!1){const{vnode:b,activeBranch:w,pendingBranch:x,pendingId:O,effects:I,parentComponent:A,container:ve}=D;let Te=!1;D.isHydrating?D.isHydrating=!1:F||(Te=w&&x.transition&&x.transition.mode==="out-in",Te&&(w.transition.afterLeave=()=>{O===D.pendingId&&(f(x,ve,i===P?y(w):i,0),wa(I))}),w&&(v(w.el)===ve&&(i=y(w)),p(w,A,D,!0)),Te||f(x,ve,i,0)),ki(D,x),D.pendingBranch=null,D.isInFallback=!1;let ne=D.parent,le=!1;for(;ne;){if(ne.pendingBranch){ne.effects.push(...I),le=!0;break}ne=ne.parent}!le&&!Te&&wa(I),D.effects=[],E&&e&&e.pendingBranch&&S===e.pendingId&&(e.deps--,e.deps===0&&!M&&e.resolve()),Jo(b,"onResolve")},fallback(F){if(!D.pendingBranch)return;const{vnode:M,activeBranch:b,parentComponent:w,container:x,namespace:O}=D;Jo(M,"onFallback");const I=y(b),A=()=>{D.isInFallback&&(h(null,F,x,I,w,null,O,l,a),ki(D,F))},ve=F.transition&&F.transition.mode==="out-in";ve&&(b.transition.afterLeave=A),D.isInFallback=!0,p(b,w,null,!0),ve||A()},move(F,M,b){D.activeBranch&&f(D.activeBranch,F,M,b),D.container=F},next(){return D.activeBranch&&y(D.activeBranch)},registerDep(F,M,b){const w=!!D.pendingBranch;w&&D.deps++;const x=F.vnode.el;F.asyncDep.catch(O=>{Kr(O,F,0)}).then(O=>{if(F.isUnmounted||D.isUnmounted||D.pendingId!==F.suspenseId)return;F.asyncResolved=!0;const{vnode:I}=F;dd(F,O,!1),x&&(I.el=x);const A=!x&&F.subTree.el;M(F,I,v(x||F.subTree.el),x?null:y(F.subTree),D,o,b),A&&k(A),_h(F,I.el),w&&--D.deps===0&&D.resolve()})},unmount(F,M){D.isUnmounted=!0,D.activeBranch&&p(D.activeBranch,n,F,M),D.pendingBranch&&p(D.pendingBranch,n,F,M)}};return D}function e9(t,e,n,s,r,i,o,l,a){const c=e.suspense=Tm(e,s,n,t.parentNode,document.createElement("div"),null,r,i,o,l,!0),d=a(t,c.pendingBranch=e.ssContent,n,c,i,o);return c.deps===0&&c.resolve(!1,!0),d}function t9(t){const{shapeFlag:e,children:n}=t,s=e&32;t.ssContent=k1(s?n.default:n),t.ssFallback=s?k1(n.fallback):Y(it)}function k1(t){let e;if(we(t)){const n=Fr&&t._c;n&&(t._d=!1,$()),t=t(),n&&(t._d=!0,e=Ot,Mm())}return oe(t)&&(t=q7(t)),t=Zt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Em(t,e){e&&e.pendingBranch?oe(t)?e.effects.push(...t):e.effects.push(t):wa(t)}function ki(t,e){t.activeBranch=e;const{vnode:n,parentComponent:s}=t;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;n.el=r,s&&s.subTree===n&&(s.vnode.el=r,_h(s,r))}function n9(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Le=Symbol.for("v-fgt"),Xs=Symbol.for("v-txt"),it=Symbol.for("v-cmt"),Ir=Symbol.for("v-stc"),Io=[];let Ot=null;function $(t=!1){Io.push(Ot=t?null:[])}function Mm(){Io.pop(),Ot=Io[Io.length-1]||null}let Fr=1;function ad(t){Fr+=t,t<0&&Ot&&(Ot.hasOnce=!0)}function Am(t){return t.dynamicChildren=Fr>0?Ot||yi:null,Mm(),Fr>0&&Ot&&Ot.push(t),t}function H(t,e,n,s,r,i){return Am(g(t,e,n,s,r,i,!0))}function De(t,e,n,s,r){return Am(Y(t,e,n,s,r,!0))}function vs(t){return t?t.__v_isVNode===!0:!1}function Sn(t,e){return t.type===e.type&&t.key===e.key}function s9(t){}const Im=({key:t})=>t??null,ia=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ge(t)||tt(t)||we(t)?{i:ct,r:t,k:e,f:!!n}:t:null);function g(t,e=null,n=null,s=0,r=null,i=t===Le?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Im(e),ref:e&&ia(e),scopeId:mc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ct};return l?(Sh(a,n),i&128&&t.normalize(a)):n&&(a.shapeFlag|=Ge(n)?8:16),Fr>0&&!o&&Ot&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&Ot.push(a),a}const Y=r9;function r9(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===em)&&(t=it),vs(t)){const l=zn(t,e,!0);return n&&Sh(l,n),Fr>0&&!i&&Ot&&(l.shapeFlag&6?Ot[Ot.indexOf(t)]=l:Ot.push(l)),l.patchFlag=-2,l}if(d9(t)&&(t=t.__vccOpts),e){e=Om(e);let{class:l,style:a}=e;l&&!Ge(l)&&(e.class=Fe(l)),je(a)&&(pc(a)&&!oe(a)&&(a=qe({},a)),e.style=ul(a))}const o=Ge(t)?1:Sa(t)?128:B0(t)?64:je(t)?4:we(t)?2:0;return g(t,e,n,s,r,o,i,!0)}function Om(t){return t?pc(t)||lm(t)?qe({},t):t:null}function zn(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:a}=t,c=e?Lm(r||{},e):r,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Im(c),ref:e&&e.ref?n&&i?oe(i)?i.concat(ia(e)):[i,ia(e)]:ia(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Le?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zn(t.ssContent),ssFallback:t.ssFallback&&zn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&s&&gs(d,a.clone(d)),d}function ke(t=" ",e=0){return Y(Xs,null,t,e)}function et(t,e){const n=Y(Ir,null,t);return n.staticCount=e,n}function de(t="",e=!1){return e?($(),De(it,null,t)):Y(it,null,t)}function Zt(t){return t==null||typeof t=="boolean"?Y(it):oe(t)?Y(Le,null,t.slice()):vs(t)?Bs(t):Y(Xs,null,String(t))}function Bs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zn(t)}function Sh(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(oe(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Sh(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!lm(e)?e._ctx=ct:r===3&&ct&&(ct.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else we(e)?(e={default:e,_ctx:ct},n=32):(e=String(e),s&64?(n=16,e=[ke(e)]):n=8);t.children=e,t.shapeFlag|=n}function Lm(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Fe([e.class,s.class]));else if(r==="style")e.style=ul([e.style,s.style]);else if(al(r)){const i=e[r],o=s[r];o&&i!==o&&!(oe(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Jt(t,e,n,s=null){wn(t,e,7,[n,s])}const i9=sm();let o9=0;function Pm(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||i9,i={uid:o9++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new eh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cm(s,r),emitsOptions:Sm(s,r),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:s.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=W7.bind(null,i),t.ce&&t.ce(i),i}let at=null;const cn=()=>at||ct;let Ta,cd;{const t=ac(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Ta=e("__VUE_INSTANCE_SETTERS__",n=>at=n),cd=e("__VUE_SSR_SETTERS__",n=>Li=n)}const Br=t=>{const e=at;return Ta(t),t.scope.on(),()=>{t.scope.off(),Ta(e)}},ud=()=>{at&&at.scope.off(),Ta(null)};function Nm(t){return t.vnode.shapeFlag&4}let Li=!1;function Dm(t,e=!1,n=!1){e&&cd(e);const{props:s,children:r}=t.vnode,i=Nm(t);R7(t,s,i,e),V7(t,r,n);const o=i?l9(t,e):void 0;return e&&cd(!1),o}function l9(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,sd);const{setup:s}=n;if(s){ur();const r=t.setupContext=s.length>1?$m(t):null,i=Br(t),o=Ki(s,t,0,[t.props,r]),l=Xd(o);if(dr(),i(),(l||t.sp)&&!Ys(t)&&ph(t),l){if(o.then(ud,ud),e)return o.then(a=>{dd(t,a,e)}).catch(a=>{Kr(a,t,0)});t.asyncDep=o}else dd(t,o,e)}else Rm(t,e)}function dd(t,e,n){we(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:je(e)&&(t.setupState=ch(e)),Rm(t,n)}let Ea,hd;function a9(t){Ea=t,hd=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,m7))}}const c9=()=>!Ea;function Rm(t,e,n){const s=t.type;if(!t.render){if(!e&&Ea&&!s.render){const r=s.template||wh(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=s,c=qe(qe({isCustomElement:i,delimiters:l},o),a);s.render=Ea(r,c)}}t.render=s.render||Mn,hd&&hd(t)}{const r=Br(t);ur();try{A7(t)}finally{dr(),r()}}}const u9={get(t,e){return At(t,"get",""),t[e]}};function $m(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,u9),slots:t.slots,emit:t.emit,expose:e}}function ml(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ch(dl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Mo)return Mo[n](t)},has(e,n){return n in e||n in Mo}})):t.proxy}function fd(t,e=!0){return we(t)?t.displayName||t.name:t.name||e&&t.__name}function d9(t){return we(t)&&"__vccOpts"in t}const he=(t,e)=>M4(t,e,Li);function gl(t,e,n){const s=arguments.length;return s===2?je(e)&&!oe(e)?vs(e)?Y(t,null,[e]):Y(t,e):Y(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&vs(n)&&(n=[n]),Y(t,e,n))}function h9(){}function f9(t,e,n,s){const r=n[s];if(r&&Fm(r,t))return r;const i=e();return i.memo=t.slice(),i.cacheIndex=s,n[s]=i}function Fm(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let s=0;s<n.length;s++)if(Ht(n[s],e[s]))return!1;return Fr>0&&Ot&&Ot.push(t),!0}const Bm="3.5.12",p9=Mn,m9=$4,g9=ui,y9=$0,v9={createComponentInstance:Pm,setupComponent:Dm,renderComponentRoot:ra,setCurrentRenderingInstance:Ko,isVNode:vs,normalizeVNode:Zt,getComponentPublicInstance:ml,ensureValidVNode:Ch,pushWarningContext:P4,popWarningContext:N4},C9=v9,w9=null,b9=null,k9=null;/**
* @vue/runtime-dom v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pd;const x1=typeof window<"u"&&window.trustedTypes;if(x1)try{pd=x1.createPolicy("vue",{createHTML:t=>t})}catch{}const Vm=pd?t=>pd.createHTML(t):t=>t,x9="http://www.w3.org/2000/svg",_9="http://www.w3.org/1998/Math/MathML",ts=typeof document<"u"?document:null,_1=ts&&ts.createElement("template"),S9={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?ts.createElementNS(x9,t):e==="mathml"?ts.createElementNS(_9,t):n?ts.createElement(t,{is:n}):ts.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>ts.createTextNode(t),createComment:t=>ts.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ts.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{_1.innerHTML=Vm(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const l=_1.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Is="transition",po="animation",Pi=Symbol("_vtc"),Hm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Um=qe({},fh,Hm),T9=t=>(t.displayName="Transition",t.props=Um,t),E9=T9((t,{slots:e})=>gl(z0,jm(t),e)),wr=(t,e=[])=>{oe(t)?t.forEach(n=>n(...e)):t&&t(...e)},S1=t=>t?oe(t)?t.some(e=>e.length>1):t.length>1:!1;function jm(t){const e={};for(const I in t)I in Hm||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=i,appearActiveClass:c=o,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,y=M9(r),v=y&&y[0],k=y&&y[1],{onBeforeEnter:S,onEnter:E,onEnterCancelled:T,onLeave:P,onLeaveCancelled:D,onBeforeAppear:F=S,onAppear:M=E,onAppearCancelled:b=T}=e,w=(I,A,ve)=>{Ps(I,A?d:l),Ps(I,A?c:o),ve&&ve()},x=(I,A)=>{I._isLeaving=!1,Ps(I,h),Ps(I,p),Ps(I,f),A&&A()},O=I=>(A,ve)=>{const Te=I?M:E,ne=()=>w(A,I,ve);wr(Te,[A,ne]),T1(()=>{Ps(A,I?a:i),es(A,I?d:l),S1(Te)||E1(A,s,v,ne)})};return qe(e,{onBeforeEnter(I){wr(S,[I]),es(I,i),es(I,o)},onBeforeAppear(I){wr(F,[I]),es(I,a),es(I,c)},onEnter:O(!1),onAppear:O(!0),onLeave(I,A){I._isLeaving=!0;const ve=()=>x(I,A);es(I,h),es(I,f),Wm(),T1(()=>{I._isLeaving&&(Ps(I,h),es(I,p),S1(P)||E1(I,s,k,ve))}),wr(P,[I,ve])},onEnterCancelled(I){w(I,!1),wr(T,[I])},onAppearCancelled(I){w(I,!0),wr(b,[I])},onLeaveCancelled(I){x(I),wr(D,[I])}})}function M9(t){if(t==null)return null;if(je(t))return[mu(t.enter),mu(t.leave)];{const e=mu(t);return[e,e]}}function mu(t){return ga(t)}function es(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Pi]||(t[Pi]=new Set)).add(e)}function Ps(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Pi];n&&(n.delete(e),n.size||(t[Pi]=void 0))}function T1(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let A9=0;function E1(t,e,n,s){const r=t._endId=++A9,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:l,propCount:a}=zm(t,e);if(!o)return s();const c=o+"end";let d=0;const h=()=>{t.removeEventListener(c,f),i()},f=p=>{p.target===t&&++d>=a&&h()};setTimeout(()=>{d<a&&h()},l+1),t.addEventListener(c,f)}function zm(t,e){const n=window.getComputedStyle(t),s=y=>(n[y]||"").split(", "),r=s(`${Is}Delay`),i=s(`${Is}Duration`),o=M1(r,i),l=s(`${po}Delay`),a=s(`${po}Duration`),c=M1(l,a);let d=null,h=0,f=0;e===Is?o>0&&(d=Is,h=o,f=i.length):e===po?c>0&&(d=po,h=c,f=a.length):(h=Math.max(o,c),d=h>0?o>c?Is:po:null,f=d?d===Is?i.length:a.length:0);const p=d===Is&&/\b(transform|all)(,|$)/.test(s(`${Is}Property`).toString());return{type:d,timeout:h,propCount:f,hasTransform:p}}function M1(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>A1(n)+A1(t[s])))}function A1(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Wm(){return document.body.offsetHeight}function I9(t,e,n){const s=t[Pi];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ma=Symbol("_vod"),qm=Symbol("_vsh"),Oo={beforeMount(t,{value:e},{transition:n}){t[Ma]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):mo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),mo(t,!0),s.enter(t)):s.leave(t,()=>{mo(t,!1)}):mo(t,e))},beforeUnmount(t,{value:e}){mo(t,e)}};function mo(t,e){t.style.display=e?t[Ma]:"none",t[qm]=!e}function O9(){Oo.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Km=Symbol("");function L9(t){const e=cn();if(!e)return;const n=e.ut=(r=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Aa(i,r))},s=()=>{const r=t(e.proxy);e.ce?Aa(e.ce,r):md(e.subTree,r),n(r)};mh(()=>{bm(s)}),Dn(()=>{const r=new MutationObserver(s);r.observe(e.subTree.el.parentNode,{childList:!0}),Cc(()=>r.disconnect())})}function md(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{md(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Aa(t.el,e);else if(t.type===Le)t.children.forEach(n=>md(n,e));else if(t.type===Ir){let{el:n,anchor:s}=t;for(;n&&(Aa(n,e),n!==s);)n=n.nextSibling}}function Aa(t,e){if(t.nodeType===1){const n=t.style;let s="";for(const r in e)n.setProperty(`--${r}`,e[r]),s+=`--${r}: ${e[r]};`;n[Km]=s}}const P9=/(^|;)\s*display\s*:/;function N9(t,e,n){const s=t.style,r=Ge(n);let i=!1;if(n&&!r){if(e)if(Ge(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&oa(s,l,"")}else for(const o in e)n[o]==null&&oa(s,o,"");for(const o in n)o==="display"&&(i=!0),oa(s,o,n[o])}else if(r){if(e!==n){const o=s[Km];o&&(n+=";"+o),s.cssText=n,i=P9.test(n)}}else e&&t.removeAttribute("style");Ma in t&&(t[Ma]=i?s.display:"",t[qm]&&(s.display="none"))}const I1=/\s*!important$/;function oa(t,e,n){if(oe(n))n.forEach(s=>oa(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=D9(t,e);I1.test(n)?t.setProperty(Yt(s),n.replace(I1,""),"important"):t[s]=n}}const O1=["Webkit","Moz","ms"],gu={};function D9(t,e){const n=gu[e];if(n)return n;let s=kt(e);if(s!=="filter"&&s in t)return gu[e]=s;s=cl(s);for(let r=0;r<O1.length;r++){const i=O1[r]+s;if(i in t)return gu[e]=i}return e}const L1="http://www.w3.org/1999/xlink";function P1(t,e,n,s,r,i=J5(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(L1,e.slice(6,e.length)):t.setAttributeNS(L1,e,n):n==null||i&&!u0(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Ln(n)?String(n):n)}function N1(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Vm(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=u0(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(r||e)}function is(t,e,n,s){t.addEventListener(e,n,s)}function R9(t,e,n,s){t.removeEventListener(e,n,s)}const D1=Symbol("_vei");function $9(t,e,n,s,r=null){const i=t[D1]||(t[D1]={}),o=i[e];if(s&&o)o.value=s;else{const[l,a]=F9(e);if(s){const c=i[e]=H9(s,r);is(t,l,c,a)}else o&&(R9(t,l,o,a),i[e]=void 0)}}const R1=/(?:Once|Passive|Capture)$/;function F9(t){let e;if(R1.test(t)){e={};let s;for(;s=t.match(R1);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Yt(t.slice(2)),e]}let yu=0;const B9=Promise.resolve(),V9=()=>yu||(B9.then(()=>yu=0),yu=Date.now());function H9(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;wn(U9(s,n.value),e,5,[s])};return n.value=t,n.attached=V9(),n}function U9(t,e){if(oe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const $1=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,j9=(t,e,n,s,r,i)=>{const o=r==="svg";e==="class"?I9(t,s,o):e==="style"?N9(t,n,s):al(e)?Zd(e)||$9(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):z9(t,e,s,o))?(N1(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&P1(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ge(s))?N1(t,kt(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),P1(t,e,s,o))};function z9(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&$1(e)&&we(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return $1(e)&&Ge(n)?!1:e in t}const F1={};/*! #__NO_SIDE_EFFECTS__ */function Gm(t,e,n){const s=Gi(t,e);oc(s)&&qe(s,e);class r extends kc{constructor(o){super(s,o,n)}}return r.def=s,r}/*! #__NO_SIDE_EFFECTS__ */const W9=(t,e)=>Gm(t,e,o6),q9=typeof HTMLElement<"u"?HTMLElement:class{};class kc extends q9{constructor(e,n={},s=Oa){super(),this._def=e,this._props=n,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==Oa?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof kc){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,Gr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const r of s)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(s,r=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=s;let l;if(i&&!oe(i))for(const a in i){const c=i[a];(c===Number||c&&c.type===Number)&&(a in this._props&&(this._props[a]=ga(this._props[a])),(l||(l=Object.create(null)))[kt(a)]=!0)}this._numberProps=l,r&&this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(s=>e(this._def=s,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const s in n)$e(this,s)||Object.defineProperty(this,s,{get:()=>st(n[s])})}_resolveProps(e){const{props:n}=e,s=oe(n)?n:Object.keys(n||{});for(const r of Object.keys(this))r[0]!=="_"&&s.includes(r)&&this._setProp(r,this[r]);for(const r of s.map(kt))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(i){this._setProp(r,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let s=n?this.getAttribute(e):F1;const r=kt(e);n&&this._numberProps&&this._numberProps[r]&&(s=ga(s)),this._setProp(r,s,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,s=!0,r=!1){n!==this._props[e]&&(n===F1?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),r&&this._instance&&this._update(),s&&(n===!0?this.setAttribute(Yt(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Yt(e),n+""):n||this.removeAttribute(Yt(e))))}_update(){i6(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=Y(this._def,qe(e,this._props));return this._instance||(n.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const r=(i,o)=>{this.dispatchEvent(new CustomEvent(i,oc(o[0])?qe({detail:o},o[0]):{detail:o}))};s.emit=(i,...o)=>{r(i,o),Yt(i)!==i&&r(Yt(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const s=this._nonce;for(let r=e.length-1;r>=0;r--){const i=document.createElement("style");s&&i.setAttribute("nonce",s),i.textContent=e[r],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const s=n.nodeType===1&&n.getAttribute("slot")||"default";(e[s]||(e[s]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let s=0;s<e.length;s++){const r=e[s],i=r.getAttribute("name")||"default",o=this._slots[i],l=r.parentNode;if(o)for(const a of o){if(n&&a.nodeType===1){const c=n+"-s",d=document.createTreeWalker(a,1);a.setAttribute(c,"");let h;for(;h=d.nextNode();)h.setAttribute(c,"")}l.insertBefore(a,r)}else for(;r.firstChild;)l.insertBefore(r.firstChild,r);l.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function Jm(t){const e=cn(),n=e&&e.ce;return n||null}function K9(){const t=Jm();return t&&t.shadowRoot}function G9(t="$style"){{const e=cn();if(!e)return Ie;const n=e.type.__cssModules;if(!n)return Ie;const s=n[t];return s||Ie}}const Zm=new WeakMap,Ym=new WeakMap,Ia=Symbol("_moveCb"),B1=Symbol("_enterCb"),J9=t=>(delete t.props.mode,t),Z9=J9({name:"TransitionGroup",props:qe({},Um,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=cn(),s=hh();let r,i;return vc(()=>{if(!r.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!t8(r[0].el,n.vnode.el,o))return;r.forEach(X9),r.forEach(Q9);const l=r.filter(e8);Wm(),l.forEach(a=>{const c=a.el,d=c.style;es(c,o),d.transform=d.webkitTransform=d.transitionDuration="";const h=c[Ia]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",h),c[Ia]=null,Ps(c,o))};c.addEventListener("transitionend",h)})}),()=>{const o=Ae(t),l=jm(o);let a=o.tag||Le;if(r=[],i)for(let c=0;c<i.length;c++){const d=i[c];d.el&&d.el instanceof Element&&(r.push(d),gs(d,Oi(d,l,s,n)),Zm.set(d,d.el.getBoundingClientRect()))}i=e.default?gc(e.default()):[];for(let c=0;c<i.length;c++){const d=i[c];d.key!=null&&gs(d,Oi(d,l,s,n))}return Y(a,null,i)}}}),Y9=Z9;function X9(t){const e=t.el;e[Ia]&&e[Ia](),e[B1]&&e[B1]()}function Q9(t){Ym.set(t,t.el.getBoundingClientRect())}function e8(t){const e=Zm.get(t),n=Ym.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",t}}function t8(t,e,n){const s=t.cloneNode(),r=t[Pi];r&&r.forEach(l=>{l.split(/\s+/).forEach(a=>a&&s.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:o}=zm(s);return i.removeChild(s),o}const ar=t=>{const e=t.props["onUpdate:modelValue"]||!1;return oe(e)?n=>wi(e,n):e};function n8(t){t.target.composing=!0}function V1(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vn=Symbol("_assign"),Ue={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[vn]=ar(r);const i=s||r.props&&r.props.type==="number";is(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=ma(l)),t[vn](l)}),n&&is(t,"change",()=>{t.value=t.value.trim()}),e||(is(t,"compositionstart",n8),is(t,"compositionend",V1),is(t,"change",V1))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},o){if(t[vn]=ar(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?ma(t.value):t.value,a=e??"";l!==a&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===a)||(t.value=a))}},Vn={deep:!0,created(t,e,n){t[vn]=ar(n),is(t,"change",()=>{const s=t._modelValue,r=Ni(t),i=t.checked,o=t[vn];if(oe(s)){const l=cc(s,r),a=l!==-1;if(i&&!a)o(s.concat(r));else if(!i&&a){const c=[...s];c.splice(l,1),o(c)}}else if(Wr(s)){const l=new Set(s);i?l.add(r):l.delete(r),o(l)}else o(Qm(t,i))})},mounted:H1,beforeUpdate(t,e,n){t[vn]=ar(n),H1(t,e,n)}};function H1(t,{value:e,oldValue:n},s){t._modelValue=e;let r;if(oe(e))r=cc(e,s.props.value)>-1;else if(Wr(e))r=e.has(s.props.value);else{if(e===n)return;r=or(e,Qm(t,!0))}t.checked!==r&&(t.checked=r)}const xn={created(t,{value:e},n){t.checked=or(e,n.props.value),t[vn]=ar(n),is(t,"change",()=>{t[vn](Ni(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t[vn]=ar(s),e!==n&&(t.checked=or(e,s.props.value))}},Xm={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=Wr(e);is(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?ma(Ni(o)):Ni(o));t[vn](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Gr(()=>{t._assigning=!1})}),t[vn]=ar(s)},mounted(t,{value:e}){U1(t,e)},beforeUpdate(t,e,n){t[vn]=ar(n)},updated(t,{value:e}){t._assigning||U1(t,e)}};function U1(t,e){const n=t.multiple,s=oe(e);if(!(n&&!s&&!Wr(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],l=Ni(o);if(n)if(s){const a=typeof l;a==="string"||a==="number"?o.selected=e.some(c=>String(c)===String(l)):o.selected=cc(e,l)>-1}else o.selected=e.has(l);else if(or(Ni(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ni(t){return"_value"in t?t._value:t.value}function Qm(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const e6={created(t,e,n){Kl(t,e,n,null,"created")},mounted(t,e,n){Kl(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){Kl(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){Kl(t,e,n,s,"updated")}};function t6(t,e){switch(t){case"SELECT":return Xm;case"TEXTAREA":return Ue;default:switch(e){case"checkbox":return Vn;case"radio":return xn;default:return Ue}}}function Kl(t,e,n,s,r){const o=t6(t.tagName,n.props&&n.props.type)[r];o&&o(t,e,n,s)}function s8(){Ue.getSSRProps=({value:t})=>({value:t}),xn.getSSRProps=({value:t},e)=>{if(e.props&&or(e.props.value,t))return{checked:!0}},Vn.getSSRProps=({value:t},e)=>{if(oe(t)){if(e.props&&cc(t,e.props.value)>-1)return{checked:!0}}else if(Wr(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},e6.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=t6(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const r8=["ctrl","shift","alt","meta"],i8={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>r8.some(n=>t[`${n}Key`]&&!e.includes(n))},as=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let o=0;o<e.length;o++){const l=i8[e[o]];if(l&&l(r,e))return}return t(r,...i)})},o8={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},l8=(t,e)=>{const n=t._withKeys||(t._withKeys={}),s=e.join(".");return n[s]||(n[s]=r=>{if(!("key"in r))return;const i=Yt(r.key);if(e.some(o=>o===i||o8[o]===i))return t(r)})},n6=qe({patchProp:j9},S9);let Lo,j1=!1;function s6(){return Lo||(Lo=pm(n6))}function r6(){return Lo=j1?Lo:mm(n6),j1=!0,Lo}const i6=(...t)=>{s6().render(...t)},a8=(...t)=>{r6().hydrate(...t)},Oa=(...t)=>{const e=s6().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=a6(s);if(!r)return;const i=e._component;!we(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,l6(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},o6=(...t)=>{const e=r6().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=a6(s);if(r)return n(r,!0,l6(r))},e};function l6(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function a6(t){return Ge(t)?document.querySelector(t):t}let z1=!1;const c8=()=>{z1||(z1=!0,s8(),O9())};/**
* vue v3.5.12
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const u8=()=>{},d8=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:z0,BaseTransitionPropsValidators:fh,Comment:it,DeprecationTypes:k9,EffectScope:eh,ErrorCodes:R4,ErrorTypeStrings:m9,Fragment:Le,KeepAlive:c7,ReactiveEffect:jo,Static:Ir,Suspense:Y7,Teleport:V0,Text:Xs,TrackOpTypes:A4,Transition:E9,TransitionGroup:Y9,TriggerOpTypes:I4,VueElement:kc,assertNumber:D4,callWithAsyncErrorHandling:wn,callWithErrorHandling:Ki,camelize:kt,capitalize:cl,cloneVNode:zn,compatUtils:b9,compile:u8,computed:he,createApp:Oa,createBlock:De,createCommentVNode:de,createElementBlock:H,createElementVNode:g,createHydrationRenderer:mm,createPropsRestProxy:E7,createRenderer:pm,createSSRApp:o6,createSlots:f7,createStaticVNode:et,createTextVNode:ke,createVNode:Y,customRef:uh,defineAsyncComponent:l7,defineComponent:Gi,defineCustomElement:Gm,defineEmits:y7,defineExpose:v7,defineModel:b7,defineOptions:C7,defineProps:g7,defineSSRCustomElement:W9,defineSlots:w7,devtools:g9,effect:X5,effectScope:th,getCurrentInstance:cn,getCurrentScope:nh,getCurrentWatcher:O4,getTransitionRawChildren:gc,guardReactiveProps:Om,h:gl,handleError:Kr,hasInjectionContext:rm,hydrate:a8,hydrateOnIdle:t7,hydrateOnInteraction:i7,hydrateOnMediaQuery:r7,hydrateOnVisible:s7,initCustomFormatter:h9,initDirectivesForSSR:c8,inject:an,isMemoSame:Fm,isProxy:pc,isReactive:Un,isReadonly:lr,isRef:tt,isRuntimeOnly:c9,isShallow:ln,isVNode:vs,markRaw:dl,mergeDefaults:S7,mergeModels:T7,mergeProps:Lm,nextTick:Gr,normalizeClass:Fe,normalizeProps:K5,normalizeStyle:ul,onActivated:q0,onBeforeMount:mh,onBeforeUnmount:fl,onBeforeUpdate:J0,onDeactivated:K0,onErrorCaptured:Q0,onMounted:Dn,onRenderTracked:X0,onRenderTriggered:Y0,onScopeDispose:f0,onServerPrefetch:Z0,onUnmounted:Cc,onUpdated:vc,onWatcherCleanup:L0,openBlock:$,popScopeId:H4,provide:Ao,proxyRefs:ch,pushScopeId:V4,queuePostFlushCb:wa,reactive:qr,readonly:lh,ref:ue,registerRuntimeCompiler:a9,render:i6,renderList:wc,renderSlot:vh,resolveComponent:hr,resolveDirective:ys,resolveDynamicComponent:h7,resolveFilter:w9,resolveTransitionHooks:Oi,setBlockTracking:ad,setDevtoolsHook:y9,setTransitionHooks:gs,shallowReactive:oh,shallowReadonly:v4,shallowRef:ah,ssrContextKey:Cm,ssrUtils:C9,stop:Q5,toDisplayString:fe,toHandlerKey:_o,toHandlers:p7,toRaw:Ae,toRef:T4,toRefs:I0,toValue:b4,transformVNodeArgs:s9,triggerRef:w4,unref:st,useAttrs:_7,useCssModule:G9,useCssVars:L9,useHost:Jm,useId:K4,useModel:z7,useSSRContext:wm,useShadowRoot:K9,useSlots:x7,useTemplateRef:G4,useTransitionState:hh,vModelCheckbox:Vn,vModelDynamic:e6,vModelRadio:xn,vModelSelect:Xm,vModelText:Ue,vShow:Oo,version:Bm,warn:p9,watch:fs,watchEffect:xh,watchPostEffect:bm,watchSyncEffect:km,withAsyncContext:M7,withCtx:Ze,withDefaults:k7,withDirectives:ye,withKeys:l8,withMemo:f9,withModifiers:as,withScopeId:U4},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const di=typeof document<"u";function c6(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function h8(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&c6(t.default)}const Ve=Object.assign;function vu(t,e){const n={};for(const s in e){const r=e[s];n[s]=Pn(r)?r.map(t):t(r)}return n}const Po=()=>{},Pn=Array.isArray,u6=/#/g,f8=/&/g,p8=/\//g,m8=/=/g,g8=/\?/g,d6=/\+/g,y8=/%5B/g,v8=/%5D/g,h6=/%5E/g,C8=/%60/g,f6=/%7B/g,w8=/%7C/g,p6=/%7D/g,b8=/%20/g;function Th(t){return encodeURI(""+t).replace(w8,"|").replace(y8,"[").replace(v8,"]")}function k8(t){return Th(t).replace(f6,"{").replace(p6,"}").replace(h6,"^")}function gd(t){return Th(t).replace(d6,"%2B").replace(b8,"+").replace(u6,"%23").replace(f8,"%26").replace(C8,"`").replace(f6,"{").replace(p6,"}").replace(h6,"^")}function x8(t){return gd(t).replace(m8,"%3D")}function _8(t){return Th(t).replace(u6,"%23").replace(g8,"%3F")}function S8(t){return t==null?"":_8(t).replace(p8,"%2F")}function Zo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const T8=/\/$/,E8=t=>t.replace(T8,"");function Cu(t,e,n="/"){let s,r={},i="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=e.slice(0,a),i=e.slice(a+1,l>-1?l:e.length),r=t(i)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=O8(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:Zo(o)}}function M8(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function W1(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function A8(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Di(e.matched[s],n.matched[r])&&m6(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Di(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function m6(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!I8(t[n],e[n]))return!1;return!0}function I8(t,e){return Pn(t)?q1(t,e):Pn(e)?q1(e,t):t===e}function q1(t,e){return Pn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function O8(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Os={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Yo;(function(t){t.pop="pop",t.push="push"})(Yo||(Yo={}));var No;(function(t){t.back="back",t.forward="forward",t.unknown=""})(No||(No={}));function L8(t){if(!t)if(di){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),E8(t)}const P8=/^[^#]+#/;function N8(t,e){return t.replace(P8,"#")+e}function D8(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const xc=()=>({left:window.scrollX,top:window.scrollY});function R8(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=D8(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function K1(t,e){return(history.state?history.state.position-e:-1)+t}const yd=new Map;function $8(t,e){yd.set(t,e)}function F8(t){const e=yd.get(t);return yd.delete(t),e}let B8=()=>location.protocol+"//"+location.host;function g6(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let l=r.includes(t.slice(i))?t.slice(i).length:1,a=r.slice(l);return a[0]!=="/"&&(a="/"+a),W1(a,"")}return W1(n,t)+s+r}function V8(t,e,n,s){let r=[],i=[],o=null;const l=({state:f})=>{const p=g6(t,location),y=n.value,v=e.value;let k=0;if(f){if(n.value=p,e.value=f,o&&o===y){o=null;return}k=v?f.position-v.position:0}else s(p);r.forEach(S=>{S(n.value,y,{delta:k,type:Yo.pop,direction:k?k>0?No.forward:No.back:No.unknown})})};function a(){o=n.value}function c(f){r.push(f);const p=()=>{const y=r.indexOf(f);y>-1&&r.splice(y,1)};return i.push(p),p}function d(){const{history:f}=window;f.state&&f.replaceState(Ve({},f.state,{scroll:xc()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:a,listen:c,destroy:h}}function G1(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?xc():null}}function H8(t){const{history:e,location:n}=window,s={value:g6(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(a,c,d){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+a:B8()+t+a;try{e[d?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),n[d?"replace":"assign"](f)}}function o(a,c){const d=Ve({},e.state,G1(r.value.back,a,r.value.forward,!0),c,{position:r.value.position});i(a,d,!0),s.value=a}function l(a,c){const d=Ve({},r.value,e.state,{forward:a,scroll:xc()});i(d.current,d,!0);const h=Ve({},G1(s.value,a,null),{position:d.position+1},c);i(a,h,!1),s.value=a}return{location:s,state:r,push:l,replace:o}}function U8(t){t=L8(t);const e=H8(t),n=V8(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Ve({location:"",base:t,go:s,createHref:N8.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function j8(t){return typeof t=="string"||t&&typeof t=="object"}function y6(t){return typeof t=="string"||typeof t=="symbol"}const v6=Symbol("");var J1;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(J1||(J1={}));function Ri(t,e){return Ve(new Error,{type:t,[v6]:!0},e)}function Xn(t,e){return t instanceof Error&&v6 in t&&(e==null||!!(t.type&e))}const Z1="[^/]+?",z8={sensitive:!1,strict:!1,start:!0,end:!0},W8=/[.+*?^${}()[\]/\\]/g;function q8(t,e){const n=Ve({},z8,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const d=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(W8,"\\$&"),p+=40;else if(f.type===1){const{value:y,repeatable:v,optional:k,regexp:S}=f;i.push({name:y,repeatable:v,optional:k});const E=S||Z1;if(E!==Z1){p+=10;try{new RegExp(`(${E})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${y}" (${E}): `+P.message)}}let T=v?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;h||(T=k&&c.length<2?`(?:/${T})`:"/"+T),k&&(T+="?"),r+=T,p+=20,k&&(p+=-8),v&&(p+=-20),E===".*"&&(p+=-50)}d.push(p)}s.push(d)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(c){const d=c.match(o),h={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",y=i[f-1];h[y.name]=p&&y.repeatable?p.split("/"):p}return h}function a(c){let d="",h=!1;for(const f of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const p of f)if(p.type===0)d+=p.value;else if(p.type===1){const{value:y,repeatable:v,optional:k}=p,S=y in c?c[y]:"";if(Pn(S)&&!v)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const E=Pn(S)?S.join("/"):S;if(!E)if(k)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${y}"`);d+=E}}return d||"/"}return{re:o,score:s,keys:i,parse:l,stringify:a}}function K8(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function C6(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=K8(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Y1(s))return 1;if(Y1(r))return-1}return r.length-s.length}function Y1(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const G8={type:0,value:""},J8=/[a-zA-Z0-9_]/;function Z8(t){if(!t)return[[]];if(t==="/")return[[G8]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let l=0,a,c="",d="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:d,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&h(),o()):a===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:a==="("?n=2:J8.test(a)?f():(h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+a:n=3:d+=a;break;case 3:h(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function Y8(t,e,n){const s=q8(Z8(t.path),n),r=Ve(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function X8(t,e){const n=[],s=new Map;e=tp({strict:!1,end:!0,sensitive:!1},e);function r(h){return s.get(h)}function i(h,f,p){const y=!p,v=Q1(h);v.aliasOf=p&&p.record;const k=tp(e,h),S=[v];if("alias"in h){const P=typeof h.alias=="string"?[h.alias]:h.alias;for(const D of P)S.push(Q1(Ve({},v,{components:p?p.record.components:v.components,path:D,aliasOf:p?p.record:v})))}let E,T;for(const P of S){const{path:D}=P;if(f&&D[0]!=="/"){const F=f.record.path,M=F[F.length-1]==="/"?"":"/";P.path=f.record.path+(D&&M+D)}if(E=Y8(P,f,k),p?p.alias.push(E):(T=T||E,T!==E&&T.alias.push(E),y&&h.name&&!ep(E)&&o(h.name)),w6(E)&&a(E),v.children){const F=v.children;for(let M=0;M<F.length;M++)i(F[M],E,p&&p.children[M])}p=p||E}return T?()=>{o(T)}:Po}function o(h){if(y6(h)){const f=s.get(h);f&&(s.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function l(){return n}function a(h){const f=ty(h,n);n.splice(f,0,h),h.record.name&&!ep(h)&&s.set(h.record.name,h)}function c(h,f){let p,y={},v,k;if("name"in h&&h.name){if(p=s.get(h.name),!p)throw Ri(1,{location:h});k=p.record.name,y=Ve(X1(f.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),h.params&&X1(h.params,p.keys.map(T=>T.name))),v=p.stringify(y)}else if(h.path!=null)v=h.path,p=n.find(T=>T.re.test(v)),p&&(y=p.parse(v),k=p.record.name);else{if(p=f.name?s.get(f.name):n.find(T=>T.re.test(f.path)),!p)throw Ri(1,{location:h,currentLocation:f});k=p.record.name,y=Ve({},f.params,h.params),v=p.stringify(y)}const S=[];let E=p;for(;E;)S.unshift(E.record),E=E.parent;return{name:k,path:v,params:y,matched:S,meta:ey(S)}}t.forEach(h=>i(h));function d(){n.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:d,getRoutes:l,getRecordMatcher:r}}function X1(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Q1(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Q8(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Q8(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function ep(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ey(t){return t.reduce((e,n)=>Ve(e,n.meta),{})}function tp(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function ty(t,e){let n=0,s=e.length;for(;n!==s;){const i=n+s>>1;C6(t,e[i])<0?s=i:n=i+1}const r=ny(t);return r&&(s=e.lastIndexOf(r,s-1)),s}function ny(t){let e=t;for(;e=e.parent;)if(w6(e)&&C6(t,e)===0)return e}function w6({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function sy(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(d6," "),o=i.indexOf("="),l=Zo(o<0?i:i.slice(0,o)),a=o<0?null:Zo(i.slice(o+1));if(l in e){let c=e[l];Pn(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function np(t){let e="";for(let n in t){const s=t[n];if(n=x8(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(Pn(s)?s.map(i=>i&&gd(i)):[s&&gd(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function ry(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=Pn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const iy=Symbol(""),sp=Symbol(""),_c=Symbol(""),Eh=Symbol(""),vd=Symbol("");function go(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Vs(t,e,n,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,a)=>{const c=f=>{f===!1?a(Ri(4,{from:n,to:e})):f instanceof Error?a(f):j8(f)?a(Ri(2,{from:e,to:f})):(o&&s.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),l())},d=i(()=>t.call(s&&s.instances[r],e,n,c));let h=Promise.resolve(d);t.length<3&&(h=h.then(c)),h.catch(f=>a(f))})}function wu(t,e,n,s,r=i=>i()){const i=[];for(const o of t)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(c6(a)){const d=(a.__vccOpts||a)[e];d&&i.push(Vs(d,n,s,o,l,r))}else{let c=a();i.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const h=h8(d)?d.default:d;o.mods[l]=d,o.components[l]=h;const p=(h.__vccOpts||h)[e];return p&&Vs(p,n,s,o,l,r)()}))}}return i}function rp(t){const e=an(_c),n=an(Eh),s=he(()=>{const a=st(t.to);return e.resolve(a)}),r=he(()=>{const{matched:a}=s.value,{length:c}=a,d=a[c-1],h=n.matched;if(!d||!h.length)return-1;const f=h.findIndex(Di.bind(null,d));if(f>-1)return f;const p=ip(a[c-2]);return c>1&&ip(d)===p&&h[h.length-1].path!==p?h.findIndex(Di.bind(null,a[c-2])):f}),i=he(()=>r.value>-1&&ay(n.params,s.value.params)),o=he(()=>r.value>-1&&r.value===n.matched.length-1&&m6(n.params,s.value.params));function l(a={}){return ly(a)?e[st(t.replace)?"replace":"push"](st(t.to)).catch(Po):Promise.resolve()}return{route:s,href:he(()=>s.value.href),isActive:i,isExactActive:o,navigate:l}}const oy=Gi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:rp,setup(t,{slots:e}){const n=qr(rp(t)),{options:s}=an(_c),r=he(()=>({[op(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[op(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:gl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),ps=oy;function ly(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ay(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Pn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function ip(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const op=(t,e,n)=>t??e??n,cy=Gi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=an(vd),r=he(()=>t.route||s.value),i=an(sp,0),o=he(()=>{let c=st(i);const{matched:d}=r.value;let h;for(;(h=d[c])&&!h.components;)c++;return c}),l=he(()=>r.value.matched[o.value]);Ao(sp,he(()=>o.value+1)),Ao(iy,l),Ao(vd,r);const a=ue();return fs(()=>[a.value,l.value,t.name],([c,d,h],[f,p,y])=>{d&&(d.instances[h]=c,p&&p!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!Di(d,p)||!f)&&(d.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=r.value,d=t.name,h=l.value,f=h&&h.components[d];if(!f)return lp(n.default,{Component:f,route:c});const p=h.props[d],y=p?p===!0?c.params:typeof p=="function"?p(c):p:null,k=gl(f,Ve({},y,e,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(h.instances[d]=null)},ref:a}));return lp(n.default,{Component:k,route:c})||k}}});function lp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const b6=cy;function uy(t){const e=X8(t.routes,t),n=t.parseQuery||sy,s=t.stringifyQuery||np,r=t.history,i=go(),o=go(),l=go(),a=ah(Os);let c=Os;di&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=vu.bind(null,j=>""+j),h=vu.bind(null,S8),f=vu.bind(null,Zo);function p(j,se){let Q,ie;return y6(j)?(Q=e.getRecordMatcher(j),ie=se):ie=j,e.addRoute(ie,Q)}function y(j){const se=e.getRecordMatcher(j);se&&e.removeRoute(se)}function v(){return e.getRoutes().map(j=>j.record)}function k(j){return!!e.getRecordMatcher(j)}function S(j,se){if(se=Ve({},se||a.value),typeof j=="string"){const N=Cu(n,j,se.path),B=e.resolve({path:N.path},se),z=r.createHref(N.fullPath);return Ve(N,B,{params:f(B.params),hash:Zo(N.hash),redirectedFrom:void 0,href:z})}let Q;if(j.path!=null)Q=Ve({},j,{path:Cu(n,j.path,se.path).path});else{const N=Ve({},j.params);for(const B in N)N[B]==null&&delete N[B];Q=Ve({},j,{params:h(N)}),se.params=h(se.params)}const ie=e.resolve(Q,se),Me=j.hash||"";ie.params=d(f(ie.params));const He=M8(s,Ve({},j,{hash:k8(Me),path:ie.path})),L=r.createHref(He);return Ve({fullPath:He,hash:Me,query:s===np?ry(j.query):j.query||{}},ie,{redirectedFrom:void 0,href:L})}function E(j){return typeof j=="string"?Cu(n,j,a.value.path):Ve({},j)}function T(j,se){if(c!==j)return Ri(8,{from:se,to:j})}function P(j){return M(j)}function D(j){return P(Ve(E(j),{replace:!0}))}function F(j){const se=j.matched[j.matched.length-1];if(se&&se.redirect){const{redirect:Q}=se;let ie=typeof Q=="function"?Q(j):Q;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=E(ie):{path:ie},ie.params={}),Ve({query:j.query,hash:j.hash,params:ie.path!=null?{}:j.params},ie)}}function M(j,se){const Q=c=S(j),ie=a.value,Me=j.state,He=j.force,L=j.replace===!0,N=F(Q);if(N)return M(Ve(E(N),{state:typeof N=="object"?Ve({},Me,N.state):Me,force:He,replace:L}),se||Q);const B=Q;B.redirectedFrom=se;let z;return!He&&A8(s,ie,Q)&&(z=Ri(16,{to:B,from:ie}),dn(ie,ie,!0,!1)),(z?Promise.resolve(z):x(B,ie)).catch(U=>Xn(U)?Xn(U,2)?U:bn(U):re(U,B,ie)).then(U=>{if(U){if(Xn(U,2))return M(Ve({replace:L},E(U.to),{state:typeof U.to=="object"?Ve({},Me,U.to.state):Me,force:He}),se||B)}else U=I(B,ie,!0,L,Me);return O(B,ie,U),U})}function b(j,se){const Q=T(j,se);return Q?Promise.reject(Q):Promise.resolve()}function w(j){const se=Ss.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(j):j()}function x(j,se){let Q;const[ie,Me,He]=dy(j,se);Q=wu(ie.reverse(),"beforeRouteLeave",j,se);for(const N of ie)N.leaveGuards.forEach(B=>{Q.push(Vs(B,j,se))});const L=b.bind(null,j,se);return Q.push(L),Gt(Q).then(()=>{Q=[];for(const N of i.list())Q.push(Vs(N,j,se));return Q.push(L),Gt(Q)}).then(()=>{Q=wu(Me,"beforeRouteUpdate",j,se);for(const N of Me)N.updateGuards.forEach(B=>{Q.push(Vs(B,j,se))});return Q.push(L),Gt(Q)}).then(()=>{Q=[];for(const N of He)if(N.beforeEnter)if(Pn(N.beforeEnter))for(const B of N.beforeEnter)Q.push(Vs(B,j,se));else Q.push(Vs(N.beforeEnter,j,se));return Q.push(L),Gt(Q)}).then(()=>(j.matched.forEach(N=>N.enterCallbacks={}),Q=wu(He,"beforeRouteEnter",j,se,w),Q.push(L),Gt(Q))).then(()=>{Q=[];for(const N of o.list())Q.push(Vs(N,j,se));return Q.push(L),Gt(Q)}).catch(N=>Xn(N,8)?N:Promise.reject(N))}function O(j,se,Q){l.list().forEach(ie=>w(()=>ie(j,se,Q)))}function I(j,se,Q,ie,Me){const He=T(j,se);if(He)return He;const L=se===Os,N=di?history.state:{};Q&&(ie||L?r.replace(j.fullPath,Ve({scroll:L&&N&&N.scroll},Me)):r.push(j.fullPath,Me)),a.value=j,dn(j,se,Q,L),bn()}let A;function ve(){A||(A=r.listen((j,se,Q)=>{if(!Rn.listening)return;const ie=S(j),Me=F(ie);if(Me){M(Ve(Me,{replace:!0}),ie).catch(Po);return}c=ie;const He=a.value;di&&$8(K1(He.fullPath,Q.delta),xc()),x(ie,He).catch(L=>Xn(L,12)?L:Xn(L,2)?(M(L.to,ie).then(N=>{Xn(N,20)&&!Q.delta&&Q.type===Yo.pop&&r.go(-1,!1)}).catch(Po),Promise.reject()):(Q.delta&&r.go(-Q.delta,!1),re(L,ie,He))).then(L=>{L=L||I(ie,He,!1),L&&(Q.delta&&!Xn(L,8)?r.go(-Q.delta,!1):Q.type===Yo.pop&&Xn(L,20)&&r.go(-1,!1)),O(ie,He,L)}).catch(Po)}))}let Te=go(),ne=go(),le;function re(j,se,Q){bn(j);const ie=ne.list();return ie.length?ie.forEach(Me=>Me(j,se,Q)):console.error(j),Promise.reject(j)}function Ye(){return le&&a.value!==Os?Promise.resolve():new Promise((j,se)=>{Te.add([j,se])})}function bn(j){return le||(le=!j,ve(),Te.list().forEach(([se,Q])=>j?Q(j):se()),Te.reset()),j}function dn(j,se,Q,ie){const{scrollBehavior:Me}=t;if(!di||!Me)return Promise.resolve();const He=!Q&&F8(K1(j.fullPath,0))||(ie||!Q)&&history.state&&history.state.scroll||null;return Gr().then(()=>Me(j,se,He)).then(L=>L&&R8(L)).catch(L=>re(L,j,se))}const Xe=j=>r.go(j);let Qe;const Ss=new Set,Rn={currentRoute:a,listening:!0,addRoute:p,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:k,getRoutes:v,resolve:S,options:t,push:P,replace:D,go:Xe,back:()=>Xe(-1),forward:()=>Xe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:ne.add,isReady:Ye,install(j){const se=this;j.component("RouterLink",ps),j.component("RouterView",b6),j.config.globalProperties.$router=se,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>st(a)}),di&&!Qe&&a.value===Os&&(Qe=!0,P(r.location).catch(Me=>{}));const Q={};for(const Me in Os)Object.defineProperty(Q,Me,{get:()=>a.value[Me],enumerable:!0});j.provide(_c,se),j.provide(Eh,oh(Q)),j.provide(vd,a);const ie=j.unmount;Ss.add(j),j.unmount=function(){Ss.delete(j),Ss.size<1&&(c=Os,A&&A(),A=null,a.value=Os,Qe=!1,le=!1),ie()}}};function Gt(j){return j.reduce((se,Q)=>se.then(()=>w(Q)),Promise.resolve())}return Rn}function dy(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const l=e.matched[o];l&&(t.matched.find(c=>Di(c,l))?s.push(l):n.push(l));const a=t.matched[o];a&&(e.matched.find(c=>Di(c,a))||r.push(a))}return[n,s,r]}function Mh(){return an(_c)}function hy(t){return an(Eh)}const Sc=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},fy={},py={class:"modal-wrapper"};function my(t,e){return $(),H("div",py,e[0]||(e[0]=[et('<svg viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-11391480><path class="spin2" d="M392.5 728C573.373 728 720 581.373 720 400.5C720 219.627 573.373 73 392.5 73C211.627 73 65 219.627 65 400.5C65 581.373 211.627 728 392.5 728Z" stroke="url(#paint0_radial_136_36)" stroke-width="80" stroke-linecap="round" stroke-dasharray="700 1000" data-v-11391480></path><defs data-v-11391480><radialGradient id="paint0_radial_136_36" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(261.5 273.867) rotate(73.9092) scale(472.65)" data-v-11391480><stop stop-color="#05FF75" data-v-11391480></stop><stop offset="1" stop-color="#50A5FF" data-v-11391480></stop></radialGradient></defs></svg>',1)]))}const k6=Sc(fy,[["render",my],["__scopeId","data-v-11391480"]]);var gy=!1;/*!
 * pinia v2.2.5
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let x6;const Tc=t=>x6=t,_6=Symbol();function Cd(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Do;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Do||(Do={}));function yy(){const t=th(!0),e=t.run(()=>ue({}));let n=[],s=[];const r=dl({install(i){Tc(r),r._a=i,i.provide(_6,r),i.config.globalProperties.$pinia=r,s.forEach(o=>n.push(o)),s=[]},use(i){return!this._a&&!gy?s.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const S6=()=>{};function ap(t,e,n,s=S6){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!n&&nh()&&f0(r),r}function oi(t,...e){t.slice().forEach(n=>{n(...e)})}const vy=t=>t(),cp=Symbol(),bu=Symbol();function wd(t,e){t instanceof Map&&e instanceof Map?e.forEach((n,s)=>t.set(s,n)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const s=e[n],r=t[n];Cd(r)&&Cd(s)&&t.hasOwnProperty(n)&&!tt(s)&&!Un(s)?t[n]=wd(r,s):t[n]=s}return t}const Cy=Symbol();function wy(t){return!Cd(t)||!t.hasOwnProperty(Cy)}const{assign:Ns}=Object;function by(t){return!!(tt(t)&&t.effect)}function ky(t,e,n,s){const{state:r,actions:i,getters:o}=e,l=n.state.value[t];let a;function c(){l||(n.state.value[t]=r?r():{});const d=I0(n.state.value[t]);return Ns(d,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=dl(he(()=>{Tc(n);const p=n._s.get(t);return o[f].call(p,p)})),h),{}))}return a=T6(t,c,e,n,s,!0),a}function T6(t,e,n={},s,r,i){let o;const l=Ns({actions:{}},n),a={deep:!0};let c,d,h=[],f=[],p;const y=s.state.value[t];!i&&!y&&(s.state.value[t]={}),ue({});let v;function k(b){let w;c=d=!1,typeof b=="function"?(b(s.state.value[t]),w={type:Do.patchFunction,storeId:t,events:p}):(wd(s.state.value[t],b),w={type:Do.patchObject,payload:b,storeId:t,events:p});const x=v=Symbol();Gr().then(()=>{v===x&&(c=!0)}),d=!0,oi(h,w,s.state.value[t])}const S=i?function(){const{state:w}=n,x=w?w():{};this.$patch(O=>{Ns(O,x)})}:S6;function E(){o.stop(),h=[],f=[],s._s.delete(t)}const T=(b,w="")=>{if(cp in b)return b[bu]=w,b;const x=function(){Tc(s);const O=Array.from(arguments),I=[],A=[];function ve(le){I.push(le)}function Te(le){A.push(le)}oi(f,{args:O,name:x[bu],store:D,after:ve,onError:Te});let ne;try{ne=b.apply(this&&this.$id===t?this:D,O)}catch(le){throw oi(A,le),le}return ne instanceof Promise?ne.then(le=>(oi(I,le),le)).catch(le=>(oi(A,le),Promise.reject(le))):(oi(I,ne),ne)};return x[cp]=!0,x[bu]=w,x},P={_p:s,$id:t,$onAction:ap.bind(null,f),$patch:k,$reset:S,$subscribe(b,w={}){const x=ap(h,b,w.detached,()=>O()),O=o.run(()=>fs(()=>s.state.value[t],I=>{(w.flush==="sync"?d:c)&&b({storeId:t,type:Do.direct,events:p},I)},Ns({},a,w)));return x},$dispose:E},D=qr(P);s._s.set(t,D);const M=(s._a&&s._a.runWithContext||vy)(()=>s._e.run(()=>(o=th()).run(()=>e({action:T}))));for(const b in M){const w=M[b];if(tt(w)&&!by(w)||Un(w))i||(y&&wy(w)&&(tt(w)?w.value=y[b]:wd(w,y[b])),s.state.value[t][b]=w);else if(typeof w=="function"){const x=T(w,b);M[b]=x,l.actions[b]=w}}return Ns(D,M),Ns(Ae(D),M),Object.defineProperty(D,"$state",{get:()=>s.state.value[t],set:b=>{k(w=>{Ns(w,b)})}}),s._p.forEach(b=>{Ns(D,o.run(()=>b({store:D,app:s._a,pinia:s,options:l})))}),y&&i&&n.hydrate&&n.hydrate(D.$state,y),c=!0,d=!0,D}/*! #__NO_SIDE_EFFECTS__ */function Ec(t,e,n){let s,r;const i=typeof e=="function";typeof t=="string"?(s=t,r=i?n:e):(r=t,s=t.id);function o(l,a){const c=rm();return l=l||(c?an(_6,null):null),l&&Tc(l),l=x6,l._s.has(s)||(i?T6(s,e,r,l):ky(s,r,l)),l._s.get(s)}return o.$id=s,o}const nn=Ec("user",()=>{const t=ue(!0),e=ue(null),n=ue(!0),s=ue({}),r=ue({}),i=he(()=>!n.value&&!s.value.fullName),o=he(()=>!n.value&&s.value&&s.value.subscription);function l(d){e.value=d,t.value=!1}function a(d){n.value=!1,d&&(s.value=d)}function c(d){r.value=d}return{loading:t,user:e,setUser:l,loadingUserProfile:n,userProfile:s,setUserProfile:a,profileNotFound:i,notSubscribed:o,subscription:r,setSubscription:c}}),un=Ec("global",()=>{const t=ue(!0);function e(n){t.value=n}return{globalLoading:t,setGlobalLoading:e}});var up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},xy=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],l=t[n++],a=((r&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(a&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},M6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,l=o?t[r+1]:0,a=r+2<t.length,c=a?t[r+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|c>>6,p=c&63;a||(p=64,o||(f=64)),s.push(n[d],n[h],n[f],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(E6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xy(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||c==null||h==null)throw new _y;const f=i<<2|l>>4;if(s.push(f),c!==64){const p=l<<4&240|c>>2;if(s.push(p),h!==64){const y=c<<6&192|h;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _y extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sy=function(t){const e=E6(t);return M6.encodeByteArray(e,!0)},La=function(t){return Sy(t).replace(/\./g,"")},A6=function(t){try{return M6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=()=>Ty().__FIREBASE_DEFAULTS__,My=()=>{if(typeof process>"u"||typeof up>"u")return;const t=up.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ay=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&A6(t[1]);return e&&JSON.parse(e)},Ah=()=>{try{return Ey()||My()||Ay()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I6=t=>{var e,n;return(n=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Iy=t=>{const e=I6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},O6=()=>{var t;return(t=Ah())===null||t===void 0?void 0:t.config},L6=t=>{var e;return(e=Ah())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[La(JSON.stringify(n)),La(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Py(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function Ny(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Dy(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ry(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $y(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fy(){try{return typeof indexedDB=="object"}catch{return!1}}function By(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="FirebaseError";class _s extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Vy,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Hy(i,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new _s(r,l,s)}}function Hy(t,e){return t.replace(Uy,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Uy=/\{\$([^}]+)}/g;function jy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(dp(i)&&dp(o)){if(!Pa(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function dp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zy(t,e){const n=new Wy(t,e);return n.subscribe.bind(n)}class Wy{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qy(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=ku),r.error===void 0&&(r.error=ku),r.complete===void 0&&(r.complete=ku);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qy(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ku(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t){return t&&t._delegate?t._delegate:t}class Vr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Oy;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jy(e))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=br){return this.instances.has(e)}getOptions(e=br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Gy(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=br){return this.component?this.component.multipleInstances?e:br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gy(t){return t===br?void 0:t}function Jy(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ky(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const Yy={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},Xy=Be.INFO,Qy={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},ev=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=Qy[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=Xy,this._logHandler=ev,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yy[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const tv=(t,e)=>e.some(n=>t instanceof n);let hp,fp;function nv(){return hp||(hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sv(){return fp||(fp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P6=new WeakMap,bd=new WeakMap,N6=new WeakMap,xu=new WeakMap,Oh=new WeakMap;function rv(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Qs(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&P6.set(n,t)}).catch(()=>{}),Oh.set(e,t),e}function iv(t){if(bd.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});bd.set(t,e)}let kd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||N6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ov(t){kd=t(kd)}function lv(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(_u(this),e,...n);return N6.set(s,e.sort?e.sort():[e]),Qs(s)}:sv().includes(t)?function(...e){return t.apply(_u(this),e),Qs(P6.get(this))}:function(...e){return Qs(t.apply(_u(this),e))}}function av(t){return typeof t=="function"?lv(t):(t instanceof IDBTransaction&&iv(t),tv(t,nv())?new Proxy(t,kd):t)}function Qs(t){if(t instanceof IDBRequest)return rv(t);if(xu.has(t))return xu.get(t);const e=av(t);return e!==t&&(xu.set(t,e),Oh.set(e,t)),e}const _u=t=>Oh.get(t);function cv(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),l=Qs(o);return s&&o.addEventListener("upgradeneeded",a=>{s(Qs(o.result),a.oldVersion,a.newVersion,Qs(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{i&&a.addEventListener("close",()=>i()),r&&a.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const uv=["get","getKey","getAll","getAllKeys","count"],dv=["put","add","delete","clear"],Su=new Map;function pp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Su.get(e))return Su.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=dv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||uv.includes(n)))return;const i=async function(o,...l){const a=this.transaction(o,r?"readwrite":"readonly");let c=a.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&a.done]))[0]};return Su.set(e,i),i}ov(t=>({...t,get:(e,n,s)=>pp(e,n)||t.get(e,n,s),has:(e,n)=>!!pp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fv(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xd="@firebase/app",mp="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Ih("@firebase/app"),pv="@firebase/app-compat",mv="@firebase/analytics-compat",gv="@firebase/analytics",yv="@firebase/app-check-compat",vv="@firebase/app-check",Cv="@firebase/auth",wv="@firebase/auth-compat",bv="@firebase/database",kv="@firebase/data-connect",xv="@firebase/database-compat",_v="@firebase/functions",Sv="@firebase/functions-compat",Tv="@firebase/installations",Ev="@firebase/installations-compat",Mv="@firebase/messaging",Av="@firebase/messaging-compat",Iv="@firebase/performance",Ov="@firebase/performance-compat",Lv="@firebase/remote-config",Pv="@firebase/remote-config-compat",Nv="@firebase/storage",Dv="@firebase/storage-compat",Rv="@firebase/firestore",$v="@firebase/vertexai",Fv="@firebase/firestore-compat",Bv="firebase",Vv="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="[DEFAULT]",Hv={[xd]:"fire-core",[pv]:"fire-core-compat",[gv]:"fire-analytics",[mv]:"fire-analytics-compat",[vv]:"fire-app-check",[yv]:"fire-app-check-compat",[Cv]:"fire-auth",[wv]:"fire-auth-compat",[bv]:"fire-rtdb",[kv]:"fire-data-connect",[xv]:"fire-rtdb-compat",[_v]:"fire-fn",[Sv]:"fire-fn-compat",[Tv]:"fire-iid",[Ev]:"fire-iid-compat",[Mv]:"fire-fcm",[Av]:"fire-fcm-compat",[Iv]:"fire-perf",[Ov]:"fire-perf-compat",[Lv]:"fire-rc",[Pv]:"fire-rc-compat",[Nv]:"fire-gcs",[Dv]:"fire-gcs-compat",[Rv]:"fire-fst",[Fv]:"fire-fst-compat",[$v]:"fire-vertex","fire-js":"fire-js",[Bv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Map,Uv=new Map,Sd=new Map;function gp(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $i(t){const e=t.name;if(Sd.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Sd.set(e,t);for(const n of Na.values())gp(n,t);for(const n of Uv.values())gp(n,t);return!0}function Lh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new yl("app","Firebase",jv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=Vv;function D6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_d,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw er.create("bad-app-name",{appName:String(r)});if(n||(n=O6()),!n)throw er.create("no-options");const i=Na.get(r);if(i){if(Pa(n,i.options)&&Pa(s,i.config))return i;throw er.create("duplicate-app",{appName:r})}const o=new Zy(r);for(const a of Sd.values())o.addComponent(a);const l=new zv(n,s,o);return Na.set(r,l),l}function R6(t=_d){const e=Na.get(t);if(!e&&t===_d&&O6())return D6();if(!e)throw er.create("no-app",{appName:t});return e}function tr(t,e,n){var s;let r=(s=Hv[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(l.join(" "));return}$i(new Vr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="firebase-heartbeat-database",qv=1,Xo="firebase-heartbeat-store";let Tu=null;function $6(){return Tu||(Tu=cv(Wv,qv,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw er.create("idb-open",{originalErrorMessage:t.message})})),Tu}async function Kv(t){try{const n=(await $6()).transaction(Xo),s=await n.objectStore(Xo).get(F6(t));return await n.done,s}catch(e){if(e instanceof _s)Cs.warn(e.message);else{const n=er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function yp(t,e){try{const s=(await $6()).transaction(Xo,"readwrite");await s.objectStore(Xo).put(e,F6(t)),await s.done}catch(n){if(n instanceof _s)Cs.warn(n.message);else{const s=er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(s.message)}}}function F6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=1024,Jv=30*24*60*60*1e3;class Zv{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Xv(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=Jv}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Cs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vp(),{heartbeatsToSend:s,unsentEntries:r}=Yv(this._heartbeatsCache.heartbeats),i=La(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Cs.warn(n),""}}}function vp(){return new Date().toISOString().substring(0,10)}function Yv(t,e=Gv){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Cp(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Cp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Xv{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fy()?By().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kv(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return yp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return yp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Cp(t){return La(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){$i(new Vr("platform-logger",e=>new hv(e),"PRIVATE")),$i(new Vr("heartbeat",e=>new Zv(e),"PRIVATE")),tr(xd,mp,t),tr(xd,mp,"esm2017"),tr("fire-js","")}Qv("");var eC="firebase",tC="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(eC,tC,"app");var wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function w(){}w.prototype=b.prototype,M.D=b.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(x,O,I){for(var A=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)A[ve-2]=arguments[ve];return b.prototype[O].apply(x,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,b,w){w||(w=0);var x=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)x[O]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(O=0;16>O;++O)x[O]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=M.g[0],w=M.g[1],O=M.g[2];var I=M.g[3],A=b+(I^w&(O^I))+x[0]+3614090360&4294967295;b=w+(A<<7&4294967295|A>>>25),A=I+(O^b&(w^O))+x[1]+3905402710&4294967295,I=b+(A<<12&4294967295|A>>>20),A=O+(w^I&(b^w))+x[2]+606105819&4294967295,O=I+(A<<17&4294967295|A>>>15),A=w+(b^O&(I^b))+x[3]+3250441966&4294967295,w=O+(A<<22&4294967295|A>>>10),A=b+(I^w&(O^I))+x[4]+4118548399&4294967295,b=w+(A<<7&4294967295|A>>>25),A=I+(O^b&(w^O))+x[5]+1200080426&4294967295,I=b+(A<<12&4294967295|A>>>20),A=O+(w^I&(b^w))+x[6]+2821735955&4294967295,O=I+(A<<17&4294967295|A>>>15),A=w+(b^O&(I^b))+x[7]+4249261313&4294967295,w=O+(A<<22&4294967295|A>>>10),A=b+(I^w&(O^I))+x[8]+1770035416&4294967295,b=w+(A<<7&4294967295|A>>>25),A=I+(O^b&(w^O))+x[9]+2336552879&4294967295,I=b+(A<<12&4294967295|A>>>20),A=O+(w^I&(b^w))+x[10]+4294925233&4294967295,O=I+(A<<17&4294967295|A>>>15),A=w+(b^O&(I^b))+x[11]+2304563134&4294967295,w=O+(A<<22&4294967295|A>>>10),A=b+(I^w&(O^I))+x[12]+1804603682&4294967295,b=w+(A<<7&4294967295|A>>>25),A=I+(O^b&(w^O))+x[13]+4254626195&4294967295,I=b+(A<<12&4294967295|A>>>20),A=O+(w^I&(b^w))+x[14]+2792965006&4294967295,O=I+(A<<17&4294967295|A>>>15),A=w+(b^O&(I^b))+x[15]+1236535329&4294967295,w=O+(A<<22&4294967295|A>>>10),A=b+(O^I&(w^O))+x[1]+4129170786&4294967295,b=w+(A<<5&4294967295|A>>>27),A=I+(w^O&(b^w))+x[6]+3225465664&4294967295,I=b+(A<<9&4294967295|A>>>23),A=O+(b^w&(I^b))+x[11]+643717713&4294967295,O=I+(A<<14&4294967295|A>>>18),A=w+(I^b&(O^I))+x[0]+3921069994&4294967295,w=O+(A<<20&4294967295|A>>>12),A=b+(O^I&(w^O))+x[5]+3593408605&4294967295,b=w+(A<<5&4294967295|A>>>27),A=I+(w^O&(b^w))+x[10]+38016083&4294967295,I=b+(A<<9&4294967295|A>>>23),A=O+(b^w&(I^b))+x[15]+3634488961&4294967295,O=I+(A<<14&4294967295|A>>>18),A=w+(I^b&(O^I))+x[4]+3889429448&4294967295,w=O+(A<<20&4294967295|A>>>12),A=b+(O^I&(w^O))+x[9]+568446438&4294967295,b=w+(A<<5&4294967295|A>>>27),A=I+(w^O&(b^w))+x[14]+3275163606&4294967295,I=b+(A<<9&4294967295|A>>>23),A=O+(b^w&(I^b))+x[3]+4107603335&4294967295,O=I+(A<<14&4294967295|A>>>18),A=w+(I^b&(O^I))+x[8]+1163531501&4294967295,w=O+(A<<20&4294967295|A>>>12),A=b+(O^I&(w^O))+x[13]+2850285829&4294967295,b=w+(A<<5&4294967295|A>>>27),A=I+(w^O&(b^w))+x[2]+4243563512&4294967295,I=b+(A<<9&4294967295|A>>>23),A=O+(b^w&(I^b))+x[7]+1735328473&4294967295,O=I+(A<<14&4294967295|A>>>18),A=w+(I^b&(O^I))+x[12]+2368359562&4294967295,w=O+(A<<20&4294967295|A>>>12),A=b+(w^O^I)+x[5]+4294588738&4294967295,b=w+(A<<4&4294967295|A>>>28),A=I+(b^w^O)+x[8]+2272392833&4294967295,I=b+(A<<11&4294967295|A>>>21),A=O+(I^b^w)+x[11]+1839030562&4294967295,O=I+(A<<16&4294967295|A>>>16),A=w+(O^I^b)+x[14]+4259657740&4294967295,w=O+(A<<23&4294967295|A>>>9),A=b+(w^O^I)+x[1]+2763975236&4294967295,b=w+(A<<4&4294967295|A>>>28),A=I+(b^w^O)+x[4]+1272893353&4294967295,I=b+(A<<11&4294967295|A>>>21),A=O+(I^b^w)+x[7]+4139469664&4294967295,O=I+(A<<16&4294967295|A>>>16),A=w+(O^I^b)+x[10]+3200236656&4294967295,w=O+(A<<23&4294967295|A>>>9),A=b+(w^O^I)+x[13]+681279174&4294967295,b=w+(A<<4&4294967295|A>>>28),A=I+(b^w^O)+x[0]+3936430074&4294967295,I=b+(A<<11&4294967295|A>>>21),A=O+(I^b^w)+x[3]+3572445317&4294967295,O=I+(A<<16&4294967295|A>>>16),A=w+(O^I^b)+x[6]+76029189&4294967295,w=O+(A<<23&4294967295|A>>>9),A=b+(w^O^I)+x[9]+3654602809&4294967295,b=w+(A<<4&4294967295|A>>>28),A=I+(b^w^O)+x[12]+3873151461&4294967295,I=b+(A<<11&4294967295|A>>>21),A=O+(I^b^w)+x[15]+530742520&4294967295,O=I+(A<<16&4294967295|A>>>16),A=w+(O^I^b)+x[2]+3299628645&4294967295,w=O+(A<<23&4294967295|A>>>9),A=b+(O^(w|~I))+x[0]+4096336452&4294967295,b=w+(A<<6&4294967295|A>>>26),A=I+(w^(b|~O))+x[7]+1126891415&4294967295,I=b+(A<<10&4294967295|A>>>22),A=O+(b^(I|~w))+x[14]+2878612391&4294967295,O=I+(A<<15&4294967295|A>>>17),A=w+(I^(O|~b))+x[5]+4237533241&4294967295,w=O+(A<<21&4294967295|A>>>11),A=b+(O^(w|~I))+x[12]+1700485571&4294967295,b=w+(A<<6&4294967295|A>>>26),A=I+(w^(b|~O))+x[3]+2399980690&4294967295,I=b+(A<<10&4294967295|A>>>22),A=O+(b^(I|~w))+x[10]+4293915773&4294967295,O=I+(A<<15&4294967295|A>>>17),A=w+(I^(O|~b))+x[1]+2240044497&4294967295,w=O+(A<<21&4294967295|A>>>11),A=b+(O^(w|~I))+x[8]+1873313359&4294967295,b=w+(A<<6&4294967295|A>>>26),A=I+(w^(b|~O))+x[15]+4264355552&4294967295,I=b+(A<<10&4294967295|A>>>22),A=O+(b^(I|~w))+x[6]+2734768916&4294967295,O=I+(A<<15&4294967295|A>>>17),A=w+(I^(O|~b))+x[13]+1309151649&4294967295,w=O+(A<<21&4294967295|A>>>11),A=b+(O^(w|~I))+x[4]+4149444226&4294967295,b=w+(A<<6&4294967295|A>>>26),A=I+(w^(b|~O))+x[11]+3174756917&4294967295,I=b+(A<<10&4294967295|A>>>22),A=O+(b^(I|~w))+x[2]+718787259&4294967295,O=I+(A<<15&4294967295|A>>>17),A=w+(I^(O|~b))+x[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+I&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var w=b-this.blockSize,x=this.B,O=this.h,I=0;I<b;){if(O==0)for(;I<=w;)r(this,M,I),I+=this.blockSize;if(typeof M=="string"){for(;I<b;)if(x[O++]=M.charCodeAt(I++),O==this.blockSize){r(this,x),O=0;break}}else for(;I<b;)if(x[O++]=M[I++],O==this.blockSize){r(this,x),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var w=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=w&255,w/=256;for(this.u(M),M=Array(16),b=w=0;4>b;++b)for(var x=0;32>x;x+=8)M[w++]=this.g[b]>>>x&255;return M};function i(M,b){var w=l;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=b(M)}function o(M,b){this.h=b;for(var w=[],x=!0,O=M.length-1;0<=O;O--){var I=M[O]|0;x&&I==b||(w[O]=I,x=!1)}this.g=w}var l={};function a(M){return-128<=M&&128>M?i(M,function(b){return new o([b|0],0>b?-1:0)}):new o([M|0],0>M?-1:0)}function c(M){if(isNaN(M)||!isFinite(M))return h;if(0>M)return k(c(-M));for(var b=[],w=1,x=0;M>=w;x++)b[x]=M/w|0,w*=4294967296;return new o(b,0)}function d(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return k(d(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(b,8)),x=h,O=0;O<M.length;O+=8){var I=Math.min(8,M.length-O),A=parseInt(M.substring(O,O+I),b);8>I?(I=c(Math.pow(b,I)),x=x.j(I).add(c(A))):(x=x.j(w),x=x.add(c(A)))}return x}var h=a(0),f=a(1),p=a(16777216);t=o.prototype,t.m=function(){if(v(this))return-k(this).m();for(var M=0,b=1,w=0;w<this.g.length;w++){var x=this.i(w);M+=(0<=x?x:4294967296+x)*b,b*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(y(this))return"0";if(v(this))return"-"+k(this).toString(M);for(var b=c(Math.pow(M,6)),w=this,x="";;){var O=P(w,b).g;w=S(w,O.j(b));var I=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=O,y(w))return I+x;for(;6>I.length;)I="0"+I;x=I+x}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function y(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function v(M){return M.h==-1}t.l=function(M){return M=S(this,M),v(M)?-1:y(M)?0:1};function k(M){for(var b=M.g.length,w=[],x=0;x<b;x++)w[x]=~M.g[x];return new o(w,~M.h).add(f)}t.abs=function(){return v(this)?k(this):this},t.add=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],x=0,O=0;O<=b;O++){var I=x+(this.i(O)&65535)+(M.i(O)&65535),A=(I>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);x=A>>>16,I&=65535,A&=65535,w[O]=A<<16|I}return new o(w,w[w.length-1]&-2147483648?-1:0)};function S(M,b){return M.add(k(b))}t.j=function(M){if(y(this)||y(M))return h;if(v(this))return v(M)?k(this).j(k(M)):k(k(this).j(M));if(v(M))return k(this.j(k(M)));if(0>this.l(p)&&0>M.l(p))return c(this.m()*M.m());for(var b=this.g.length+M.g.length,w=[],x=0;x<2*b;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<M.g.length;O++){var I=this.i(x)>>>16,A=this.i(x)&65535,ve=M.i(O)>>>16,Te=M.i(O)&65535;w[2*x+2*O]+=A*Te,E(w,2*x+2*O),w[2*x+2*O+1]+=I*Te,E(w,2*x+2*O+1),w[2*x+2*O+1]+=A*ve,E(w,2*x+2*O+1),w[2*x+2*O+2]+=I*ve,E(w,2*x+2*O+2)}for(x=0;x<b;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=b;x<2*b;x++)w[x]=0;return new o(w,0)};function E(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function T(M,b){this.g=M,this.h=b}function P(M,b){if(y(b))throw Error("division by zero");if(y(M))return new T(h,h);if(v(M))return b=P(k(M),b),new T(k(b.g),k(b.h));if(v(b))return b=P(M,k(b)),new T(k(b.g),b.h);if(30<M.g.length){if(v(M)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var w=f,x=b;0>=x.l(M);)w=D(w),x=D(x);var O=F(w,1),I=F(x,1);for(x=F(x,2),w=F(w,2);!y(x);){var A=I.add(x);0>=A.l(M)&&(O=O.add(w),I=A),x=F(x,1),w=F(w,1)}return b=S(M,O.j(b)),new T(O,b)}for(O=h;0<=M.l(b);){for(w=Math.max(1,Math.floor(M.m()/b.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),I=c(w),A=I.j(b);v(A)||0<A.l(M);)w-=x,I=c(w),A=I.j(b);y(I)&&(I=f),O=O.add(I),M=S(M,A)}return new T(O,M)}t.A=function(M){return P(this,M).h},t.and=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)&M.i(x);return new o(w,this.h&M.h)},t.or=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)|M.i(x);return new o(w,this.h|M.h)},t.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],x=0;x<b;x++)w[x]=this.i(x)^M.i(x);return new o(w,this.h^M.h)};function D(M){for(var b=M.g.length+1,w=[],x=0;x<b;x++)w[x]=M.i(x)<<1|M.i(x-1)>>>31;return new o(w,M.h)}function F(M,b){var w=b>>5;b%=32;for(var x=M.g.length-w,O=[],I=0;I<x;I++)O[I]=0<b?M.i(I+w)>>>b|M.i(I+w+1)<<32-b:M.i(I+w);return new o(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,B6=o}).apply(typeof wp<"u"?wp:typeof self<"u"?self:typeof window<"u"?window:{});var Gl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,C){return u==Array.prototype||u==Object.prototype||(u[m]=C.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gl=="object"&&Gl];for(var m=0;m<u.length;++m){var C=u[m];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=n(this);function r(u,m){if(m)e:{var C=s;u=u.split(".");for(var _=0;_<u.length-1;_++){var R=u[_];if(!(R in C))break e;C=C[R]}u=u[u.length-1],_=C[u],m=m(_),m!=_&&m!=null&&e(C,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var C=0,_=!1,R={next:function(){if(!_&&C<u.length){var V=C++;return{value:m(V,u[V]),done:!1}}return _=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}r("Array.prototype.values",function(u){return u||function(){return i(this,function(m,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function a(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function c(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function d(u,m,C){return u.call.apply(u.bind,arguments)}function h(u,m,C){if(!u)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,_),u.apply(m,R)}}return function(){return u.apply(m,arguments)}}function f(u,m,C){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(u,m){var C=Array.prototype.slice.call(arguments,1);return function(){var _=C.slice();return _.push.apply(_,arguments),u.apply(this,_)}}function y(u,m){function C(){}C.prototype=m.prototype,u.aa=m.prototype,u.prototype=new C,u.prototype.constructor=u,u.Qb=function(_,R,V){for(var Z=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)Z[ze-2]=arguments[ze];return m.prototype[R].apply(_,Z)}}function v(u){const m=u.length;if(0<m){const C=Array(m);for(let _=0;_<m;_++)C[_]=u[_];return C}return[]}function k(u,m){for(let C=1;C<arguments.length;C++){const _=arguments[C];if(a(_)){const R=u.length||0,V=_.length||0;u.length=R+V;for(let Z=0;Z<V;Z++)u[R+Z]=_[Z]}else u.push(_)}}class S{constructor(m,C){this.i=m,this.j=C,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function E(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=l.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function F(u,m,C){for(const _ in u)m.call(C,u[_],_,u)}function M(u,m){for(const C in u)m.call(void 0,u[C],C,u)}function b(u){const m={};for(const C in u)m[C]=u[C];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let C,_;for(let R=1;R<arguments.length;R++){_=arguments[R];for(C in _)u[C]=_[C];for(let V=0;V<w.length;V++)C=w[V],Object.prototype.hasOwnProperty.call(_,C)&&(u[C]=_[C])}}function O(u){var m=1;u=u.split(":");const C=[];for(;0<m&&u.length;)C.push(u.shift()),m--;return u.length&&C.push(u.join(":")),C}function I(u){l.setTimeout(()=>{throw u},0)}function A(){var u=Ye;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,C){const _=Te.get();_.set(m,C),this.h?this.h.next=_:this.g=_,this.h=_}}var Te=new S(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,C){this.h=m,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let le,re=!1,Ye=new ve,bn=()=>{const u=l.Promise.resolve(void 0);le=()=>{u.then(dn)}};var dn=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(C){I(C)}var m=Te;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function Xe(){this.s=this.s,this.C=this.C}Xe.prototype.s=!1,Xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Qe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var Ss=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const C=()=>{};l.addEventListener("test",C,m),l.removeEventListener("test",C,m)}catch{}return u}();function Rn(u,m){if(Qe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var C=this.type=u.type,_=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{P(m.nodeName);var R=!0;break e}catch{}R=!1}R||(m=null)}}else C=="mouseover"?m=u.fromElement:C=="mouseout"&&(m=u.toElement);this.relatedTarget=m,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Gt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rn.aa.h.call(this)}}y(Rn,Qe);var Gt={2:"touch",3:"pen",4:"mouse"};Rn.prototype.h=function(){Rn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),se=0;function Q(u,m,C,_,R){this.listener=u,this.proxy=null,this.src=m,this.type=C,this.capture=!!_,this.ha=R,this.key=++se,this.da=this.fa=!1}function ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u){this.src=u,this.g={},this.h=0}Me.prototype.add=function(u,m,C,_,R){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var Z=L(u,m,_,R);return-1<Z?(m=u[Z],C||(m.fa=!1)):(m=new Q(m,this.src,V,!!_,R),m.fa=C,u.push(m)),m};function He(u,m){var C=m.type;if(C in u.g){var _=u.g[C],R=Array.prototype.indexOf.call(_,m,void 0),V;(V=0<=R)&&Array.prototype.splice.call(_,R,1),V&&(ie(m),u.g[C].length==0&&(delete u.g[C],u.h--))}}function L(u,m,C,_){for(var R=0;R<u.length;++R){var V=u[R];if(!V.da&&V.listener==m&&V.capture==!!C&&V.ha==_)return R}return-1}var N="closure_lm_"+(1e6*Math.random()|0),B={};function z(u,m,C,_,R){if(Array.isArray(m)){for(var V=0;V<m.length;V++)z(u,m[V],C,_,R);return null}return C=pe(C),u&&u[j]?u.K(m,C,c(_)?!!_.capture:!!_,R):U(u,m,C,!1,_,R)}function U(u,m,C,_,R,V){if(!m)throw Error("Invalid event type");var Z=c(R)?!!R.capture:!!R,ze=me(u);if(ze||(u[N]=ze=new Me(u)),C=ze.add(m,C,_,Z,V),C.proxy)return C;if(_=W(),C.proxy=_,_.src=u,_.listener=C,u.addEventListener)Ss||(R=Z),R===void 0&&(R=!1),u.addEventListener(m.toString(),_,R);else if(u.attachEvent)u.attachEvent(G(m.toString()),_);else if(u.addListener&&u.removeListener)u.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return C}function W(){function u(C){return m.call(u.src,u.listener,C)}const m=K;return u}function X(u,m,C,_,R){if(Array.isArray(m))for(var V=0;V<m.length;V++)X(u,m[V],C,_,R);else _=c(_)?!!_.capture:!!_,C=pe(C),u&&u[j]?(u=u.i,m=String(m).toString(),m in u.g&&(V=u.g[m],C=L(V,C,_,R),-1<C&&(ie(V[C]),Array.prototype.splice.call(V,C,1),V.length==0&&(delete u.g[m],u.h--)))):u&&(u=me(u))&&(m=u.g[m.toString()],u=-1,m&&(u=L(m,C,_,R)),(C=-1<u?m[u]:null)&&J(C))}function J(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[j])He(m.i,u);else{var C=u.type,_=u.proxy;m.removeEventListener?m.removeEventListener(C,_,u.capture):m.detachEvent?m.detachEvent(G(C),_):m.addListener&&m.removeListener&&m.removeListener(_),(C=me(m))?(He(C,u),C.h==0&&(C.src=null,m[N]=null)):ie(u)}}}function G(u){return u in B?B[u]:B[u]="on"+u}function K(u,m){if(u.da)u=!0;else{m=new Rn(m,this);var C=u.listener,_=u.ha||u.src;u.fa&&J(u),u=C.call(_,m)}return u}function me(u){return u=u[N],u instanceof Me?u:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(u){return typeof u=="function"?u:(u[ee]||(u[ee]=function(m){return u.handleEvent(m)}),u[ee])}function ae(){Xe.call(this),this.i=new Me(this),this.M=this,this.F=null}y(ae,Xe),ae.prototype[j]=!0,ae.prototype.removeEventListener=function(u,m,C,_){X(this,u,m,C,_)};function Ce(u,m){var C,_=u.F;if(_)for(C=[];_;_=_.F)C.push(_);if(u=u.M,_=m.type||m,typeof m=="string")m=new Qe(m,u);else if(m instanceof Qe)m.target=m.target||u;else{var R=m;m=new Qe(_,u),x(m,R)}if(R=!0,C)for(var V=C.length-1;0<=V;V--){var Z=m.g=C[V];R=Re(Z,_,!0,m)&&R}if(Z=m.g=u,R=Re(Z,_,!0,m)&&R,R=Re(Z,_,!1,m)&&R,C)for(V=0;V<C.length;V++)Z=m.g=C[V],R=Re(Z,_,!1,m)&&R}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var C=u.g[m],_=0;_<C.length;_++)ie(C[_]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,C,_){return this.i.add(String(u),m,!1,C,_)},ae.prototype.L=function(u,m,C,_){return this.i.add(String(u),m,!0,C,_)};function Re(u,m,C,_){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var R=!0,V=0;V<m.length;++V){var Z=m[V];if(Z&&!Z.da&&Z.capture==C){var ze=Z.listener,yt=Z.ha||Z.src;Z.fa&&He(u.i,Z),R=ze.call(yt,_)!==!1&&R}}return R&&!_.defaultPrevented}function Pe(u,m,C){if(typeof u=="function")C&&(u=f(u,C));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:l.setTimeout(u,m||0)}function _t(u){u.g=Pe(()=>{u.g=null,u.i&&(u.i=!1,_t(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ut extends Xe{constructor(m,C){super(),this.m=m,this.l=C,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:_t(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gt(u){Xe.call(this),this.h=u,this.g={}}y(gt,Xe);var St=[];function Ts(u){F(u.g,function(m,C){this.g.hasOwnProperty(C)&&J(m)},u),u.g={}}gt.prototype.N=function(){gt.aa.N.call(this),Ts(this)},gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yr=l.JSON.stringify,Rt=l.JSON.parse,hn=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Xr(){}Xr.prototype.h=null;function yf(u){return u.h||(u.h=u.i())}function u5(){}var eo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zc(){Qe.call(this,"d")}y(zc,Qe);function Wc(){Qe.call(this,"c")}y(Wc,Qe);var Qr={},vf=null;function qc(){return vf=vf||new ae}Qr.La="serverreachability";function Cf(u){Qe.call(this,Qr.La,u)}y(Cf,Qe);function to(u){const m=qc();Ce(m,new Cf(m))}Qr.STAT_EVENT="statevent";function wf(u,m){Qe.call(this,Qr.STAT_EVENT,u),this.stat=m}y(wf,Qe);function $t(u){const m=qc();Ce(m,new wf(m,u))}Qr.Ma="timingevent";function bf(u,m){Qe.call(this,Qr.Ma,u),this.size=m}y(bf,Qe);function no(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},m)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function d5(u,m,C,_,R,V){u.info(function(){if(u.g)if(V)for(var Z="",ze=V.split("&"),yt=0;yt<ze.length;yt++){var Ne=ze[yt].split("=");if(1<Ne.length){var Tt=Ne[0];Ne=Ne[1];var Et=Tt.split("_");Z=2<=Et.length&&Et[1]=="type"?Z+(Tt+"="+Ne+"&"):Z+(Tt+"=redacted&")}}else Z=null;else Z=V;return"XMLHTTP REQ ("+_+") [attempt "+R+"]: "+m+`
`+C+`
`+Z})}function h5(u,m,C,_,R,V,Z){u.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+R+"]: "+m+`
`+C+`
`+V+" "+Z})}function ei(u,m,C,_){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+p5(u,C)+(_?" "+_:"")})}function f5(u,m){u.info(function(){return"TIMEOUT: "+m})}so.prototype.info=function(){};function p5(u,m){if(!u.g)return m;if(!m)return null;try{var C=JSON.parse(m);if(C){for(u=0;u<C.length;u++)if(Array.isArray(C[u])){var _=C[u];if(!(2>_.length)){var R=_[1];if(Array.isArray(R)&&!(1>R.length)){var V=R[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Z=1;Z<R.length;Z++)R[Z]=""}}}}return Yr(C)}catch{return m}}var Kc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},m5={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gc;function Tl(){}y(Tl,Xr),Tl.prototype.g=function(){return new XMLHttpRequest},Tl.prototype.i=function(){return{}},Gc=new Tl;function Es(u,m,C,_){this.j=u,this.i=m,this.l=C,this.R=_||1,this.U=new gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kf}function kf(){this.i=null,this.g="",this.h=!1}var xf={},Jc={};function Zc(u,m,C){u.L=1,u.v=Il(Jn(m)),u.m=C,u.P=!0,_f(u,null)}function _f(u,m){u.F=Date.now(),El(u),u.A=Jn(u.v);var C=u.A,_=u.R;Array.isArray(_)||(_=[String(_)]),Ff(C.i,"t",_),u.C=0,C=u.j.J,u.h=new kf,u.g=n1(u.j,C?m:null,!u.m),0<u.O&&(u.M=new ut(f(u.Y,u,u.g),u.O)),m=u.U,C=u.g,_=u.ca;var R="readystatechange";Array.isArray(R)||(R&&(St[0]=R.toString()),R=St);for(var V=0;V<R.length;V++){var Z=z(C,R[V],_||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),to(),d5(u.i,u.u,u.A,u.l,u.R,u.m)}Es.prototype.ca=function(u){u=u.target;const m=this.M;m&&Zn(u)==3?m.j():this.Y(u)},Es.prototype.Y=function(u){try{if(u==this.g)e:{const Et=Zn(this.g);var m=this.g.Ba();const si=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Wf(this.g)))){this.J||Et!=4||m==7||(m==8||0>=si?to(3):to(2)),Yc(this);var C=this.g.Z();this.X=C;t:if(Sf(this)){var _=Wf(this.g);u="";var R=_.length,V=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),ro(this);var Z="";break t}this.h.i=new l.TextDecoder}for(m=0;m<R;m++)this.h.h=!0,u+=this.h.i.decode(_[m],{stream:!(V&&m==R-1)});_.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=C==200,h5(this.i,this.u,this.A,this.l,this.R,Et,C),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,yt=this.g;if((ze=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ze)){var Ne=ze;break t}}Ne=null}if(C=Ne)ei(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xc(this,C);else{this.o=!1,this.s=3,$t(12),gr(this),ro(this);break e}}if(this.P){C=!0;let kn;for(;!this.J&&this.C<Z.length;)if(kn=g5(this,Z),kn==Jc){Et==4&&(this.s=4,$t(14),C=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==xf){this.s=4,$t(15),ei(this.i,this.l,Z,"[Invalid Chunk]"),C=!1;break}else ei(this.i,this.l,kn,null),Xc(this,kn);if(Sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||Z.length!=0||this.h.h||(this.s=1,$t(16),C=!1),this.o=this.o&&C,!C)ei(this.i,this.l,Z,"[Invalid Chunked Response]"),gr(this),ro(this);else if(0<Z.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),ru(Tt),Tt.M=!0,$t(11))}}else ei(this.i,this.l,Z,null),Xc(this,Z);Et==4&&gr(this),this.o&&!this.J&&(Et==4?Xf(this.j,this):(this.o=!1,El(this)))}else P5(this.g),C==400&&0<Z.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),gr(this),ro(this)}}}catch{}finally{}};function Sf(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function g5(u,m){var C=u.C,_=m.indexOf(`
`,C);return _==-1?Jc:(C=Number(m.substring(C,_)),isNaN(C)?xf:(_+=1,_+C>m.length?Jc:(m=m.slice(_,_+C),u.C=_+C,m)))}Es.prototype.cancel=function(){this.J=!0,gr(this)};function El(u){u.S=Date.now()+u.I,Tf(u,u.I)}function Tf(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=no(f(u.ba,u),m)}function Yc(u){u.B&&(l.clearTimeout(u.B),u.B=null)}Es.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(f5(this.i,this.A),this.L!=2&&(to(),$t(17)),gr(this),this.s=2,ro(this)):Tf(this,this.S-u)};function ro(u){u.j.G==0||u.J||Xf(u.j,u)}function gr(u){Yc(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ts(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Xc(u,m){try{var C=u.j;if(C.G!=0&&(C.g==u||Qc(C.h,u))){if(!u.K&&Qc(C.h,u)&&C.G==3){try{var _=C.Da.g.parse(m)}catch{_=null}if(Array.isArray(_)&&_.length==3){var R=_;if(R[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<u.F)Rl(C),Nl(C);else break e;su(C),$t(18)}}else C.za=R[1],0<C.za-C.T&&37500>R[2]&&C.F&&C.v==0&&!C.C&&(C.C=no(f(C.Za,C),6e3));if(1>=Af(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else vr(C,11)}else if((u.K||C.g==u)&&Rl(C),!E(m))for(R=C.Da.g.parse(m),m=0;m<R.length;m++){let Ne=R[m];if(C.T=Ne[0],Ne=Ne[1],C.G==2)if(Ne[0]=="c"){C.K=Ne[1],C.ia=Ne[2];const Tt=Ne[3];Tt!=null&&(C.la=Tt,C.j.info("VER="+C.la));const Et=Ne[4];Et!=null&&(C.Aa=Et,C.j.info("SVER="+C.Aa));const si=Ne[5];si!=null&&typeof si=="number"&&0<si&&(_=1.5*si,C.L=_,C.j.info("backChannelRequestTimeoutMs_="+_)),_=C;const kn=u.g;if(kn){const $l=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($l){var V=_.h;V.g||$l.indexOf("spdy")==-1&&$l.indexOf("quic")==-1&&$l.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(eu(V,V.h),V.h=null))}if(_.D){const iu=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;iu&&(_.ya=iu,Je(_.I,_.D,iu))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-u.F,C.j.info("Handshake RTT: "+C.R+"ms")),_=C;var Z=u;if(_.qa=t1(_,_.J?_.ia:null,_.W),Z.K){If(_.h,Z);var ze=Z,yt=_.L;yt&&(ze.I=yt),ze.B&&(Yc(ze),El(ze)),_.g=Z}else Zf(_);0<C.i.length&&Dl(C)}else Ne[0]!="stop"&&Ne[0]!="close"||vr(C,7);else C.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?vr(C,7):nu(C):Ne[0]!="noop"&&C.l&&C.l.ta(Ne),C.v=0)}}to(4)}catch{}}var y5=class{constructor(u,m){this.g=u,this.map=m}};function Ef(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mf(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Af(u){return u.h?1:u.g?u.g.size:0}function Qc(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function eu(u,m){u.g?u.g.add(m):u.h=m}function If(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ef.prototype.cancel=function(){if(this.i=Of(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Of(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const C of u.g.values())m=m.concat(C.D);return m}return v(u.i)}function v5(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(a(u)){for(var m=[],C=u.length,_=0;_<C;_++)m.push(u[_]);return m}m=[],C=0;for(_ in u)m[C++]=u[_];return m}function C5(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(a(u)||typeof u=="string"){var m=[];u=u.length;for(var C=0;C<u;C++)m.push(C);return m}m=[],C=0;for(const _ in u)m[C++]=_;return m}}}function Lf(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(a(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var C=C5(u),_=v5(u),R=_.length,V=0;V<R;V++)m.call(void 0,_[V],C&&C[V],u)}var Pf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w5(u,m){if(u){u=u.split("&");for(var C=0;C<u.length;C++){var _=u[C].indexOf("="),R=null;if(0<=_){var V=u[C].substring(0,_);R=u[C].substring(_+1)}else V=u[C];m(V,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yr){this.h=u.h,Ml(this,u.j),this.o=u.o,this.g=u.g,Al(this,u.s),this.l=u.l;var m=u.i,C=new lo;C.i=m.i,m.g&&(C.g=new Map(m.g),C.h=m.h),Nf(this,C),this.m=u.m}else u&&(m=String(u).match(Pf))?(this.h=!1,Ml(this,m[1]||"",!0),this.o=io(m[2]||""),this.g=io(m[3]||"",!0),Al(this,m[4]),this.l=io(m[5]||"",!0),Nf(this,m[6]||"",!0),this.m=io(m[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}yr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(oo(m,Df,!0),":");var C=this.g;return(C||m=="file")&&(u.push("//"),(m=this.o)&&u.push(oo(m,Df,!0),"@"),u.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&u.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&u.push("/"),u.push(oo(C,C.charAt(0)=="/"?x5:k5,!0))),(C=this.i.toString())&&u.push("?",C),(C=this.m)&&u.push("#",oo(C,S5)),u.join("")};function Jn(u){return new yr(u)}function Ml(u,m,C){u.j=C?io(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Al(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Nf(u,m,C){m instanceof lo?(u.i=m,T5(u.i,u.h)):(C||(m=oo(m,_5)),u.i=new lo(m,u.h))}function Je(u,m,C){u.i.set(m,C)}function Il(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function io(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function oo(u,m,C){return typeof u=="string"?(u=encodeURI(u).replace(m,b5),C&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function b5(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Df=/[#\/\?@]/g,k5=/[#\?:]/g,x5=/[#\?]/g,_5=/[#\?@]/g,S5=/#/g;function lo(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ms(u){u.g||(u.g=new Map,u.h=0,u.i&&w5(u.i,function(m,C){u.add(decodeURIComponent(m.replace(/\+/g," ")),C)}))}t=lo.prototype,t.add=function(u,m){Ms(this),this.i=null,u=ti(this,u);var C=this.g.get(u);return C||this.g.set(u,C=[]),C.push(m),this.h+=1,this};function Rf(u,m){Ms(u),m=ti(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $f(u,m){return Ms(u),m=ti(u,m),u.g.has(m)}t.forEach=function(u,m){Ms(this),this.g.forEach(function(C,_){C.forEach(function(R){u.call(m,R,_,this)},this)},this)},t.na=function(){Ms(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),C=[];for(let _=0;_<m.length;_++){const R=u[_];for(let V=0;V<R.length;V++)C.push(m[_])}return C},t.V=function(u){Ms(this);let m=[];if(typeof u=="string")$f(this,u)&&(m=m.concat(this.g.get(ti(this,u))));else{u=Array.from(this.g.values());for(let C=0;C<u.length;C++)m=m.concat(u[C])}return m},t.set=function(u,m){return Ms(this),this.i=null,u=ti(this,u),$f(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ff(u,m,C){Rf(u,m),0<C.length&&(u.i=null,u.g.set(ti(u,m),v(C)),u.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var C=0;C<m.length;C++){var _=m[C];const V=encodeURIComponent(String(_)),Z=this.V(_);for(_=0;_<Z.length;_++){var R=V;Z[_]!==""&&(R+="="+encodeURIComponent(String(Z[_]))),u.push(R)}}return this.i=u.join("&")};function ti(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function T5(u,m){m&&!u.j&&(Ms(u),u.i=null,u.g.forEach(function(C,_){var R=_.toLowerCase();_!=R&&(Rf(this,_),Ff(this,R,C))},u)),u.j=m}function E5(u,m){const C=new so;if(l.Image){const _=new Image;_.onload=p(As,C,"TestLoadImage: loaded",!0,m,_),_.onerror=p(As,C,"TestLoadImage: error",!1,m,_),_.onabort=p(As,C,"TestLoadImage: abort",!1,m,_),_.ontimeout=p(As,C,"TestLoadImage: timeout",!1,m,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=u}else m(!1)}function M5(u,m){const C=new so,_=new AbortController,R=setTimeout(()=>{_.abort(),As(C,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:_.signal}).then(V=>{clearTimeout(R),V.ok?As(C,"TestPingServer: ok",!0,m):As(C,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(R),As(C,"TestPingServer: error",!1,m)})}function As(u,m,C,_,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),_(C)}catch{}}function A5(){this.g=new hn}function I5(u,m,C){const _=C||"";try{Lf(u,function(R,V){let Z=R;c(R)&&(Z=Yr(R)),m.push(_+V+"="+encodeURIComponent(Z))})}catch(R){throw m.push(_+"type="+encodeURIComponent("_badmap")),R}}function Ol(u){this.l=u.Ub||null,this.j=u.eb||!1}y(Ol,Xr),Ol.prototype.g=function(){return new Ll(this.l,this.j)},Ol.prototype.i=function(u){return function(){return u}}({});function Ll(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Ll,ae),t=Ll.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,co(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||l).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bf(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bf(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ao(this):co(this),this.readyState==3&&Bf(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ao(this))},t.Qa=function(u){this.g&&(this.response=u,ao(this))},t.ga=function(){this.g&&ao(this)};function ao(u){u.readyState=4,u.l=null,u.j=null,u.v=null,co(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var C=m.next();!C.done;)C=C.value,u.push(C[0]+": "+C[1]),C=m.next();return u.join(`\r
`)};function co(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ll.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vf(u){let m="";return F(u,function(C,_){m+=_,m+=":",m+=C,m+=`\r
`}),m}function tu(u,m,C){e:{for(_ in C){var _=!1;break e}_=!0}_||(C=Vf(C),typeof u=="string"?C!=null&&encodeURIComponent(String(C)):Je(u,m,C))}function rt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(rt,ae);var O5=/^https?$/i,L5=["POST","PUT"];t=rt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,C,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gc.g(),this.v=this.o?yf(this.o):yf(Gc),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){Hf(this,V);return}if(u=C||"",C=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var R in _)C.set(R,_[R]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const V of _.keys())C.set(V,_.get(V));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(C.keys()).find(V=>V.toLowerCase()=="content-type"),R=l.FormData&&u instanceof l.FormData,!(0<=Array.prototype.indexOf.call(L5,m,void 0))||_||R||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Z]of C)this.g.setRequestHeader(V,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zf(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){Hf(this,V)}};function Hf(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Uf(u),Pl(u)}function Uf(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Pl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pl(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jf(this):this.bb())},t.bb=function(){jf(this)};function jf(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Zn(u)!=4||u.Z()!=2)){if(u.u&&Zn(u)==4)Pe(u.Ea,0,u);else if(Ce(u,"readystatechange"),Zn(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var C;if(!(C=m)){var _;if(_=Z===0){var R=String(u.D).match(Pf)[1]||null;!R&&l.self&&l.self.location&&(R=l.self.location.protocol.slice(0,-1)),_=!O5.test(R?R.toLowerCase():"")}C=_}if(C)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var V=2<Zn(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",Uf(u)}}finally{Pl(u)}}}}function Pl(u,m){if(u.g){zf(u);const C=u.g,_=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ce(u,"ready");try{C.onreadystatechange=_}catch{}}}function zf(u){u.I&&(l.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Zn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rt(m)}};function Wf(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function P5(u){const m={};u=(u.g&&2<=Zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<u.length;_++){if(E(u[_]))continue;var C=O(u[_]);const R=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const V=m[R]||[];m[R]=V,V.push(C)}M(m,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function uo(u,m,C){return C&&C.internalChannelParams&&C.internalChannelParams[u]||m}function qf(u){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=uo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=uo("baseRetryDelayMs",5e3,u),this.cb=uo("retryDelaySeedMs",1e4,u),this.Wa=uo("forwardChannelMaxRetries",2,u),this.wa=uo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ef(u&&u.concurrentRequestLimit),this.Da=new A5,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qf.prototype,t.la=8,t.G=1,t.connect=function(u,m,C,_){$t(0),this.W=u,this.H=m||{},C&&_!==void 0&&(this.H.OSID=C,this.H.OAID=_),this.F=this.X,this.I=t1(this,null,this.W),Dl(this)};function nu(u){if(Kf(u),u.G==3){var m=u.U++,C=Jn(u.I);if(Je(C,"SID",u.K),Je(C,"RID",m),Je(C,"TYPE","terminate"),ho(u,C),m=new Es(u,u.j,m),m.L=2,m.v=Il(Jn(C)),C=!1,l.navigator&&l.navigator.sendBeacon)try{C=l.navigator.sendBeacon(m.v.toString(),"")}catch{}!C&&l.Image&&(new Image().src=m.v,C=!0),C||(m.g=n1(m.j,null),m.g.ea(m.v)),m.F=Date.now(),El(m)}e1(u)}function Nl(u){u.g&&(ru(u),u.g.cancel(),u.g=null)}function Kf(u){Nl(u),u.u&&(l.clearTimeout(u.u),u.u=null),Rl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&l.clearTimeout(u.s),u.s=null)}function Dl(u){if(!Mf(u.h)&&!u.s){u.s=!0;var m=u.Ga;le||bn(),re||(le(),re=!0),Ye.add(m,u),u.B=0}}function N5(u,m){return Af(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=no(f(u.Ga,u,m),Qf(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const R=new Es(this,this.j,u);let V=this.o;if(this.S&&(V?(V=b(V),x(V,this.S)):V=this.S),this.m!==null||this.O||(R.H=V,V=null),this.P)e:{for(var m=0,C=0;C<this.i.length;C++){t:{var _=this.i[C];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(m+=_,4096<m){m=C;break e}if(m===4096||C===this.i.length-1){m=C+1;break e}}m=1e3}else m=1e3;m=Jf(this,R,m),C=Jn(this.I),Je(C,"RID",u),Je(C,"CVER",22),this.D&&Je(C,"X-HTTP-Session-Id",this.D),ho(this,C),V&&(this.O?m="headers="+encodeURIComponent(String(Vf(V)))+"&"+m:this.m&&tu(C,this.m,V)),eu(this.h,R),this.Ua&&Je(C,"TYPE","init"),this.P?(Je(C,"$req",m),Je(C,"SID","null"),R.T=!0,Zc(R,C,null)):Zc(R,C,m),this.G=2}}else this.G==3&&(u?Gf(this,u):this.i.length==0||Mf(this.h)||Gf(this))};function Gf(u,m){var C;m?C=m.l:C=u.U++;const _=Jn(u.I);Je(_,"SID",u.K),Je(_,"RID",C),Je(_,"AID",u.T),ho(u,_),u.m&&u.o&&tu(_,u.m,u.o),C=new Es(u,u.j,C,u.B+1),u.m===null&&(C.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Jf(u,C,1e3),C.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),eu(u.h,C),Zc(C,_,m)}function ho(u,m){u.H&&F(u.H,function(C,_){Je(m,_,C)}),u.l&&Lf({},function(C,_){Je(m,_,C)})}function Jf(u,m,C){C=Math.min(u.i.length,C);var _=u.l?f(u.l.Na,u.l,u):null;e:{var R=u.i;let V=-1;for(;;){const Z=["count="+C];V==-1?0<C?(V=R[0].g,Z.push("ofs="+V)):V=0:Z.push("ofs="+V);let ze=!0;for(let yt=0;yt<C;yt++){let Ne=R[yt].g;const Tt=R[yt].map;if(Ne-=V,0>Ne)V=Math.max(0,R[yt].g-100),ze=!1;else try{I5(Tt,Z,"req"+Ne+"_")}catch{_&&_(Tt)}}if(ze){_=Z.join("&");break e}}}return u=u.i.splice(0,C),m.D=u,_}function Zf(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;le||bn(),re||(le(),re=!0),Ye.add(m,u),u.v=0}}function su(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=no(f(u.Fa,u),Qf(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Yf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=no(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Nl(this),Yf(this))};function ru(u){u.A!=null&&(l.clearTimeout(u.A),u.A=null)}function Yf(u){u.g=new Es(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Jn(u.qa);Je(m,"RID","rpc"),Je(m,"SID",u.K),Je(m,"AID",u.T),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(m,"TO",u.ja),Je(m,"TYPE","xmlhttp"),ho(u,m),u.m&&u.o&&tu(m,u.m,u.o),u.L&&(u.g.I=u.L);var C=u.g;u=u.ia,C.L=1,C.v=Il(Jn(m)),C.m=null,C.P=!0,_f(C,u)}t.Za=function(){this.C!=null&&(this.C=null,Nl(this),su(this),$t(19))};function Rl(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function Xf(u,m){var C=null;if(u.g==m){Rl(u),ru(u),u.g=null;var _=2}else if(Qc(u.h,m))C=m.D,If(u.h,m),_=1;else return;if(u.G!=0){if(m.o)if(_==1){C=m.m?m.m.length:0,m=Date.now()-m.F;var R=u.B;_=qc(),Ce(_,new bf(_,C)),Dl(u)}else Zf(u);else if(R=m.s,R==3||R==0&&0<m.X||!(_==1&&N5(u,m)||_==2&&su(u)))switch(C&&0<C.length&&(m=u.h,m.i=m.i.concat(C)),R){case 1:vr(u,5);break;case 4:vr(u,10);break;case 3:vr(u,6);break;default:vr(u,2)}}}function Qf(u,m){let C=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(C*=2),C*m}function vr(u,m){if(u.j.info("Error code "+m),m==2){var C=f(u.fb,u),_=u.Xa;const R=!_;_=new yr(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ml(_,"https"),Il(_),R?E5(_.toString(),C):M5(_.toString(),C)}else $t(2);u.G=0,u.l&&u.l.sa(m),e1(u),Kf(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function e1(u){if(u.G=0,u.ka=[],u.l){const m=Of(u.h);(m.length!=0||u.i.length!=0)&&(k(u.ka,m),k(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function t1(u,m,C){var _=C instanceof yr?Jn(C):new yr(C);if(_.g!="")m&&(_.g=m+"."+_.g),Al(_,_.s);else{var R=l.location;_=R.protocol,m=m?m+"."+R.hostname:R.hostname,R=+R.port;var V=new yr(null);_&&Ml(V,_),m&&(V.g=m),R&&Al(V,R),C&&(V.l=C),_=V}return C=u.D,m=u.ya,C&&m&&Je(_,C,m),Je(_,"VER",u.la),ho(u,_),_}function n1(u,m,C){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new rt(new Ol({eb:C})):new rt(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function s1(){}t=s1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fn(u,m){ae.call(this),this.g=new qf(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!E(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!E(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ni(this)}y(fn,ae),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){nu(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var C={};C.__data__=u,u=C}else this.u&&(C={},C.__data__=Yr(u),u=C);m.i.push(new y5(m.Ya++,u)),m.G==3&&Dl(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,nu(this.g),delete this.g,fn.aa.N.call(this)};function r1(u){zc.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const C in m){u=C;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}y(r1,zc);function i1(){Wc.call(this),this.status=1}y(i1,Wc);function ni(u){this.g=u}y(ni,s1),ni.prototype.ua=function(){Ce(this.g,"a")},ni.prototype.ta=function(u){Ce(this.g,new r1(u))},ni.prototype.sa=function(u){Ce(this.g,new i1)},ni.prototype.ra=function(){Ce(this.g,"b")},fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Kc.NO_ERROR=0,Kc.TIMEOUT=8,Kc.HTTP_ERROR=6,m5.COMPLETE="complete",u5.EventType=eo,eo.OPEN="a",eo.CLOSE="b",eo.ERROR="c",eo.MESSAGE="d",ae.prototype.listen=ae.prototype.K,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha}).apply(typeof Gl<"u"?Gl:typeof self<"u"?self:typeof window<"u"?window:{});const bp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Ih("@firebase/firestore");function En(t,...e){if(Fi.logLevel<=Be.DEBUG){const n=e.map(Ph);Fi.debug(`Firestore (${Cl}): ${t}`,...n)}}function V6(t,...e){if(Fi.logLevel<=Be.ERROR){const n=e.map(Ph);Fi.error(`Firestore (${Cl}): ${t}`,...n)}}function nC(t,...e){if(Fi.logLevel<=Be.WARN){const n=e.map(Ph);Fi.warn(`Firestore (${Cl}): ${t}`,...n)}}function Ph(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t="Unexpected state"){const e=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: `+t;throw V6(e),new Error(e)}function Ro(t,e){t||Nh()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qt extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class rC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iC{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ro(this.o===void 0);let s=this.i;const r=a=>this.i!==s?(s=this.i,n(a)):Promise.resolve();let i=new $o;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $o,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const a=i;e.enqueueRetryable(async()=>{await a.promise,await r(this.currentUser)})},l=a=>{En("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(En("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $o)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(En("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ro(typeof s.accessToken=="string"),new H6(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ro(e===null||typeof e=="string"),new Vt(e)}}class oC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new oC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ro(this.o===void 0);const s=i=>{i.error!=null&&En("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,En("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{En("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?r(i):En("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ro(typeof n.token=="string"),this.R=n.token,new aC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uC(t){return t.name==="IndexedDbTransactionError"}class Da{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Da("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Da&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kp,Oe;(Oe=kp||(kp={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new B6([4294967295,4294967295],0);function Eu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,s=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-s);r>0&&En("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new $o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,l=new Dh(e,n,o,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qt(Xt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var xp,_p;(_p=xp||(xp={})).ea="default",_p.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=new Map;function fC(t,e,n,s){if(e===!0&&s===!0)throw new Qt(Xt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Nh()}function mC(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Qt(Xt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pC(t);throw new Qt(Xt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Qt(Xt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Qt(Xt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hC((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Qt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Qt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Qt(Xt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U6{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qt(Xt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qt(Xt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tp(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sC;switch(s.type){case"firstParty":return new lC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Qt(Xt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Sp.get(n);s&&(En("ComponentProvider","Removing Datastore"),Sp.delete(n),s.terminate())}(this),Promise.resolve()}}function gC(t,e,n,s={}){var r;const i=(t=mC(t,U6))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&nC("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),s.mockUserToken){let l,a;if(typeof s.mockUserToken=="string")l=s.mockUserToken,a=Vt.MOCK_USER;else{l=Ly(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=s.mockUserToken.sub||s.mockUserToken.user_id;if(!c)throw new Qt(Xt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Vt(c)}t._authCredentials=new rC(new H6(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new dC(this,"async_queue_retry"),this.Vu=()=>{const s=Eu();s&&En("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=Eu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Eu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new $o;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!uC(e))throw e;En("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(s);throw V6("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=Dh.createAndSchedule(this,e,n,s,i=>this.yu(i));return this.Tu.push(r),r}fu(){this.Eu&&Nh()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class yC extends U6{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Ep,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ep(e),this._firestoreClient=void 0,await e}}}function vC(t,e){const n=typeof t=="object"?t:R6(),s=typeof t=="string"?t:"(default)",r=Lh(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=Iy("firestore");i&&gC(r,...i)}return r}(function(e,n=!0){(function(r){Cl=r})(Ji),$i(new Vr("firestore",(s,{instanceIdentifier:r,options:i})=>{const o=s.getProvider("app").getImmediate(),l=new yC(new iC(s.getProvider("auth-internal")),new cC(s.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Qt(Xt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(c.options.projectId,d)}(o,r),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),tr(bp,"4.7.4",e),tr(bp,"4.7.4","esm2017")})();function Rh(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function j6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CC=j6,z6=new yl("auth","Firebase",j6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Ih("@firebase/auth");function wC(t,...e){Ra.logLevel<=Be.WARN&&Ra.warn(`Auth (${Ji}): ${t}`,...e)}function la(t,...e){Ra.logLevel<=Be.ERROR&&Ra.error(`Auth (${Ji}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t,...e){throw Fh(t,...e)}function In(t,...e){return Fh(t,...e)}function $h(t,e,n){const s=Object.assign(Object.assign({},CC()),{[e]:n});return new yl("auth","Firebase",s).create(e,{appName:t.name})}function Or(t){return $h(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bC(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Wn(t,"argument-error"),$h(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fh(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return z6.create(t,...e)}function be(t,e,...n){if(!t)throw Fh(e,...n)}function us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw la(e),new Error(e)}function ws(t,e){t||us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kC(){return Mp()==="http:"||Mp()==="https:"}function Mp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kC()||Dy()||"connection"in navigator)?navigator.onLine:!0}function _C(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ws(n>e,"Short delay should be less than long delay!"),this.isMobile=Py()||Ry()}get(){return xC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t,e){ws(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new wl(3e4,6e4);function Vh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zi(t,e,n,s,r={}){return q6(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const l=vl(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:a},i);return Ny()||(c.referrerPolicy="no-referrer"),W6.fetch()(K6(t,t.config.apiHost,n,l),c)})}async function q6(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},SC),e);try{const r=new MC(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Jl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[a,c]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jl(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw Jl(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw Jl(t,"user-disabled",o);const d=s[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $h(t,d,c);Wn(t,d)}}catch(r){if(r instanceof _s)throw r;Wn(t,"network-request-failed",{message:String(r)})}}async function EC(t,e,n,s,r={}){const i=await Zi(t,e,n,s,r);return"mfaPendingCredential"in i&&Wn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function K6(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?Bh(t.config,r):`${t.config.apiScheme}://${r}`}class MC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(In(this.auth,"network-request-failed")),TC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jl(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=In(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(t,e){return Zi(t,"POST","/v1/accounts:delete",e)}async function G6(t,e){return Zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IC(t,e=!1){const n=Jr(t),s=await n.getIdToken(e),r=Hh(s);be(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Fo(Mu(r.auth_time)),issuedAtTime:Fo(Mu(r.iat)),expirationTime:Fo(Mu(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Mu(t){return Number(t)*1e3}function Hh(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return la("JWT malformed, contained fewer than 3 sections"),null;try{const r=A6(n);return r?JSON.parse(r):(la("Failed to decode base64 JWT payload"),null)}catch(r){return la("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Ap(t){const e=Hh(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _s&&OC(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function OC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fo(this.lastLoginAt),this.creationTime=Fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Qo(t,G6(n,{idToken:s}));be(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?J6(i.providerUserInfo):[],l=NC(t.providerData,o),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=a?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ed(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function PC(t){const e=Jr(t);await $a(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NC(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function J6(t){return t.map(e=>{var{providerId:n}=e,s=Rh(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(t,e){const n=await q6(t,{},async()=>{const s=vl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=K6(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",W6.fetch()(o,{method:"POST",headers:l,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RC(t,e){return Zi(t,"POST","/v2/accounts:revokeToken",Vh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ap(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=Ap(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await DC(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new xi;return s&&(be(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(be(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(be(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xi,this.toJSON())}_performRefresh(){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ds{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=Rh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ed(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IC(this,e)}reload(){return PC(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await $a(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(Or(this.auth));const e=await this.getIdToken();return await Qo(this,AC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,l,a,c,d;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,k=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:P,isAnonymous:D,providerData:F,stsTokenManager:M}=n;be(T&&M,e,"internal-error");const b=xi.fromJSON(this.name,M);be(typeof T=="string",e,"internal-error"),Ls(h,e.name),Ls(f,e.name),be(typeof P=="boolean",e,"internal-error"),be(typeof D=="boolean",e,"internal-error"),Ls(p,e.name),Ls(y,e.name),Ls(v,e.name),Ls(k,e.name),Ls(S,e.name),Ls(E,e.name);const w=new ds({uid:T,auth:e,email:f,emailVerified:P,displayName:h,isAnonymous:D,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:b,createdAt:S,lastLoginAt:E});return F&&Array.isArray(F)&&(w.providerData=F.map(x=>Object.assign({},x))),k&&(w._redirectEventId=k),w}static async _fromIdTokenResponse(e,n,s=!1){const r=new xi;r.updateFromServerResponse(n);const i=new ds({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await $a(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];be(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?J6(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new xi;l.updateFromIdToken(s);const a=new ds({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ed(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new Map;function hs(t){ws(t instanceof Function,"Expected a class definition");let e=Ip.get(t);return e?(ws(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ip.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Z6.type="NONE";const Op=Z6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e,n){return`firebase:${t}:${e}:${n}`}class _i{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=aa(this.userKey,r.apiKey,i),this.fullPersistenceKey=aa("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ds._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _i(hs(Op),e,s);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=r[0]||hs(Op);const o=aa(s,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const h=ds._fromJSON(e,d);c!==i&&(l=h),i=c;break}}catch{}const a=r.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!a.length?new _i(i,e,s):(i=a[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new _i(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(e3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n3(e))return"Blackberry";if(s3(e))return"Webos";if(X6(e))return"Safari";if((e.includes("chrome/")||Q6(e))&&!e.includes("edge/"))return"Chrome";if(t3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Y6(t=jt()){return/firefox\//i.test(t)}function X6(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q6(t=jt()){return/crios\//i.test(t)}function e3(t=jt()){return/iemobile/i.test(t)}function t3(t=jt()){return/android/i.test(t)}function n3(t=jt()){return/blackberry/i.test(t)}function s3(t=jt()){return/webos/i.test(t)}function Uh(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $C(t=jt()){var e;return Uh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FC(){return $y()&&document.documentMode===10}function r3(t=jt()){return Uh(t)||t3(t)||s3(t)||n3(t)||/windows phone/i.test(t)||e3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t,e=[]){let n;switch(t){case"Browser":n=Lp(jt());break;case"Worker":n=`${Lp(jt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ji}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,l)=>{try{const a=e(i);o(a)}catch(a){l(a)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(t,e={}){return Zi(t,"GET","/v2/passwordPolicy",Vh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=6;class UC{constructor(e){var n,s,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:HC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,r,i,o,l;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(s=a.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(r=a.containsLowercaseLetter)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsUppercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(l=a.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),a}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pp(this),this.idTokenSubscription=new Pp(this),this.beforeStateQueue=new BC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hs(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await _i.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await G6(this,{idToken:e}),s=await ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $a(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_C()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(Or(this));const n=e?Jr(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VC(this),n=new UC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await RC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await _i.create(this,[hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,s,r);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mc(t){return Jr(t)}class Pp{constructor(e){this.auth=e,this.observer=null,this.addObserver=zy(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zC(t){jh=t}function WC(t){return jh.loadJS(t)}function qC(){return jh.gapiScript}function KC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e){const n=Lh(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Pa(i,e??{}))return r;Wn(r,"already-initialized")}return n.initialize({options:e})}function JC(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function ZC(t,e,n){const s=Mc(t);be(s._canInitEmulator,s,"emulator-config-failed"),be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,i=o3(e),{host:o,port:l}=YC(e),a=l===null?"":`:${l}`;s.config.emulator={url:`${i}//${o}${a}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})}),XC()}function o3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YC(t){const e=o3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:Np(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:Np(o)}}}function Np(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,n){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Si(t,e){return EC(t,"POST","/v1/accounts:signInWithIdp",Vh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="http://localhost";class Hr extends l3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=Rh(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new Hr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Si(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Si(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Si(e,n)}buildRequest(){const e={requestUri:QC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends zh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends bl{constructor(){super("facebook.com")}static credential(e){return Hr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hr._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends bl{constructor(){super("github.com")}static credential(e){return Hr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends bl{constructor(){super("twitter.com")}static credential(e,n){return Hr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qs.credential(n,s)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await ds._fromIdTokenResponse(e,s,r),o=Dp(s);return new Bi({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Dp(s);return new Bi({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Dp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends _s{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Fa.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Fa(e,n,s,r)}}function a3(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Fa._fromErrorAndOperation(t,i,e,s):i})}async function ew(t,e,n=!1){const s=await Qo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bi._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(t,e,n=!1){const{auth:s}=t;if(cs(s.app))return Promise.reject(Or(s));const r="reauthenticate";try{const i=await Qo(t,a3(s,r,e,t),n);be(i.idToken,s,"internal-error");const o=Hh(i.idToken);be(o,s,"internal-error");const{sub:l}=o;return be(t.uid===l,s,"user-mismatch"),Bi._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Wn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(t,e,n=!1){if(cs(t.app))return Promise.reject(Or(t));const s="signIn",r=await a3(t,s,e),i=await Bi._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}function sw(t,e,n,s){return Jr(t).onIdTokenChanged(e,n,s)}function rw(t,e,n){return Jr(t).beforeAuthStateChanged(e,n)}function iw(t){return Jr(t).signOut()}const Ba="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ba,"1"),this.storage.removeItem(Ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=1e3,lw=10;class u3 extends c3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);FC()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,lw):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u3.type="LOCAL";const aw=u3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3 extends c3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d3.type="SESSION";const h3=d3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Ac(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async c=>c(n.origin,i)),a=await cw(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((l,a)=>{const c=Wh("",20);r.port1.start();const d=setTimeout(()=>{a(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function dw(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function hw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fw(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pw(){return f3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="firebaseLocalStorageDb",mw=1,Va="firebaseLocalStorage",m3="fbase_key";class kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ic(t,e){return t.transaction([Va],e?"readwrite":"readonly").objectStore(Va)}function gw(){const t=indexedDB.deleteDatabase(p3);return new kl(t).toPromise()}function Md(){const t=indexedDB.open(p3,mw);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Va,{keyPath:m3})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Va)?e(s):(s.close(),await gw(),e(await Md()))})})}async function Rp(t,e,n){const s=Ic(t,!0).put({[m3]:e,value:n});return new kl(s).toPromise()}async function yw(t,e){const n=Ic(t,!1).get(e),s=await new kl(n).toPromise();return s===void 0?null:s.value}function $p(t,e){const n=Ic(t,!0).delete(e);return new kl(n).toPromise()}const vw=800,Cw=3;class g3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Md(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Cw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(pw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hw(),!this.activeServiceWorker)return;this.sender=new uw(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Md();return await Rp(e,Ba,"1"),await $p(e,Ba),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Rp(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>yw(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$p(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Ic(r,!1).getAll();return new kl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g3.type="LOCAL";const ww=g3;new wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e){return e?hs(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends l3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Si(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Si(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Si(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bw(t){return nw(t.auth,new qh(t),t.bypassAuthState)}function kw(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),tw(n,new qh(t),t.bypassAuthState)}async function xw(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),ew(n,new qh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return kw;default:Wn(this.auth,"internal-error")}}resolve(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new wl(2e3,1e4);async function Sw(t,e,n){if(cs(t.app))return Promise.reject(In(t,"operation-not-supported-in-this-environment"));const s=Mc(t);bC(t,e,zh);const r=y3(s,n);return new _r(s,"signInViaPopup",e,r).executeNotNull()}class _r extends v3{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,_r.currentPopupAction&&_r.currentPopupAction.cancel(),_r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ws(this.filter.length===1,"Popup operations only handle one event");const e=Wh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(In(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(In(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(In(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_w.get())};e()}}_r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="pendingRedirect",ca=new Map;class Ew extends v3{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ca.get(this.auth._key());if(!e){try{const s=await Mw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ca.set(this.auth._key(),e)}return this.bypassAuthState||ca.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mw(t,e){const n=Ow(e),s=Iw(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function Aw(t,e){ca.set(t._key(),e)}function Iw(t){return hs(t._redirectPersistence)}function Ow(t){return aa(Tw,t.config.apiKey,t.name)}async function Lw(t,e,n=!1){if(cs(t.app))return Promise.reject(Or(t));const s=Mc(t),r=y3(s,e),o=await new Ew(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=10*60*1e3;class Nw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!C3(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(In(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fp(e))}saveEventToCache(e){this.cachedEventUids.add(Fp(e)),this.lastProcessedEventTime=Date.now()}}function Fp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function C3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dw(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(t,e={}){return Zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fw=/^https?/;async function Bw(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Rw(t);for(const n of e)try{if(Vw(n))return}catch{}Wn(t,"unauthorized-domain")}function Vw(t){const e=Td(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!Fw.test(n))return!1;if($w.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new wl(3e4,6e4);function Bp(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Uw(t){return new Promise((e,n)=>{var s,r,i;function o(){Bp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bp(),n(In(t,"network-request-failed"))},timeout:Hw.get()})}if(!((r=(s=jn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=jn().gapi)===null||i===void 0)&&i.load)o();else{const l=KC("iframefcb");return jn()[l]=()=>{gapi.load?o():n(In(t,"network-request-failed"))},WC(`${qC()}?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw ua=null,e})}let ua=null;function jw(t){return ua=ua||Uw(t),ua}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new wl(5e3,15e3),Ww="__/auth/iframe",qw="emulator/auth/iframe",Kw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jw(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bh(e,qw):`https://${t.config.authDomain}/${Ww}`,s={apiKey:e.apiKey,appName:t.name,v:Ji},r=Gw.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${vl(s).slice(1)}`}async function Zw(t){const e=await jw(t),n=jn().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:Jw(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kw,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=In(t,"network-request-failed"),l=jn().setTimeout(()=>{i(o)},zw.get());function a(){jn().clearTimeout(l),r(s)}s.ping(a).then(a,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xw=500,Qw=600,eb="_blank",tb="http://localhost";class Vp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nb(t,e,n,s=Xw,r=Qw){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const a=Object.assign(Object.assign({},Yw),{width:s.toString(),height:r.toString(),top:i,left:o}),c=jt().toLowerCase();n&&(l=Q6(c)?eb:n),Y6(c)&&(e=e||tb,a.scrollbars="yes");const d=Object.entries(a).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if($C(c)&&l!=="_self")return sb(e||"",l),new Vp(null);const h=window.open(e||"",l,d);be(h,t,"popup-blocked");try{h.focus()}catch{}return new Vp(h)}function sb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="__/auth/handler",ib="emulator/auth/handler",ob=encodeURIComponent("fac");async function Hp(t,e,n,s,r,i){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ji,eventId:r};if(e instanceof zh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jy(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof bl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const a=await t._getAppCheckToken(),c=a?`#${ob}=${encodeURIComponent(a)}`:"";return`${lb(t)}?${vl(l).slice(1)}${c}`}function lb({config:t}){return t.emulator?Bh(t,ib):`https://${t.authDomain}/${rb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="webStorageSupport";class ab{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h3,this._completeRedirectFn=Lw,this._overrideRedirectResult=Aw}async _openPopup(e,n,s,r){var i;ws((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Hp(e,n,s,Td(),r);return nb(e,o,Wh())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await Hp(e,n,s,Td(),r);return dw(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(ws(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Zw(e),s=new Nw(e);return n.register("authEvent",r=>(be(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Au,{type:Au},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Au];o!==void 0&&n(!!o),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Bw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r3()||X6()||Uh()}}const cb=ab;var Up="@firebase/auth",jp="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hb(t){$i(new Vr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i3(t)},c=new jC(s,r,i,a);return JC(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),$i(new Vr("auth-internal",e=>{const n=Mc(e.getProvider("auth").getImmediate());return(s=>new ub(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(Up,jp,db(t)),tr(Up,jp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=5*60,pb=L6("authIdTokenMaxAge")||fb;let zp=null;const mb=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pb)return;const r=n==null?void 0:n.token;zp!==r&&(zp=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function gb(t=R6()){const e=Lh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GC(t,{popupRedirectResolver:cb,persistence:[ww,aw,h3]}),s=L6("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const o=mb(i.toString());rw(n,o,()=>o(n.currentUser)),sw(n,l=>o(l))}}const r=I6("auth");return r&&ZC(n,`http://${r}`),n}function yb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zC({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=In("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",yb().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hb("Browser");const vb={apiKey:"AIzaSyB2W-hq7r3Lh0k-3x1NK-S6uvquqZIYydQ",authDomain:"my-agreements.firebaseapp.com",projectId:"my-agreements",storageBucket:"my-agreements.appspot.com",messagingSenderId:"475255529009",appId:"1:475255529009:web:449e8e6d3e17f985fdbf10"},w3=D6(vb),Ee=gb(w3);vC(w3);function Cb(){const t=new ls;return Sw(Ee,t)}function wb(){return iw(Ee)}const bb=["width","height"],bs={__name:"LoadingSpinner",props:{size:{type:Number,default:34}},setup(t){return(e,n)=>($(),H("svg",{width:t.size,height:t.size,class:"loading-spinner",version:"1.1",id:"L9",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100","enable-background":"new 0 0 0 0","xml:space":"preserve"},n[0]||(n[0]=[g("path",{fill:"#000",d:"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"},[g("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})],-1)]),8,bb))}},kb={class:"flex-default",style:{"justify-content":"center",margin:"48px 0"}},xb={__name:"HomeView",setup(t){const e=nn();return e.user&&(console.log("redirecting to dashboard"),Ct.push({path:"/dashboard"})),!e.loading&&!e.user&&(console.log("redirecting to authentication"),Ct.push({path:"/authentication"})),(n,s)=>($(),H(Le,null,[s[1]||(s[1]=ke(" dfgdfg ")),g("div",kb,[Y(bs),s[0]||(s[0]=g("span",null,"Loading...",-1))])],64))}},xt="https://app.my-agreements.com";async function _b(t){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const e=await Ee.currentUser.getIdToken(),n=await fetch(`${xt}/ai-agreement-generator`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to generate agreement");return await n.json()}async function Sb(t){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const n={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`},s=new FormData;if(s.append("agreementType",t.agreementType),s.append("agreementName",t.agreementName),t.agreementText.trim()){const o=t.agreementText.trim();s.append("agreementText",o&&o!=="<p></p>"?o:"")}else s.append("agreementFile",t.agreementFile);t.requiredDocuments&&s.append("requiredDocuments",JSON.stringify(t.requiredDocuments)),t.requiredDocuments.includes("custom")&&s.append("customDocumentName",t.customDocumentName);const r=await fetch(`${xt}/save-agreement`,{method:"POST",headers:n,body:s}),i=await r.json();if(!r.ok)throw new Error(i.message||"Failed to get agreements");return i}async function Tb(){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const e={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`},n=await fetch(`${xt}/get-agreements`,{method:"GET",headers:e}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to get agreements");return s}async function Eb(t){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const n={"Content-Type":"application/json",Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`},s=await fetch(`${xt}/share-agreement`,{method:"POST",headers:n,body:JSON.stringify(t)}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to share agreement");return r}async function Mb(t){const e=await fetch(`${xt}/get-signee-content?id=${t}`,{method:"GET"}),n=await e.json();if(!e.ok)throw new Error(n.message||"Failed to get signee content");return n}async function Ab(t){const e=new FormData;e.append("id",t.id),e.append("signature",t.signature),t.photo&&e.append("photo",t.photo),t["id-card"]&&e.append("id-card",t["id-card"]),t.passport&&e.append("passport",t.passport),t["drivers-license"]&&e.append("drivers-license",t["drivers-license"]),t.custom&&e.append("custom",t.custom);const n=await fetch(`${xt}/sign-agreement`,{method:"POST",body:e}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to sign agreement");return s}async function Ib(t){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const n={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`},s=await fetch(`${xt}/get-signees?id=${t}`,{method:"GET",headers:n}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to get signees");return r}async function b3(t){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const n={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`,"Content-Type":"application/json"},s=await fetch(`${xt}/delete-agreement`,{method:"POST",headers:n,body:JSON.stringify({id:t})}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to delete agreement");return r}async function Ob(t,e){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const s={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`,"Content-Type":"application/json"},r=await fetch(`${xt}/delete-signee`,{method:"POST",headers:s,body:JSON.stringify({agreementId:t,signeeId:e})}),i=await r.json();if(!r.ok)throw new Error(i.message||"Failed to delete signee");return i}async function Lb(t,e,n){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const r={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`,"Content-Type":"application/json"},i=await fetch(`${xt}/reject-signee`,{method:"POST",headers:r,body:JSON.stringify({agreementId:t,signeeId:e,reason:n})}),o=await i.json();if(!i.ok)throw new Error(o.message||"Failed to delete signee");return o}async function Pb(t,e,n=!1){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const r={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`,"Content-Type":"application/json"},i=await fetch(`${xt}/approve-signee`,{method:"POST",headers:r,body:JSON.stringify({agreementId:t,signeeId:e,immediate:n})}),o=await i.json();if(!i.ok)throw new Error(o.message||"Failed to approve signee");return o}async function Wp(t,e,n){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const r={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`,"Content-Type":"application/json"},i=await fetch(`${xt}/mark-status`,{method:"POST",headers:r,body:JSON.stringify({agreementId:t,signeeId:e,status:n})}),o=await i.json();if(!i.ok)throw new Error(o.message||"Failed to mark started");return o}async function Nb(){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const e={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`},n=await fetch(`${xt}/user-profile`,{method:"GET",headers:e}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to get agreements");return s}async function k3(t,e,n){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const r={Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`},i=new FormData;i.append(n,t);const o=await fetch(`${xt}${e}`,{method:"POST",headers:r,body:i}),l=await o.json();if(!o.ok)throw new Error(l.message||"Failed to update profile picture");return l}async function Db(t){try{return await k3(t,"/update-profile-picture","profilePicture")}catch(e){throw e}}async function Rb(t){try{return await k3(t,"/update-organization-logo","organizationLogo")}catch(e){throw e}}async function $b(t,e,n){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const r={"Content-Type":"application/json",Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`},i=await fetch(`${xt}/save-profile-details`,{method:"POST",headers:r,body:JSON.stringify({fullName:t,organizationName:e,organizationTagline:n})}),o=await i.json();if(!i.ok)throw new Error(o.message||"Failed to get agreements");return o}async function Fb(t,e=!1){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const s={"Content-Type":"application/json",Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`},r=await fetch(`${xt}/subscription-url?packageName=${t}&yearly=${e}`,{method:"GET",headers:s}),i=await r.json();if(!r.ok)throw new Error(i.message||"Failed to get agreements");return i}async function Bb(t,e=!1){if(!Ee.currentUser)throw alert("Login required"),new Error("Login required");const s={"Content-Type":"application/json",Authorization:`Bearer ${await Ee.currentUser.getIdToken()}`},r=await fetch(`${xt}/change-subscription-plan`,{method:"POST",headers:s,body:JSON.stringify({packageName:t,yearly:e})}),i=await r.json();if(!r.ok)throw new Error(i.message||"Failed to get agreements");return i}var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ub(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var x3={exports:{}};const jb=Ub(d8);(function(t,e){(function(s,r){t.exports=r(jb)})(Vb,n=>(()=>{var s={113:(b,w)=>{Object.defineProperty(w,"__esModule",{value:!0}),w.default=(x,O)=>{const I=x.__vccOpts||x;for(const[A,ve]of O)I[A]=ve;return I}},594:b=>{b.exports=n}},r={};function i(b){var w=r[b];if(w!==void 0)return w.exports;var x=r[b]={exports:{}};return s[b](x,x.exports,i),x.exports}i.d=(b,w)=>{for(var x in w)i.o(w,x)&&!i.o(b,x)&&Object.defineProperty(b,x,{enumerable:!0,get:w[x]})},i.o=(b,w)=>Object.prototype.hasOwnProperty.call(b,w),i.r=b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var o={};i.r(o),i.d(o,{ToastComponent:()=>P,ToastPlugin:()=>F,ToastPositions:()=>p,default:()=>M,useToast:()=>D});var l=i(594);const a=["innerHTML"];function c(b,w,x,O,I,A){return(0,l.openBlock)(),(0,l.createBlock)(l.Transition,{"enter-active-class":b.transition.enter,"leave-active-class":b.transition.leave},{default:(0,l.withCtx)(()=>[(0,l.withDirectives)((0,l.createElementVNode)("div",{ref:"root",role:"alert",class:(0,l.normalizeClass)(["v-toast__item",[`v-toast__item--${b.type}`,`v-toast__item--${b.position}`]]),onMouseover:w[0]||(w[0]=ve=>b.toggleTimer(!0)),onMouseleave:w[1]||(w[1]=ve=>b.toggleTimer(!1)),onClick:w[2]||(w[2]=function(){return b.whenClicked&&b.whenClicked(...arguments)})},[w[3]||(w[3]=(0,l.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,l.createElementVNode)("p",{class:"v-toast__text",innerHTML:b.message},null,8,a)],34),[[l.vShow,b.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function d(b){var w;typeof b.remove<"u"?b.remove():(w=b.parentNode)==null||w.removeChild(b)}function h(b,w,x){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const I=(0,l.h)(b,w,O),A=document.createElement("div");return A.classList.add("v-toast--pending"),x.appendChild(A),(0,l.render)(I,A),I.component}class f{constructor(w,x){this.startedAt=Date.now(),this.callback=w,this.delay=x,this.timer=setTimeout(w,x)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const p=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function y(b){return{all:b=b||new Map,on:function(w,x){var O=b.get(w);O?O.push(x):b.set(w,[x])},off:function(w,x){var O=b.get(w);O&&(x?O.splice(O.indexOf(x)>>>0,1):b.set(w,[]))},emit:function(w,x){var O=b.get(w);O&&O.slice().map(function(I){I(x)}),(O=b.get("*"))&&O.slice().map(function(I){I(w,x)})}}}const k=y(),S=(0,l.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:p.BOTTOM_RIGHT,validator(b){return Object.values(p).includes(b)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),k.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const b=document.body;b.appendChild(this.parentTop),b.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const b=this.$refs.root;(0,l.render)(null,b),d(b)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const b=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),d(b),this.isActive=!0,this.duration&&(this.timer=new f(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(b){!this.pauseOnHover||!this.timer||(b?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case p.TOP:case p.TOP_RIGHT:case p.TOP_LEFT:return this.parentTop;case p.BOTTOM:case p.BOTTOM_RIGHT:case p.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case p.TOP:case p.TOP_RIGHT:case p.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case p.BOTTOM:case p.BOTTOM_RIGHT:case p.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){k.off("toast-clear",this.dismiss)}});var E=i(113);const P=(0,E.default)(S,[["render",c]]),D=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(w){let x=null;typeof w=="string"&&(x=w);const I=Object.assign({},{message:x},b,w);return{dismiss:h(P,I,document.body).ctx.dismiss}},clear(){k.emit("toast-clear")},success(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"success"},x))},error(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"error"},x))},info(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"info"},x))},warning(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"warning"},x))},default(w){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:w,type:"default"},x))}}},F={install:function(b){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=D(w);b.config.globalProperties.$toast=x,b.provide("$toast",x)}},M=F;return o})())})(x3);var Nt=x3.exports;const zb=Hb(Nt),qp=Nt.useToast(),Yi=Ec("agreements",()=>{const t=ue(!0),e=ue([]),n=he(()=>{const a=e.value.length,c=e.value.reduce((d,h)=>d+(h.signeeCount||0),0);return{agreementCount:a>9?a:`0${a}`,signeesCount:c>9?c:`0${c}`}});function s(a){t.value=!1,e.value=a}function r(a){e.value=[a,...e.value]}async function i(){if(!t.value)return e.value;try{const{success:a,content:c,message:d}=await Tb();if(!a){qp.error(d||"Failed to get agreements");return}return s(c),c}catch(a){console.error(a),qp.error("Failed to get agreements")}}async function o(a){return(await i()).find(d=>d.id===a)}async function l(a){const c=await i();e.value=c.filter(d=>d.id!==a)}return{loading:t,agreements:e,stats:n,setAgreements:s,addAgreement:r,getAgreements:i,getAgreement:o,deleteAgreement:l}}),Wb={key:0,class:"create-profile-info flex-default mb-1-5"},qb={key:1,class:"dashboard-stats"},Kb={class:"stat-item"},Gb={class:"data"},Jb={class:"title flex-default"},Zb={class:"info flex-default"},Yb={class:"text text-capitalize"},Xb={class:"stat-item"},Qb={class:"data"},ek={class:"info"},tk={class:"text"},nk={class:"stat-item"},sk={class:"data"},rk={class:"info"},ik={class:"text"},ok={__name:"Stats",setup(t){const e=nn(),n=Yi(),s=he(()=>n.stats||{}),r=he(()=>e.notSubscribed),i=he(()=>e.subscription);return(o,l)=>{var c,d,h,f;const a=hr("RouterLink");return $(),H(Le,null,[!i.value||r.value?($(),H("div",Wb,[l[1]||(l[1]=g("p",{class:"text"},"You currently do not have an active subscription",-1)),Y(a,{to:"/manage-subscription",class:"btn btn-sm btn-outline"},{default:Ze(()=>l[0]||(l[0]=[ke("Manage subscription")])),_:1})])):de("",!0),i.value?($(),H("div",qb,[g("div",Kb,[l[4]||(l[4]=g("svg",{width:"80",height:"82",viewBox:"0 0 80 82",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("rect",{width:"80",height:"82",rx:"40",fill:"#F9BAA3"}),g("path",{d:"M38.5734 25.3906C39.0224 24.0086 40.9776 24.0086 41.4266 25.3906L44.1535 33.7832C44.3543 34.4012 44.9303 34.8197 45.5801 34.8197H54.4046C55.8577 34.8197 56.4619 36.6791 55.2863 37.5332L48.1471 42.7201C47.6214 43.1021 47.4014 43.7791 47.6022 44.3972L50.3291 52.7898C50.7781 54.1717 49.1964 55.3209 48.0209 54.4668L40.8817 49.2799C40.3559 48.8979 39.6441 48.8979 39.1183 49.2799L31.9791 54.4668C30.8036 55.3209 29.2219 54.1717 29.6709 52.7898L32.3978 44.3972C32.5986 43.7791 32.3786 43.1021 31.8529 42.7201L24.7137 37.5332C23.5381 36.6791 24.1423 34.8197 25.5954 34.8197H34.4199C35.0697 34.8197 35.6457 34.4012 35.8465 33.7832L38.5734 25.3906Z",fill:"white"})],-1)),g("div",Gb,[g("p",Jb,[l[2]||(l[2]=g("span",null,"Current Plan",-1)),g("span",{class:Fe("subscription-status-badge "+((c=i.value)==null?void 0:c.status))},fe((h=(d=i.value)==null?void 0:d.status)==null?void 0:h.replace("_"," ")),3)]),g("div",Zb,[g("span",Yb,fe((f=i.value)==null?void 0:f.packageName),1),Y(a,{to:"/manage-subscription",class:"subscription-manage-btn"},{default:Ze(()=>l[3]||(l[3]=[ke("manage")])),_:1})])])]),l[9]||(l[9]=g("div",{class:"v-divider"},null,-1)),g("div",Xb,[l[6]||(l[6]=et('<svg width="80" height="82" viewBox="0 0 80 82" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="80" height="82" rx="40" fill="#ABE8C2"></rect><rect x="25.6693" y="21.315" width="28.6614" height="39.3701" rx="0.629921" stroke="#2D2B2B" stroke-width="0.629921"></rect><rect x="28.504" y="34.8583" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><rect x="28.504" y="39.8976" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><rect x="28.504" y="44.937" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><rect x="28.504" y="49.9764" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><rect x="28.504" y="55.0157" width="23.3071" height="0.944882" rx="0.472441" fill="#2D2B2B"></rect><path d="M30.2857 28.3543H32.4023V29.1732H30.2857V28.3543ZM30.3613 30.7795H29.3408V26.3701H32.6731V27.189H30.3613V30.7795ZM34.8273 30.8299C34.4662 30.8299 34.1449 30.7543 33.8635 30.6032C33.5864 30.452 33.3659 30.2462 33.2021 29.9858C33.0425 29.7213 32.9627 29.421 32.9627 29.0851C32.9627 28.7449 33.0425 28.4446 33.2021 28.1843C33.3659 27.9197 33.5864 27.7139 33.8635 27.5669C34.1449 27.4158 34.4662 27.3402 34.8273 27.3402C35.1843 27.3402 35.5034 27.4158 35.7848 27.5669C36.0662 27.7139 36.2866 27.9176 36.4462 28.178C36.6058 28.4383 36.6856 28.7407 36.6856 29.0851C36.6856 29.421 36.6058 29.7213 36.4462 29.9858C36.2866 30.2462 36.0662 30.452 35.7848 30.6032C35.5034 30.7543 35.1843 30.8299 34.8273 30.8299ZM34.8273 30.0236C34.9911 30.0236 35.1381 29.9858 35.2683 29.9102C35.3984 29.8347 35.5013 29.7276 35.5769 29.589C35.6525 29.4462 35.6903 29.2782 35.6903 29.0851C35.6903 28.8877 35.6525 28.7197 35.5769 28.5811C35.5013 28.4425 35.3984 28.3354 35.2683 28.2599C35.1381 28.1843 34.9911 28.1465 34.8273 28.1465C34.6635 28.1465 34.5165 28.1843 34.3864 28.2599C34.2562 28.3354 34.1512 28.4425 34.0714 28.5811C33.9958 28.7197 33.958 28.8877 33.958 29.0851C33.958 29.2782 33.9958 29.4462 34.0714 29.589C34.1512 29.7276 34.2562 29.8347 34.3864 29.9102C34.5165 29.9858 34.6635 30.0236 34.8273 30.0236ZM37.3424 30.7795V27.3906H38.281V28.348L38.1487 28.0709C38.2495 27.8315 38.4112 27.6509 38.6338 27.5291C38.8563 27.4032 39.1272 27.3402 39.4464 27.3402V28.2473C39.4044 28.2431 39.3666 28.241 39.333 28.241C39.2994 28.2368 39.2637 28.2347 39.2259 28.2347C38.9571 28.2347 38.7387 28.3123 38.5708 28.4677C38.407 28.6189 38.3251 28.8562 38.3251 29.1795V30.7795H37.3424ZM44.377 27.3402C44.6457 27.3402 44.883 27.3948 45.0888 27.504C45.2987 27.6089 45.4625 27.7727 45.5801 27.9953C45.7019 28.2137 45.7628 28.495 45.7628 28.8394V30.7795H44.7801V28.9906C44.7801 28.7176 44.7234 28.516 44.61 28.3858C44.4966 28.2557 44.3371 28.1906 44.1313 28.1906C43.9885 28.1906 43.8604 28.2242 43.747 28.2914C43.6337 28.3543 43.5455 28.4509 43.4825 28.5811C43.4195 28.7113 43.388 28.8772 43.388 29.0788V30.7795H42.4053V28.9906C42.4053 28.7176 42.3486 28.516 42.2352 28.3858C42.126 28.2557 41.9686 28.1906 41.7628 28.1906C41.62 28.1906 41.4919 28.2242 41.3785 28.2914C41.2652 28.3543 41.177 28.4509 41.114 28.5811C41.051 28.7113 41.0195 28.8772 41.0195 29.0788V30.7795H40.0368V27.3906H40.9754V28.3165L40.799 28.0457C40.9166 27.8147 41.0825 27.6404 41.2966 27.5228C41.515 27.4011 41.7628 27.3402 42.04 27.3402C42.3507 27.3402 42.6216 27.42 42.8526 27.5795C43.0877 27.7349 43.2431 27.9743 43.3187 28.2977L42.9722 28.2032C43.0856 27.9386 43.2662 27.7286 43.514 27.5732C43.7659 27.4179 44.0536 27.3402 44.377 27.3402Z" fill="#2D2B2B"></path></svg>',1)),g("div",Qb,[l[5]||(l[5]=g("p",{class:"title"},"Agreement Created",-1)),g("div",ek,[g("span",tk,fe(s.value.agreementCount),1)])])]),l[10]||(l[10]=g("div",{class:"v-divider"},null,-1)),g("div",nk,[l[8]||(l[8]=g("svg",{width:"80",height:"82",viewBox:"0 0 80 82",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("rect",{width:"80",height:"82",rx:"40",fill:"#C3E0FF"}),g("path",{d:"M33.3333 36H30.3333C28.4665 36 27.5331 36 26.82 36.3633C26.1928 36.6829 25.6829 37.1928 25.3633 37.82C25 38.533 25 39.4665 25 41.3334V50.6667C25 52.5335 25 53.4669 25.3633 54.1799C25.6829 54.8072 26.1928 55.317 26.82 55.6367C27.5331 56 28.4665 56 30.3333 56H49.645C51.5118 56 52.4452 56 53.1583 55.6367C53.7855 55.317 54.2953 54.8072 54.615 54.1799C54.9783 53.4669 54.9783 52.5335 54.9783 50.6667V41M30 46H30.0167M36.6667 45.9999H36.6833M39.1982 42.4909L41.3895 42.0577C42.572 41.824 43.1632 41.7072 43.7145 41.492C44.2038 41.301 44.6688 41.0529 45.1 40.7525C45.5857 40.4144 46.0117 39.9882 46.864 39.1359L55.4447 30.5552C56.5902 29.4098 56.5902 27.5527 55.4447 26.4073C54.2993 25.2619 52.4422 25.2619 51.2968 26.4073L42.5693 35.1347C41.7708 35.9333 41.3715 36.3326 41.049 36.7852C40.7627 37.1871 40.5218 37.6194 40.331 38.0744C40.116 38.5869 39.9868 39.1367 39.7283 40.236L39.1982 42.4909Z",stroke:"#2D2B2B","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),g("div",sk,[l[7]||(l[7]=g("p",{class:"title"},"Agreement Signee",-1)),g("div",rk,[g("span",ik,fe(s.value.signeesCount),1)])])])])):de("",!0)],64)}}},lk={class:"dashboard-nav"},ak={class:"data"},ck={class:"search-inputs"},uk={class:"input-group"},dk={class:"input-group with-icon search-input"},hk={__name:"DashboardNav",emits:["search"],setup(t,{emit:e}){const n=ue(""),s=e;return xh(()=>{s("search",n.value)}),(r,i)=>($(),H("div",lk,[g("div",ak,[i[2]||(i[2]=g("h3",{class:"title"},"My Agreements",-1)),i[3]||(i[3]=g("p",{class:"info"},[ke(" You can manage all your agreements from here. "),g("br"),ke(" Click on a agreement to view details. ")],-1)),g("div",ck,[g("div",uk,[g("div",dk,[i[1]||(i[1]=g("svg",{class:"icon",width:"18px",height:"18px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z",stroke:"#425466","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ye(g("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>n.value=o),type:"text",class:"input",placeholder:"Search agreement"},null,512),[[Ue,n.value]])])])])]),Y(st(ps),{to:"/create-agreement",class:"btn"},{default:Ze(()=>i[4]||(i[4]=[g("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M4 12H20M12 4V20",stroke:"#fff","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})],-1),g("span",null,"Create New",-1)])),_:1})]))}},_3="/assets/images/success-animation.gif";function Kh(t,e=1e3,n=1e3){return new Promise((s,r)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=function(o){const l=new Image;l.src=o.target.result,l.onload=function(){const a=document.createElement("canvas"),c=a.getContext("2d");let d=l.width,h=l.height;d>h?d>e&&(h*=e/d,d=e):h>n&&(d*=n/h,h=n),a.width=d,a.height=h,c.drawImage(l,0,0,d,h),a.toBlob(f=>{const p=a.toDataURL(t.type);s({blob:f,dataUrl:p})},t.type)}},i.onerror=function(o){r(o)}})}function fk(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function pk(t){if(navigator.clipboard){navigator.clipboard.writeText(t);return}const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}const mk={key:0,class:"modal-wrapper"},gk={class:"modal-content"},yk={class:"modal-header"},vk={class:"modal-body share-agreement-form"},Ck={class:"input-group mb-1-5"},wk={class:"input-group mb-1-5"},bk={key:0,class:"input-group mb-1-5"},kk={class:"multi-col-input"},xk={key:1,class:"input-group mb-1-5"},_k={key:2,class:"input-group mb-1-5"},Sk={key:3,class:"input-group mb-1-5"},Tk={key:4,class:"input-group mb-1-5"},Ek={class:"input-group mb-1-5"},Mk={key:5,class:"input-group mb-1-5"},Ak={style:{color:"var(--Dark)","text-transform":"capitalize","font-weight":"500"}},Ik={class:"modal-footer"},Ok={key:1,class:"modal-wrapper",style:{"--modal-max-width":"600px"}},Lk={class:"modal-content text-center"},Pk={class:"modal-body"},Nk={style:{"line-height":"1.5",margin:"16px 0"}},Dk={class:"input-group flex-default mb-1"},Rk=["value"],S3={__name:"ShareAgreementBtn",props:{agreement:Object},setup(t){const e=Nt.useToast(),s=un().setGlobalLoading,r=t,i=ue(!1),o=ue({name:"",email:"",startDate:"",endDate:"",amount:"$100.00",description:""}),l=ue("");async function a(){let{name:h,email:f,startDate:p,endDate:y,amount:v,description:k}=o.value;if(h=h.trim(),f=f.trim(),p=p.trim(),y=y.trim(),v=v.trim(),k=k.trim(),!h||h.length<4){e.error("Please enter signee name");return}if(!f||f.length<4){e.error("Please enter signee email address");return}if(!fk(f)){e.error("Please enter a valid email address");return}if(p&&(p=new Date(p).toISOString()),y&&(y=new Date(y).toISOString()),p&&y&&new Date(p)>new Date(y)){e.error("End date must be greater than start date");return}if(v&&!/^[^\d]*\d+(\.\d{1,2})?$/.test(v)){e.error("Please enter a valid amount");return}s(!0);try{const S=await Eb({agreementId:r.agreement.id,name:h,email:f,startDate:p,endDate:y,amount:r.agreement.agreementType==="reimbursement contract"||r.agreement.agreementType==="nda from"?null:v,description:k}),{success:E,content:T,message:P}=S;if(!E){e.error(P||"Error saving agreement"),s(!1);return}i.value=!1,c.value=!0,l.value=T.signingLink,console.log(T)}catch(S){e.error("Failed to share agreement"),console.error(S)}s(!1)}const c=ue(!1);function d(h){pk(h),e.success("Link copied to clipboard")}return(h,f)=>($(),H(Le,null,[g("span",{onClick:f[0]||(f[0]=as(p=>i.value=!0,["prevent"]))},[vh(h.$slots,"default",{},()=>[f[14]||(f[14]=g("button",{class:"btn btn-sm action-share"},[g("svg",{fill:"#fff",width:"20",height:"20",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M2,21h8a1,1,0,0,0,0-2H3.071A7.011,7.011,0,0,1,10,13a5.044,5.044,0,1,0-3.377-1.337A9.01,9.01,0,0,0,1,20,1,1,0,0,0,2,21ZM10,5A3,3,0,1,1,7,8,3,3,0,0,1,10,5ZM23,16a1,1,0,0,1-1,1H19v3a1,1,0,0,1-2,0V17H14a1,1,0,0,1,0-2h3V12a1,1,0,0,1,2,0v3h3A1,1,0,0,1,23,16Z"})]),g("span",null,"Intive")],-1))])]),i.value?($(),H("div",mk,[g("div",gk,[g("div",yk,[f[16]||(f[16]=g("h4",{class:"modal-title"},"Invite signee",-1)),($(),H("svg",{onClick:f[1]||(f[1]=as(p=>i.value=!1,["prevent"])),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f[15]||(f[15]=[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),g("div",vk,[g("div",Ck,[f[17]||(f[17]=g("label",{class:"label"},"Signee name",-1)),ye(g("input",{"onUpdate:modelValue":f[2]||(f[2]=p=>o.value.name=p),type:"email",class:"input",placeholder:"Enter signee name"},null,512),[[Ue,o.value.name]])]),g("div",wk,[f[18]||(f[18]=g("label",{class:"label"},"Signee email address",-1)),ye(g("input",{"onUpdate:modelValue":f[3]||(f[3]=p=>o.value.email=p),type:"email",class:"input",placeholder:"Enter email address"},null,512),[[Ue,o.value.email]])]),t.agreement.agreementType!=="nda from"?($(),H("div",bk,[f[19]||(f[19]=g("label",{class:"label"},[ke("Start & End date "),g("span",{class:"text-optional"},"(Optional)")],-1)),f[20]||(f[20]=g("p",{class:"sublabel"},"Set the start and end date for the agreement if applicable",-1)),f[21]||(f[21]=g("p",{class:"sublabel"},[g("i",null,"You can mark agreement as completed at anytime")],-1)),g("div",kk,[ye(g("input",{"onUpdate:modelValue":f[4]||(f[4]=p=>o.value.startDate=p),type:"date",class:"input",placeholder:"Start date"},null,512),[[Ue,o.value.startDate]]),ye(g("input",{"onUpdate:modelValue":f[5]||(f[5]=p=>o.value.endDate=p),type:"date",class:"input",placeholder:"End date"},null,512),[[Ue,o.value.endDate]])])])):de("",!0),t.agreement.agreementType==="hourly contract"?($(),H("div",xk,[f[22]||(f[22]=g("label",{class:"label"},"Hourly rate",-1)),ye(g("input",{"onUpdate:modelValue":f[6]||(f[6]=p=>o.value.amount=p),type:"text",class:"input",placeholder:"Enter hourly rate",value:"$100.00"},null,512),[[Ue,o.value.amount]])])):t.agreement.agreementType==="fixed price contract"?($(),H("div",_k,[f[23]||(f[23]=g("label",{class:"label"},"Contract amount",-1)),ye(g("input",{"onUpdate:modelValue":f[7]||(f[7]=p=>o.value.amount=p),type:"text",class:"input",placeholder:"Enter contract amount",value:"$100.00"},null,512),[[Ue,o.value.amount]])])):t.agreement.agreementType==="cost plus contract"?($(),H("div",Sk,[f[24]||(f[24]=g("label",{class:"label"},"Cost plus amount",-1)),f[25]||(f[25]=g("p",{class:"sublabel"},"Enter amont that will be compensated on top of the cost",-1)),ye(g("input",{"onUpdate:modelValue":f[8]||(f[8]=p=>o.value.amount=p),type:"text",class:"input",placeholder:"Enter cost plus amount",value:"$100.00"},null,512),[[Ue,o.value.amount]])])):t.agreement.agreementType!=="reimbursement contract"&&t.agreement.agreementType!=="nda from"?($(),H("div",Tk,[f[26]||(f[26]=g("label",{class:"label"},[ke("Contract amount "),g("span",{class:"text-optional"},"(Optional)")],-1)),f[27]||(f[27]=g("p",{class:"sublabel"},"If there is a contract amount enter it here",-1)),ye(g("input",{"onUpdate:modelValue":f[9]||(f[9]=p=>o.value.amount=p),type:"text",class:"input",placeholder:"Enter contract amount",value:"$100.00"},null,512),[[Ue,o.value.amount]])])):de("",!0),g("div",Ek,[f[28]||(f[28]=g("label",{class:"label"},[ke("Description "),g("span",{class:"text-optional"},"(Optional)")],-1)),ye(g("textarea",{"onUpdate:modelValue":f[10]||(f[10]=p=>o.value.description=p),class:"input",placeholder:"Describe your agreement to signee"},null,512),[[Ue,o.value.description]])]),t.agreement.requiredDocuments&&t.agreement.requiredDocuments.length?($(),H("div",Mk,[f[29]||(f[29]=g("label",{class:"label"},"Required documents",-1)),g("h4",Ak,fe(t.agreement.requiredDocuments.map(p=>p==="custom"?t.agreement.customDocumentName:p.replace(/-/g," ")).join(", ")),1)])):de("",!0)]),g("div",Ik,[g("button",{onClick:f[11]||(f[11]=as(p=>i.value=!1,["prevent"])),type:"button",class:"btn btn-md btn-outline"},"Cancel"),g("button",{onClick:as(a,["prevent"]),type:"button",class:"btn btn-md"},"Continue")])])])):de("",!0),c.value?($(),H("div",Ok,[g("div",Lk,[f[35]||(f[35]=g("img",{style:{"max-width":"300px"},src:_3,alt:""},null,-1)),f[36]||(f[36]=g("h1",{class:"title"},"Invitation Sent",-1)),g("div",Pk,[g("p",Nk,[f[30]||(f[30]=ke(" We have sent an invitation to ")),g("strong",null,fe(o.value.email),1),f[31]||(f[31]=ke(" to sign the agreement. ")),f[32]||(f[32]=g("br",null,null,-1)),f[33]||(f[33]=ke(" If you want you can also share the link below with the signee. "))]),g("div",Dk,[g("input",{style:{height:"44px"},type:"text",class:"input",value:l.value},null,8,Rk),g("button",{onClick:f[12]||(f[12]=p=>d(l.value)),class:"btn btn-sm",style:{"flex-shrink":"0",height:"44px"}},"Copy link")]),f[34]||(f[34]=g("small",{class:"highlight-warning"},[ke("This link and invitation is valid for "),g("b",null,"24 hours"),ke(" and can only be used to "),g("b",null,"sign the agreement once"),ke(".")],-1))]),g("button",{onClick:f[13]||(f[13]=p=>c.value=!1),class:"btn btn-outline"},"Close")])])):de("",!0)],64))}},$k={key:0,class:"modal-wrapper"},Fk={class:"modal-content"},Bk={class:"text-center mb-0-5"},Vk={key:0,width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Hk={key:1,width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Uk={class:"modal-title text-center mb-0-5",style:{"font-size":"32px"}},jk=["innerHTML"],zk={class:"modal-footer",style:{"justify-content":"center"}},Ti={__name:"ConfirmBtn",props:{title:{type:String,default:"Are you sure?"},message:{type:String,default:"You are about to permamently delete this item!"},friendly:{type:Boolean,default:!1}},emits:["confirm"],setup(t,{emit:e}){const n=e;function s(){n("confirm"),r.value=!1}const r=ue(!1);return(i,o)=>($(),H(Le,null,[g("span",{onClick:o[0]||(o[0]=l=>r.value=!0)},[vh(i.$slots,"btn",{},()=>[o[2]||(o[2]=g("button",{class:"btn btn-danger"},"Delete",-1))])]),r.value?($(),H("div",$k,[g("div",Fk,[g("p",Bk,[t.friendly?($(),H("svg",Vk,o[3]||(o[3]=[g("rect",{width:"120",height:"120",rx:"60",fill:"#DFEEFF"},null,-1),g("path",{d:"M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z",stroke:"#3597FF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),g("path",{d:"M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z",stroke:"#3597FF","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),g("path",{d:"M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z",fill:"#3597FF",stroke:"#3597FF","stroke-width":"0.15625"},null,-1)]))):($(),H("svg",Hk,o[4]||(o[4]=[g("rect",{width:"120",height:"120",rx:"60",fill:"#FFE2E3"},null,-1),g("path",{d:"M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z",stroke:"#FF4D4F","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),g("path",{d:"M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z",stroke:"#FF4D4F","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),g("path",{d:"M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z",fill:"#FE5C72",stroke:"#FF4D4F","stroke-width":"0.15625"},null,-1)])))]),g("p",Uk,fe(t.title),1),g("p",{class:"modal-info text-center mb-1-5",innerHTML:t.message},null,8,jk),g("div",zk,[g("button",{onClick:o[1]||(o[1]=l=>r.value=!1),class:"btn btn-outline"},"Cancel"),g("button",{onClick:s,class:Fe(["btn",{"btn-danger":!t.friendly}])},"Confirm",2)])])])):de("",!0)],64))}},Wk={class:"td actions"},qk={class:"action share hint--top-left","aria-label":"Invite signee"},Kk={__name:"AgreementActions",props:{agreement:Object},emits:["delete"],setup(t,{emit:e}){const n=e;return(s,r)=>($(),H("div",Wk,[g("span",qk,[Y(S3,{agreement:t.agreement},{default:Ze(()=>r[1]||(r[1]=[g("svg",{fill:"#000000",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M2,21h8a1,1,0,0,0,0-2H3.071A7.011,7.011,0,0,1,10,13a5.044,5.044,0,1,0-3.377-1.337A9.01,9.01,0,0,0,1,20,1,1,0,0,0,2,21ZM10,5A3,3,0,1,1,7,8,3,3,0,0,1,10,5ZM23,16a1,1,0,0,1-1,1H19v3a1,1,0,0,1-2,0V17H14a1,1,0,0,1,0-2h3V12a1,1,0,0,1,2,0v3h3A1,1,0,0,1,23,16Z"})],-1)])),_:1},8,["agreement"])]),Y(Ti,{onConfirm:r[0]||(r[0]=i=>n("delete")),message:"You are about to permanently delete this agreement. This action cannot be undone. Are you sure you want to proceed?"},{btn:Ze(()=>r[2]||(r[2]=[g("span",{class:"action delete hint--top-left","aria-label":"Delete agreement"},[g("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M10 12V17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M14 12V17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M4 7H20",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)])),_:1})]))}},Gk={key:0,class:"text-center mt-2"},Jk={key:1,class:"data-table-wrapper",style:{"margin-top":"36px","--table-columns":"2fr 1.1fr 100px 150px 100px","--table-columns-sm":"1.75fr 1.2fr 100px 130px 100px","--table-min-width":"850px"}},Zk={class:"data-table"},Yk={class:"td"},Xk={class:"td"},Qk={class:"agreement-type-label"},ex={class:"td"},tx={href:"/agreement.html",class:"text signee-count"},nx={class:"td"},sx={key:1,class:"review-status-badge"},rx={key:2,class:"no-data-message",style:{"margin-top":"54px"}},ix={__name:"AgreementsTable",props:{searchText:String},setup(t){const n=un().setGlobalLoading,s=Nt.useToast(),r=Yi(),i=he(()=>r.loading),o=ue([]),l=t;Dn(async()=>{o.value=await r.getAgreements()});const a=he(()=>l.searchText?JSON.parse(JSON.stringify(o.value)).filter(f=>{const p=f.agreementName.toLowerCase(),y=l.searchText.toLowerCase();if(p.includes(y)){const v=p.indexOf(y),k=f.agreementName.slice(0,v),S=f.agreementName.slice(v,v+y.length),E=f.agreementName.slice(v+y.length);return f.agreementName=`${k}<span class="highlight">${S}</span>${E}`,!0}return!1}):o.value);async function c(h){n(!0);try{const{success:f,message:p}=await b3(h.id);f?(s.success("Agreement deleted successfully"),o.value=o.value.filter(y=>y.id!==h.id)):s.error(p||"Failed to delete agreement")}catch(f){s.error(f.message||"Failed to delete agreement")}n(!1)}function d(h){return h?h>9?h:`0${h}`:"-"}return(h,f)=>i.value?($(),H("div",Gk,[Y(bs,{size:100})])):a.value.length?($(),H("div",Jk,[g("div",Zk,[f[0]||(f[0]=et(`<div class="tr th"><div class="td"><span class="text">Agreement</span><span class="hint--top" aria-label="Name of agreement"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Type</span><span class="hint--top" aria-label="Type of agreement"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Signee</span><span class="hint--top" aria-label="Number of people who signed the agreement"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">To Review</span><span class="hint--top" aria-label="Agreement signees to review"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Action</span><span class="hint--top-left" aria-label="Edit, delete or duplicate agreement"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div></div>`,1)),($(!0),H(Le,null,wc(a.value,(p,y)=>{var v;return $(),H("div",{class:"tr",key:y},[g("div",Yk,[Y(st(ps),{to:"/agreement/"+p.id,class:"text title",innerHTML:p.agreementName},null,8,["to","innerHTML"])]),g("div",Xk,[g("span",Qk,fe((v=p.agreementType)==null?void 0:v.split(" ").slice(0,-1).join(" ")),1)]),g("div",ex,[g("a",tx,fe(d(p.signeeCount)),1)]),g("div",nx,[p.toReview?($(),De(st(ps),{key:0,to:"/agreement/"+p.id,class:"review-status-badge status-pending"},{default:Ze(()=>[ke(fe(p.toReview)+" signee",1)]),_:2},1032,["to"])):($(),H("span",sx,"none"))]),Y(Kk,{agreement:p,onDelete:k=>c(p)},null,8,["agreement","onDelete"])])}),128))])])):($(),H("h2",rx,"No agreements created yet!"))}},ox={class:"section dashboard-section"},lx={class:"container"},ax={__name:"DashboardView",setup(t){const e=ue("");return(n,s)=>{const r=ys("gradientbg");return ye(($(),H("section",ox,[g("div",lx,[Y(ok),Y(hk,{onSearch:s[0]||(s[0]=i=>e.value=i)}),Y(ix,{searchText:e.value},null,8,["searchText"])])])),[[r]])}}},cx={props:{accept:{type:String,default:".txt, .pdf"},label:{type:String,default:"Upload Text or PDF file"},maxSize:{type:Number,default:100*1024*1024}},mounted(){const t=this.$refs.dropZone,e=this.$refs.input,n=this.$refs.fileLabel,s=n.innerText;t.addEventListener("dragover",i=>{i.preventDefault()}),t.addEventListener("dragleave",i=>{i.preventDefault()}),t.addEventListener("drop",i=>{i.preventDefault(),t.classList.remove("active");const o=i.dataTransfer.files[0];r(o)}),e.addEventListener("change",i=>{const o=i.target.files[0];r(o)});const r=i=>{if(!i){n.innerHTML=s,this.$emit("fileSelected",null);return}if(i.size>this.maxSize){alert("File size is too large"),this.$emit("fileSelected",null);return}n.innerHTML=`<small>${i.name}</small>`,this.$emit("fileSelected",i)}}},ux={class:"file-upload"},dx={class:"file-drop-zone",ref:"dropZone"},hx=["accept"];function fx(t,e,n,s,r,i){return $(),H("div",ux,[g("label",dx,[e[0]||(e[0]=g("svg",{class:"mb-0-5",width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M18.4375 12.7156V18.153C18.4375 18.5843 18.087 18.9353 17.6562 18.9353H2.34375C1.91297 18.9353 1.5625 18.5843 1.5625 18.153V12.7156H0V18.153C0 19.4471 1.05141 20.5 2.34375 20.5H17.6562C18.9486 20.5 20 19.4471 20 18.153V12.7156H18.4375Z",fill:"#0A2540"}),g("path",{d:"M10 0.5L5.14516 5.36167L6.25 6.46807L9.21875 3.49514V15.6887H10.7813V3.49514L13.75 6.46807L14.8548 5.36167L10 0.5Z",fill:"#0A2540"})],-1)),g("span",{class:"file-label",ref:"fileLabel"},fe(n.label),513),g("input",{ref:"input",type:"file",name:"customFile",id:"customFile",accept:n.accept,class:"d-none"},null,8,hx)],512)])}const rn=Sc(cx,[["render",fx]]);/*!
 * Signature Pad v5.0.4 | https://github.com/szimek/signature_pad
 * (c) 2024 Szymon Nowak | Released under the MIT license
 */class Ha{constructor(e,n,s,r){if(isNaN(e)||isNaN(n))throw new Error(`Point is invalid: (${e}, ${n})`);this.x=+e,this.y=+n,this.pressure=s||0,this.time=r||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.pressure===e.pressure&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class Gh{static fromPoints(e,n){const s=this.calculateControlPoints(e[0],e[1],e[2]).c2,r=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new Gh(e[1],s,r,e[2],n.start,n.end)}static calculateControlPoints(e,n,s){const r=e.x-n.x,i=e.y-n.y,o=n.x-s.x,l=n.y-s.y,a={x:(e.x+n.x)/2,y:(e.y+n.y)/2},c={x:(n.x+s.x)/2,y:(n.y+s.y)/2},d=Math.sqrt(r*r+i*i),h=Math.sqrt(o*o+l*l),f=a.x-c.x,p=a.y-c.y,y=d+h==0?0:h/(d+h),v={x:c.x+f*y,y:c.y+p*y},k=n.x-v.x,S=n.y-v.y;return{c1:new Ha(a.x+k,a.y+S),c2:new Ha(c.x+k,c.y+S)}}constructor(e,n,s,r,i,o){this.startPoint=e,this.control2=n,this.control1=s,this.endPoint=r,this.startWidth=i,this.endWidth=o}length(){let n=0,s,r;for(let i=0;i<=10;i+=1){const o=i/10,l=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){const c=l-s,d=a-r;n+=Math.sqrt(c*c+d*d)}s=l,r=a}return n}point(e,n,s,r,i){return n*(1-e)*(1-e)*(1-e)+3*s*(1-e)*(1-e)*e+3*r*(1-e)*e*e+i*e*e*e}}class px{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(e,n,s){this._et.addEventListener(e,n,s)}dispatchEvent(e){return this._et.dispatchEvent(e)}removeEventListener(e,n,s){this._et.removeEventListener(e,n,s)}}function mx(t,e=250){let n=0,s=null,r,i,o;const l=()=>{n=Date.now(),s=null,r=t.apply(i,o),s||(i=null,o=[])};return function(...c){const d=Date.now(),h=e-(d-n);return i=this,o=c,h<=0||h>e?(s&&(clearTimeout(s),s=null),n=d,r=t.apply(i,o),s||(i=null,o=[])):s||(s=window.setTimeout(l,h)),r}}class Ua extends px{constructor(e,n={}){var s,r,i;super(),this.canvas=e,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=o=>{!this._isLeftButtonPressed(o,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(o))},this._handleMouseMove=o=>{if(!this._isLeftButtonPressed(o,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(o),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(o))},this._handleMouseUp=o=>{this._isLeftButtonPressed(o)||this._strokeEnd(this._pointerEventToSignatureEvent(o))},this._handleTouchStart=o=>{o.targetTouches.length!==1||this._drawingStroke||(o.cancelable&&o.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(o)))},this._handleTouchMove=o=>{if(o.targetTouches.length===1){if(o.cancelable&&o.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(o),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(o))}},this._handleTouchEnd=o=>{o.targetTouches.length===0&&(o.cancelable&&o.preventDefault(),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this._strokeEnd(this._touchEventToSignatureEvent(o)))},this._handlePointerDown=o=>{!o.isPrimary||!this._isLeftButtonPressed(o)||this._drawingStroke||(o.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(o)))},this._handlePointerMove=o=>{if(o.isPrimary){if(!this._isLeftButtonPressed(o,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(o),!1);return}o.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(o))}},this._handlePointerUp=o=>{!o.isPrimary||this._isLeftButtonPressed(o)||(o.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(o)))},this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle=(s=n.throttle)!==null&&s!==void 0?s:16,this.minDistance=(r=n.minDistance)!==null&&r!==void 0?r:5,this.dotSize=n.dotSize||0,this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=n.compositeOperation||"source-over",this.canvasContextOptions=(i=n.canvasContextOptions)!==null&&i!==void 0?i:{},this._strokeMoveUpdate=this.throttle?mx(Ua.prototype._strokeUpdate,this.throttle):Ua.prototype._strokeUpdate,this._ctx=e.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:e,canvas:n}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,n.width,n.height),e.fillRect(0,0,n.width,n.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(e,n={}){return new Promise((s,r)=>{const i=new Image,o=n.ratio||window.devicePixelRatio||1,l=n.width||this.canvas.width/o,a=n.height||this.canvas.height/o,c=n.xOffset||0,d=n.yOffset||0;this._reset(this._getPointGroupOptions()),i.onload=()=>{this._ctx.drawImage(i,c,d,l,a),s()},i.onerror=h=>{r(h)},i.crossOrigin="anonymous",i.src=e,this._isEmpty=!1})}toDataURL(e="image/png",n){switch(e){case"image/svg+xml":return typeof n!="object"&&(n=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(n))}`;default:return typeof n!="number"&&(n=void 0),this.canvas.toDataURL(e,n)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){var e;const n=window.document===this.canvas.ownerDocument?window:(e=this.canvas.ownerDocument.defaultView)!==null&&e!==void 0?e:this.canvas.ownerDocument;return{addEventListener:n.addEventListener.bind(n),removeEventListener:n.removeEventListener.bind(n)}}_removeMoveUpEventListeners(){const{removeEventListener:e}=this._getListenerFunctions();e("pointermove",this._handlePointerMove),e("pointerup",this._handlePointerUp),e("mousemove",this._handleMouseMove),e("mouseup",this._handleMouseUp),e("touchmove",this._handleTouchMove),e("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e,{clear:n=!0}={}){n&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_isLeftButtonPressed(e,n){return n?e.buttons===1:(e.buttons&1)===1}_pointerEventToSignatureEvent(e){return{event:e,type:e.type,x:e.clientX,y:e.clientY,pressure:"pressure"in e?e.pressure:0}}_touchEventToSignatureEvent(e){const n=e.changedTouches[0];return{event:e,type:e.type,x:n.clientX,y:n.clientY,pressure:n.force}}_getPointGroupOptions(e){return{penColor:e&&"penColor"in e?e.penColor:this.penColor,dotSize:e&&"dotSize"in e?e.dotSize:this.dotSize,minWidth:e&&"minWidth"in e?e.minWidth:this.minWidth,maxWidth:e&&"maxWidth"in e?e.maxWidth:this.maxWidth,velocityFilterWeight:e&&"velocityFilterWeight"in e?e.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:e&&"compositeOperation"in e?e.compositeOperation:this.compositeOperation}}_strokeBegin(e){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:e,cancelable:!0})))return;const{addEventListener:s}=this._getListenerFunctions();switch(e.event.type){case"mousedown":s("mousemove",this._handleMouseMove),s("mouseup",this._handleMouseUp);break;case"touchstart":s("touchmove",this._handleTouchMove),s("touchend",this._handleTouchEnd);break;case"pointerdown":s("pointermove",this._handlePointerMove),s("pointerup",this._handlePointerUp);break}this._drawingStroke=!0;const r=this._getPointGroupOptions(),i=Object.assign(Object.assign({},r),{points:[]});this._data.push(i),this._reset(r),this._strokeUpdate(e)}_strokeUpdate(e){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(e);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const n=this._createPoint(e.x,e.y,e.pressure),s=this._data[this._data.length-1],r=s.points,i=r.length>0&&r[r.length-1],o=i?n.distanceTo(i)<=this.minDistance:!1,l=this._getPointGroupOptions(s);if(!i||!(i&&o)){const a=this._addPoint(n,l);i?a&&this._drawCurve(a,l):this._drawDot(n,l),r.push({time:n.time,x:n.x,y:n.y,pressure:n.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e,n=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(n&&this._strokeUpdate(e),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:e})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart)}_reset(e){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(e.minWidth+e.maxWidth)/2,this._ctx.fillStyle=e.penColor,this._ctx.globalCompositeOperation=e.compositeOperation}_createPoint(e,n,s){const r=this.canvas.getBoundingClientRect();return new Ha(e-r.left,n-r.top,s,new Date().getTime())}_addPoint(e,n){const{_lastPoints:s}=this;if(s.push(e),s.length>2){s.length===3&&s.unshift(s[0]);const r=this._calculateCurveWidths(s[1],s[2],n),i=Gh.fromPoints(s,r);return s.shift(),i}return null}_calculateCurveWidths(e,n,s){const r=s.velocityFilterWeight*n.velocityFrom(e)+(1-s.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(r,s),o={end:i,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=i,o}_strokeWidth(e,n){return Math.max(n.maxWidth/(e+1),n.minWidth)}_drawCurveSegment(e,n,s){const r=this._ctx;r.moveTo(e,n),r.arc(e,n,s,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,n){const s=this._ctx,r=e.endWidth-e.startWidth,i=Math.ceil(e.length())*2;s.beginPath(),s.fillStyle=n.penColor;for(let o=0;o<i;o+=1){const l=o/i,a=l*l,c=a*l,d=1-l,h=d*d,f=h*d;let p=f*e.startPoint.x;p+=3*h*l*e.control1.x,p+=3*d*a*e.control2.x,p+=c*e.endPoint.x;let y=f*e.startPoint.y;y+=3*h*l*e.control1.y,y+=3*d*a*e.control2.y,y+=c*e.endPoint.y;const v=Math.min(e.startWidth+c*r,n.maxWidth);this._drawCurveSegment(p,y,v)}s.closePath(),s.fill()}_drawDot(e,n){const s=this._ctx,r=n.dotSize>0?n.dotSize:(n.minWidth+n.maxWidth)/2;s.beginPath(),this._drawCurveSegment(e.x,e.y,r),s.closePath(),s.fillStyle=n.penColor,s.fill()}_fromData(e,n,s){for(const r of e){const{points:i}=r,o=this._getPointGroupOptions(r);if(i.length>1)for(let l=0;l<i.length;l+=1){const a=i[l],c=new Ha(a.x,a.y,a.pressure,a.time);l===0&&this._reset(o);const d=this._addPoint(c,o);d&&n(d,o)}else this._reset(o),s(i[0],o)}}toSVG({includeBackgroundColor:e=!1}={}){const n=this._data,s=Math.max(window.devicePixelRatio||1,1),r=0,i=0,o=this.canvas.width/s,l=this.canvas.height/s,a=document.createElementNS("http://www.w3.org/2000/svg","svg");if(a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),a.setAttribute("viewBox",`${r} ${i} ${o} ${l}`),a.setAttribute("width",o.toString()),a.setAttribute("height",l.toString()),e&&this.backgroundColor){const c=document.createElement("rect");c.setAttribute("width","100%"),c.setAttribute("height","100%"),c.setAttribute("fill",this.backgroundColor),a.appendChild(c)}return this._fromData(n,(c,{penColor:d})=>{const h=document.createElement("path");if(!isNaN(c.control1.x)&&!isNaN(c.control1.y)&&!isNaN(c.control2.x)&&!isNaN(c.control2.y)){const f=`M ${c.startPoint.x.toFixed(3)},${c.startPoint.y.toFixed(3)} C ${c.control1.x.toFixed(3)},${c.control1.y.toFixed(3)} ${c.control2.x.toFixed(3)},${c.control2.y.toFixed(3)} ${c.endPoint.x.toFixed(3)},${c.endPoint.y.toFixed(3)}`;h.setAttribute("d",f),h.setAttribute("stroke-width",(c.endWidth*2.25).toFixed(3)),h.setAttribute("stroke",d),h.setAttribute("fill","none"),h.setAttribute("stroke-linecap","round"),a.appendChild(h)}},(c,{penColor:d,dotSize:h,minWidth:f,maxWidth:p})=>{const y=document.createElement("circle"),v=h>0?h:(f+p)/2;y.setAttribute("r",v.toString()),y.setAttribute("cx",c.x.toString()),y.setAttribute("cy",c.y.toString()),y.setAttribute("fill",d),a.appendChild(y)}),a.outerHTML}}const gx={class:"agreement-sign-form"},yx={class:"col"},vx={class:"signature-pad-container"},Cx=["width"],wx={class:"col"},T3={__name:"SignForm",emits:["sign"],setup(t,{emit:e}){const n=ue(null),s=window.innerWidth>500?350:300,r=e;let i=!1;Dn(()=>{const a=document.getElementById("signature-pad");n.value=new Ua(a),a.addEventListener("mouseleave",c=>{var d;(d=n.value)!=null&&d.isEmpty()&&!i?r("sign",""):a.toBlob(h=>{r("sign",h)})})});const o=()=>{var a;(a=n.value)==null||a.clear(),i||r("sign","")};async function l(a){if(i=!!a,!a){(!n.value||n.value.isEmpty())&&r("sign","");return}try{o();const{blob:c}=await Kh(a,1e3,1e3);r("sign",c)}catch{alert("Error resizing image")}}return(a,c)=>($(),H("div",gx,[g("div",yx,[c[0]||(c[0]=g("p",{class:"label"},"Sign here",-1)),g("div",vx,[g("canvas",{id:"signature-pad",width:st(s),height:"180"},null,8,Cx),g("span",{onClick:o,class:"clear-btn"},"clear")])]),c[2]||(c[2]=g("div",{class:"or-indicator my-1-5"},[g("div",{class:"hr"}),g("span",{class:"text"},"or"),g("div",{class:"hr"})],-1)),g("div",wx,[c[1]||(c[1]=g("p",{class:"label"},"Upload signature",-1)),Y(rn,{accept:"image/*",label:"Choose file",maxSize:1024*1024,onFileSelected:l})])]))}},bx={key:0,class:"text-center"},kx=["innerHTML"],xx={key:2},_x={class:"pdf-iframe-container"},Sx=["src"],Jh={__name:"RenderAgeement",props:{agreement:{type:Object,required:!0}},setup(t){const e=t,n=ue(!0),s=ue(""),r=ue(null),i=ue("");return Dn(async()=>{const o=e.agreement.fileUrl;r.value=e.agreement.fileType;const l=new URL(o);if(s.value=l.href,r.value==="txt"){fetch(s.value).then(a=>a.text(),{mode:"cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"text/plain"},method:"GET"}).then(a=>{i.value=a,n.value=!1});return}n.value=!1}),(o,l)=>n.value?($(),H("div",bx,[Y(bs,{size:100})])):r.value==="txt"?($(),H("div",{key:1,class:"ageement-html-render",innerHTML:i.value.replaceAll("section-title","text-bold")},null,8,kx)):r.value==="pdf"?($(),H("div",xx,[g("div",_x,[Y(bs,{size:100}),g("iframe",{src:s.value,width:"100%",style:{"aspect-ratio":"9/16",height:"100%","max-width":"1100px"},frameborder:"0"},null,8,Sx)])])):de("",!0)}},Tx={class:"section",style:{padding:"24px"}},Ex={key:0,class:"view-ageement-form view-ageement-form-preview"},Mx={key:0,class:"branding-section"},Ax=["src"],Ix={class:"company-name"},Ox={class:"creator-email"},Lx={class:"agreement-signee-description"},Px={style:{"font-size":"32px",display:"inline-flex","align-items":"center",gap:"12px","flex-wrap":"wrap"}},Nx={class:"ageement-type-badge"},Dx={class:"mt-2"},Rx=["innerHTML"],$x={key:1},Fx={style:{width:"100%","max-width":"500px"},viewBox:"0 0 1024 1024",class:"icon",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},Bx={key:2},Vx={key:1,class:"label mt-3",style:{"font-weight":"600"}},Hx={key:2,class:"required-documents-form"},E3={__name:"AgreementPreview",props:["agreementModel"],setup(t){const e=nn(),n=he(()=>e.userProfile||null);return(s,r)=>($(),H("section",Tx,[t.agreementModel?($(),H("div",Ex,[n.value?($(),H("div",Mx,[n.value.organizationLogo||n.value.profilePicture?($(),H("img",{key:0,src:n.value.organizationLogo||n.value.profilePicture,class:"logo",alt:""},null,8,Ax)):de("",!0),g("div",null,[g("p",Ix,fe(n.value.organizationName||n.value.fullName||""),1),g("p",Ox,fe(n.value.email),1)])])):de("",!0),g("div",Lx,[g("h3",Px,[ke(fe(t.agreementModel.agreementName)+" ",1),g("span",Nx,fe(t.agreementModel.agreementType.replaceAll("-"," ")),1)])]),g("div",Dx,[t.agreementModel.agreementText&&t.agreementModel.agreementText.trim()&&t.agreementModel.agreementText.trim()!=="<p></p>"?($(),H("div",{key:0,class:"ageement-html-render",innerHTML:t.agreementModel.agreementText.replaceAll("section-title","text-bold")},null,8,Rx)):t.agreementModel.agreementFile?($(),H("div",$x,[($(),H("svg",Fx,r[0]||(r[0]=[et('<path d="M719.8 651.8m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#E73B37"></path><path d="M512.1 64H172v896h680V385.6L512.1 64z m278.8 324.3h-280v-265l280 265zM808 916H216V108h278.6l0.2 0.2v296.2h312.9l0.2 0.2V916z" fill="#39393A"></path><path d="M280.5 530h325.9v16H280.5z" fill="#39393A"></path><path d="M639.5 530h90.2v16h-90.2z" fill="#E73B37"></path><path d="M403.5 641.8h277v16h-277z" fill="#39393A"></path><path d="M280.6 641.8h91.2v16h-91.2z" fill="#E73B37"></path><path d="M279.9 753.7h326.5v16H279.9z" fill="#39393A"></path><path d="M655.8 753.7h73.9v16h-73.9z" fill="#E73B37"></path>',8)])))])):t.agreementModel.fileUrl?($(),H("div",Bx,[Y(Jh,{agreement:t.agreementModel},null,8,["agreement"])])):de("",!0)]),t.agreementModel.requiredDocuments.length?($(),H("p",Vx,"Required documents")):de("",!0),t.agreementModel.requiredDocuments.length?($(),H("div",Hx,[t.agreementModel.requiredDocuments.includes("photo")?($(),De(rn,{key:0,accept:"image/*",label:"Your Photo",maxSize:10*1024*1024})):de("",!0),t.agreementModel.requiredDocuments.includes("id-card")?($(),De(rn,{key:1,accept:"image/*,application/pdf",label:"Your ID",maxSize:10*1024*1024})):de("",!0),t.agreementModel.requiredDocuments.includes("passport")?($(),De(rn,{key:2,accept:"image/*,application/pdf",label:"Passport",maxSize:10*1024*1024})):de("",!0),t.agreementModel.requiredDocuments.includes("drivers-license")?($(),De(rn,{key:3,accept:"image/*,application/pdf",label:"Driver's License",maxSize:10*1024*1024})):de("",!0),t.agreementModel.requiredDocuments.includes("custom")?($(),De(rn,{key:4,accept:"*",label:t.agreementModel.customDocumentName||"Upload file",maxSize:100*1024*1024},null,8,["label"])):de("",!0)])):de("",!0),Y(T3,{style:{"margin-top":"36px"}}),r[1]||(r[1]=g("p",{class:"submit-agreement-text text-center"},[ke(" By clicking submit, you agree to the terms & conditions of the agreement as well as our "),g("a",{href:"https://my-agreemeents.com/terms-and-conditions.html",target:"_blank"},"terms & conditions"),ke(". ")],-1)),r[2]||(r[2]=g("div",{class:"flex-default",style:{"justify-content":"center"}},[g("button",{class:"btn btn-block mt-1-5"},"Submit")],-1))])):de("",!0)]))}},Ux={class:"dashboard-nav",style:{"margin-top":"36px !important"}},jx={class:"data",style:{width:"100%"}},zx={class:"title mt-0-5",style:{display:"inline-flex","align-items":"center",gap:"12px","flex-wrap":"wrap"}},Wx={class:"ageement-type-badge"},qx={class:"actions-nav mt-1"},Kx={class:"search-inputs",style:{"margin-top":"52px","justify-content":"space-between",width:"100%"}},Gx={class:"input-group"},Jx={class:"input-group with-icon search-input"},Zx={class:"modal-content"},Yx={class:"modal-header"},Xx={__name:"Nav",props:{agreement:Object},emits:["delete","search"],setup(t,{emit:e}){const n=e,s=ue(!1),r=ue("");return fs(r,()=>{n("search",r.value.trim())}),(i,o)=>{const l=hr("RouterLink");return $(),H(Le,null,[g("div",Ux,[g("div",jx,[Y(l,{to:"/",class:"back-link",style:{display:"flex"}},{default:Ze(()=>o[5]||(o[5]=[g("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z",fill:"#000000"})],-1),g("span",null,"Dashboard",-1)])),_:1}),g("h3",zx,[ke(fe(t.agreement.agreementName)+" ",1),g("span",Wx,fe(t.agreement.agreementType),1)]),g("div",qx,[Y(S3,{agreement:t.agreement},null,8,["agreement"]),g("button",{class:"btn btn-sm action-preview",onClick:o[0]||(o[0]=a=>s.value=!0)},o[6]||(o[6]=[g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M7.50008 3.71636C8.25969 3.47474 9.09208 3.33334 10.0001 3.33334C13.485 3.33334 15.8567 5.41631 17.271 7.25362C17.9792 8.17379 18.3334 8.63384 18.3334 10C18.3334 11.3662 17.9792 11.8263 17.271 12.7464C15.8567 14.5837 13.485 16.6667 10.0001 16.6667C6.51517 16.6667 4.14338 14.5837 2.72916 12.7464C2.02088 11.8263 1.66675 11.3662 1.66675 10C1.66675 8.63384 2.02088 8.17379 2.72916 7.25362C3.13018 6.73263 3.60819 6.19189 4.16675 5.68449",stroke:"white","stroke-width":"1.25","stroke-linecap":"round"}),g("path",{d:"M12.5 10C12.5 11.3807 11.3807 12.5 10 12.5C8.61925 12.5 7.5 11.3807 7.5 10C7.5 8.61925 8.61925 7.5 10 7.5C11.3807 7.5 12.5 8.61925 12.5 10Z",stroke:"white","stroke-width":"1.25"})],-1),g("span",null,"Preview",-1)])),Y(Ti,{message:"You are about to permanently delete this agreement. This action cannot be undone. Are you sure you want to proceed?",onConfirm:o[1]||(o[1]=a=>n("delete"))},{btn:Ze(()=>o[7]||(o[7]=[g("button",{class:"btn btn-sm action-delete"},[g("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M8.33325 10V14.1667",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M11.6667 10V14.1667",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M3.33325 5.83334H16.6666",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M5 8.33334V15C5 16.3808 6.11929 17.5 7.5 17.5H12.5C13.8807 17.5 15 16.3808 15 15V8.33334",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M7.5 4.16667C7.5 3.24619 8.24619 2.5 9.16667 2.5H10.8333C11.7538 2.5 12.5 3.24619 12.5 4.16667V5.83333H7.5V4.16667Z",stroke:"white","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"})]),g("span",null,"Delete")],-1)])),_:1})]),g("div",Kx,[g("div",Gx,[g("div",Jx,[o[8]||(o[8]=g("svg",{class:"icon",width:"18px",height:"18px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z",stroke:"#425466","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),ye(g("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>r.value=a),type:"text",class:"input",placeholder:"Search signee"},null,512),[[Ue,r.value]])])])])])]),s.value?($(),H("div",{key:0,class:"modal-wrapper",onClick:o[4]||(o[4]=a=>s.value=!1)},[g("div",Zx,[g("div",Yx,[o[10]||(o[10]=g("h4",{class:"modal-title mb-1"},"Agreement preview",-1)),($(),H("svg",{onClick:o[3]||(o[3]=a=>s.value=!1),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o[9]||(o[9]=[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),Y(E3,{agreementModel:t.agreement},null,8,["agreementModel"])])])):de("",!0)],64)}}},Iu=Nt.useToast(),yo=ue(!1),M3=Ec("signees",()=>{const t=ue({});function e(i,o){t.value[i]=o}async function n(i){if(i in t.value)return t.value[i];yo.value=!0;try{const{success:o,content:l,message:a}=await Ib(i);return o?(e(i,l),yo.value=!1,l):(yo.value=!1,Iu.error(a||"Failed to get signees"))}catch(o){return console.error(o),Iu.error(o.message||"Failed to get signees"),yo.value=!1,[]}}function s(i,o){if(!(i in t.value))return Iu.error("Signees not loaded");t.value[i]=t.value[i].filter(l=>l.id!==o)}function r(i,o,l){i in t.value&&(t.value[i]=t.value[i].map(a=>(a.id===o&&(a.approved=!0,a.status=l),a)))}return{signees:t,setSignees:e,getSignees:n,removeSignee:s,loading:yo,approveSignee:r}}),Qx={key:1,class:"review-status-badge"},e_={__name:"SigneeReviewBtn",props:{approved:Boolean},emits:["btnclick"],setup(t,{emit:e}){const n=e;return(s,r)=>t.approved?($(),H("span",Qx,"approved")):($(),H("span",{key:0,class:"cursor-pointer review-status-badge status-pending hint--top","aria-label":"Click to review signee",onClick:r[0]||(r[0]=i=>n("btnclick"))}," pending "))}},t_={class:"signature-document-item"},n_=["src"],s_={class:"nav"},r_={class:"doc-name"},i_=["href"],Kp={__name:"DocumentPreview",props:{title:String,document:String},setup(t){const n=t.document.split(".").pop(),s=["jpg","jpeg","png","gif","svg","webp"].includes(n);return(r,i)=>($(),H("div",t_,[st(s)?($(),H("img",{key:0,src:t.document,alt:"document"},null,8,n_)):de("",!0),g("div",s_,[g("p",r_,fe(t.title.replaceAll("-"," ")),1),g("a",{href:t.document,target:"_blank",download:""},i[0]||(i[0]=[g("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M12 3V16M12 16L16 11.625M12 16L8 11.625",stroke:"#000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M15 21H9C6.17157 21 4.75736 21 3.87868 20.1213C3 19.2426 3 17.8284 3 15M21 15C21 17.8284 21 19.2426 20.1213 20.1213C19.8215 20.4211 19.4594 20.6186 19 20.7487",stroke:"#000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,i_)])]))}},o_={class:"input-group mt-1-5",style:{display:"flex","align-items":"center",gap:"8px","flex-wrap":"wrap"}},l_={class:"toggle"},a_={class:"input-group mt-1-5"},c_={class:"sublabel selected-agreement-type-info"},u_={key:0},d_={class:"agreement-review-actions mt-1"},h_={key:0,class:"modal-wrapper"},f_={class:"modal-content"},p_={class:"input-group mb-1-5"},m_={class:"modal-footer",style:{"justify-content":"center"}},g_={__name:"SigneeReviewActions",props:{signeeId:String,agreementId:String,hasStartDate:Boolean},emits:["reject"],setup(t,{emit:e}){const n=t,s=e,i=un().setGlobalLoading,o=M3(),l=Nt.useToast(),a=ue(!0);async function c(){i(!0);try{const{success:f,message:p,content:y}=await Pb(n.agreementId,n.signeeId,a.value);f?(o.approveSignee(n.agreementId,n.signeeId,y.status),l.success("Signee approved successfully")):l.error(p||"An error occurred")}catch(f){l.error(f.message||"An error occurred")}i(!1)}const d=ue(!1),h=ue("");return(f,p)=>($(),H(Le,null,[g("div",o_,[p[6]||(p[6]=g("label",{class:"label",style:{"max-block-size":"0"}},"Start agreement immediately: ",-1)),g("label",l_,[ye(g("input",{"onUpdate:modelValue":p[0]||(p[0]=y=>a.value=y),id:"agreement-immediate-start-toggle",class:"toggle-checkbox",type:"checkbox"},null,512),[[Vn,a.value]]),p[5]||(p[5]=g("div",{class:"toggle-switch"},null,-1))])]),g("div",a_,[g("p",c_,[p[7]||(p[7]=ke(" If enabled the agreement will be marked as started immediately after appraoval. ")),p[8]||(p[8]=g("br",null,null,-1)),ke(" "+fe(t.hasStartDate?"Otherwise the agreement will be marked as started on start date.":"")+" ",1),t.hasStartDate?($(),H("br",u_)):de("",!0),p[9]||(p[9]=ke(" Or you can manually start the agreement later from the agreements table. "))])]),g("div",d_,[Y(Ti,{friendly:!0,title:"Approve Signee?",message:"Make sure all the details are correct before approving the signee.",onConfirm:c},{btn:Ze(()=>p[10]||(p[10]=[g("button",{class:"btn"},"Approve Signee",-1)])),_:1}),g("span",null,[g("button",{class:"btn btn-danger",onClick:p[1]||(p[1]=y=>d.value=!0)},"Reject Signee")])]),d.value?($(),H("div",h_,[g("div",f_,[p[11]||(p[11]=et('<p class="text-center mb-0-5"><svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="120" height="120" rx="60" fill="#FFE2E3"></rect><path d="M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z" stroke="#FF4D4F" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z" stroke="#FF4D4F" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z" fill="#FE5C72" stroke="#FF4D4F" stroke-width="0.15625"></path></svg></p><p class="modal-title text-center mb-1" style="font-size:32px;">Reject Signee?</p>',2)),g("div",p_,[ye(g("textarea",{"onUpdate:modelValue":p[2]||(p[2]=y=>h.value=y),maxlength:"1000",placeholder:"Rejection reason",class:"input"},null,512),[[Ue,h.value]])]),g("div",m_,[g("button",{onClick:p[3]||(p[3]=y=>d.value=!1),class:"btn btn-outline"},"Cancel"),g("button",{onClick:p[4]||(p[4]=y=>s("reject",h.value.trim())),class:"btn btn-danger"},"Confirm")])])])):de("",!0)],64))}},y_={class:"modal-wrapper",style:{"--modal-max-width":"500px"}},v_={key:0,class:"modal-content text-center"},C_={key:1,class:"modal-content"},w_={class:"modal-header"},b_={class:"view-ageement-form"},k_={key:0,class:"branding-section"},x_=["src"],__={class:"company-name"},S_={class:"creator-email"},T_={key:0,class:"agreement-dates"},E_={class:"agreement-signee-description"},M_={style:{"font-size":"32px",display:"inline-flex","align-items":"center",gap:"12px","flex-wrap":"wrap"}},A_={class:"ageement-type-badge"},I_={style:{display:"flex","flex-wrap":"wrap",gap:"24px"}},O_={class:"text"},L_={key:0},P_={class:"title"},N_={class:"text"},D_={style:{"font-weight":"600"}},R_={class:"mt-2"},$_={key:1,class:"label mt-3",style:{"font-weight":"600"}},F_={key:2,class:"signature-documents"},B_={class:"mt-1"},V_={key:3,class:"btn btn-teal success btn-block mt-1-5 disabled",style:{opacity:".6",cursor:"not-allowed","border-radius":"4px"}},H_={__name:"SigneeReviewModal",props:{signee:Object,agreementId:String},emits:["close","reject"],setup(t,{emit:e}){const n=t,s=e,r=nn(),i=he(()=>r.userProfile||null),o=Yi(),l=ue(!0),a=ue({});Dn(async()=>{a.value=await o.getAgreement(n.agreementId),l.value=!1});const c=he(()=>{var p,y,v,k;const h=(y=(p=n.signee)==null?void 0:p.startDate)==null?void 0:y._seconds,f=(k=(v=n.signee)==null?void 0:v.endDate)==null?void 0:k._seconds;if(!h||!f)return"";if(h&&f){const S=new Date(h*1e3),E=new Date(f*1e3);return`${S.toDateString().split(" ").slice(1,3).join(" ")} - ${E.toDateString().split(" ").slice(1,3).join(" ")} ${E.getFullYear()}`}if(h){const S=new Date(h*1e3);return`Starts on ${S.toDateString().split(" ").slice(1,3).join(" ")} ${S.getFullYear()}`}if(f){const S=new Date(f*1e3);return`Ends on ${S.toDateString().split(" ").slice(1,3).join(" ")} ${S.getFullYear()}`}return""}),d=he(()=>{switch(a.value.agreementType){case"hourly contract":return"Hourly rate";case"cost plus contract":return"Cost plus amount";default:return"Amount"}});return(h,f)=>($(),H("div",y_,[l.value?($(),H("div",v_,[Y(bs,{size:100})])):($(),H("div",C_,[g("div",w_,[f[3]||(f[3]=g("h4",{class:"modal-title mb-1"},"Agreement review",-1)),($(),H("svg",{onClick:f[0]||(f[0]=p=>s("close")),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f[2]||(f[2]=[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),g("div",b_,[i.value?($(),H("div",k_,[i.value.organizationLogo||i.value.profilePicture?($(),H("img",{key:0,src:i.value.organizationLogo||i.value.profilePicture,class:"logo",alt:""},null,8,x_)):de("",!0),g("div",null,[g("p",__,fe(i.value.organizationName||i.value.fullName||""),1),g("p",S_,fe(i.value.email),1),c.value?($(),H("div",T_,fe(c.value),1)):de("",!0)])])):de("",!0),g("div",E_,[g("h3",M_,[ke(fe(a.value.agreementName)+" ",1),g("span",A_,fe(a.value.agreementType.replaceAll("-"," ")),1)]),g("div",I_,[g("div",null,[f[4]||(f[4]=g("p",{class:"title"},"Signee",-1)),g("p",O_,fe(t.signee.signeeName||t.signee.signedBy),1)]),t.signee.amount?($(),H("div",L_,[g("p",P_,fe(d.value),1),g("p",N_,[g("span",D_,fe(t.signee.amount),1),ke(" "+fe(a.value.agreementType==="hourly contract"?"/hr":""),1)])])):de("",!0)])]),g("div",R_,[Y(Jh,{agreement:a.value},null,8,["agreement"])]),t.signee.documents?($(),H("p",$_,"Signee documents")):de("",!0),t.signee.documents?($(),H("div",F_,[($(!0),H(Le,null,wc(Object.keys(t.signee.documents),p=>($(),De(Kp,{key:p.id,document:t.signee.documents[p],title:p},null,8,["document","title"]))),128))])):de("",!0),g("div",B_,[Y(Kp,{document:t.signee.signature,title:"Signature"},null,8,["document"])]),t.signee.approved?($(),H("button",V_,"Signee approved")):($(),De(g_,{key:4,signeeId:n.signee.id,agreementId:n.agreementId,hasStartDate:!!n.signee.startDate,onReject:f[1]||(f[1]=p=>s("reject",p))},null,8,["signeeId","agreementId","hasStartDate"]))])]))]))}},U_={class:"tr"},j_=["innerHTML"],z_={class:"td"},W_={class:"td"},q_={class:"td"},K_={class:"text"},G_={class:"td"},J_={class:"text"},Z_={class:"td actions",style:{"justify-content":"flex-end"}},Y_={__name:"SigneeItem",props:{signee:Object,agreementId:String},emits:["delete","reject","markstarted","markcomplete"],setup(t,{emit:e}){const n=e;function s(o){if(!o)return"-";const l=o._seconds,a=new Date(l*1e3);return`${a.toDateString().split(" ").slice(1,3).join(" ")} ${a.getFullYear()===new Date().getFullYear()?"":a.getFullYear()}`}const r=ue(!1);function i(o){console.log(`Reason: ${o}`),n("reject",o),r.value=!1}return(o,l)=>($(),H(Le,null,[g("div",U_,[g("div",{onClick:l[0]||(l[0]=a=>r.value=!0),class:"td hint--top","aria-label":"Click view signed agreement"},[g("span",{class:"cursor-pointer",style:{"font-weight":"500"},innerHTML:t.signee.signedBy},null,8,j_)]),g("div",z_,[Y(e_,{approved:t.signee.approved,onBtnclick:l[1]||(l[1]=a=>r.value=!0)},null,8,["approved"])]),g("div",W_,[g("span",{class:Fe("review-status-badge status-badge status-"+t.signee.status)},fe(t.signee.status),3)]),g("div",q_,[g("span",K_,fe(s(t.signee.startDate)),1)]),g("div",G_,[g("span",J_,fe(s(t.signee.endDate)),1)]),g("div",Z_,[t.signee.status==="pending"?($(),De(Ti,{key:0,friendly:!0,message:"Are you sure you want to start the agreement for this signee?",onConfirm:l[2]||(l[2]=a=>n("markstarted"))},{btn:Ze(()=>l[7]||(l[7]=[g("span",{class:"action mark-complete hint--top-left","aria-label":"Mark as started"},[g("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M12 8V13",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M12 22C7.17 22 3.25 18.08 3.25 13.25C3.25 8.42 7.17 4.5 12 4.5C16.83 4.5 20.75 8.42 20.75 13.25",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M9 2H15",stroke:"#292D32","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M14.9 18.5V17.34C14.9 15.91 15.92 15.32 17.16 16.04L18.16 16.62L19.16 17.2C20.4 17.92 20.4 19.09 19.16 19.81L18.16 20.39L17.16 20.97C15.92 21.69 14.9 21.1 14.9 19.67V18.5Z",stroke:"#292D32","stroke-width":"1.5","stroke-miterlimit":"10","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)])),_:1})):t.signee.status==="started"?($(),De(Ti,{key:1,friendly:!0,message:"Are you sure you want complete the agreement for this signee?",onConfirm:l[3]||(l[3]=a=>n("markcomplete"))},{btn:Ze(()=>l[8]||(l[8]=[g("span",{class:"action mark-complete hint--top-left","aria-label":"Mark as compete"},[g("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M10.5 15.25C10.307 15.2353 10.1276 15.1455 9.99998 15L6.99998 12C6.93314 11.8601 6.91133 11.7029 6.93756 11.55C6.96379 11.3971 7.03676 11.2562 7.14643 11.1465C7.2561 11.0368 7.39707 10.9638 7.54993 10.9376C7.70279 10.9114 7.86003 10.9332 7.99998 11L10.47 13.47L19 5.00004C19.1399 4.9332 19.2972 4.91139 19.45 4.93762C19.6029 4.96385 19.7439 5.03682 19.8535 5.14649C19.9632 5.25616 20.0362 5.39713 20.0624 5.54999C20.0886 5.70286 20.0668 5.86009 20 6.00004L11 15C10.8724 15.1455 10.6929 15.2353 10.5 15.25Z",fill:"#000000"}),g("path",{d:"M12 21C10.3915 20.9974 8.813 20.5638 7.42891 19.7443C6.04481 18.9247 4.90566 17.7492 4.12999 16.34C3.54037 15.29 3.17596 14.1287 3.05999 12.93C2.87697 11.1721 3.2156 9.39921 4.03363 7.83249C4.85167 6.26578 6.1129 4.9746 7.65999 4.12003C8.71001 3.53041 9.87134 3.166 11.07 3.05003C12.2641 2.92157 13.4719 3.03725 14.62 3.39003C14.7224 3.4105 14.8195 3.45215 14.9049 3.51232C14.9903 3.57248 15.0622 3.64983 15.116 3.73941C15.1698 3.82898 15.2043 3.92881 15.2173 4.03249C15.2302 4.13616 15.2214 4.2414 15.1913 4.34146C15.1612 4.44152 15.1105 4.53419 15.0425 4.61352C14.9745 4.69286 14.8907 4.75712 14.7965 4.80217C14.7022 4.84723 14.5995 4.87209 14.4951 4.87516C14.3907 4.87824 14.2867 4.85946 14.19 4.82003C13.2186 4.52795 12.1987 4.43275 11.19 4.54003C10.193 4.64212 9.22694 4.94485 8.34999 5.43003C7.50512 5.89613 6.75813 6.52088 6.14999 7.27003C5.52385 8.03319 5.05628 8.91361 4.77467 9.85974C4.49307 10.8059 4.40308 11.7987 4.50999 12.78C4.61208 13.777 4.91482 14.7431 5.39999 15.62C5.86609 16.4649 6.49084 17.2119 7.23999 17.82C8.00315 18.4462 8.88357 18.9137 9.8297 19.1953C10.7758 19.4769 11.7686 19.5669 12.75 19.46C13.747 19.3579 14.713 19.0552 15.59 18.57C16.4349 18.1039 17.1818 17.4792 17.79 16.73C18.4161 15.9669 18.8837 15.0864 19.1653 14.1403C19.4469 13.1942 19.5369 12.2014 19.43 11.22C19.4201 11.1169 19.4307 11.0129 19.461 10.9139C19.4914 10.8149 19.5409 10.7228 19.6069 10.643C19.6728 10.5631 19.7538 10.497 19.8453 10.4485C19.9368 10.3999 20.0369 10.3699 20.14 10.36C20.2431 10.3502 20.3471 10.3607 20.4461 10.3911C20.5451 10.4214 20.6372 10.471 20.717 10.5369C20.7969 10.6028 20.863 10.6839 20.9115 10.7753C20.9601 10.8668 20.9901 10.9669 21 11.07C21.1821 12.829 20.842 14.6026 20.0221 16.1695C19.2022 17.7363 17.9389 19.0269 16.39 19.88C15.3288 20.4938 14.1495 20.8755 12.93 21C12.62 21 12.3 21 12 21Z",fill:"#000000"})])],-1)])),_:1})):de("",!0),Y(Ti,{message:"Are you sure you want to remove this signee?<br>This action cannot be undone.",onConfirm:l[4]||(l[4]=a=>n("delete"))},{btn:Ze(()=>l[9]||(l[9]=[g("span",{class:"action delete hint--top-left","aria-label":"Remove signee"},[g("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M10 12V17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M14 12V17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M4 7H20",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)])),_:1})])]),r.value?($(),De(H_,{key:0,signee:t.signee,agreementId:t.agreementId,onClose:l[5]||(l[5]=a=>r.value=!1),onReject:l[6]||(l[6]=a=>i(a))},null,8,["signee","agreementId"])):de("",!0)],64))}},X_={key:0,class:"text-center mt-2"},Q_={key:1,class:"data-table-wrapper",style:{"margin-top":"36px","--table-columns":"1fr 120px 130px .7fr .7fr 125px","--table-columns-sm":"1fr 120px 130px .7fr .7fr 125px","--table-min-width":"1050px"}},eS={class:"data-table"},tS={key:2,class:"no-data-message",style:{"margin-top":"54px"}},nS={__name:"SigneesTable",props:{agreementId:String,search:String},setup(t){const e=M3(),s=un().setGlobalLoading,r=Yi(),i=Nt.useToast(),o=t,l=he(()=>e.loading),a=he(()=>{const v=e.signees[o.agreementId]||[];return v.length?o.search?JSON.parse(JSON.stringify(v)).filter(S=>{const E=S.signedBy.toLowerCase(),T=(S.signeeName||"").toLowerCase(),P=o.search.toLowerCase();if(T.includes(P))return!0;if(E.includes(P)){const D=E.indexOf(P),F=S.signedBy.slice(0,D),M=S.signedBy.slice(D,D+P.length),b=S.signedBy.slice(D+P.length);return S.signedBy=`${F}<span class="highlight">${M}</span>${b}`,!0}return!1}):v:[]});Dn(async()=>{await e.getSignees(o.agreementId)});async function c(v,k){s(!0);const S=v.id,E=v.agreementId,T=r.agreements.find(P=>P.id===o.agreementId);try{const{success:P,message:D}=await k();P?(i.success("Signee removed successfully"),e.removeSignee(E,S),T&&(T.signeeCount&&(T.signeeCount=T.signeeCount-1),v.approved||T.toReview&&(T.toReview=T.toReview-1))):i.error(D||"Failed to delete agreement")}catch(P){i.error(P.message||"Failed to delete agreement"),console.error(P)}s(!1)}function d(v){c(v,async()=>await Ob(o.agreementId,v.id))}async function h(v,k){c(v,async()=>await Lb(o.agreementId,v.id,k))}async function f(v,k,S){s(!0);const E=v.id,T=v.agreementId,P=e.signees[T].find(D=>D.id===E);try{const{success:D,message:F}=await k();D?(i.success(`Agreement marked as ${S}`),P&&(P.status=S)):i.error(F||`Failed to mark agreement as ${S}`)}catch(D){i.error(D.message||`Failed to mark agreement as ${S}`)}s(!1)}async function p(v){f(v,async()=>await Wp(o.agreementId,v.id,"started"),"started")}async function y(v){f(v,async()=>await Wp(o.agreementId,v.id,"complete"),"complete")}return(v,k)=>l.value?($(),H("div",X_,[Y(bs,{size:100})])):a.value.length?($(),H("div",Q_,[g("div",eS,[k[0]||(k[0]=et(`<div class="tr th"><div class="td"><span class="text">Email</span><span class="hint--top" aria-label="Email addreess of signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Review</span><span class="hint--top" aria-label="Your review of the signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Status</span><span class="hint--top" aria-label="Weather the agreement is pending, srated or completed"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">Start Date</span><span class="hint--top" aria-label="Agreement start date for the signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td"><span class="text">End Date</span><span class="hint--top" aria-label="Agreement end date for the signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div><div class="td" style="justify-content:flex-end;"><span class="text">Action</span><span class="hint--top-left" aria-label="Copy link or remove signee"><svg fill="#425466" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="12px" height="12px" viewBox="0 0 416.979 416.979" xml:space="preserve"><g><path d="M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z"></path></g></svg></span></div></div>`,1)),($(!0),H(Le,null,wc(a.value,(S,E)=>($(),De(Y_,{key:E,signee:S,agreementId:t.agreementId,onDelete:T=>d(S),onReject:T=>h(S,T),onMarkstarted:T=>p(S),onMarkcomplete:T=>y(S)},null,8,["signee","agreementId","onDelete","onReject","onMarkstarted","onMarkcomplete"]))),128))])])):($(),H("h2",tS,"No signees found"))}},sS={key:0,class:"text-center mt-2"},rS={key:1,class:"section dashboard-section"},iS={class:"container"},oS={__name:"AgreementView",setup(t){const e=Yi(),n=Mh(),r=hy().params.id,i=he(()=>e.loading),o=ue({}),l=Nt.useToast(),c=un().setGlobalLoading;Dn(async()=>{const f=await e.getAgreement(r);o.value=f});const d=ue(""),h=async()=>{c(!0);try{const{success:f,message:p}=await b3(r);f?(l.success("Agreement deleted successfully"),await e.deleteAgreement(r),n.push("/")):l.error(p||"Failed to delete agreement")}catch(f){l.error(f.message||"Failed to delete agreement")}c(!1)};return(f,p)=>{const y=ys("gradientbg");return i.value?($(),H("div",sS,[Y(bs,{size:100})])):ye(($(),H("section",rS,[g("div",iS,[Y(Xx,{agreement:o.value,onDelete:h,onSearch:p[0]||(p[0]=v=>d.value=v)},null,8,["agreement"]),Y(nS,{agreementId:st(r),search:d.value},null,8,["agreementId","search"])])])),[[y]])}}},lS={class:"multi-setp-form-nav"},aS={__name:"FormNav",props:{step:Number},setup(t){const e=t;return(n,s)=>($(),H("div",lS,[g("div",{class:Fe(["step-item",{active:e.step>=1}])},s[0]||(s[0]=[g("span",{class:"step-number"},"1",-1)]),2),g("div",{class:Fe(["step-bar",{active:e.step>=2}])},null,2),g("div",{class:Fe(["step-item",{active:e.step>=2}])},s[1]||(s[1]=[g("span",{class:"step-number"},"2",-1)]),2),g("div",{class:Fe(["step-bar",{active:e.step>=3}])},null,2),g("div",{class:Fe(["step-item",{active:e.step>=3}])},s[2]||(s[2]=[g("span",{class:"step-number"},"3",-1)]),2)]))}},cS={class:"selected-agreement-type-info mb-1-5"},uS={class:"title"},dS={class:"info main"},hS={__name:"AgreementTypeInfo",props:{seletedForm:String},setup(t){const e=t,n=qr({"nda from":"A non-disclosure agreement (NDA), also known as a confidentiality agreement (CA), confidential disclosure agreement (CDA), proprietary information agreement (PIA) or secrecy agreement (SA), is a legal contract between at least two parties that outlines confidential material, knowledge, or information that the parties wish to share with one another for certain purposes, but wish to restrict access to or by third parties.","hourly contract":"An hourly contract is a type of contract where the payment amount depends on the number of hours worked. This is in contrast to a fixed-price contract, which is intended to cover the costs with additional profit made.","fixed price contract":"A fixed-price contract is a type of contract where the payment amount does not depend on resources used or time expended. This is in contrast to a cost-plus contract, which is intended to cover the costs with additional profit made.","reimbursement contract":"A reimbursement contract is a contract in which one party agrees to pay the other party for expenses incurred. This type of contract is often used in construction projects, where the contractor is reimbursed for the cost of materials and labor.","cost plus contract":"A cost-plus contract is a type of contract where the payment amount depends on the resources used or time expended. This is in contrast to a fixed-price contract, which is intended to cover the costs with additional profit made.","bilateral contract":"A bilateral contract is a type of contract where both parties make promises to each other. This is in contrast to a unilateral contract, where only one party makes a promise.","time and material contract":"A time and material contract is a type of contract where the payment amount depends on the time spent and materials used. This is in contrast to a fixed-price contract, which is intended to cover the costs with additional profit made.",other:"A custom contract is a type of contract that is tailored to the specific needs of the parties involved. This type of contract is often used in complex business transactions where standard contract terms may not be sufficient."});return(s,r)=>($(),H("div",cS,[g("p",uS,fe(e.seletedForm.toLowerCase().replace(/-/g," ")),1),g("p",dS,fe(n[e.seletedForm.toLowerCase().replace(/-/g," ")]),1),r[0]||(r[0]=g("p",{class:"info"},"You will be able to set contract start and end date, price etc when shaing link to signee.",-1))]))}},fS={key:2,class:"modal-wrapper"},pS={class:"modal-content"},mS={class:"modal-header"},gS={class:"modal-body ai-agreement-generator-form"},yS={class:"prefilled-info mb-0-75"},vS={class:"highlight-dark-blue",style:{"text-transform":"uppercase"}},CS={class:"prefilled-info mb-1-5"},wS={class:"highlight-dark-blue"},bS={class:"input-group"},kS={class:"flex-default mb-1"},xS={class:"flex-default mb-1"},_S={class:"flex-default mb-1"},SS={key:0},TS={class:"flex-default mb-1"},ES={class:"flex-default mb-1"},MS={class:"flex-default mb-1"},AS={class:"flex-default mb-1"},IS={class:"modal-footer"},OS={key:3,class:"modal-wrapper"},LS={class:"modal-content"},PS={class:"modal-info text-center mb-1-5"},NS={class:"highlight-dark-blue"},DS={class:"modal-footer",style:{"justify-content":"center"}},RS={__name:"AgreeementAIBtn",props:{agreementType:String,orgName:String},emits:["content"],setup(t,{emit:e}){const n=Nt.useToast(),s=nn(),r=he(()=>s.subscription),i=he(()=>{var v;return(((v=r.value)==null?void 0:v.packageName)||"").toLowerCase()}),o=e,l=t,a=ue({partyName:"",effectiveDate:"",duration:"",paymentTerms:"",confidentialityClauses:"",terminationConditions:"",customClauses:""}),c=ue(!1),d=ue(!1),h=ue(!1),f=ue(!1),p=()=>{i.value==="standard"||i.value==="enterprise"?d.value=!0:(console.log("show upgrade modal",i.value),f.value=!0)},y=async()=>{d.value=!1,h.value=!0;try{const v=await _b({...a.value,agreementType:l.agreementType,orgName:l.orgName}),{success:k,content:S,message:E}=v;if(!k){n.error(E||"Agreement generation failed"),h.value=!1;return}o("content",S)}catch{n.error("Agreement generation failed")}h.value=!1};return(v,k)=>{const S=hr("router-link");return $(),H(Le,null,[h.value?($(),De(bs,{key:1})):($(),H("button",{key:0,onClick:p,class:"btn btn-sm"},k[11]||(k[11]=[et('<svg width="18px" height="18px" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.25 28.6875C21.6 21.6 23.4562 19.7437 30.5437 18.3937C31.3875 18.225 31.8937 17.55 31.8937 16.7062C31.8937 15.8625 31.3875 15.1875 30.5437 15.0187C23.4562 13.6687 21.6 11.8125 20.25 4.725C20.0812 3.88125 19.4062 3.375 18.5625 3.375C17.7187 3.375 17.0437 3.88125 16.875 4.725C15.525 11.8125 13.6687 13.6687 6.5812 15.0187C5.9062 15.1875 5.2312 15.8625 5.2312 16.7062C5.2312 17.55 5.73745 18.225 6.5812 18.3937C13.6687 19.7437 15.525 21.6 16.875 28.6875C17.0437 29.5312 17.7187 30.0375 18.5625 30.0375C19.4062 30.0375 20.0812 29.3625 20.25 28.6875Z" fill="#fff"></path><path d="M37.1249 40.5C32.3999 39.4875 31.3874 38.475 30.3749 33.75C30.2062 32.9063 29.5312 32.4 28.6874 32.4C27.8437 32.4 27.1687 32.9063 26.9999 33.75C25.9874 38.475 24.9749 39.4875 20.2499 40.5C19.4062 40.6688 18.8999 41.3438 18.8999 42.1875C18.8999 43.0313 19.4062 43.7063 20.2499 43.875C24.9749 44.8875 25.9874 45.9 26.9999 50.625C27.1687 51.4688 27.8437 51.975 28.6874 51.975C29.5312 51.975 30.2062 51.4688 30.3749 50.625C31.3874 45.9 32.3999 44.8875 37.1249 43.875C37.9687 43.7063 38.4749 43.0313 38.4749 42.1875C38.4749 41.3438 37.7999 40.6688 37.1249 40.5Z" fill="#fff"></path><path d="M49.2749 23.625C45.5624 22.95 44.7187 22.1062 44.0437 18.3937C43.8749 17.5499 43.1999 17.0437 42.3562 17.0437C41.5124 17.0437 40.8374 17.5499 40.6687 18.3937C39.9937 22.1062 39.1499 22.95 35.4374 23.625C34.5937 23.7937 34.0874 24.4687 34.0874 25.3125C34.0874 26.1562 34.5937 26.8312 35.4374 27C39.1499 27.675 39.9937 28.5187 40.6687 32.2312C40.8374 33.075 41.5124 33.5812 42.3562 33.5812C43.1999 33.5812 43.8749 33.075 44.0437 32.2312C44.7187 28.5187 45.5624 27.675 49.2749 27C50.1187 26.8312 50.6249 26.1562 50.6249 25.3125C50.6249 24.4687 50.1187 23.7937 49.2749 23.625Z" fill="#fff"></path><path d="M9.61875 37.6313C9.1125 37.125 8.4375 36.9563 7.7625 37.2938C7.59375 37.2938 7.425 37.4625 7.25625 37.6313C7.0875 37.8 6.91875 37.9688 6.91875 38.1375C6.75 38.3063 6.75 38.6438 6.75 38.8125C6.75 38.9813 6.75 39.3188 6.91875 39.4875C7.0875 39.6563 7.0875 39.825 7.25625 39.9938C7.425 40.1625 7.59375 40.3313 7.7625 40.3313C7.93125 40.5 8.26875 40.5 8.4375 40.5C8.60625 40.5 8.94375 40.5 9.1125 40.3313C9.28125 40.1625 9.45 40.1625 9.61875 39.9938C9.7875 39.825 9.95625 39.6563 9.95625 39.4875C10.125 39.3188 10.125 38.9813 10.125 38.8125C10.125 38.6438 10.125 38.3063 9.95625 38.1375C9.95625 37.9688 9.7875 37.8 9.61875 37.6313Z" fill="#fff"></path><path d="M47.25 11.8125C47.7563 11.8125 48.0938 11.6438 48.4313 11.3063C48.7688 10.9688 48.9375 10.6313 48.9375 10.125C48.9375 9.6188 48.7688 9.2813 48.4313 8.9438C48.2625 8.77505 48.0937 8.6063 47.925 8.6063C47.5875 8.43755 47.0813 8.43755 46.575 8.6063C46.4063 8.6063 46.2375 8.77505 46.0687 8.9438C45.7312 9.2813 45.5625 9.6188 45.5625 10.125C45.5625 10.6313 45.7312 10.9688 46.0687 11.3063C46.4062 11.6438 46.7437 11.8125 47.25 11.8125Z" fill="white"></path></svg><span>Use AI</span>',2)]))),d.value?($(),H("div",fS,[g("div",pS,[g("div",mS,[k[13]||(k[13]=g("h4",{class:"modal-title",style:{"line-height":"1.1"}},[ke("AI Agreement Generator "),g("small",{style:{opacity:".65"}},"(Experimental)")],-1)),($(),H("svg",{onClick:k[0]||(k[0]=as(E=>d.value=!1,["prevent"])),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},k[12]||(k[12]=[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),g("div",gS,[g("p",yS,[k[14]||(k[14]=ke("Agreement type: ")),g("span",vS,fe(t.agreementType),1)]),g("p",CS,[k[15]||(k[15]=ke("Organization name: ")),g("span",wS,fe(t.orgName),1)]),g("div",bS,[k[23]||(k[23]=g("label",{class:"label"},"Additional informations (optional)",-1)),k[24]||(k[24]=g("p",{class:"sublabel"},"You can provide additional informations if applicable to get a more accurate agreement.",-1)),g("div",kS,[ye(g("input",{type:"text",class:"input",placeholder:"Party name","onUpdate:modelValue":k[1]||(k[1]=E=>a.value.partyName=E)},null,512),[[Ue,a.value.partyName]]),k[16]||(k[16]=g("span",{class:"hint--top-left","aria-label":"Other party name (company/individual names)"},[g("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[g("g",null,[g("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                    c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                    c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                    c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                    c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),g("div",xS,[ye(g("input",{type:"date",class:"input",placeholder:"Effective Date","onUpdate:modelValue":k[2]||(k[2]=E=>a.value.effectiveDate=E)},null,512),[[Ue,a.value.effectiveDate]]),k[17]||(k[17]=g("span",{class:"hint--top-left","aria-label":"Start date of the agreement"},[g("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[g("g",null,[g("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                    c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                    c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                    c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                    c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),g("div",_S,[ye(g("input",{type:"number",class:"input",placeholder:"Duration (Months)","onUpdate:modelValue":k[3]||(k[3]=E=>a.value.duration=E)},null,512),[[Ue,a.value.duration]]),k[18]||(k[18]=g("span",{class:"hint--top-left","aria-label":"(Optional) Duration of the agreement in months eg: 6, 12, 24"},[g("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[g("g",null,[g("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                    c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                    c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                    c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                    c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),c.value?($(),H("div",SS,[g("div",TS,[ye(g("textarea",{class:"input",placeholder:"Payment Terms","onUpdate:modelValue":k[4]||(k[4]=E=>a.value.paymentTerms=E)},null,512),[[Ue,a.value.paymentTerms]]),k[19]||(k[19]=g("span",{class:"hint--top-left","aria-label":"Payment Terms (if applicable)"},[g("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[g("g",null,[g("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                        c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                        c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                        c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                        c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),g("div",ES,[ye(g("textarea",{class:"input",placeholder:"Confidentiality Clauses","onUpdate:modelValue":k[5]||(k[5]=E=>a.value.confidentialityClauses=E)},null,512),[[Ue,a.value.confidentialityClauses]]),k[20]||(k[20]=g("span",{class:"hint--top-left","aria-label":"For NDA-related agreements"},[g("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[g("g",null,[g("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                        c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                        c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                        c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                        c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),g("div",MS,[ye(g("textarea",{class:"input",placeholder:"Termination Conditions","onUpdate:modelValue":k[6]||(k[6]=E=>a.value.terminationConditions=E)},null,512),[[Ue,a.value.terminationConditions]]),k[21]||(k[21]=g("span",{class:"hint--top-left","aria-label":"Termination conditions (if applicable)"},[g("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[g("g",null,[g("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                        c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                        c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                        c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                        c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))]),g("div",AS,[ye(g("textarea",{class:"input",placeholder:"Custom Clauses","onUpdate:modelValue":k[7]||(k[7]=E=>a.value.customClauses=E)},null,512),[[Ue,a.value.customClauses]]),k[22]||(k[22]=g("span",{class:"hint--top-left","aria-label":"Any custom terms"},[g("svg",{fill:"#425466",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"12px",height:"12px",viewBox:"0 0 416.979 416.979","xml:space":"preserve"},[g("g",null,[g("path",{d:`M356.004,61.156c-81.37-81.47-213.377-81.551-294.848-0.182c-81.47,81.371-81.552,213.379-0.181,294.85
                                        c81.369,81.47,213.378,81.551,294.849,0.181C437.293,274.636,437.375,142.626,356.004,61.156z M237.6,340.786
                                        c0,3.217-2.607,5.822-5.822,5.822h-46.576c-3.215,0-5.822-2.605-5.822-5.822V167.885c0-3.217,2.607-5.822,5.822-5.822h46.576
                                        c3.215,0,5.822,2.604,5.822,5.822V340.786z M208.49,137.901c-18.618,0-33.766-15.146-33.766-33.765
                                        c0-18.617,15.147-33.766,33.766-33.766c18.619,0,33.766,15.148,33.766,33.766C242.256,122.755,227.107,137.901,208.49,137.901z`})])])],-1))])])):($(),H("div",{key:1,onClick:k[8]||(k[8]=E=>c.value=!0),class:"view-all-option-btn"},"View All Options"))])]),g("div",IS,[g("button",{onClick:k[9]||(k[9]=as(E=>d.value=!1,["prevent"])),type:"button",class:"btn btn-md btn-outline"},"Cancel"),g("button",{onClick:as(y,["prevent"]),type:"button",class:"btn btn-md"},"Generate")])])])):de("",!0),f.value?($(),H("div",OS,[g("div",LS,[k[30]||(k[30]=et('<p class="text-center mb-0-5"><svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="120" height="120" rx="60" fill="#edf6ff"></rect><path d="M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z" stroke="#3597FF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z" stroke="#3597FF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z" fill="#3597FF" stroke="#3597FF" stroke-width="0.15625"></path></svg></p><p class="modal-title text-center mb-0-5" style="font-size:32px;">Upgrade Required</p>',2)),g("p",PS,[k[25]||(k[25]=ke(" AI Agreement Generator is not available for ")),g("span",NS,fe(i.value),1),k[26]||(k[26]=ke(" plan users.")),k[27]||(k[27]=g("br",null,null,-1)),k[28]||(k[28]=ke(" Please upgrade your plan to use this feature. "))]),g("div",DS,[g("button",{onClick:k[10]||(k[10]=as(E=>f.value=!1,["prevent"])),class:"btn btn-outline"},"Cancel"),Y(S,{to:"/pricing",class:"btn"},{default:Ze(()=>k[29]||(k[29]=[ke("Change Plan")])),_:1})])])])):de("",!0)],64)}}};function vt(t){this.content=t}vt.prototype={constructor:vt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var s=n&&n!=t?this.remove(n):this,r=s.find(t),i=s.content.slice();return r==-1?i.push(n||t,e):(i[r+1]=e,n&&(i[r]=n)),new vt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new vt(n)},addToStart:function(t,e){return new vt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new vt(n)},addBefore:function(t,e,n){var s=this.remove(e),r=s.content.slice(),i=s.find(t);return r.splice(i==-1?r.length:i,0,e,n),new vt(r)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=vt.from(t),t.size?new vt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=vt.from(t),t.size?new vt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=vt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};vt.from=function(t){if(t instanceof vt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new vt(e)};function A3(t,e,n){for(let s=0;;s++){if(s==t.childCount||s==e.childCount)return t.childCount==e.childCount?null:n;let r=t.child(s),i=e.child(s);if(r==i){n+=r.nodeSize;continue}if(!r.sameMarkup(i))return n;if(r.isText&&r.text!=i.text){for(let o=0;r.text[o]==i.text[o];o++)n++;return n}if(r.content.size||i.content.size){let o=A3(r.content,i.content,n+1);if(o!=null)return o}n+=r.nodeSize}}function I3(t,e,n,s){for(let r=t.childCount,i=e.childCount;;){if(r==0||i==0)return r==i?null:{a:n,b:s};let o=t.child(--r),l=e.child(--i),a=o.nodeSize;if(o==l){n-=a,s-=a;continue}if(!o.sameMarkup(l))return{a:n,b:s};if(o.isText&&o.text!=l.text){let c=0,d=Math.min(o.text.length,l.text.length);for(;c<d&&o.text[o.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,s--;return{a:n,b:s}}if(o.content.size||l.content.size){let c=I3(o.content,l.content,n-1,s-1);if(c)return c}n-=a,s-=a}}class q{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,n,s,r=0,i){for(let o=0,l=0;l<n;o++){let a=this.content[o],c=l+a.nodeSize;if(c>e&&s(a,r+l,i||null,o)!==!1&&a.content.size){let d=l+1;a.nodesBetween(Math.max(0,e-d),Math.min(a.content.size,n-d),s,r+d)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,s,r){let i="",o=!0;return this.nodesBetween(e,n,(l,a)=>{let c=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&s&&(o?o=!1:i+=s),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,s=e.firstChild,r=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(s)&&(r[r.length-1]=n.withText(n.text+s.text),i=1);i<e.content.length;i++)r.push(e.content[i]);return new q(r,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let s=[],r=0;if(n>e)for(let i=0,o=0;o<n;i++){let l=this.content[i],a=o+l.nodeSize;a>e&&((o<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),s.push(l),r+=l.nodeSize),o=a}return new q(s,r)}cutByIndex(e,n){return e==n?q.empty:e==0&&n==this.content.length?this:new q(this.content.slice(e,n))}replaceChild(e,n){let s=this.content[e];if(s==n)return this;let r=this.content.slice(),i=this.size+n.nodeSize-s.nodeSize;return r[e]=n,new q(r,i)}addToStart(e){return new q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,s=0;n<this.content.length;n++){let r=this.content[n];e(r,s,n),s+=r.nodeSize}}findDiffStart(e,n=0){return A3(this,e,n)}findDiffEnd(e,n=this.size,s=e.size){return I3(this,e,n,s)}findIndex(e,n=-1){if(e==0)return Zl(0,e);if(e==this.size)return Zl(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let s=0,r=0;;s++){let i=this.child(s),o=r+i.nodeSize;if(o>=e)return o==e||n>0?Zl(s+1,o):Zl(s,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return q.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new q(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return q.empty;let n,s=0;for(let r=0;r<e.length;r++){let i=e[r];s+=i.nodeSize,r&&i.isText&&e[r-1].sameMarkup(i)?(n||(n=e.slice(0,r)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new q(n||e,s)}static from(e){if(!e)return q.empty;if(e instanceof q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}q.empty=new q([],0);const Ou={index:0,offset:0};function Zl(t,e){return Ou.index=t,Ou.offset=e,Ou}function ja(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(!ja(t[s],e[s]))return!1}else{for(let s in t)if(!(s in e)||!ja(t[s],e[s]))return!1;for(let s in e)if(!(s in t))return!1}return!0}let We=class Ad{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,s=!1;for(let r=0;r<e.length;r++){let i=e[r];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,r));else{if(i.type.excludes(this.type))return e;!s&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),s=!0),n&&n.push(i)}}return n||(n=e.slice()),s||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ja(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=s.create(n.attrs);return s.checkAttrs(r.attrs),r}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(n[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ad.none;if(e instanceof Ad)return[e];let n=e.slice();return n.sort((s,r)=>s.type.rank-r.type.rank),n}};We.none=[];class za extends Error{}class te{constructor(e,n,s){this.content=e,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let s=L3(this.content,e+this.openStart,n);return s&&new te(s,this.openStart,this.openEnd)}removeBetween(e,n){return new te(O3(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return te.empty;let s=n.openStart||0,r=n.openEnd||0;if(typeof s!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new te(q.fromJSON(e,n.content),s,r)}static maxOpen(e,n=!0){let s=0,r=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)s++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)r++;return new te(e,s,r)}}te.empty=new te(q.empty,0,0);function O3(t,e,n){let{index:s,offset:r}=t.findIndex(e),i=t.maybeChild(s),{index:o,offset:l}=t.findIndex(n);if(r==e||i.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(s!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(s,i.copy(O3(i.content,e-r-1,n-r-1)))}function L3(t,e,n,s){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r);if(i==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=L3(o.content,e-i-1,n);return l&&t.replaceChild(r,o.copy(l))}function $S(t,e,n){if(n.openStart>t.depth)throw new za("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new za("Inconsistent open depths");return P3(t,e,n,0)}function P3(t,e,n,s){let r=t.index(s),i=t.node(s);if(r==e.index(s)&&s<t.depth-n.openStart){let o=P3(t,e,n,s+1);return i.copy(i.content.replaceChild(r,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==s&&e.depth==s){let o=t.parent,l=o.content;return Pr(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=FS(n,t);return Pr(i,D3(t,o,l,e,s))}else return Pr(i,Wa(t,e,s))}function N3(t,e){if(!e.type.compatibleContent(t.type))throw new za("Cannot join "+e.type.name+" onto "+t.type.name)}function Id(t,e,n){let s=t.node(n);return N3(s,e.node(n)),s}function Lr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Bo(t,e,n,s){let r=(e||t).node(n),i=0,o=e?e.index(n):r.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Lr(t.nodeAfter,s),i++));for(let l=i;l<o;l++)Lr(r.child(l),s);e&&e.depth==n&&e.textOffset&&Lr(e.nodeBefore,s)}function Pr(t,e){return t.type.checkContent(e),t.copy(e)}function D3(t,e,n,s,r){let i=t.depth>r&&Id(t,e,r+1),o=s.depth>r&&Id(n,s,r+1),l=[];return Bo(null,t,r,l),i&&o&&e.index(r)==n.index(r)?(N3(i,o),Lr(Pr(i,D3(t,e,n,s,r+1)),l)):(i&&Lr(Pr(i,Wa(t,e,r+1)),l),Bo(e,n,r,l),o&&Lr(Pr(o,Wa(n,s,r+1)),l)),Bo(s,null,r,l),new q(l)}function Wa(t,e,n){let s=[];if(Bo(null,t,n,s),t.depth>n){let r=Id(t,e,n+1);Lr(Pr(r,Wa(t,e,n+1)),s)}return Bo(e,null,n,s),new q(s)}function FS(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)r=e.node(i).copy(q.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class el{constructor(e,n,s){this.pos=e,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],r=e.child(n);return s?e.child(n).cut(s):r}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let s=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)r+=s.child(i).nodeSize;return r}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return We.none;if(this.textOffset)return e.child(n).marks;let s=e.maybeChild(n-1),r=e.maybeChild(n);if(!s){let l=s;s=r,r=l}let i=s.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,r=e.parent.maybeChild(e.index());for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!r||!s[i].isInSet(r.marks))&&(s=s[i--].removeFromSet(s));return s}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!n||n(this.node(s))))return new qa(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let s=[],r=0,i=n;for(let o=e;;){let{index:l,offset:a}=o.content.findIndex(i),c=i-a;if(s.push(o,l,r+a),!c||(o=o.child(l),o.isText))break;i=c-1,r+=a+1}return new el(n,s,i)}static resolveCached(e,n){let s=Gp.get(e);if(s)for(let i=0;i<s.elts.length;i++){let o=s.elts[i];if(o.pos==n)return o}else Gp.set(e,s=new BS);let r=s.elts[s.i]=el.resolve(e,n);return s.i=(s.i+1)%VS,r}}class BS{constructor(){this.elts=[],this.i=0}}const VS=12,Gp=new WeakMap;class qa{constructor(e,n,s){this.$from=e,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const HS=Object.create(null);let Nr=class Od{constructor(e,n,s,r=We.none){this.type=e,this.attrs=n,this.marks=r,this.content=s||q.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,s,r=0){this.content.nodesBetween(e,n,s,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,s,r){return this.content.textBetween(e,n,s,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,s){return this.type==e&&ja(this.attrs,n||e.defaultAttrs||HS)&&We.sameSet(this.marks,s||We.none)}copy(e=null){return e==this.content?this:new Od(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Od(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,s=!1){if(e==n)return te.empty;let r=this.resolve(e),i=this.resolve(n),o=s?0:r.sharedDepth(n),l=r.start(o),c=r.node(o).content.cut(r.pos-l,i.pos-l);return new te(c,r.depth-o,i.depth-o)}replace(e,n,s){return $S(this.resolve(e),this.resolve(n),s)}nodeAt(e){for(let n=this;;){let{index:s,offset:r}=n.content.findIndex(e);if(n=n.maybeChild(s),!n)return null;if(r==e||n.isText)return n;e-=r+1}}childAfter(e){let{index:n,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(n),index:n,offset:s};let r=this.content.child(n-1);return{node:r,index:n-1,offset:s-r.nodeSize}}resolve(e){return el.resolveCached(this,e)}resolveNoCache(e){return el.resolve(this,e)}rangeHasMark(e,n,s){let r=!1;return n>e&&this.nodesBetween(e,n,i=>(s.isInSet(i.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),R3(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,s=q.empty,r=0,i=s.childCount){let o=this.contentMatchAt(e).matchFragment(s,r,i),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=r;a<i;a++)if(!this.type.allowsMarks(s.child(a).marks))return!1;return!0}canReplaceWith(e,n,s,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(e).matchType(s),o=i&&i.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=We.none;for(let n=0;n<this.marks.length;n++){let s=this.marks[n];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!We.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,s)}let r=q.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,r,s);return i.type.checkAttrs(i.attrs),i}};Nr.prototype.text=void 0;class Ka extends Nr{constructor(e,n,s,r){if(super(e,n,null,r),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):R3(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ka(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ka(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function R3(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ur{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let s=new US(e,n);if(s.next==null)return Ur.empty;let r=$3(s);s.next&&s.err("Unexpected trailing text");let i=JS(GS(r));return ZS(i,s),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,s=e.childCount){let r=this;for(let i=n;r&&i<s;i++)r=r.matchType(e.child(i).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let s=0;s<e.next.length;s++)if(this.next[n].type==e.next[s].type)return!0;return!1}fillBefore(e,n=!1,s=0){let r=[this];function i(o,l){let a=o.matchFragment(e,s);if(a&&(!n||a.validEnd))return q.from(l.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:h}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&r.indexOf(h)==-1){r.push(h);let f=i(h,l.concat(d));if(f)return f}}return null}return i(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let r=s.shift(),i=r.match;if(i.matchType(e)){let o=[];for(let l=r;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:a}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||a.validEnd)&&(s.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(s){e.push(s);for(let r=0;r<s.next.length;r++)e.indexOf(s.next[r].next)==-1&&n(s.next[r].next)}return n(this),e.map((s,r)=>{let i=r+(s.validEnd?"*":" ")+" ";for(let o=0;o<s.next.length;o++)i+=(o?", ":"")+s.next[o].type.name+"->"+e.indexOf(s.next[o].next);return i}).join(`
`)}}Ur.empty=new Ur(!0);class US{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function $3(t){let e=[];do e.push(jS(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function jS(t){let e=[];do e.push(zS(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function zS(t){let e=KS(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=WS(t,e);else break;return e}function Jp(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function WS(t,e){let n=Jp(t),s=n;return t.eat(",")&&(t.next!="}"?s=Jp(t):s=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:e}}function qS(t,e){let n=t.nodeTypes,s=n[e];if(s)return[s];let r=[];for(let i in n){let o=n[i];o.isInGroup(e)&&r.push(o)}return r.length==0&&t.err("No node type or group '"+e+"' found"),r}function KS(t){if(t.eat("(")){let e=$3(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=qS(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function GS(t){let e=[[]];return r(i(t,0),n()),e;function n(){return e.push([])-1}function s(o,l,a){let c={term:a,to:l};return e[o].push(c),c}function r(o,l){o.forEach(a=>a.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((a,c)=>a.concat(i(c,l)),[]);if(o.type=="seq")for(let a=0;;a++){let c=i(o.exprs[a],l);if(a==o.exprs.length-1)return c;r(c,l=n())}else if(o.type=="star"){let a=n();return s(l,a),r(i(o.expr,a),a),[s(a)]}else if(o.type=="plus"){let a=n();return r(i(o.expr,l),a),r(i(o.expr,a),a),[s(a)]}else{if(o.type=="opt")return[s(l)].concat(i(o.expr,l));if(o.type=="range"){let a=l;for(let c=0;c<o.min;c++){let d=n();r(i(o.expr,a),d),a=d}if(o.max==-1)r(i(o.expr,a),a);else for(let c=o.min;c<o.max;c++){let d=n();s(a,d),r(i(o.expr,a),d),a=d}return[s(a)]}else{if(o.type=="name")return[s(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function F3(t,e){return e-t}function Zp(t,e){let n=[];return s(e),n.sort(F3);function s(r){let i=t[r];if(i.length==1&&!i[0].term)return s(i[0].to);n.push(r);for(let o=0;o<i.length;o++){let{term:l,to:a}=i[o];!l&&n.indexOf(a)==-1&&s(a)}}}function JS(t){let e=Object.create(null);return n(Zp(t,0));function n(s){let r=[];s.forEach(o=>{t[o].forEach(({term:l,to:a})=>{if(!l)return;let c;for(let d=0;d<r.length;d++)r[d][0]==l&&(c=r[d][1]);Zp(t,a).forEach(d=>{c||r.push([l,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let i=e[s.join(",")]=new Ur(s.indexOf(t.length-1)>-1);for(let o=0;o<r.length;o++){let l=r[o][1].sort(F3);i.next.push({type:r[o][0],next:e[l.join(",")]||n(l)})}return i}}function ZS(t,e){for(let n=0,s=[t];n<s.length;n++){let r=s[n],i=!r.validEnd,o=[];for(let l=0;l<r.next.length;l++){let{type:a,next:c}=r.next[l];o.push(a.name),i&&!(a.isText||a.hasRequiredAttrs())&&(i=!1),s.indexOf(c)==-1&&s.push(c)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function B3(t){let e=Object.create(null);for(let n in t){let s=t[n];if(!s.hasDefault)return null;e[n]=s.default}return e}function V3(t,e){let n=Object.create(null);for(let s in t){let r=e&&e[s];if(r===void 0){let i=t[s];if(i.hasDefault)r=i.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=r}return n}function H3(t,e,n,s){for(let r in e)if(!(r in t))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in t){let i=t[r];i.validate&&i.validate(e[r])}}function U3(t,e){let n=Object.create(null);if(e)for(let s in e)n[s]=new XS(t,s,e[s]);return n}let Yp=class j3{constructor(e,n,s){this.name=e,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=U3(e,s.attrs),this.defaultAttrs=B3(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ur.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:V3(this.attrs,e)}create(e=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Nr(this,this.computeAttrs(e),q.from(n),We.setFrom(s))}createChecked(e=null,n,s){return n=q.from(n),this.checkContent(n),new Nr(this,this.computeAttrs(e),n,We.setFrom(s))}createAndFill(e=null,n,s){if(e=this.computeAttrs(e),n=q.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let r=this.contentMatch.matchFragment(n),i=r&&r.fillBefore(q.empty,!0);return i?new Nr(this,e,n.append(i),We.setFrom(s)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){H3(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?n&&n.push(e[s]):n||(n=e.slice(0,s));return n?n.length?n:We.none:e}static compile(e,n){let s=Object.create(null);e.forEach((i,o)=>s[i]=new j3(i,n,o));let r=n.spec.topNode||"doc";if(!s[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let i in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function YS(t,e,n){let s=n.split("|");return r=>{let i=r===null?"null":typeof r;if(s.indexOf(i)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${t}, got ${i}`)}}class XS{constructor(e,n,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?YS(e,n,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class Oc{constructor(e,n,s,r){this.name=e,this.rank=n,this.schema=s,this.spec=r,this.attrs=U3(e,r.attrs),this.excluded=null;let i=B3(this.attrs);this.instance=i?new We(this,i):null}create(e=null){return!e&&this.instance?this.instance:new We(this,V3(this.attrs,e))}static compile(e,n){let s=Object.create(null),r=0;return e.forEach((i,o)=>s[i]=new Oc(i,r++,n,o)),s}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){H3(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class z3{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in e)n[r]=e[r];n.nodes=vt.from(e.nodes),n.marks=vt.from(e.marks||{}),this.nodes=Yp.compile(this.spec.nodes,this),this.marks=Oc.compile(this.spec.marks,this);let s=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=s[o]||(s[o]=Ur.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?Xp(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:Xp(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,s,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Yp){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,s,r)}text(e,n){let s=this.nodes.text;return new Ka(s,s.defaultAttrs,e,We.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Nr.fromJSON(this,e)}markFromJSON(e){return We.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Xp(t,e){let n=[];for(let s=0;s<e.length;s++){let r=e[s],i=t.marks[r],o=i;if(i)n.push(i);else for(let l in t.marks){let a=t.marks[l];(r=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(r)>-1)&&n.push(o=a)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return n}function QS(t){return t.tag!=null}function eT(t){return t.style!=null}class nr{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let s=this.matchedStyles=[];n.forEach(r=>{if(QS(r))this.tags.push(r);else if(eT(r)){let i=/[^=]*/.exec(r.style)[0];s.indexOf(i)<0&&s.push(i),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let s=new e2(this,n,!1);return s.addAll(e,We.none,n.from,n.to),s.finish()}parseSlice(e,n={}){let s=new e2(this,n,!0);return s.addAll(e,We.none,n.from,n.to),te.maxOpen(s.finish())}matchTag(e,n,s){for(let r=s?this.tags.indexOf(s)+1:0;r<this.tags.length;r++){let i=this.tags[r];if(sT(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,n,s,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!s.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let a=o.getAttrs(n);if(a===!1)continue;o.attrs=a||void 0}return o}}}static schemaRules(e){let n=[];function s(r){let i=r.priority==null?50:r.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<i)break}n.splice(o,0,r)}for(let r in e.marks){let i=e.marks[r].spec.parseDOM;i&&i.forEach(o=>{s(o=t2(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in e.nodes){let i=e.nodes[r].spec.parseDOM;i&&i.forEach(o=>{s(o=t2(o)),o.node||o.ignore||o.mark||(o.node=r)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new nr(e,nr.schemaRules(e)))}}const W3={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},tT={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},q3={ol:!0,ul:!0},Ga=1,Ja=2,Vo=4;function Qp(t,e,n){return e!=null?(e?Ga:0)|(e==="full"?Ja:0):t&&t.whitespace=="pre"?Ga|Ja:n&~Vo}class Yl{constructor(e,n,s,r,i,o){this.type=e,this.attrs=n,this.marks=s,this.solid=r,this.options=o,this.content=[],this.activeMarks=We.none,this.match=i||(o&Vo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(q.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,r;return(r=s.findWrapping(e.type))?(this.match=s,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ga)){let s=this.content[this.content.length-1],r;if(s&&s.isText&&(r=/[ \t\r\n\u000c]+$/.exec(s.text))){let i=s;s.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-r[0].length))}}let n=q.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(q.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!W3.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class e2{constructor(e,n,s){this.parser=e,this.options=n,this.isOpen=s,this.open=0;let r=n.topNode,i,o=Qp(null,n.preserveWhitespace,0)|(s?Vo:0);r?i=new Yl(r.type,r.attrs,We.none,!0,n.topMatch||r.type.contentMatch,o):s?i=new Yl(null,null,We.none,!0,null,o):i=new Yl(e.schema.topNodeType,null,We.none,!0,null,o),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let s=e.nodeValue,r=this.top;if(r.options&Ja||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(r.options&Ga)r.options&Ja?s=s.replace(/\r\n?/g,`
`):s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(s=s.slice(1))}s&&this.insertNode(this.parser.schema.text(s),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,s){let r=e.nodeName.toLowerCase(),i;q3.hasOwnProperty(r)&&this.parser.normalizeLists&&nT(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,s));if(o?o.ignore:tT.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e,n);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let l,a=this.top,c=this.needsBlock;if(W3.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),l=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let d=o&&o.skip?n:this.readStyles(e,n);d&&this.addAll(e,d),l&&this.sync(a),this.needsBlock=c}else{let l=this.readStyles(e,n);l&&this.addElementByRule(e,o,l,o.consuming===!1?i:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let s=e.style;if(s&&s.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let i=this.parser.matchedStyles[r],o=s.getPropertyValue(i);if(o)for(let l=void 0;;){let a=this.parser.matchStyle(i,o,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(c=>!a.clearMark(c)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return n}addElementByRule(e,n,s,r){let i,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),s)||this.leafFallback(e,s);else{let a=this.enter(o,n.attrs||null,s,n.preserveWhitespace);a&&(i=!0,s=a)}else{let a=this.parser.schema.marks[n.mark];s=s.concat(a.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,s,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,s));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,s),this.findAround(e,a,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,s,r){let i=s||0;for(let o=s?e.childNodes[s]:e.firstChild,l=r==null?null:e.childNodes[r];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,n);this.findAtPoint(e,i)}findPlace(e,n){let s,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],l=o.findWrapping(e);if(l&&(!s||s.length>l.length)&&(s=l,r=o,!l.length)||o.solid)break}if(!s)return null;this.sync(r);for(let i=0;i<s.length;i++)n=this.enterInner(s[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(n=this.enterInner(r,null,n))}let s=this.findPlace(e,n);if(s){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let i=We.none;for(let o of s.concat(e.marks))(r.type?r.type.allowsMarkType(o.type):n2(o.type,e.type))&&(i=o.addToSet(i));return r.content.push(e.mark(i)),!0}return!1}enter(e,n,s,r){let i=this.findPlace(e.create(n),s);return i&&(i=this.enterInner(e,n,s,!0,r)),i}enterInner(e,n,s,r=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=Qp(e,i,o.options);o.options&Vo&&o.content.length==0&&(l|=Vo);let a=We.none;return s=s.filter(c=>(o.type?o.type.allowsMarkType(c.type):n2(c.type,e))?(a=c.addToSet(a),!1):!0),this.nodes.push(new Yl(e,n,a,r,null,l)),this.open++,s}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let r=s.length-1;r>=0;r--)e+=s[r].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,s){if(e!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(s?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),s=this.options.context,r=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),i=-(s?s.depth+1:0)+(r?0:1),o=(l,a)=>{for(;l>=0;l--){let c=n[l];if(c==""){if(l==n.length-1||l==0)continue;for(;a>=i;a--)if(o(l-1,a))return!0;return!1}else{let d=a>0||a==0&&r?this.nodes[a].type:s&&a>=i?s.node(a-i).type:null;if(!d||d.name!=c&&!d.isInGroup(c))return!1;a--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}}function nT(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&q3.hasOwnProperty(s)&&n?(n.appendChild(e),e=n):s=="li"?n=e:s&&(n=null)}}function sT(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function t2(t){let e={};for(let n in t)e[n]=t[n];return e}function n2(t,e){let n=e.schema.nodes;for(let s in n){let r=n[s];if(!r.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let a=0;a<l.edgeCount;a++){let{type:c,next:d}=l.edge(a);if(c==e||i.indexOf(d)<0&&o(d))return!0}};if(o(r.contentMatch))return!0}}class Zr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},s){s||(s=Lu(n).createDocumentFragment());let r=s,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,a=0;for(;l<i.length&&a<o.marks.length;){let c=o.marks[a];if(!this.marks[c.type.name]){a++;continue}if(!c.eq(i[l][0])||c.type.spec.spanning===!1)break;l++,a++}for(;l<i.length;)r=i.pop()[1];for(;a<o.marks.length;){let c=o.marks[a++],d=this.serializeMark(c,o.isInline,n);d&&(i.push([c,r]),r.appendChild(d.dom),r=d.contentDOM||d.dom)}}r.appendChild(this.serializeNodeInner(o,n))}),s}serializeNodeInner(e,n){let{dom:s,contentDOM:r}=da(Lu(n),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,r)}return s}serializeNode(e,n={}){let s=this.serializeNodeInner(e,n);for(let r=e.marks.length-1;r>=0;r--){let i=this.serializeMark(e.marks[r],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(s),s=i.dom)}return s}serializeMark(e,n,s={}){let r=this.marks[e.type.name];return r&&da(Lu(s),r(e,n),null,e.attrs)}static renderSpec(e,n,s=null,r){return da(e,n,s,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Zr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=s2(e.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(e){return s2(e.marks)}}function s2(t){let e={};for(let n in t){let s=t[n].spec.toDOM;s&&(e[n]=s)}return e}function Lu(t){return t.document||window.document}const r2=new WeakMap;function rT(t){let e=r2.get(t);return e===void 0&&r2.set(t,e=iT(t)),e}function iT(t){let e=null;function n(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let r=0;r<s.length;r++)n(s[r]);else for(let r in s)n(s[r])}return n(t),e}function da(t,e,n,s){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],i;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(i=rT(s))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));let l,a=n?t.createElementNS(n,r):t.createElement(r),c=e[1],d=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){d=2;for(let h in c)if(c[h]!=null){let f=h.indexOf(" ");f>0?a.setAttributeNS(h.slice(0,f),h.slice(f+1),c[h]):a.setAttribute(h,c[h])}}for(let h=d;h<e.length;h++){let f=e[h];if(f===0){if(h<e.length-1||h>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:p,contentDOM:y}=da(t,f,n,s);if(a.appendChild(p),y){if(l)throw new RangeError("Multiple content holes");l=y}}}return{dom:a,contentDOM:l}}const K3=65535,G3=Math.pow(2,16);function oT(t,e){return t+e*G3}function i2(t){return t&K3}function lT(t){return(t-(t&K3))/G3}const J3=1,Z3=2,ha=4,Y3=8;class Ld{constructor(e,n,s){this.pos=e,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&Y3)>0}get deletedBefore(){return(this.delInfo&(J3|ha))>0}get deletedAfter(){return(this.delInfo&(Z3|ha))>0}get deletedAcross(){return(this.delInfo&ha)>0}}class on{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&on.empty)return on.empty}recover(e){let n=0,s=i2(e);if(!this.inverted)for(let r=0;r<s;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[s*3]+n+lT(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,s){let r=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let c=this.ranges[l+i],d=this.ranges[l+o],h=a+c;if(e<=h){let f=c?e==a?-1:e==h?1:n:n,p=a+r+(f<0?0:d);if(s)return p;let y=e==(n<0?a:h)?null:oT(l/3,e-a),v=e==a?Z3:e==h?J3:ha;return(n<0?e!=a:e!=h)&&(v|=Y3),new Ld(p,v,y)}r+=d-c}return s?e+r:new Ld(e+r,0,null)}touches(e,n){let s=0,r=i2(n),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?s:0);if(a>e)break;let c=this.ranges[l+i],d=a+c;if(e<=d&&l==r*3)return!0;s+=this.ranges[l+o]-c}return!1}forEach(e){let n=this.inverted?2:1,s=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],l=o-(this.inverted?i:0),a=o+(this.inverted?0:i),c=this.ranges[r+n],d=this.ranges[r+s];e(l,l+c,a,a+d),i+=d-c}}invert(){return new on(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?on.empty:new on(e<0?[0,-e,0]:[0,0,e])}}on.empty=new on([]);class Ei{constructor(e=[],n,s=0,r=e.length){this.maps=e,this.mirror=n,this.from=s,this.to=r}slice(e=0,n=this.maps.length){return new Ei(this.maps,this.mirror,e,n)}copy(){return new Ei(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,s=this.maps.length;n<e.maps.length;n++){let r=e.getMirror(n);this.appendMap(e.maps[n],r!=null&&r<n?s+r:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,s=this.maps.length+e.maps.length;n>=0;n--){let r=e.getMirror(n);this.appendMap(e.maps[n].invert(),r!=null&&r>n?s-r-1:void 0)}}invert(){let e=new Ei;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let s=this.from;s<this.to;s++)e=this.maps[s].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,s){let r=0;for(let i=this.from;i<this.to;i++){let o=this.maps[i],l=o.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(i);if(a!=null&&a>i&&a<this.to){i=a,e=this.maps[a].recover(l.recover);continue}}r|=l.delInfo,e=l.pos}return s?e:new Ld(e,r,null)}}const Pu=Object.create(null);class Dt{getMap(){return on.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=Pu[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in Pu)throw new RangeError("Duplicate use of step JSON ID "+e);return Pu[e]=n,n.prototype.jsonID=e,n}}class ot{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ot(e,null)}static fail(e){return new ot(null,e)}static fromReplace(e,n,s,r){try{return ot.ok(e.replace(n,s,r))}catch(i){if(i instanceof za)return ot.fail(i.message);throw i}}}function Zh(t,e,n){let s=[];for(let r=0;r<t.childCount;r++){let i=t.child(r);i.content.size&&(i=i.copy(Zh(i.content,e,i))),i.isInline&&(i=e(i,n,r)),s.push(i)}return q.fromArray(s)}class Gs extends Dt{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=e.resolve(this.from),r=s.node(s.sharedDepth(this.to)),i=new te(Zh(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),n.openStart,n.openEnd);return ot.fromReplace(e,this.from,this.to,i)}invert(){return new Hn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new Gs(n.pos,s.pos,this.mark)}merge(e){return e instanceof Gs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Gs(n.from,n.to,e.markFromJSON(n.mark))}}Dt.jsonID("addMark",Gs);class Hn extends Dt{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=new te(Zh(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),n.openStart,n.openEnd);return ot.fromReplace(e,this.from,this.to,s)}invert(){return new Gs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new Hn(n.pos,s.pos,this.mark)}merge(e){return e instanceof Hn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Hn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Hn(n.from,n.to,e.markFromJSON(n.mark))}}Dt.jsonID("removeMark",Hn);class Js extends Dt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ot.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ot.fromReplace(e,this.pos,this.pos+1,new te(q.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(s))return new Js(this.pos,n.marks[r]);return new Js(this.pos,this.mark)}}return new Vi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Js(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Js(n.pos,e.markFromJSON(n.mark))}}Dt.jsonID("addNodeMark",Js);class Vi extends Dt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ot.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ot.fromReplace(e,this.pos,this.pos+1,new te(q.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Js(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Vi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Vi(n.pos,e.markFromJSON(n.mark))}}Dt.jsonID("removeNodeMark",Vi);class ht extends Dt{constructor(e,n,s,r=!1){super(),this.from=e,this.to=n,this.slice=s,this.structure=r}apply(e){return this.structure&&Pd(e,this.from,this.to)?ot.fail("Structure replace would overwrite content"):ot.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new on([this.from,this.to-this.from,this.slice.size])}invert(e){return new ht(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new ht(n.pos,Math.max(n.pos,s.pos),this.slice)}merge(e){if(!(e instanceof ht)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?te.empty:new te(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ht(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?te.empty:new te(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ht(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ht(n.from,n.to,te.fromJSON(e,n.slice),!!n.structure)}}Dt.jsonID("replace",ht);class ft extends Dt{constructor(e,n,s,r,i,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=s,this.gapTo=r,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(Pd(e,this.from,this.gapFrom)||Pd(e,this.gapTo,this.to)))return ot.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ot.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?ot.fromReplace(e,this.from,this.to,s):ot.fail("Content does not fit in gap")}getMap(){return new on([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ft(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||r<n.pos||i>s.pos?null:new ft(n.pos,s.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ft(n.from,n.to,n.gapFrom,n.gapTo,te.fromJSON(e,n.slice),n.insert,!!n.structure)}}Dt.jsonID("replaceAround",ft);function Pd(t,e,n){let s=t.resolve(e),r=n-e,i=s.depth;for(;r>0&&i>0&&s.indexAfter(i)==s.node(i).childCount;)i--,r--;if(r>0){let o=s.node(i).maybeChild(s.indexAfter(i));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function aT(t,e,n,s){let r=[],i=[],o,l;t.doc.nodesBetween(e,n,(a,c,d)=>{if(!a.isInline)return;let h=a.marks;if(!s.isInSet(h)&&d.type.allowsMarkType(s.type)){let f=Math.max(c,e),p=Math.min(c+a.nodeSize,n),y=s.addToSet(h);for(let v=0;v<h.length;v++)h[v].isInSet(y)||(o&&o.to==f&&o.mark.eq(h[v])?o.to=p:r.push(o=new Hn(f,p,h[v])));l&&l.to==f?l.to=p:i.push(l=new Gs(f,p,s))}}),r.forEach(a=>t.step(a)),i.forEach(a=>t.step(a))}function cT(t,e,n,s){let r=[],i=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;i++;let a=null;if(s instanceof Oc){let c=o.marks,d;for(;d=s.isInSet(c);)(a||(a=[])).push(d),c=d.removeFromSet(c)}else s?s.isInSet(o.marks)&&(a=[s]):a=o.marks;if(a&&a.length){let c=Math.min(l+o.nodeSize,n);for(let d=0;d<a.length;d++){let h=a[d],f;for(let p=0;p<r.length;p++){let y=r[p];y.step==i-1&&h.eq(r[p].style)&&(f=y)}f?(f.to=c,f.step=i):r.push({style:h,from:Math.max(l,e),to:c,step:i})}}}),r.forEach(o=>t.step(new Hn(o.from,o.to,o.style)))}function Yh(t,e,n,s=n.contentMatch,r=!0){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let a=0;a<i.childCount;a++){let c=i.child(a),d=l+c.nodeSize,h=s.matchType(c.type);if(!h)o.push(new ht(l,d,te.empty));else{s=h;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||t.step(new Hn(l,d,c.marks[f]));if(r&&c.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,y;for(;f=p.exec(c.text);)y||(y=new te(q.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new ht(l+f.index,l+f.index+f[0].length,y))}}l=d}if(!s.validEnd){let a=s.fillBefore(q.empty,!0);t.replace(l,l,new te(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function uT(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Xi(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let s=t.depth;;--s){let r=t.$from.node(s),i=t.$from.index(s),o=t.$to.indexAfter(s);if(s<t.depth&&r.canReplace(i,o,n))return s;if(s==0||r.type.spec.isolating||!uT(r,i,o))break}return null}function dT(t,e,n){let{$from:s,$to:r,depth:i}=e,o=s.before(i+1),l=r.after(i+1),a=o,c=l,d=q.empty,h=0;for(let y=i,v=!1;y>n;y--)v||s.index(y)>0?(v=!0,d=q.from(s.node(y).copy(d)),h++):a--;let f=q.empty,p=0;for(let y=i,v=!1;y>n;y--)v||r.after(y+1)<r.end(y)?(v=!0,f=q.from(r.node(y).copy(f)),p++):c++;t.step(new ft(a,c,o,l,new te(d.append(f),h,p),d.size-h,!0))}function Xh(t,e,n=null,s=t){let r=hT(t,e),i=r&&fT(s,e);return i?r.map(o2).concat({type:e,attrs:n}).concat(i.map(o2)):null}function o2(t){return{type:t,attrs:null}}function hT(t,e){let{parent:n,startIndex:s,endIndex:r}=t,i=n.contentMatchAt(s).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return n.canReplaceWith(s,r,o)?i:null}function fT(t,e){let{parent:n,startIndex:s,endIndex:r}=t,i=n.child(s),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let a=(o.length?o[o.length-1]:e).contentMatch;for(let c=s;a&&c<r;c++)a=a.matchType(n.child(c).type);return!a||!a.validEnd?null:o}function pT(t,e,n){let s=q.empty;for(let o=n.length-1;o>=0;o--){if(s.size){let l=n[o].type.contentMatch.matchFragment(s);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=q.from(n[o].type.create(n[o].attrs,s))}let r=e.start,i=e.end;t.step(new ft(r,i,r,i,new te(s,0,0),n.length,!0))}function mT(t,e,n,s,r){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{let a=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(s,a)&&gT(t.doc,t.mapping.slice(i).map(l),s)){let c=null;if(s.schema.linebreakReplacement){let p=s.whitespace=="pre",y=!!s.contentMatch.matchType(s.schema.linebreakReplacement);p&&!y?c=!1:!p&&y&&(c=!0)}c===!1&&Q3(t,o,l,i),Yh(t,t.mapping.slice(i).map(l,1),s,void 0,c===null);let d=t.mapping.slice(i),h=d.map(l,1),f=d.map(l+o.nodeSize,1);return t.step(new ft(h,f,h+1,f-1,new te(q.from(s.create(a,null,o.marks)),0,0),1,!0)),c===!0&&X3(t,o,l,i),!1}})}function X3(t,e,n,s){e.forEach((r,i)=>{if(r.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(r.text);){let a=t.mapping.slice(s).map(n+1+i+o.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function Q3(t,e,n,s){e.forEach((r,i)=>{if(r.type==r.type.schema.linebreakReplacement){let o=t.mapping.slice(s).map(n+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function gT(t,e,n){let s=t.resolve(e),r=s.index();return s.parent.canReplaceWith(r,r+1,n)}function yT(t,e,n,s,r){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let o=n.create(s,null,r||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ft(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new te(q.from(o),0,0),1,!0))}function Mi(t,e,n=1,s){let r=t.resolve(e),i=r.depth-n,o=s&&s[s.length-1]||r.parent;if(i<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,d=n-2;c>i;c--,d--){let h=r.node(c),f=r.index(c);if(h.type.spec.isolating)return!1;let p=h.content.cutByIndex(f,h.childCount),y=s&&s[d+1];y&&(p=p.replaceChild(0,y.type.create(y.attrs)));let v=s&&s[d]||h;if(!h.canReplace(f+1,h.childCount)||!v.type.validContent(p))return!1}let l=r.indexAfter(i),a=s&&s[0];return r.node(i).canReplaceWith(l,l,a?a.type:r.node(i+1).type)}function vT(t,e,n=1,s){let r=t.doc.resolve(e),i=q.empty,o=q.empty;for(let l=r.depth,a=r.depth-n,c=n-1;l>a;l--,c--){i=q.from(r.node(l).copy(i));let d=s&&s[c];o=q.from(d?d.type.create(d.attrs,o):r.node(l).copy(o))}t.step(new ht(e,e,new te(i.append(o),n,n),!0))}function fr(t,e){let n=t.resolve(e),s=n.index();return eg(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function CT(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:s}=t.type.schema;for(let r=0;r<e.childCount;r++){let i=e.child(r),o=i.type==s?t.type.schema.nodes.text:i.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function eg(t,e){return!!(t&&e&&!t.isLeaf&&CT(t,e))}function Lc(t,e,n=-1){let s=t.resolve(e);for(let r=s.depth;;r--){let i,o,l=s.index(r);if(r==s.depth?(i=s.nodeBefore,o=s.nodeAfter):n>0?(i=s.node(r+1),l++,o=s.node(r).maybeChild(l)):(i=s.node(r).maybeChild(l-1),o=s.node(r+1)),i&&!i.isTextblock&&eg(i,o)&&s.node(r).canReplace(l,l+1))return e;if(r==0)break;e=n<0?s.before(r):s.after(r)}}function wT(t,e,n){let s=null,{linebreakReplacement:r}=t.doc.type.schema,i=t.doc.resolve(e-n),o=i.node().type;if(r&&o.inlineContent){let d=o.whitespace=="pre",h=!!o.contentMatch.matchType(r);d&&!h?s=!1:!d&&h&&(s=!0)}let l=t.steps.length;if(s===!1){let d=t.doc.resolve(e+n);Q3(t,d.node(),d.before(),l)}o.inlineContent&&Yh(t,e+n-1,o,i.node().contentMatchAt(i.index()),s==null);let a=t.mapping.slice(l),c=a.map(e-n);if(t.step(new ht(c,a.map(e+n,-1),te.empty,!0)),s===!0){let d=t.doc.resolve(c);X3(t,d.node(),d.before(),t.steps.length)}return t}function bT(t,e,n){let s=t.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),n))return e;if(s.parentOffset==0)for(let r=s.depth-1;r>=0;r--){let i=s.index(r);if(s.node(r).canReplaceWith(i,i,n))return s.before(r+1);if(i>0)return null}if(s.parentOffset==s.parent.content.size)for(let r=s.depth-1;r>=0;r--){let i=s.indexAfter(r);if(s.node(r).canReplaceWith(i,i,n))return s.after(r+1);if(i<s.node(r).childCount)return null}return null}function tg(t,e,n){let s=t.resolve(e);if(!n.content.size)return e;let r=n.content;for(let i=0;i<n.openStart;i++)r=r.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let o=s.depth;o>=0;o--){let l=o==s.depth?0:s.pos<=(s.start(o+1)+s.end(o+1))/2?-1:1,a=s.index(o)+(l>0?1:0),c=s.node(o),d=!1;if(i==1)d=c.canReplace(a,a,r);else{let h=c.contentMatchAt(a).findWrapping(r.firstChild.type);d=h&&c.canReplaceWith(a,a,h[0])}if(d)return l==0?s.pos:l<0?s.before(o+1):s.after(o+1)}return null}function Pc(t,e,n=e,s=te.empty){if(e==n&&!s.size)return null;let r=t.resolve(e),i=t.resolve(n);return ng(r,i,s)?new ht(e,n,s):new kT(r,i,s).fit()}function ng(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class kT{constructor(e,n,s){this.$from=e,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=q.empty;for(let r=0;r<=e.depth;r++){let i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=q.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,r=this.close(e<0?this.$to:s.doc.resolve(e));if(!r)return null;let i=this.placed,o=s.depth,l=r.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let a=new te(i,o,l);return e>-1?new ft(s.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||s.pos!=this.$to.pos?new ht(s.pos,r.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,r=this.unplaced.openEnd;s<e;s++){let i=n.firstChild;if(n.childCount>1&&(r=0),i.type.spec.isolating&&r<=s){e=s;break}n=i.content}for(let n=1;n<=2;n++)for(let s=n==1?e:this.unplaced.openStart;s>=0;s--){let r,i=null;s?(i=Nu(this.unplaced.content,s-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:c}=this.frontier[l],d,h=null;if(n==1&&(o?c.matchType(o.type)||(h=c.fillBefore(q.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:s,frontierDepth:l,parent:i,inject:h};if(n==2&&o&&(d=c.findWrapping(o.type)))return{sliceDepth:s,frontierDepth:l,parent:i,wrap:d};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:s}=this.unplaced,r=Nu(e,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new te(e,n+1,Math.max(s,r.size+n>=e.size-s?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:s}=this.unplaced,r=Nu(e,n);if(r.childCount<=1&&n>0){let i=e.size-n<=n+r.size;this.unplaced=new te(bo(e,n-1,1),n-1,i?n-1:s)}else this.unplaced=new te(bo(e,n,1),n,s)}placeNodes({sliceDepth:e,frontierDepth:n,parent:s,inject:r,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let v=0;v<i.length;v++)this.openFrontierNode(i[v]);let o=this.unplaced,l=s?s.content:o.content,a=o.openStart-e,c=0,d=[],{match:h,type:f}=this.frontier[n];if(r){for(let v=0;v<r.childCount;v++)d.push(r.child(v));h=h.matchFragment(r)}let p=l.size+e-(o.content.size-o.openEnd);for(;c<l.childCount;){let v=l.child(c),k=h.matchType(v.type);if(!k)break;c++,(c>1||a==0||v.content.size)&&(h=k,d.push(sg(v.mark(f.allowedMarks(v.marks)),c==1?a:0,c==l.childCount?p:-1)))}let y=c==l.childCount;y||(p=-1),this.placed=ko(this.placed,n,q.from(d)),this.frontier[n].match=h,y&&p<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,k=l;v<p;v++){let S=k.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),k=S.content}this.unplaced=y?e==0?te.empty:new te(bo(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new te(bo(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Du(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,r=this.$to.after(s);for(;s>1&&r==this.$to.end(--s);)++r;return r}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:s,type:r}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=Du(e,n,r,s,i);if(o){for(let l=n-1;l>=0;l--){let{match:a,type:c}=this.frontier[l],d=Du(e,l,c,a,!0);if(!d||d.childCount)continue e}return{depth:n,fit:o,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ko(this.placed,n.depth,n.fit)),e=n.move;for(let s=n.depth+1;s<=e.depth;s++){let r=e.node(s),i=r.type.contentMatch.fillBefore(r.content,!0,e.index(s));this.openFrontierNode(r.type,r.attrs,i)}return e}openFrontierNode(e,n=null,s){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=ko(this.placed,this.depth,q.from(e.create(n,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(q.empty,!0);n.childCount&&(this.placed=ko(this.placed,this.frontier.length,n))}}function bo(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(bo(t.firstChild.content,e-1,n)))}function ko(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ko(t.lastChild.content,e-1,n)))}function Nu(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function sg(t,e,n){if(e<=0)return t;let s=t.content;return e>1&&(s=s.replaceChild(0,sg(s.firstChild,e-1,s.childCount==1?n-1:0))),e>0&&(s=t.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(q.empty,!0)))),t.copy(s)}function Du(t,e,n,s,r){let i=t.node(e),o=r?t.indexAfter(e):t.index(e);if(o==i.childCount&&!n.compatibleContent(i.type))return null;let l=s.fillBefore(i.content,!0,o);return l&&!xT(n,i.content,o)?l:null}function xT(t,e,n){for(let s=n;s<e.childCount;s++)if(!t.allowsMarks(e.child(s).marks))return!0;return!1}function _T(t){return t.spec.defining||t.spec.definingForContent}function ST(t,e,n,s){if(!s.size)return t.deleteRange(e,n);let r=t.doc.resolve(e),i=t.doc.resolve(n);if(ng(r,i,s))return t.step(new ht(e,n,s));let o=ig(r,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(r.depth+1);o.unshift(l);for(let f=r.depth,p=r.pos-1;f>0;f--,p--){let y=r.node(f).type.spec;if(y.defining||y.definingAsContext||y.isolating)break;o.indexOf(f)>-1?l=f:r.before(f)==p&&o.splice(1,0,-f)}let a=o.indexOf(l),c=[],d=s.openStart;for(let f=s.content,p=0;;p++){let y=f.firstChild;if(c.push(y),p==s.openStart)break;f=y.content}for(let f=d-1;f>=0;f--){let p=c[f],y=_T(p.type);if(y&&!p.sameMarkup(r.node(Math.abs(l)-1)))d=f;else if(y||!p.type.isTextblock)break}for(let f=s.openStart;f>=0;f--){let p=(f+d+1)%(s.openStart+1),y=c[p];if(y)for(let v=0;v<o.length;v++){let k=o[(v+a)%o.length],S=!0;k<0&&(S=!1,k=-k);let E=r.node(k-1),T=r.index(k-1);if(E.canReplaceWith(T,T,y.type,y.marks))return t.replace(r.before(k),S?i.after(k):n,new te(rg(s.content,0,s.openStart,p),p,s.openEnd))}}let h=t.steps.length;for(let f=o.length-1;f>=0&&(t.replace(e,n,s),!(t.steps.length>h));f--){let p=o[f];p<0||(e=r.before(p),n=i.after(p))}}function rg(t,e,n,s,r){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(rg(i.content,e+1,n,s,i)))}if(e>s){let i=r.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(q.empty,!0))}return t}function TT(t,e,n,s){if(!s.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=bT(t.doc,e,s.type);r!=null&&(e=n=r)}t.replaceRange(e,n,new te(q.from(s),0,0))}function ET(t,e,n){let s=t.doc.resolve(e),r=t.doc.resolve(n),i=ig(s,r);for(let o=0;o<i.length;o++){let l=i[o],a=o==i.length-1;if(a&&l==0||s.node(l).type.contentMatch.validEnd)return t.delete(s.start(l),r.end(l));if(l>0&&(a||s.node(l-1).canReplace(s.index(l-1),r.indexAfter(l-1))))return t.delete(s.before(l),r.after(l))}for(let o=1;o<=s.depth&&o<=r.depth;o++)if(e-s.start(o)==s.depth-o&&n>s.end(o)&&r.end(o)-n!=r.depth-o&&s.start(o-1)==r.start(o-1)&&s.node(o-1).canReplace(s.index(o-1),r.index(o-1)))return t.delete(s.before(o),n);t.delete(e,n)}function ig(t,e){let n=[],s=Math.min(t.depth,e.depth);for(let r=s;r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}class Ai extends Dt{constructor(e,n,s){super(),this.pos=e,this.attr=n,this.value=s}apply(e){let n=e.nodeAt(this.pos);if(!n)return ot.fail("No node at attribute step's position");let s=Object.create(null);for(let i in n.attrs)s[i]=n.attrs[i];s[this.attr]=this.value;let r=n.type.create(s,null,n.marks);return ot.fromReplace(e,this.pos,this.pos+1,new te(q.from(r),0,n.isLeaf?0:1))}getMap(){return on.empty}invert(e){return new Ai(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ai(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ai(n.pos,n.attr,n.value)}}Dt.jsonID("attr",Ai);class tl extends Dt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let s=e.type.create(n,e.content,e.marks);return ot.ok(s)}getMap(){return on.empty}invert(e){return new tl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new tl(n.attr,n.value)}}Dt.jsonID("docAttr",tl);let Hi=class extends Error{};Hi=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Hi.prototype=Object.create(Error.prototype);Hi.prototype.constructor=Hi;Hi.prototype.name="TransformError";class MT{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ei}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Hi(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,s=te.empty){let r=Pc(this.doc,e,n,s);return r&&this.step(r),this}replaceWith(e,n,s){return this.replace(e,n,new te(q.from(s),0,0))}delete(e,n){return this.replace(e,n,te.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,s){return ST(this,e,n,s),this}replaceRangeWith(e,n,s){return TT(this,e,n,s),this}deleteRange(e,n){return ET(this,e,n),this}lift(e,n){return dT(this,e,n),this}join(e,n=1){return wT(this,e,n),this}wrap(e,n){return pT(this,e,n),this}setBlockType(e,n=e,s,r=null){return mT(this,e,n,s,r),this}setNodeMarkup(e,n,s=null,r){return yT(this,e,n,s,r),this}setNodeAttribute(e,n,s){return this.step(new Ai(e,n,s)),this}setDocAttribute(e,n){return this.step(new tl(e,n)),this}addNodeMark(e,n){return this.step(new Js(e,n)),this}removeNodeMark(e,n){if(!(n instanceof We)){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(n=n.isInSet(s.marks),!n)return this}return this.step(new Vi(e,n)),this}split(e,n=1,s){return vT(this,e,n,s),this}addMark(e,n,s){return aT(this,e,n,s),this}removeMark(e,n,s){return cT(this,e,n,s),this}clearIncompatible(e,n,s){return Yh(this,e,n,s),this}}const Ru=Object.create(null);class _e{constructor(e,n,s){this.$anchor=e,this.$head=n,this.ranges=s||[new AT(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=te.empty){let s=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=s,s=s.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:a,$to:c}=o[l],d=e.mapping.slice(i);e.replaceRange(d.map(a.pos),d.map(c.pos),l?te.empty:n),l==0&&c2(e,i,(s?s.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,n){let s=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:l}=r[i],a=e.mapping.slice(s),c=a.map(o.pos),d=a.map(l.pos);i?e.deleteRange(c,d):(e.replaceRangeWith(c,d,n),c2(e,s,n.isInline?-1:1))}}static findFrom(e,n,s=!1){let r=e.parent.inlineContent?new xe(e):hi(e.node(0),e.parent,e.pos,e.index(),n,s);if(r)return r;for(let i=e.depth-1;i>=0;i--){let o=n<0?hi(e.node(0),e.node(i),e.before(i+1),e.index(i),n,s):hi(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,s);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new On(e.node(0))}static atStart(e){return hi(e,e,0,0,1)||new On(e)}static atEnd(e){return hi(e,e,e.content.size,e.childCount,-1)||new On(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=Ru[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in Ru)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ru[e]=n,n.prototype.jsonID=e,n}getBookmark(){return xe.between(this.$anchor,this.$head).getBookmark()}}_e.prototype.visible=!0;class AT{constructor(e,n){this.$from=e,this.$to=n}}let l2=!1;function a2(t){!l2&&!t.parent.inlineContent&&(l2=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class xe extends _e{constructor(e,n=e){a2(e),a2(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let s=e.resolve(n.map(this.head));if(!s.parent.inlineContent)return _e.near(s);let r=e.resolve(n.map(this.anchor));return new xe(r.parent.inlineContent?r:s,s)}replace(e,n=te.empty){if(super.replace(e,n),n==te.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof xe&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Nc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new xe(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,s=n){let r=e.resolve(n);return new this(r,s==n?r:e.resolve(s))}static between(e,n,s){let r=e.pos-n.pos;if((!s||r)&&(s=r>=0?1:-1),!n.parent.inlineContent){let i=_e.findFrom(n,s,!0)||_e.findFrom(n,-s,!0);if(i)n=i.$head;else return _e.near(n,s)}return e.parent.inlineContent||(r==0?e=n:(e=(_e.findFrom(e,-s,!0)||_e.findFrom(e,s,!0)).$anchor,e.pos<n.pos!=r<0&&(e=n))),new xe(e,n)}}_e.jsonID("text",xe);class Nc{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Nc(e.map(this.anchor),e.map(this.head))}resolve(e){return xe.between(e.resolve(this.anchor),e.resolve(this.head))}}class ge extends _e{constructor(e){let n=e.nodeAfter,s=e.node(0).resolve(e.pos+n.nodeSize);super(e,s),this.node=n}map(e,n){let{deleted:s,pos:r}=n.mapResult(this.anchor),i=e.resolve(r);return s?_e.near(i):new ge(i)}content(){return new te(q.from(this.node),0,0)}eq(e){return e instanceof ge&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Qh(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ge(e.resolve(n.anchor))}static create(e,n){return new ge(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ge.prototype.visible=!1;_e.jsonID("node",ge);class Qh{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:s}=e.mapResult(this.anchor);return n?new Nc(s,s):new Qh(s)}resolve(e){let n=e.resolve(this.anchor),s=n.nodeAfter;return s&&ge.isSelectable(s)?new ge(n):_e.near(n)}}class On extends _e{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=te.empty){if(n==te.empty){e.delete(0,e.doc.content.size);let s=_e.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new On(e)}map(e){return new On(e)}eq(e){return e instanceof On}getBookmark(){return IT}}_e.jsonID("all",On);const IT={map(){return this},resolve(t){return new On(t)}};function hi(t,e,n,s,r,i=!1){if(e.inlineContent)return xe.create(t,n);for(let o=s-(r>0?0:1);r>0?o<e.childCount:o>=0;o+=r){let l=e.child(o);if(l.isAtom){if(!i&&ge.isSelectable(l))return ge.create(t,n-(r<0?l.nodeSize:0))}else{let a=hi(t,l,n+r,r<0?l.childCount:0,r,i);if(a)return a}n+=l.nodeSize*r}return null}function c2(t,e,n){let s=t.steps.length-1;if(s<e)return;let r=t.steps[s];if(!(r instanceof ht||r instanceof ft))return;let i=t.mapping.maps[s],o;i.forEach((l,a,c,d)=>{o==null&&(o=d)}),t.setSelection(_e.near(t.doc.resolve(o),n))}const u2=1,Xl=2,d2=4;class OT extends MT{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|u2)&~Xl,this.storedMarks=null,this}get selectionSet(){return(this.updated&u2)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Xl,this}ensureMarks(e){return We.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Xl)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Xl,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let s=this.selection;return n&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||We.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,s){let r=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(s==null&&(s=n),s=s??n,!e)return this.deleteRange(n,s);let i=this.storedMarks;if(!i){let o=this.doc.resolve(n);i=s==n?o.marks():o.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,r.text(e,i)),this.selection.empty||this.setSelection(_e.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=d2,this}get scrolledIntoView(){return(this.updated&d2)>0}}function h2(t,e){return!e||!t?t:t.bind(e)}class xo{constructor(e,n,s){this.name=e,this.init=h2(n.init,s),this.apply=h2(n.apply,s)}}const LT=[new xo("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new xo("selection",{init(t,e){return t.selection||_e.atStart(e.doc)},apply(t){return t.selection}}),new xo("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,s){return s.selection.$cursor?t.storedMarks:null}}),new xo("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class $u{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=LT.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new xo(s.key,s.spec.state,s))})}}class mi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let r=this.config.plugins[s];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],s=this.applyInner(e),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let a=r?r[o].n:0,c=r?r[o].state:this,d=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,c,s);if(d&&s.filterTransaction(d,o)){if(d.setMeta("appendedTransaction",e),!r){r=[];for(let h=0;h<this.config.plugins.length;h++)r.push(h<o?{state:s,n:n.length}:{state:this,n:0})}n.push(d),s=s.applyInner(d),i=!0}r&&(r[o]={state:s,n:n.length})}}if(!i)return{state:s,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new mi(this.config),s=this.config.fields;for(let r=0;r<s.length;r++){let i=s[r];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new OT(this)}static create(e){let n=new $u(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new mi(n);for(let r=0;r<n.fields.length;r++)s[n.fields[r].name]=n.fields[r].init(e,s);return s}reconfigure(e){let n=new $u(this.schema,e.plugins),s=n.fields,r=new mi(n);for(let i=0;i<s.length;i++){let o=s[i].name;r[o]=this.hasOwnProperty(o)?this[o]:s[i].init(e,r)}return r}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[s],i=r.spec.state;i&&i.toJSON&&(n[s]=i.toJSON.call(r,this[r.key]))}return n}static fromJSON(e,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new $u(e.schema,e.plugins),i=new mi(r);return r.fields.forEach(o=>{if(o.name=="doc")i.doc=Nr.fromJSON(e.schema,n.doc);else if(o.name=="selection")i.selection=_e.fromJSON(i.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let l in s){let a=s[l],c=a.spec.state;if(a.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[o.name]=c.fromJSON.call(a,e,n[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function og(t,e,n){for(let s in t){let r=t[s];r instanceof Function?r=r.bind(e):s=="handleDOMEvents"&&(r=og(r,e,{})),n[s]=r}return n}class sn{constructor(e){this.spec=e,this.props={},e.props&&og(e.props,this,this.props),this.key=e.key?e.key.key:lg("plugin")}getState(e){return e[this.key]}}const Fu=Object.create(null);function lg(t){return t in Fu?t+"$"+ ++Fu[t]:(Fu[t]=0,t+"$")}class Gn{constructor(e="key"){this.key=lg(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const wt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},nl=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Nd=null;const ns=function(t,e,n){let s=Nd||(Nd=document.createRange());return s.setEnd(t,n??t.nodeValue.length),s.setStart(t,e||0),s},PT=function(){Nd=null},jr=function(t,e,n,s){return n&&(f2(t,e,n,s,-1)||f2(t,e,n,s,1))},NT=/^(img|br|input|textarea|hr)$/i;function f2(t,e,n,s,r){for(;;){if(t==n&&e==s)return!0;if(e==(r<0?0:gn(t))){let i=t.parentNode;if(!i||i.nodeType!=1||xl(t)||NT.test(t.nodeName)||t.contentEditable=="false")return!1;e=wt(t)+(r<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(r<0?-1:0)],t.contentEditable=="false")return!1;e=r<0?gn(t):0}else return!1}}function gn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function DT(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=gn(t)}else if(t.parentNode&&!xl(t))e=wt(t),t=t.parentNode;else return null}}function RT(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!xl(t))e=wt(t)+1,t=t.parentNode;else return null}}function $T(t,e,n){for(let s=e==0,r=e==gn(t);s||r;){if(t==n)return!0;let i=wt(t);if(t=t.parentNode,!t)return!1;s=s&&i==0,r=r&&i==gn(t)}}function xl(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Dc=function(t){return t.focusNode&&jr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function kr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function FT(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function BT(t,e,n){if(t.caretPositionFromPoint)try{let s=t.caretPositionFromPoint(e,n);if(s)return{node:s.offsetNode,offset:Math.min(gn(s.offsetNode),s.offset)}}catch{}if(t.caretRangeFromPoint){let s=t.caretRangeFromPoint(e,n);if(s)return{node:s.startContainer,offset:Math.min(gn(s.startContainer),s.startOffset)}}}const qn=typeof navigator<"u"?navigator:null,p2=typeof document<"u"?document:null,pr=qn&&qn.userAgent||"",Dd=/Edge\/(\d+)/.exec(pr),ag=/MSIE \d/.exec(pr),Rd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pr),en=!!(ag||Rd||Dd),sr=ag?document.documentMode:Rd?+Rd[1]:Dd?+Dd[1]:0,Nn=!en&&/gecko\/(\d+)/i.test(pr);Nn&&+(/Firefox\/(\d+)/.exec(pr)||[0,0])[1];const $d=!en&&/Chrome\/(\d+)/.exec(pr),Lt=!!$d,cg=$d?+$d[1]:0,zt=!en&&!!qn&&/Apple Computer/.test(qn.vendor),Ui=zt&&(/Mobile\/\w+/.test(pr)||!!qn&&qn.maxTouchPoints>2),mn=Ui||(qn?/Mac/.test(qn.platform):!1),VT=qn?/Win/.test(qn.platform):!1,_n=/Android \d/.test(pr),_l=!!p2&&"webkitFontSmoothing"in p2.documentElement.style,HT=_l?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function UT(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Qn(t,e){return typeof t=="number"?t:t[e]}function jT(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,s=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*s}}function m2(t,e,n){let s=t.someProp("scrollThreshold")||0,r=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=n||t.dom;o;o=nl(o)){if(o.nodeType!=1)continue;let l=o,a=l==i.body,c=a?UT(i):jT(l),d=0,h=0;if(e.top<c.top+Qn(s,"top")?h=-(c.top-e.top+Qn(r,"top")):e.bottom>c.bottom-Qn(s,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+Qn(r,"top")-c.top:e.bottom-c.bottom+Qn(r,"bottom")),e.left<c.left+Qn(s,"left")?d=-(c.left-e.left+Qn(r,"left")):e.right>c.right-Qn(s,"right")&&(d=e.right-c.right+Qn(r,"right")),d||h)if(a)i.defaultView.scrollBy(d,h);else{let f=l.scrollLeft,p=l.scrollTop;h&&(l.scrollTop+=h),d&&(l.scrollLeft+=d);let y=l.scrollLeft-f,v=l.scrollTop-p;e={left:e.left-y,top:e.top-v,right:e.right-y,bottom:e.bottom-v}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function zT(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),s,r;for(let i=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){s=l,r=a.top;break}}return{refDOM:s,refTop:r,stack:ug(t.dom)}}function ug(t){let e=[],n=t.ownerDocument;for(let s=t;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),t!=n);s=nl(s));return e}function WT({refDOM:t,refTop:e,stack:n}){let s=t?t.getBoundingClientRect().top:0;dg(n,s==0?0:s-e)}function dg(t,e){for(let n=0;n<t.length;n++){let{dom:s,top:r,left:i}=t[n];s.scrollTop!=r+e&&(s.scrollTop=r+e),s.scrollLeft!=i&&(s.scrollLeft=i)}}let li=null;function qT(t){if(t.setActive)return t.setActive();if(li)return t.focus(li);let e=ug(t);t.focus(li==null?{get preventScroll(){return li={preventScroll:!0},!0}}:void 0),li||(li=!1,dg(e,0))}function hg(t,e){let n,s=2e8,r,i=0,o=e.top,l=e.top,a,c;for(let d=t.firstChild,h=0;d;d=d.nextSibling,h++){let f;if(d.nodeType==1)f=d.getClientRects();else if(d.nodeType==3)f=ns(d).getClientRects();else continue;for(let p=0;p<f.length;p++){let y=f[p];if(y.top<=o&&y.bottom>=l){o=Math.max(y.bottom,o),l=Math.min(y.top,l);let v=y.left>e.left?y.left-e.left:y.right<e.left?e.left-y.right:0;if(v<s){n=d,s=v,r=v&&n.nodeType==3?{left:y.right<e.left?y.right:y.left,top:e.top}:e,d.nodeType==1&&v&&(i=h+(e.left>=(y.left+y.right)/2?1:0));continue}}else y.top>e.top&&!a&&y.left<=e.left&&y.right>=e.left&&(a=d,c={left:Math.max(y.left,Math.min(y.right,e.left)),top:y.top});!n&&(e.left>=y.right&&e.top>=y.top||e.left>=y.left&&e.top>=y.bottom)&&(i=h+1)}}return!n&&a&&(n=a,r=c,s=0),n&&n.nodeType==3?KT(n,r):!n||s&&n.nodeType==1?{node:t,offset:i}:hg(n,r)}function KT(t,e){let n=t.nodeValue.length,s=document.createRange();for(let r=0;r<n;r++){s.setEnd(t,r+1),s.setStart(t,r);let i=Ds(s,1);if(i.top!=i.bottom&&ef(e,i))return{node:t,offset:r+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function ef(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function GT(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function JT(t,e,n){let{node:s,offset:r}=hg(e,n),i=-1;if(s.nodeType==1&&!s.firstChild){let o=s.getBoundingClientRect();i=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(s,r,i)}function ZT(t,e,n,s){let r=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&(!o&&a.left>s.left||a.top>s.top?r=l.posBefore:(!o&&a.right<s.left||a.bottom<s.top)&&(r=l.posAfter),o=!0),!l.contentDOM&&r<0&&!l.node.isText)return(l.node.isBlock?s.top<(a.top+a.bottom)/2:s.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}i=l.dom.parentNode}return r>-1?r:t.docView.posFromDOM(e,n,-1)}function fg(t,e,n){let s=t.childNodes.length;if(s&&n.top<n.bottom)for(let r=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-n.top)/(n.bottom-n.top))-2)),i=r;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let a=0;a<l.length;a++){let c=l[a];if(ef(e,c))return fg(o,e,c)}}if((i=(i+1)%s)==r)break}return t}function YT(t,e){let n=t.dom.ownerDocument,s,r=0,i=BT(n,e.left,e.top);i&&({node:s,offset:r}=i);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!ef(e,c)||(o=fg(t.dom,e,c),!o))return null}if(zt)for(let c=o;s&&c;c=nl(c))c.draggable&&(s=void 0);if(o=GT(o,e),s){if(Nn&&s.nodeType==1&&(r=Math.min(r,s.childNodes.length),r<s.childNodes.length)){let d=s.childNodes[r],h;d.nodeName=="IMG"&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&r++}let c;_l&&r&&s.nodeType==1&&(c=s.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&r--,s==t.dom&&r==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(r==0||s.nodeType!=1||s.childNodes[r-1].nodeName!="BR")&&(l=ZT(t,s,r,e))}l==null&&(l=JT(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function g2(t){return t.top<t.bottom||t.left<t.right}function Ds(t,e){let n=t.getClientRects();if(n.length){let s=n[e<0?0:n.length-1];if(g2(s))return s}return Array.prototype.find.call(n,g2)||t.getBoundingClientRect()}const XT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function pg(t,e,n){let{node:s,offset:r,atom:i}=t.docView.domFromPos(e,n<0?-1:1),o=_l||Nn;if(s.nodeType==3)if(o&&(XT.test(s.nodeValue)||(n<0?!r:r==s.nodeValue.length))){let a=Ds(ns(s,r,r),n);if(Nn&&r&&/\s/.test(s.nodeValue[r-1])&&r<s.nodeValue.length){let c=Ds(ns(s,r-1,r-1),-1);if(c.top==a.top){let d=Ds(ns(s,r,r+1),-1);if(d.top!=a.top)return vo(d,d.left<c.left)}}return a}else{let a=r,c=r,d=n<0?1:-1;return n<0&&!r?(c++,d=-1):n>=0&&r==s.nodeValue.length?(a--,d=1):n<0?a--:c++,vo(Ds(ns(s,a,c),d),d<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&r&&(n<0||r==gn(s))){let a=s.childNodes[r-1];if(a.nodeType==1)return Bu(a.getBoundingClientRect(),!1)}if(i==null&&r<gn(s)){let a=s.childNodes[r];if(a.nodeType==1)return Bu(a.getBoundingClientRect(),!0)}return Bu(s.getBoundingClientRect(),n>=0)}if(i==null&&r&&(n<0||r==gn(s))){let a=s.childNodes[r-1],c=a.nodeType==3?ns(a,gn(a)-(o?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(c)return vo(Ds(c,1),!1)}if(i==null&&r<gn(s)){let a=s.childNodes[r];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let c=a?a.nodeType==3?ns(a,0,o?0:1):a.nodeType==1?a:null:null;if(c)return vo(Ds(c,-1),!0)}return vo(Ds(s.nodeType==3?ns(s):s,-n),n>=0)}function vo(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Bu(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function mg(t,e,n){let s=t.state,r=t.root.activeElement;s!=e&&t.updateState(e),r!=t.dom&&t.focus();try{return n()}finally{s!=e&&t.updateState(s),r!=t.dom&&r&&r.focus()}}function QT(t,e,n){let s=e.selection,r=n=="up"?s.$from:s.$to;return mg(t,e,()=>{let{node:i}=t.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=pg(t,r.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=ns(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<a.length;c++){let d=a[c];if(d.bottom>d.top+1&&(n=="up"?o.top-d.top>(d.bottom-o.top)*2:d.bottom-o.bottom>(o.bottom-d.top)*2))return!1}}return!0})}const eE=/[\u0590-\u08ac]/;function tE(t,e,n){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let r=s.parentOffset,i=!r,o=r==s.parent.content.size,l=t.domSelection();return l?!eE.test(s.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:o:mg(t,e,()=>{let{focusNode:a,focusOffset:c,anchorNode:d,anchorOffset:h}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let p=s.depth?t.docView.domAfterPos(s.before()):t.dom,{focusNode:y,focusOffset:v}=t.domSelectionRange(),k=y&&!p.contains(y.nodeType==1?y:y.parentNode)||a==y&&c==v;try{l.collapse(d,h),a&&(a!=d||c!=h)&&l.extend&&l.extend(a,c)}catch{}return f!=null&&(l.caretBidiLevel=f),k}):s.pos==s.start()||s.pos==s.end()}let y2=null,v2=null,C2=!1;function nE(t,e,n){return y2==e&&v2==n?C2:(y2=e,v2=n,C2=n=="up"||n=="down"?QT(t,e,n):tE(t,e,n))}const Cn=0,w2=1,Sr=2,Kn=3;class Sl{constructor(e,n,s,r){this.parent=e,this.children=n,this.dom=s,this.contentDOM=r,this.dirty=Cn,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,s=this.posAtStart;;n++){let r=this.children[n];if(r==e)return s;s+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let i,o;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=n>wt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!1;break}if(i.previousSibling)break}if(r==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){r=!0;break}if(i.nextSibling)break}}return r??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let s=!0,r=e;r;r=r.parentNode){let i=this.getDesc(r),o;if(i&&(!n||i.node))if(s&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))s=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(e,n,s){for(let r=e;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(e,n,s)}return-1}descAt(e){for(let n=0,s=0;n<this.children.length;n++){let r=this.children[n],i=s+r.size;if(s==e&&i!=s){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<i)return r.descAt(e-s-r.border);s=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,r=0;for(let i=0;s<this.children.length;s++){let o=this.children[s],l=i+o.size;if(l>e||o instanceof yg){r=e-i;break}i=l}if(r)return this.children[s].domFromPos(r-this.children[s].border,n);for(let i;s&&!(i=this.children[s-1]).size&&i instanceof gg&&i.side>=0;s--);if(n<=0){let i,o=!0;for(;i=s?this.children[s-1]:null,!(!i||i.dom.parentNode==this.contentDOM);s--,o=!1);return i&&n&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?wt(i.dom)+1:0}}else{let i,o=!0;for(;i=s<this.children.length?this.children[s]:null,!(!i||i.dom.parentNode==this.contentDOM);s++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?wt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=s,l=0;;l++){let a=this.children[l],c=o+a.size;if(r==-1&&e<=c){let d=o+a.border;if(e>=d&&n<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,d);e=o;for(let h=l;h>0;h--){let f=this.children[h-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=wt(f.dom)+1;break}e-=f.size}r==-1&&(r=0)}if(r>-1&&(c>n||l==this.children.length-1)){n=c;for(let d=l+1;d<this.children.length;d++){let h=this.children[d];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=wt(h.dom);break}n+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:r,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:s}=this.domFromPos(e,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[s]}setSelection(e,n,s,r=!1){let i=Math.min(e,n),o=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let y=this.children[f],v=p+y.size;if(i>p&&o<v)return y.setSelection(e-p-y.border,n-p-y.border,s,r);p=v}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),c=s.getSelection(),d=!1;if((Nn||zt)&&e==n){let{node:f,offset:p}=l;if(f.nodeType==3){if(d=!!(p&&f.nodeValue[p-1]==`
`),d&&p==f.nodeValue.length)for(let y=f,v;y;y=y.parentNode){if(v=y.nextSibling){v.nodeName=="BR"&&(l=a={node:v.parentNode,offset:wt(v)+1});break}let k=y.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let y=f.childNodes[p-1];d=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(Nn&&c.focusNode&&c.focusNode!=a.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(r=!0)}if(!(r||d&&zt)&&jr(l.node,l.offset,c.anchorNode,c.anchorOffset)&&jr(a.node,a.offset,c.focusNode,c.focusOffset))return;let h=!1;if((c.extend||e==n)&&!d){c.collapse(l.node,l.offset);try{e!=n&&c.extend(a.node,a.offset),h=!0}catch{}}if(!h){if(e>n){let p=l;l=a,a=p}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let s=0,r=0;r<this.children.length;r++){let i=this.children[r],o=s+i.size;if(s==o?e<=o&&n>=s:e<o&&n>s){let l=s+i.border,a=o-i.border;if(e>=l&&n<=a){this.dirty=e==s||n==o?Sr:w2,e==l&&n==a&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Kn:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Sr:Kn}s=o}this.dirty=Sr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let s=e==1?Sr:w2;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class gg extends Sl{constructor(e,n,s,r){let i,o=n.type.toDOM;if(typeof o=="function"&&(o=o(s,()=>{if(!i)return r;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Cn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class sE extends Sl{constructor(e,n,s,r){super(e,[],n,null),this.textDOM=s,this.text=r}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class zr extends Sl{constructor(e,n,s,r){super(e,[],s,r),this.mark=n}static create(e,n,s,r){let i=r.nodeViews[n.type.name],o=i&&i(n,r,s);return(!o||!o.dom)&&(o=Zr.renderSpec(document,n.type.spec.toDOM(n,s),null,n.attrs)),new zr(e,n,o.dom,o.contentDOM||o.dom)}parseRule(){return this.dirty&Kn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Kn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Cn){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Cn}}slice(e,n,s){let r=zr.create(this.parent,this.mark,!0,s),i=this.children,o=this.size;n<o&&(i=Bd(i,n,o,s)),e>0&&(i=Bd(i,0,e,s));for(let l=0;l<i.length;l++)i[l].parent=r;return r.children=i,r}}class rr extends Sl{constructor(e,n,s,r,i,o,l,a,c){super(e,[],i,o),this.node=n,this.outerDeco=s,this.innerDeco=r,this.nodeDOM=l}static create(e,n,s,r,i,o){let l=i.nodeViews[n.type.name],a,c=l&&l(n,i,()=>{if(!a)return o;if(a.parent)return a.parent.posBeforeChild(a)},s,r),d=c&&c.dom,h=c&&c.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:h}=Zr.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let f=d;return d=wg(d,s,n),c?a=new rE(e,n,s,r,d,h||null,f,c,i,o+1):n.isText?new Rc(e,n,s,r,d,f,i):new rr(e,n,s,r,d,h||null,f,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>q.empty)}return e}matchesNode(e,n,s){return this.dirty==Cn&&e.eq(this.node)&&Za(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let s=this.node.inlineContent,r=n,i=e.composing?this.localCompositionInfo(e,n):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,a=new oE(this,o&&o.node,e);cE(this.node,this.innerDeco,(c,d,h)=>{c.spec.marks?a.syncToMarks(c.spec.marks,s,e):c.type.side>=0&&!h&&a.syncToMarks(d==this.node.childCount?We.none:this.node.child(d).marks,s,e),a.placeWidget(c,e,r)},(c,d,h,f)=>{a.syncToMarks(c.marks,s,e);let p;a.findNodeMatch(c,d,h,f)||l&&e.state.selection.from>r&&e.state.selection.to<r+c.nodeSize&&(p=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(c,d,h,p,e)||a.updateNextNode(c,d,h,e,f,r)||a.addNode(c,d,h,e,r),r+=c.nodeSize}),a.syncToMarks([],s,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Sr)&&(o&&this.protectLocalComposition(e,o),vg(this.contentDOM,this.children,e),Ui&&uE(this.dom))}localCompositionInfo(e,n){let{from:s,to:r}=e.state.selection;if(!(e.state.selection instanceof xe)||s<n||r>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=dE(this.node.content,o,s-n,r-n);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:s,text:r}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new sE(this,i,n,r);e.input.compositionNodes.push(o),this.children=Bd(this.children,s,s+r.length,e,o)}update(e,n,s,r){return this.dirty==Kn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,s,r),!0)}updateInner(e,n,s,r){this.updateOuterDeco(n),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Cn}updateOuterDeco(e){if(Za(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=Cg(this.dom,this.nodeDOM,Fd(this.outerDeco,this.node,n),Fd(e,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function b2(t,e,n,s,r){wg(s,e,t);let i=new rr(void 0,t,e,n,s,s,s,r,0);return i.contentDOM&&i.updateChildren(r,0),i}class Rc extends rr{constructor(e,n,s,r,i,o,l){super(e,n,s,r,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,s,r){return this.dirty==Kn||this.dirty!=Cn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Cn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=Cn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,s){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,s){let r=this.node.cut(e,n),i=document.createTextNode(r.text);return new Rc(this.parent,r,this.outerDeco,this.innerDeco,i,i,s)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Kn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class yg extends Sl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Cn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class rE extends rr{constructor(e,n,s,r,i,o,l,a,c,d){super(e,n,s,r,i,o,l,c,d),this.spec=a}update(e,n,s,r){if(this.dirty==Kn)return!1;if(this.spec.update){let i=this.spec.update(e,n,s);return i&&this.updateInner(e,n,s,r),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,s,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,s,r){this.spec.setSelection?this.spec.setSelection(e,n,s):super.setSelection(e,n,s,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function vg(t,e,n){let s=t.firstChild,r=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=s;)s=k2(s),r=!0;s=s.nextSibling}else r=!0,t.insertBefore(l,s);if(o instanceof zr){let a=s?s.previousSibling:t.lastChild;vg(o.contentDOM,o.children,n),s=a?a.nextSibling:t.firstChild}}for(;s;)s=k2(s),r=!0;r&&n.trackWrites==t&&(n.trackWrites=null)}const Ho=function(t){t&&(this.nodeName=t)};Ho.prototype=Object.create(null);const Tr=[new Ho];function Fd(t,e,n){if(t.length==0)return Tr;let s=n?Tr[0]:new Ho,r=[s];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&r.push(s=new Ho(o.nodeName));for(let l in o){let a=o[l];a!=null&&(n&&r.length==1&&r.push(s=new Ho(e.isInline?"span":"div")),l=="class"?s.class=(s.class?s.class+" ":"")+a:l=="style"?s.style=(s.style?s.style+";":"")+a:l!="nodeName"&&(s[l]=a))}}}return r}function Cg(t,e,n,s){if(n==Tr&&s==Tr)return e;let r=e;for(let i=0;i<s.length;i++){let o=s[i],l=n[i];if(i){let a;l&&l.nodeName==o.nodeName&&r!=t&&(a=r.parentNode)&&a.nodeName.toLowerCase()==o.nodeName||(a=document.createElement(o.nodeName),a.pmIsDeco=!0,a.appendChild(r),l=Tr[0]),r=a}iE(r,l||Tr[0],o)}return r}function iE(t,e,n){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&t.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=e[s]&&t.setAttribute(s,n[s]);if(e.class!=n.class){let s=e.class?e.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.remove(s[i]);for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.add(r[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=s.exec(e.style);)t.style.removeProperty(r[1])}n.style&&(t.style.cssText+=n.style)}}function wg(t,e,n){return Cg(t,t,Tr,Fd(e,n,t.nodeType!=1))}function Za(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function k2(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class oE{constructor(e,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=lE(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let s=e;s<n;s++)this.top.children[s].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,s){let r=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=Cn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let c=this.top.children[a];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=zr.create(this.top,e[i],n,s);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,s,r){let i=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,s))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let c=this.top.children[l];if(c.matchesNode(e,n,s)&&!this.preMatch.matched.has(c)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,s,r,i){let o=this.top.children[r];return o.dirty==Kn&&o.dom==o.contentDOM&&(o.dirty=Sr),o.update(e,n,s,i)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==s)return r}return-1}e=n}}updateNextNode(e,n,s,r,i,o){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof rr){let c=this.preMatch.matched.get(a);if(c!=null&&c!=i)return!1;let d=a.dom,h,f=this.isLocked(d)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Kn&&Za(n,a.outerDeco));if(!f&&a.update(e,n,s,r))return this.destroyBetween(this.index,l),a.dom!=d&&(this.changed=!0),this.index++,!0;if(!f&&(h=this.recreateWrapper(a,e,n,s,r,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Sr,h.updateChildren(r,o+1),h.dirty=Cn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,s,r,i,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Za(s,e.outerDeco)||!r.eq(e.innerDeco))return null;let l=rr.create(this.top,n,s,r,i,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,s,r,i){let o=rr.create(this.top,e,n,s,r,i);o.contentDOM&&o.updateChildren(r,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,s){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let i=new gg(this.top,e,n,s);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof zr;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Rc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((zt||Lt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let r=new yg(this.top,[],s,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function lE(t,e){let n=e,s=n.children.length,r=t.childCount,i=new Map,o=[];e:for(;r>0;){let l;for(;;)if(s){let c=n.children[s-1];if(c instanceof zr)n=c,s=c.children.length;else{l=c,s--;break}}else{if(n==e)break e;s=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(r-1))break;--r,i.set(l,r),o.push(l)}}return{index:r,matched:i,matches:o.reverse()}}function aE(t,e){return t.type.side-e.type.side}function cE(t,e,n,s){let r=e.locals(t),i=0;if(r.length==0){for(let c=0;c<t.childCount;c++){let d=t.child(c);s(d,r,e.forChild(i,d),c),i+=d.nodeSize}return}let o=0,l=[],a=null;for(let c=0;;){let d,h;for(;o<r.length&&r[o].to==i;){let k=r[o++];k.widget&&(d?(h||(h=[d])).push(k):d=k)}if(d)if(h){h.sort(aE);for(let k=0;k<h.length;k++)n(h[k],c,!!a)}else n(d,c,!!a);let f,p;if(a)p=-1,f=a,a=null;else if(c<t.childCount)p=c,f=t.child(c++);else break;for(let k=0;k<l.length;k++)l[k].to<=i&&l.splice(k--,1);for(;o<r.length&&r[o].from<=i&&r[o].to>i;)l.push(r[o++]);let y=i+f.nodeSize;if(f.isText){let k=y;o<r.length&&r[o].from<k&&(k=r[o].from);for(let S=0;S<l.length;S++)l[S].to<k&&(k=l[S].to);k<y&&(a=f.cut(k-i),f=f.cut(0,k-i),y=k,p=-1)}else for(;o<r.length&&r[o].to<y;)o++;let v=f.isInline&&!f.isLeaf?l.filter(k=>!k.inline):l.slice();s(f,v,e.forChild(i,f),p),i=y}}function uE(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function dE(t,e,n,s){for(let r=0,i=0;r<t.childCount&&i<=s;){let o=t.child(r++),l=i;if(i+=o.nodeSize,!o.isText)continue;let a=o.text;for(;r<t.childCount;){let c=t.child(r++);if(i+=c.nodeSize,!c.isText)break;a+=c.text}if(i>=n){if(i>=s&&a.slice(s-e.length-l,s-l)==e)return s-e.length;let c=l<s?a.lastIndexOf(e,s-l-1):-1;if(c>=0&&c+e.length+l>=n)return l+c;if(n==s&&a.length>=s+e.length-l&&a.slice(s-l,s-l+e.length)==e)return s}}return-1}function Bd(t,e,n,s,r){let i=[];for(let o=0,l=0;o<t.length;o++){let a=t[o],c=l,d=l+=a.size;c>=n||d<=e?i.push(a):(c<e&&i.push(a.slice(0,e-c,s)),r&&(i.push(r),r=void 0),d>n&&i.push(a.slice(n-c,a.size,s)))}return i}function tf(t,e=null){let n=t.domSelectionRange(),s=t.state.doc;if(!n.focusNode)return null;let r=t.docView.nearestDesc(n.focusNode),i=r&&r.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=s.resolve(o),a,c;if(Dc(n)){for(a=o;r&&!r.node;)r=r.parent;let h=r.node;if(r&&h.isAtom&&ge.isSelectable(h)&&r.parent&&!(h.isInline&&$T(n.focusNode,n.focusOffset,r.dom))){let f=r.posBefore;c=new ge(o==f?l:s.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=o,f=o;for(let p=0;p<n.rangeCount;p++){let y=n.getRangeAt(p);h=Math.min(h,t.docView.posFromDOM(y.startContainer,y.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(y.endContainer,y.endOffset,-1))}if(h<0)return null;[a,o]=f==t.state.selection.anchor?[f,h]:[h,f],l=s.resolve(o)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let d=s.resolve(a);if(!c){let h=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;c=nf(t,d,l,h)}return c}function bg(t){return t.editable?t.hasFocus():xg(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ms(t,e=!1){let n=t.state.selection;if(kg(t,n),!!bg(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Lt){let s=t.domSelectionRange(),r=t.domObserver.currentSelection;if(s.anchorNode&&r.anchorNode&&jr(s.anchorNode,s.anchorOffset,r.anchorNode,r.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)fE(t);else{let{anchor:s,head:r}=n,i,o;x2&&!(n instanceof xe)&&(n.$from.parent.inlineContent||(i=_2(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=_2(t,n.to))),t.docView.setSelection(s,r,t.root,e),x2&&(i&&S2(i),o&&S2(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&hE(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const x2=zt||Lt&&cg<63;function _2(t,e){let{node:n,offset:s}=t.docView.domFromPos(e,0),r=s<n.childNodes.length?n.childNodes[s]:null,i=s?n.childNodes[s-1]:null;if(zt&&r&&r.contentEditable=="false")return Vu(r);if((!r||r.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(r)return Vu(r);if(i)return Vu(i)}}function Vu(t){return t.contentEditable="true",zt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function S2(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function hE(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),s=n.anchorNode,r=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=r)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!bg(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function fE(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let s=t.cursorWrapper.dom,r=s.nodeName=="IMG";r?n.setStart(s.parentNode,wt(s)+1):n.setStart(s,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!r&&!t.state.selection.visible&&en&&sr<=11&&(s.disabled=!0,s.disabled=!1)}function kg(t,e){if(e instanceof ge){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(T2(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else T2(t)}function T2(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function nf(t,e,n,s){return t.someProp("createSelectionBetween",r=>r(t,e,n))||xe.between(e,n,s)}function E2(t){return t.editable&&!t.hasFocus()?!1:xg(t)}function xg(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function pE(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return jr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Vd(t,e){let{$anchor:n,$head:s}=t.selection,r=e>0?n.max(s):n.min(s),i=r.parent.inlineContent?r.depth?t.doc.resolve(e>0?r.after():r.before()):null:r;return i&&_e.findFrom(i,e)}function Hs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function M2(t,e,n){let s=t.state.selection;if(s instanceof xe)if(n.indexOf("s")>-1){let{$head:r}=s,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(r.pos+i.nodeSize*(e<0?-1:1));return Hs(t,new xe(s.$anchor,o))}else if(s.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let r=Vd(t.state,e);return r&&r instanceof ge?Hs(t,r):!1}else if(!(mn&&n.indexOf("m")>-1)){let r=s.$head,i=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?r.pos-i.nodeSize:r.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?ge.isSelectable(i)?Hs(t,new ge(e<0?t.state.doc.resolve(r.pos-i.nodeSize):r)):_l?Hs(t,new xe(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(s instanceof ge&&s.node.isInline)return Hs(t,new xe(e>0?s.$to:s.$from));{let r=Vd(t.state,e);return r?Hs(t,r):!1}}}function Ya(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Uo(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ai(t,e){return e<0?mE(t):gE(t)}function mE(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let r,i,o=!1;for(Nn&&n.nodeType==1&&s<Ya(n)&&Uo(n.childNodes[s],-1)&&(o=!0);;)if(s>0){if(n.nodeType!=1)break;{let l=n.childNodes[s-1];if(Uo(l,-1))r=n,i=--s;else if(l.nodeType==3)n=l,s=n.nodeValue.length;else break}}else{if(_g(n))break;{let l=n.previousSibling;for(;l&&Uo(l,-1);)r=n.parentNode,i=wt(l),l=l.previousSibling;if(l)n=l,s=Ya(n);else{if(n=n.parentNode,n==t.dom)break;s=0}}}o?Hd(t,n,s):r&&Hd(t,r,i)}function gE(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let r=Ya(n),i,o;for(;;)if(s<r){if(n.nodeType!=1)break;let l=n.childNodes[s];if(Uo(l,1))i=n,o=++s;else break}else{if(_g(n))break;{let l=n.nextSibling;for(;l&&Uo(l,1);)i=l.parentNode,o=wt(l)+1,l=l.nextSibling;if(l)n=l,s=0,r=Ya(n);else{if(n=n.parentNode,n==t.dom)break;s=r=0}}}i&&Hd(t,i,o)}function _g(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function yE(t,e){for(;t&&e==t.childNodes.length&&!xl(t);)e=wt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function vE(t,e){for(;t&&!e&&!xl(t);)e=wt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Hd(t,e,n){if(e.nodeType!=3){let i,o;(o=yE(e,n))?(e=o,n=0):(i=vE(e,n))&&(e=i,n=i.nodeValue.length)}let s=t.domSelection();if(!s)return;if(Dc(s)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),s.removeAllRanges(),s.addRange(i)}else s.extend&&s.extend(e,n);t.domObserver.setCurSelection();let{state:r}=t;setTimeout(()=>{t.state==r&&ms(t)},50)}function A2(t,e){let n=t.state.doc.resolve(e);if(!(Lt||VT)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left<r.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(i.left-r.left)>1)return i.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function I2(t,e,n){let s=t.state.selection;if(s instanceof xe&&!s.empty||n.indexOf("s")>-1||mn&&n.indexOf("m")>-1)return!1;let{$from:r,$to:i}=s;if(!r.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Vd(t.state,e);if(o&&o instanceof ge)return Hs(t,o)}if(!r.parent.inlineContent){let o=e<0?r:i,l=s instanceof On?_e.near(o,e):_e.findFrom(o,e);return l?Hs(t,l):!1}return!1}function O2(t,e){if(!(t.state.selection instanceof xe))return!0;let{$head:n,$anchor:s,empty:r}=t.state.selection;if(!n.sameParent(s))return!0;if(!r)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(n.pos-i.nodeSize,n.pos):o.delete(n.pos,n.pos+i.nodeSize),t.dispatch(o),!0}return!1}function L2(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function CE(t){if(!zt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;L2(t,s,"true"),setTimeout(()=>L2(t,s,"false"),20)}return!1}function wE(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function bE(t,e){let n=e.keyCode,s=wE(e);if(n==8||mn&&n==72&&s=="c")return O2(t,-1)||ai(t,-1);if(n==46&&!e.shiftKey||mn&&n==68&&s=="c")return O2(t,1)||ai(t,1);if(n==13||n==27)return!0;if(n==37||mn&&n==66&&s=="c"){let r=n==37?A2(t,t.state.selection.from)=="ltr"?-1:1:-1;return M2(t,r,s)||ai(t,r)}else if(n==39||mn&&n==70&&s=="c"){let r=n==39?A2(t,t.state.selection.from)=="ltr"?1:-1:1;return M2(t,r,s)||ai(t,r)}else{if(n==38||mn&&n==80&&s=="c")return I2(t,-1,s)||ai(t,-1);if(n==40||mn&&n==78&&s=="c")return CE(t)||I2(t,1,s)||ai(t,1);if(s==(mn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Sg(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:s,openStart:r,openEnd:i}=e;for(;r>1&&i>1&&s.childCount==1&&s.firstChild.childCount==1;){r--,i--;let p=s.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),s=p.content}let o=t.someProp("clipboardSerializer")||Zr.fromSchema(t.state.schema),l=Og(),a=l.createElement("div");a.appendChild(o.serializeFragment(s,{document:l}));let c=a.firstChild,d,h=0;for(;c&&c.nodeType==1&&(d=Ig[c.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let y=l.createElement(d[p]);for(;a.firstChild;)y.appendChild(a.firstChild);a.appendChild(y),h++}c=a.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${i}${h?` -${h}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function Tg(t,e,n,s,r){let i=r.parent.type.spec.code,o,l;if(!n&&!e)return null;let a=e&&(s||i||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,i||s,t)}),i)return e?new te(q.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):te.empty;let h=t.someProp("clipboardTextParser",f=>f(e,r,s,t));if(h)l=h;else{let f=r.marks(),{schema:p}=t.state,y=Zr.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let k=o.appendChild(document.createElement("p"));v&&k.appendChild(y.serializeNode(p.text(v,f)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),o=SE(n),_l&&TE(o);let c=o&&o.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let h=+d[3];h>0;h--){let f=o.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;o=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||nr.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(a||d),context:r,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!kE.test(f.parentNode.nodeName)?{ignore:!0}:null}})),d)l=EE(P2(l,+d[1],+d[2]),d[4]);else if(l=te.maxOpen(xE(l.content,r),!0),l.openStart||l.openEnd){let h=0,f=0;for(let p=l.content.firstChild;h<l.openStart&&!p.type.spec.isolating;h++,p=p.firstChild);for(let p=l.content.lastChild;f<l.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);l=P2(l,h,f)}return t.someProp("transformPasted",h=>{l=h(l,t)}),l}const kE=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function xE(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),i,o=[];if(t.forEach(l=>{if(!o)return;let a=r.findWrapping(l.type),c;if(!a)return o=null;if(c=o.length&&i.length&&Mg(a,i,l,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=Ag(o[o.length-1],i.length));let d=Eg(l,a);o.push(d),r=r.matchType(d.type),i=a}}),o)return q.from(o)}return t}function Eg(t,e,n=0){for(let s=e.length-1;s>=n;s--)t=e[s].create(null,q.from(t));return t}function Mg(t,e,n,s,r){if(r<t.length&&r<e.length&&t[r]==e[r]){let i=Mg(t,e,n,s.lastChild,r+1);if(i)return s.copy(s.content.replaceChild(s.childCount-1,i));if(s.contentMatchAt(s.childCount).matchType(r==t.length-1?n.type:t[r+1]))return s.copy(s.content.append(q.from(Eg(n,t,r+1))))}}function Ag(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Ag(t.lastChild,e-1)),s=t.contentMatchAt(t.childCount).fillBefore(q.empty,!0);return t.copy(n.append(s))}function Ud(t,e,n,s,r,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),r<s-1&&(l=Ud(l,e,n,s,r+1,i)),r>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=r).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(q.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function P2(t,e,n){return e<t.openStart&&(t=new te(Ud(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new te(Ud(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Ig={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let N2=null;function Og(){return N2||(N2=document.implementation.createHTMLDocument("title"))}function _E(t){let e=window.trustedTypes;return e?e.createPolicy("detachedDocument",{createHTML:n=>n}).createHTML(t):t}function SE(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Og().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t),r;if((r=s&&Ig[s[1].toLowerCase()])&&(t=r.map(i=>"<"+i+">").join("")+t+r.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=_E(t),r)for(let i=0;i<r.length;i++)n=n.querySelector(r[i])||n;return n}function TE(t){let e=t.querySelectorAll(Lt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let s=e[n];s.childNodes.length==1&&s.textContent==" "&&s.parentNode&&s.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),s)}}function EE(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return t}let{content:r,openStart:i,openEnd:o}=t;for(let l=s.length-2;l>=0;l-=2){let a=n.nodes[s[l]];if(!a||a.hasRequiredAttrs())break;r=q.from(a.create(s[l+1],r)),i++,o++}return new te(r,i,o)}const Wt={},qt={},ME={touchstart:!0,touchmove:!0};class AE{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function IE(t){for(let e in Wt){let n=Wt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=s=>{LE(t,s)&&!sf(t,s)&&(t.editable||!(s.type in qt))&&n(t,s)},ME[e]?{passive:!0}:void 0)}zt&&t.dom.addEventListener("input",()=>null),jd(t)}function Zs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function OE(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function jd(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=s=>sf(t,s))})}function sf(t,e){return t.someProp("handleDOMEvents",n=>{let s=n[e.type];return s?s(t,e)||e.defaultPrevented:!1})}function LE(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function PE(t,e){!sf(t,e)&&Wt[e.type]&&(t.editable||!(e.type in qt))&&Wt[e.type](t,e)}qt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Pg(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(_n&&Lt&&n.keyCode==13)))if(t.domObserver.selectionChanged(t.domSelectionRange())?t.domObserver.flush():n.keyCode!=229&&t.domObserver.forceFlush(),Ui&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();t.input.lastIOSEnter=s,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==s&&(t.someProp("handleKeyDown",r=>r(t,kr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",s=>s(t,n))||bE(t,n)?n.preventDefault():Zs(t,"key")};qt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};qt.keypress=(t,e)=>{let n=e;if(Pg(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||mn&&n.metaKey)return;if(t.someProp("handleKeyPress",r=>r(t,n))){n.preventDefault();return}let s=t.state.selection;if(!(s instanceof xe)||!s.$from.sameParent(s.$to)){let r=String.fromCharCode(n.charCode);!/[\r\n]/.test(r)&&!t.someProp("handleTextInput",i=>i(t,s.$from.pos,s.$to.pos,r))&&t.dispatch(t.state.tr.insertText(r).scrollIntoView()),n.preventDefault()}};function $c(t){return{left:t.clientX,top:t.clientY}}function NE(t,e){let n=e.x-t.clientX,s=e.y-t.clientY;return n*n+s*s<100}function rf(t,e,n,s,r){if(s==-1)return!1;let i=t.state.doc.resolve(s);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,n,i.nodeAfter,i.before(o),r,!0):l(t,n,i.node(o),i.before(o),r,!1)))return!0;return!1}function Ii(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let s=t.state.tr.setSelection(e);s.setMeta("pointer",!0),t.dispatch(s)}function DE(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),s=n.nodeAfter;return s&&s.isAtom&&ge.isSelectable(s)?(Ii(t,new ge(n)),!0):!1}function RE(t,e){if(e==-1)return!1;let n=t.state.selection,s,r;n instanceof ge&&(s=n.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(ge.isSelectable(l)){s&&n.$from.depth>0&&o>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?r=i.before(n.$from.depth):r=i.before(o);break}}return r!=null?(Ii(t,ge.create(t.state.doc,r)),!0):!1}function $E(t,e,n,s,r){return rf(t,"handleClickOn",e,n,s)||t.someProp("handleClick",i=>i(t,e,s))||(r?RE(t,n):DE(t,n))}function FE(t,e,n,s){return rf(t,"handleDoubleClickOn",e,n,s)||t.someProp("handleDoubleClick",r=>r(t,e,s))}function BE(t,e,n,s){return rf(t,"handleTripleClickOn",e,n,s)||t.someProp("handleTripleClick",r=>r(t,e,s))||VE(t,n,s)}function VE(t,e,n){if(n.button!=0)return!1;let s=t.state.doc;if(e==-1)return s.inlineContent?(Ii(t,xe.create(s,0,s.content.size)),!0):!1;let r=s.resolve(e);for(let i=r.depth+1;i>0;i--){let o=i>r.depth?r.nodeAfter:r.node(i),l=r.before(i);if(o.inlineContent)Ii(t,xe.create(s,l+1,l+1+o.content.size));else if(ge.isSelectable(o))Ii(t,ge.create(s,l));else continue;return!0}}function of(t){return Xa(t)}const Lg=mn?"metaKey":"ctrlKey";Wt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let s=of(t),r=Date.now(),i="singleClick";r-t.input.lastClick.time<500&&NE(n,t.input.lastClick)&&!n[Lg]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:i};let o=t.posAtCoords($c(n));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new HE(t,o,n,!!s)):(i=="doubleClick"?FE:BE)(t,o.pos,o.inside,n)?n.preventDefault():Zs(t,"pointer"))};class HE{constructor(e,n,s,r){this.view=e,this.pos=n,this.event=s,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[Lg],this.allowDefault=s.shiftKey;let i,o;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),o=n.inside;else{let d=e.state.doc.resolve(n.pos);i=d.parent,o=d.depth?d.before():0}const l=r?null:s.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:c}=e.state;(s.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof ge&&c.from<=o&&c.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Nn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Zs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ms(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords($c(e))),this.updateAllowDefault(e),this.allowDefault||!n?Zs(this.view,"pointer"):$E(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||zt&&this.mightDrag&&!this.mightDrag.node.isAtom||Lt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Ii(this.view,_e.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Zs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Zs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Wt.touchstart=t=>{t.input.lastTouch=Date.now(),of(t),Zs(t,"pointer")};Wt.touchmove=t=>{t.input.lastTouch=Date.now(),Zs(t,"pointer")};Wt.contextmenu=t=>of(t);function Pg(t,e){return t.composing?!0:zt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const UE=_n?5e3:-1;qt.compositionstart=qt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof xe&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Xa(t,!0),t.markCursor=null;else if(Xa(t,!e.selection.empty),Nn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=t.domSelectionRange();for(let r=s.focusNode,i=s.focusOffset;r&&r.nodeType==1&&i!=0;){let o=i<0?r.lastChild:r.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else r=o,i=-1}}t.input.composing=!0}Ng(t,UE)};qt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Ng(t,20))};function Ng(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Xa(t),e))}function Dg(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=zE());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function jE(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=DT(e.focusNode,e.focusOffset),s=RT(e.focusNode,e.focusOffset);if(n&&s&&n!=s){let r=s.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||s==i)return i;if(!r||!r.isText(s.nodeValue))return s;if(t.input.compositionNode==s){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return s}}return n||s}function zE(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Xa(t,e=!1){if(!(_n&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Dg(t),e||t.docView&&t.docView.dirty){let n=tf(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function WE(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),r=document.createRange();r.selectNodeContents(e),t.dom.blur(),s.removeAllRanges(),s.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const sl=en&&sr<15||Ui&&HT<604;Wt.copy=qt.cut=(t,e)=>{let n=e,s=t.state.selection,r=n.type=="cut";if(s.empty)return;let i=sl?null:n.clipboardData,o=s.content(),{dom:l,text:a}=Sg(t,o);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):WE(t,l),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function qE(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function KE(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,s=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let r=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),s.parentNode&&s.parentNode.removeChild(s),n?rl(t,s.value,null,r,e):rl(t,s.textContent,s.innerHTML,r,e)},50)}function rl(t,e,n,s,r){let i=Tg(t,e,n,s,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,i||te.empty)))return!0;if(!i)return!1;let o=qE(i),l=o?t.state.tr.replaceSelectionWith(o,s):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Rg(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}qt.paste=(t,e)=>{let n=e;if(t.composing&&!_n)return;let s=sl?null:n.clipboardData,r=t.input.shiftKey&&t.input.lastKeyCode!=45;s&&rl(t,Rg(s),s.getData("text/html"),r,n)?n.preventDefault():KE(t,n)};class $g{constructor(e,n,s){this.slice=e,this.move=n,this.node=s}}const Fg=mn?"altKey":"ctrlKey";Wt.dragstart=(t,e)=>{let n=e,s=t.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let r=t.state.selection,i=r.empty?null:t.posAtCoords($c(n)),o;if(!(i&&i.pos>=r.from&&i.pos<=(r instanceof ge?r.to-1:r.to))){if(s&&s.mightDrag)o=ge.create(t.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=ge.create(t.state.doc,h.posBefore))}}let l=(o||t.state.selection).content(),{dom:a,text:c,slice:d}=Sg(t,l);(!n.dataTransfer.files.length||!Lt||cg>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(sl?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",sl||n.dataTransfer.setData("text/plain",c),t.dragging=new $g(d,!n[Fg],o)};Wt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};qt.dragover=qt.dragenter=(t,e)=>e.preventDefault();qt.drop=(t,e)=>{let n=e,s=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let r=t.posAtCoords($c(n));if(!r)return;let i=t.state.doc.resolve(r.pos),o=s&&s.slice;o?t.someProp("transformPasted",y=>{o=y(o,t)}):o=Tg(t,Rg(n.dataTransfer),sl?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(s&&!n[Fg]);if(t.someProp("handleDrop",y=>y(t,n,o||te.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let a=o?tg(t.state.doc,i.pos,o):i.pos;a==null&&(a=i.pos);let c=t.state.tr;if(l){let{node:y}=s;y?y.replace(c):c.deleteSelection()}let d=c.mapping.map(a),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,f=c.doc;if(h?c.replaceRangeWith(d,d,o.content.firstChild):c.replaceRange(d,d,o),c.doc.eq(f))return;let p=c.doc.resolve(d);if(h&&ge.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new ge(p));else{let y=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((v,k,S,E)=>y=E),c.setSelection(nf(t,p,c.doc.resolve(y)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Wt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ms(t)},20))};Wt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Wt.beforeinput=(t,e)=>{if(Lt&&_n&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:s}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=s||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,kr(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in qt)Wt[t]=qt[t];function il(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Qa{constructor(e,n){this.toDOM=e,this.spec=n||Dr,this.side=this.spec.side||0}map(e,n,s,r){let{pos:i,deleted:o}=e.mapResult(n.from+r,this.side<0?-1:1);return o?null:new yn(i-s,i-s,this)}valid(){return!0}eq(e){return this==e||e instanceof Qa&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&il(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ir{constructor(e,n){this.attrs=e,this.spec=n||Dr}map(e,n,s,r){let i=e.map(n.from+r,this.spec.inclusiveStart?-1:1)-s,o=e.map(n.to+r,this.spec.inclusiveEnd?1:-1)-s;return i>=o?null:new yn(i,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ir&&il(this.attrs,e.attrs)&&il(this.spec,e.spec)}static is(e){return e.type instanceof ir}destroy(){}}class lf{constructor(e,n){this.attrs=e,this.spec=n||Dr}map(e,n,s,r){let i=e.mapResult(n.from+r,1);if(i.deleted)return null;let o=e.mapResult(n.to+r,-1);return o.deleted||o.pos<=i.pos?null:new yn(i.pos-s,o.pos-s,this)}valid(e,n){let{index:s,offset:r}=e.content.findIndex(n.from),i;return r==n.from&&!(i=e.child(s)).isText&&r+i.nodeSize==n.to}eq(e){return this==e||e instanceof lf&&il(this.attrs,e.attrs)&&il(this.spec,e.spec)}destroy(){}}class yn{constructor(e,n,s){this.from=e,this.to=n,this.type=s}copy(e,n){return new yn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,s){return this.type.map(e,this,n,s)}static widget(e,n,s){return new yn(e,e,new Qa(n,s))}static inline(e,n,s,r){return new yn(e,n,new ir(s,r))}static node(e,n,s,r){return new yn(e,n,new lf(s,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof ir}get widget(){return this.type instanceof Qa}}const fi=[],Dr={};class lt{constructor(e,n){this.local=e.length?e:fi,this.children=n.length?n:fi}static create(e,n){return n.length?ec(n,e,0,Dr):Mt}find(e,n,s){let r=[];return this.findInner(e??0,n??1e9,r,0,s),r}findInner(e,n,s,r,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&s.push(l.copy(l.from+r,l.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,s,r+l,i)}}map(e,n,s){return this==Mt||e.maps.length==0?this:this.mapInner(e,n,0,0,s||Dr)}mapInner(e,n,s,r,i){let o;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,s,r);a&&a.type.valid(n,a)?(o||(o=[])).push(a):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?GE(this.children,o||[],e,n,s,r,i):o?new lt(o.sort(Rr),fi):Mt}add(e,n){return n.length?this==Mt?lt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,s){let r,i=0;e.forEach((l,a)=>{let c=a+s,d;if(d=Vg(n,l,c)){for(r||(r=this.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(l,d,c+1):r.splice(i,0,a,a+l.nodeSize,ec(d,l,c+1,Dr)),i+=3}});let o=Bg(i?Hg(n):n,-s);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new lt(o.length?this.local.concat(o).sort(Rr):this.local,r||this.children)}remove(e){return e.length==0||this==Mt?this:this.removeInner(e,0)}removeInner(e,n){let s=this.children,r=this.local;for(let i=0;i<s.length;i+=3){let o,l=s[i]+n,a=s[i+1]+n;for(let d=0,h;d<e.length;d++)(h=e[d])&&h.from>l&&h.to<a&&(e[d]=null,(o||(o=[])).push(h));if(!o)continue;s==this.children&&(s=this.children.slice());let c=s[i+2].removeInner(o,l+1);c!=Mt?s[i+2]=c:(s.splice(i,3),i-=3)}if(r.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<r.length;l++)r[l].eq(o,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return s==this.children&&r==this.local?this:r.length||s.length?new lt(r,s):Mt}forChild(e,n){if(this==Mt)return this;if(n.isLeaf)return lt.empty;let s,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(s=this.children[l+2]);break}let i=e+1,o=i+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<o&&a.to>i&&a.type instanceof ir){let c=Math.max(i,a.from)-i,d=Math.min(o,a.to)-i;c<d&&(r||(r=[])).push(a.copy(c,d))}}if(r){let l=new lt(r.sort(Rr),fi);return s?new Ks([l,s]):l}return s||Mt}eq(e){if(this==e)return!0;if(!(e instanceof lt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return af(this.localsInner(e))}localsInner(e){if(this==Mt)return fi;if(e.inlineContent||!this.local.some(ir.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof ir||n.push(this.local[s]);return n}forEachSet(e){e(this)}}lt.empty=new lt([],[]);lt.removeOverlap=af;const Mt=lt.empty;class Ks{constructor(e){this.members=e}map(e,n){const s=this.members.map(r=>r.map(e,n,Dr));return Ks.from(s)}forChild(e,n){if(n.isLeaf)return lt.empty;let s=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(e,n);i!=Mt&&(i instanceof Ks?s=s.concat(i.members):s.push(i))}return Ks.from(s)}eq(e){if(!(e instanceof Ks)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,s=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(e);if(i.length)if(!n)n=i;else{s&&(n=n.slice(),s=!1);for(let o=0;o<i.length;o++)n.push(i[o])}}return n?af(s?n:n.sort(Rr)):fi}static from(e){switch(e.length){case 0:return Mt;case 1:return e[0];default:return new Ks(e.every(n=>n instanceof lt)?e:e.reduce((n,s)=>n.concat(s instanceof lt?s:s.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function GE(t,e,n,s,r,i,o){let l=t.slice();for(let c=0,d=i;c<n.maps.length;c++){let h=0;n.maps[c].forEach((f,p,y,v)=>{let k=v-y-(p-f);for(let S=0;S<l.length;S+=3){let E=l[S+1];if(E<0||f>E+d-h)continue;let T=l[S]+d-h;p>=T?l[S+1]=f<=T?-2:-1:f>=d&&k&&(l[S]+=k,l[S+1]+=k)}h+=k}),d=n.maps[c].map(d,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){a=!0,l[c+1]=-1;continue}let d=n.map(t[c]+i),h=d-r;if(h<0||h>=s.content.size){a=!0;continue}let f=n.map(t[c+1]+i,-1),p=f-r,{index:y,offset:v}=s.content.findIndex(h),k=s.maybeChild(y);if(k&&v==h&&v+k.nodeSize==p){let S=l[c+2].mapInner(n,k,d+1,t[c]+i+1,o);S!=Mt?(l[c]=h,l[c+1]=p,l[c+2]=S):(l[c+1]=-2,a=!0)}else a=!0}if(a){let c=JE(l,t,e,n,r,i,o),d=ec(c,s,0,o);e=d.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,f=0;h<d.children.length;h+=3){let p=d.children[h];for(;f<l.length&&l[f]<p;)f+=3;l.splice(f,0,d.children[h],d.children[h+1],d.children[h+2])}}return new lt(e.sort(Rr),l)}function Bg(t,e){if(!e||!t.length)return t;let n=[];for(let s=0;s<t.length;s++){let r=t[s];n.push(new yn(r.from+e,r.to+e,r.type))}return n}function JE(t,e,n,s,r,i,o){function l(a,c){for(let d=0;d<a.local.length;d++){let h=a.local[d].map(s,r,c);h?n.push(h):o.onRemove&&o.onRemove(a.local[d].spec)}for(let d=0;d<a.children.length;d+=3)l(a.children[d+2],a.children[d]+c+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+i+1);return n}function Vg(t,e,n){if(e.isLeaf)return null;let s=n+e.nodeSize,r=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>n&&o.to<s&&((r||(r=[])).push(o),t[i]=null);return r}function Hg(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function ec(t,e,n,s){let r=[],i=!1;e.forEach((l,a)=>{let c=Vg(t,l,a+n);if(c){i=!0;let d=ec(c,l,n+a+1,s);d!=Mt&&r.push(a,a+l.nodeSize,d)}});let o=Bg(i?Hg(t):t,-n).sort(Rr);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(s.onRemove&&s.onRemove(o[l].spec),o.splice(l--,1));return o.length||r.length?new lt(o,r):Mt}function Rr(t,e){return t.from-e.from||t.to-e.to}function af(t){let e=t;for(let n=0;n<e.length-1;n++){let s=e[n];if(s.from!=s.to)for(let r=n+1;r<e.length;r++){let i=e[r];if(i.from==s.from){i.to!=s.to&&(e==t&&(e=t.slice()),e[r]=i.copy(i.from,s.to),D2(e,r+1,i.copy(s.to,i.to)));continue}else{i.from<s.to&&(e==t&&(e=t.slice()),e[n]=s.copy(s.from,i.from),D2(e,r,s.copy(i.from,s.to)));break}}}return e}function D2(t,e,n){for(;e<t.length&&Rr(n,t[e])>0;)e++;t.splice(e,0,n)}function Hu(t){let e=[];return t.someProp("decorations",n=>{let s=n(t.state);s&&s!=Mt&&e.push(s)}),t.cursorWrapper&&e.push(lt.create(t.state.doc,[t.cursorWrapper.deco])),Ks.from(e)}const ZE={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},YE=en&&sr<=11;class XE{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class QE{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new XE,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let r=0;r<s.length;r++)this.queue.push(s[r]);en&&sr<=11&&s.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),YE&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ZE)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(E2(this.view)){if(this.suppressingSelectionUpdates)return ms(this.view);if(en&&sr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&jr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,s;for(let i=e.focusNode;i;i=nl(i))n.add(i);for(let i=e.anchorNode;i;i=nl(i))if(n.has(i)){s=i;break}let r=s&&this.view.docView.nearestDesc(s);if(r&&r.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&E2(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=e.domSelectionRange(),r=this.selectionChanged(s),i=-1,o=-1,l=!1,a=[];if(e.editable)for(let d=0;d<n.length;d++){let h=this.registerMutation(n[d],a);h&&(i=i<0?h.from:Math.min(h.from,i),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(l=!0))}if(Nn&&a.length){let d=a.filter(h=>h.nodeName=="BR");if(d.length==2){let[h,f]=d;h.parentNode&&h.parentNode.parentNode==f.parentNode?f.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let f of d){let p=f.parentNode;p&&p.nodeName=="LI"&&(!h||nM(e,h)!=p)&&f.remove()}}}let c=null;i<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Dc(s)&&(c=tf(e))&&c.eq(_e.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ms(e),this.currentSelection.set(s),e.scrollToSelection()):(i>-1||r)&&(i>-1&&(e.docView.markDirty(i,o),eM(e)),this.handleDOMChange(i,o,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||ms(e),this.currentSelection.set(s))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let h=e.addedNodes[d];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let r=e.previousSibling,i=e.nextSibling;if(en&&sr<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:h,nextSibling:f}=e.addedNodes[d];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(r=h),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f)}let o=r&&r.parentNode==e.target?wt(r)+1:0,l=s.localPosFromDOM(e.target,o,-1),a=i&&i.parentNode==e.target?wt(i):e.target.childNodes.length,c=s.localPosFromDOM(e.target,a,1);return{from:l,to:c}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let R2=new WeakMap,$2=!1;function eM(t){if(!R2.has(t)&&(R2.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Nn,$2)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),$2=!0}}function F2(t,e){let n=e.startContainer,s=e.startOffset,r=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return jr(o.node,o.offset,r,i)&&([n,s,r,i]=[r,i,n,s]),{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:i}}function tM(t,e){if(e.getComposedRanges){let r=e.getComposedRanges(t.root)[0];if(r)return F2(t,r)}let n;function s(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",s,!0),n?F2(t,n):null}function nM(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let s=t.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function sM(t,e,n){let{node:s,fromOffset:r,toOffset:i,from:o,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),c,d=a.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:a.anchorOffset}],Dc(a)||c.push({node:a.focusNode,offset:a.focusOffset})),Lt&&t.input.lastKeyCode===8)for(let k=i;k>r;k--){let S=s.childNodes[k-1],E=S.pmViewDesc;if(S.nodeName=="BR"&&!E){i=k;break}if(!E||E.size)break}let h=t.state.doc,f=t.someProp("domParser")||nr.fromSchema(t.state.schema),p=h.resolve(o),y=null,v=f.parse(s,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:r,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:rM,context:p});if(c&&c[0].pos!=null){let k=c[0].pos,S=c[1]&&c[1].pos;S==null&&(S=k),y={anchor:k+o,head:S+o}}return{doc:v,sel:y,from:o,to:l}}function rM(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(zt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||zt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const iM=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function oM(t,e,n,s,r){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let w=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,x=tf(t,w);if(x&&!t.state.selection.eq(x)){if(Lt&&_n&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",I=>I(t,kr(13,"Enter"))))return;let O=t.state.tr.setSelection(x);w=="pointer"?O.setMeta("pointer",!0):w=="key"&&O.scrollIntoView(),i&&O.setMeta("composition",i),t.dispatch(O)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(n);e=o.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,c=sM(t,e,n),d=t.state.doc,h=d.slice(c.from,c.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let y=cM(h.content,c.doc.content,c.from,f,p);if(y&&t.input.domChangeCount++,(Ui&&t.input.lastIOSEnter>Date.now()-225||_n)&&r.some(w=>w.nodeType==1&&!iM.test(w.nodeName))&&(!y||y.endA>=y.endB)&&t.someProp("handleKeyDown",w=>w(t,kr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!y)if(s&&a instanceof xe&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))y={start:a.from,endA:a.to,endB:a.to};else{if(c.sel){let w=B2(t,t.state.doc,c.sel);if(w&&!w.eq(t.state.selection)){let x=t.state.tr.setSelection(w);i&&x.setMeta("composition",i),t.dispatch(x)}}return}t.state.selection.from<t.state.selection.to&&y.start==y.endB&&t.state.selection instanceof xe&&(y.start>t.state.selection.from&&y.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?y.start=t.state.selection.from:y.endA<t.state.selection.to&&y.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(y.endB+=t.state.selection.to-y.endA,y.endA=t.state.selection.to)),en&&sr<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>c.from&&c.doc.textBetween(y.start-c.from-1,y.start-c.from+1)=="  "&&(y.start--,y.endA--,y.endB--);let v=c.doc.resolveNoCache(y.start-c.from),k=c.doc.resolveNoCache(y.endB-c.from),S=d.resolve(y.start),E=v.sameParent(k)&&v.parent.inlineContent&&S.end()>=y.endA,T;if((Ui&&t.input.lastIOSEnter>Date.now()-225&&(!E||r.some(w=>w.nodeName=="DIV"||w.nodeName=="P"))||!E&&v.pos<c.doc.content.size&&!v.sameParent(k)&&(T=_e.findFrom(c.doc.resolve(v.pos+1),1,!0))&&T.head==k.pos)&&t.someProp("handleKeyDown",w=>w(t,kr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>y.start&&aM(d,y.start,y.endA,v,k)&&t.someProp("handleKeyDown",w=>w(t,kr(8,"Backspace")))){_n&&Lt&&t.domObserver.suppressSelectionUpdates();return}Lt&&_n&&y.endB==y.start&&(t.input.lastAndroidDelete=Date.now()),_n&&!E&&v.start()!=k.start()&&k.parentOffset==0&&v.depth==k.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==y.endA&&(y.endB-=2,k=c.doc.resolveNoCache(y.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(w){return w(t,kr(13,"Enter"))})},20));let P=y.start,D=y.endA,F,M,b;if(E){if(v.pos==k.pos)en&&sr<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ms(t),20)),F=t.state.tr.delete(P,D),M=d.resolve(y.start).marksAcross(d.resolve(y.endA));else if(y.endA==y.endB&&(b=lM(v.parent.content.cut(v.parentOffset,k.parentOffset),S.parent.content.cut(S.parentOffset,y.endA-S.start()))))F=t.state.tr,b.type=="add"?F.addMark(P,D,b.mark):F.removeMark(P,D,b.mark);else if(v.parent.child(v.index()).isText&&v.index()==k.index()-(k.textOffset?0:1)){let w=v.parent.textBetween(v.parentOffset,k.parentOffset);if(t.someProp("handleTextInput",x=>x(t,P,D,w)))return;F=t.state.tr.insertText(w,P,D)}}if(F||(F=t.state.tr.replace(P,D,c.doc.slice(y.start-c.from,y.endB-c.from))),c.sel){let w=B2(t,F.doc,c.sel);w&&!(Lt&&_n&&t.composing&&w.empty&&(y.start!=y.endB||t.input.lastAndroidDelete<Date.now()-100)&&(w.head==P||w.head==F.mapping.map(D)-1)||en&&w.empty&&w.head==P)&&F.setSelection(w)}M&&F.ensureMarks(M),i&&F.setMeta("composition",i),t.dispatch(F.scrollIntoView())}function B2(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:nf(t,e.resolve(n.anchor),e.resolve(n.head))}function lM(t,e){let n=t.firstChild.marks,s=e.firstChild.marks,r=n,i=s,o,l,a;for(let d=0;d<s.length;d++)r=s[d].removeFromSet(r);for(let d=0;d<n.length;d++)i=n[d].removeFromSet(i);if(r.length==1&&i.length==0)l=r[0],o="add",a=d=>d.mark(l.addToSet(d.marks));else if(r.length==0&&i.length==1)l=i[0],o="remove",a=d=>d.mark(l.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<e.childCount;d++)c.push(a(e.child(d)));if(q.from(c).eq(t))return{mark:l,type:o}}function aM(t,e,n,s,r){if(n-e<=r.pos-s.pos||Uu(s,!0,!1)<r.pos)return!1;let i=t.resolve(e);if(!s.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(Uu(i,!0,!0));return!o.parent.isTextblock||o.pos>n||Uu(o,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(o.parent.content)}function Uu(t,e,n){let s=t.depth,r=e?t.end():t.pos;for(;s>0&&(e||t.indexAfter(s)==t.node(s).childCount);)s--,r++,e=!1;if(n){let i=t.node(s).maybeChild(t.indexAfter(s));for(;i&&!i.isLeaf;)i=i.firstChild,r++}return r}function cM(t,e,n,s,r){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(r=="end"){let a=Math.max(0,i-Math.min(o,l));s-=o+a-i}if(o<i&&t.size<e.size){let a=s<=i&&s>=o?i-s:0;i-=a,i&&i<e.size&&V2(e.textBetween(i-1,i+1))&&(i+=a?1:-1),l=i+(l-o),o=i}else if(l<i){let a=s<=i&&s>=l?i-s:0;i-=a,i&&i<t.size&&V2(t.textBetween(i-1,i+1))&&(i+=a?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function V2(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class uM{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new AE,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(W2),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=j2(this),U2(this),this.nodeViews=z2(this),this.docView=b2(this.state.doc,H2(this),Hu(this),this.dom,this),this.domObserver=new QE(this,(s,r,i,o)=>oM(this,s,r,i,o)),this.domObserver.start(),IE(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&jd(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(W2),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in e)n[s]=e[s];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var s;let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(Dg(this),o=!0),this.state=e;let l=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=z2(this);hM(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&jd(this),this.editable=j2(this),U2(this);let a=Hu(this),c=H2(this),d=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(e.doc,c,a);(h||!e.selection.eq(r.selection))&&(o=!0);let f=d=="preserve"&&o&&this.dom.style.overflowAnchor==null&&zT(this);if(o){this.domObserver.stop();let p=h&&(en||Lt)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&dM(r.selection,e.selection);if(h){let y=Lt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=jE(this)),(i||!this.docView.update(e.doc,c,a,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=b2(e.doc,c,a,this.dom,this)),y&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&pE(this))?ms(this,p):(kg(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((s=this.dragging)===null||s===void 0)&&s.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():f&&WT(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ge){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&m2(this,n.getBoundingClientRect(),e)}else m2(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,e)}}updateDraggedNode(e,n){let s=e.node,r=-1;if(this.state.doc.nodeAt(s.from)==s.node)r=s.from;else{let i=s.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==s.node&&(r=i)}this.dragging=new $g(e.slice,e.move,r<0?void 0:ge.create(this.state.doc,r))}someProp(e,n){let s=this._props&&this._props[e],r;if(s!=null&&(r=n?n(s):s))return r;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(r=n?n(l):l))return r}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(en){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&qT(this.dom),ms(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return YT(this,e)}coordsAtPos(e,n=1){return pg(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,s=-1){let r=this.docView.posFromDOM(e,n,s);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,n){return nE(this,n||this.state,e)}pasteHTML(e,n){return rl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return rl(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(OE(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,PT())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return PE(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?zt&&this.root.nodeType===11&&FT(this.dom.ownerDocument)==this.dom&&tM(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function H2(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let s in n)s=="class"?e.class+=" "+n[s]:s=="style"?e.style=(e.style?e.style+";":"")+n[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(n[s]))}),e.translate||(e.translate="no"),[yn.node(0,t.state.doc.content.size,e)]}function U2(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:yn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function j2(t){return!t.someProp("editable",e=>e(t.state)===!1)}function dM(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function z2(t){let e=Object.create(null);function n(s){for(let r in s)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=s[r])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function hM(t,e){let n=0,s=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let r in e)s++;return n!=s}function W2(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var cr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},tc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},fM=typeof navigator<"u"&&/Mac/.test(navigator.platform),pM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var bt=0;bt<10;bt++)cr[48+bt]=cr[96+bt]=String(bt);for(var bt=1;bt<=24;bt++)cr[bt+111]="F"+bt;for(var bt=65;bt<=90;bt++)cr[bt]=String.fromCharCode(bt+32),tc[bt]=String.fromCharCode(bt);for(var ju in cr)tc.hasOwnProperty(ju)||(tc[ju]=cr[ju]);function mM(t){var e=fM&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||pM&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?tc:cr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const gM=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function yM(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let s,r,i,o;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))s=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))gM?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+a)}return s&&(n="Alt-"+n),r&&(n="Ctrl-"+n),o&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function vM(t){let e=Object.create(null);for(let n in t)e[yM(n)]=t[n];return e}function zu(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function CM(t){return new sn({props:{handleKeyDown:Ug(t)}})}function Ug(t){let e=vM(t);return function(n,s){let r=mM(s),i,o=e[zu(r,s)];if(o&&o(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(s.shiftKey){let l=e[zu(r,s,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((s.shiftKey||s.altKey||s.metaKey||r.charCodeAt(0)>127)&&(i=cr[s.keyCode])&&i!=r){let l=e[zu(i,s)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const wM=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function jg(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const bM=(t,e,n)=>{let s=jg(t,n);if(!s)return!1;let r=cf(s);if(!r){let o=s.blockRange(),l=o&&Xi(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=r.nodeBefore;if(Kg(t,r,e,-1))return!0;if(s.parent.content.size==0&&(ji(i,"end")||ge.isSelectable(i)))for(let o=s.depth;;o--){let l=Pc(t.doc,s.before(o),s.after(o),te.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=t.tr.step(l);a.setSelection(ji(i,"end")?_e.findFrom(a.doc.resolve(a.mapping.map(r.pos,-1)),-1):ge.create(a.doc,r.pos-i.nodeSize)),e(a.scrollIntoView())}return!0}if(o==1||s.node(o-1).childCount>1)break}return i.isAtom&&r.depth==s.depth-1?(e&&e(t.tr.delete(r.pos-i.nodeSize,r.pos).scrollIntoView()),!0):!1},kM=(t,e,n)=>{let s=jg(t,n);if(!s)return!1;let r=cf(s);return r?zg(t,r,e):!1},xM=(t,e,n)=>{let s=Wg(t,n);if(!s)return!1;let r=uf(s);return r?zg(t,r,e):!1};function zg(t,e,n){let s=e.nodeBefore,r=s,i=e.pos-1;for(;!r.isTextblock;i--){if(r.type.spec.isolating)return!1;let d=r.lastChild;if(!d)return!1;r=d}let o=e.nodeAfter,l=o,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let d=l.firstChild;if(!d)return!1;l=d}let c=Pc(t.doc,i,a,te.empty);if(!c||c.from!=i||c instanceof ht&&c.slice.size>=a-i)return!1;if(n){let d=t.tr.step(c);d.setSelection(xe.create(d.doc,i)),n(d.scrollIntoView())}return!0}function ji(t,e,n=!1){for(let s=t;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const _M=(t,e,n)=>{let{$head:s,empty:r}=t.selection,i=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):s.parentOffset>0)return!1;i=cf(s)}let o=i&&i.nodeBefore;return!o||!ge.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ge.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function cf(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function Wg(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const SM=(t,e,n)=>{let s=Wg(t,n);if(!s)return!1;let r=uf(s);if(!r)return!1;let i=r.nodeAfter;if(Kg(t,r,e,1))return!0;if(s.parent.content.size==0&&(ji(i,"start")||ge.isSelectable(i))){let o=Pc(t.doc,s.before(),s.after(),te.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(ji(i,"start")?_e.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):ge.create(l.doc,l.mapping.map(r.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&r.depth==s.depth-1?(e&&e(t.tr.delete(r.pos,r.pos+i.nodeSize).scrollIntoView()),!0):!1},TM=(t,e,n)=>{let{$head:s,empty:r}=t.selection,i=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;i=uf(s)}let o=i&&i.nodeAfter;return!o||!ge.isSelectable(o)?!1:(e&&e(t.tr.setSelection(ge.create(t.doc,i.pos)).scrollIntoView()),!0)};function uf(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const EM=(t,e)=>{let n=t.selection,s=n instanceof ge,r;if(s){if(n.node.isTextblock||!fr(t.doc,n.from))return!1;r=n.from}else if(r=Lc(t.doc,n.from,-1),r==null)return!1;if(e){let i=t.tr.join(r);s&&i.setSelection(ge.create(i.doc,r-t.doc.resolve(r).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},MM=(t,e)=>{let n=t.selection,s;if(n instanceof ge){if(n.node.isTextblock||!fr(t.doc,n.to))return!1;s=n.to}else if(s=Lc(t.doc,n.to,1),s==null)return!1;return e&&e(t.tr.join(s).scrollIntoView()),!0},AM=(t,e)=>{let{$from:n,$to:s}=t.selection,r=n.blockRange(s),i=r&&Xi(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},IM=(t,e)=>{let{$head:n,$anchor:s}=t.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function qg(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const OM=(t,e)=>{let{$head:n,$anchor:s}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let r=n.node(-1),i=n.indexAfter(-1),o=qg(r.contentMatchAt(i));if(!o||!r.canReplaceWith(i,i,o))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,o.createAndFill());a.setSelection(_e.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},LM=(t,e)=>{let n=t.selection,{$from:s,$to:r}=n;if(n instanceof On||s.parent.inlineContent||r.parent.inlineContent)return!1;let i=qg(r.parent.contentMatchAt(r.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!s.parentOffset&&r.index()<r.parent.childCount?s:r).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(xe.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},PM=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Mi(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let s=n.blockRange(),r=s&&Xi(s);return r==null?!1:(e&&e(t.tr.lift(s,r).scrollIntoView()),!0)},NM=(t,e)=>{let{$from:n,to:s}=t.selection,r,i=n.sharedDepth(s);return i==0?!1:(r=n.before(i),e&&e(t.tr.setSelection(ge.create(t.doc,r))),!0)};function DM(t,e,n){let s=e.nodeBefore,r=e.nodeAfter,i=e.index();return!s||!r||!s.type.compatibleContent(r.type)?!1:!s.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(r.isTextblock||fr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function Kg(t,e,n,s){let r=e.nodeBefore,i=e.nodeAfter,o,l,a=r.type.spec.isolating||i.type.spec.isolating;if(!a&&DM(t,e,n))return!0;let c=!a&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(l=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(n){let p=e.pos+i.nodeSize,y=q.empty;for(let S=o.length-1;S>=0;S--)y=q.from(o[S].create(null,y));y=q.from(r.copy(y));let v=t.tr.step(new ft(e.pos-1,p,e.pos,p,new te(y,1,0),o.length,!0)),k=v.doc.resolve(p+2*o.length);k.nodeAfter&&k.nodeAfter.type==r.type&&fr(v.doc,k.pos)&&v.join(k.pos),n(v.scrollIntoView())}return!0}let d=i.type.spec.isolating||s>0&&a?null:_e.findFrom(e,1),h=d&&d.$from.blockRange(d.$to),f=h&&Xi(h);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(h,f).scrollIntoView()),!0;if(c&&ji(i,"start",!0)&&ji(r,"end")){let p=r,y=[];for(;y.push(p),!p.isTextblock;)p=p.lastChild;let v=i,k=1;for(;!v.isTextblock;v=v.firstChild)k++;if(p.canReplace(p.childCount,p.childCount,v.content)){if(n){let S=q.empty;for(let T=y.length-1;T>=0;T--)S=q.from(y[T].copy(S));let E=t.tr.step(new ft(e.pos-y.length,e.pos+i.nodeSize,e.pos+k,e.pos+i.nodeSize-k,new te(S,y.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function Gg(t){return function(e,n){let s=e.selection,r=t<0?s.$from:s.$to,i=r.depth;for(;r.node(i).isInline;){if(!i)return!1;i--}return r.node(i).isTextblock?(n&&n(e.tr.setSelection(xe.create(e.doc,t<0?r.start(i):r.end(i)))),!0):!1}}const RM=Gg(-1),$M=Gg(1);function FM(t,e=null){return function(n,s){let{$from:r,$to:i}=n.selection,o=r.blockRange(i),l=o&&Xh(o,t,e);return l?(s&&s(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function q2(t,e=null){return function(n,s){let r=!1;for(let i=0;i<n.selection.ranges.length&&!r;i++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(o,l,(a,c)=>{if(r)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)r=!0;else{let d=n.doc.resolve(c),h=d.index();r=d.parent.canReplaceWith(h,h+1,t)}})}if(!r)return!1;if(s){let i=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[o];i.setBlockType(l,a,t,e)}s(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function BM(t,e=null){return function(n,s){let{$from:r,$to:i}=n.selection,o=r.blockRange(i),l=!1,a=o;if(!o)return!1;if(o.depth>=2&&r.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(r.index(o.depth-1)==0)return!1;let d=n.doc.resolve(o.start-2);a=new qa(d,d,o.depth),o.endIndex<o.parent.childCount&&(o=new qa(r,n.doc.resolve(i.end(o.depth)),o.depth)),l=!0}let c=Xh(a,t,e,o);return c?(s&&s(VM(n.tr,o,c,l,t).scrollIntoView()),!0):!1}}function VM(t,e,n,s,r){let i=q.empty;for(let d=n.length-1;d>=0;d--)i=q.from(n[d].type.create(n[d].attrs,i));t.step(new ft(e.start-(s?2:0),e.end,e.start,e.end,new te(i,0,0),n.length,!0));let o=0;for(let d=0;d<n.length;d++)n[d].type==r&&(o=d+1);let l=n.length-o,a=e.start+n.length-(s?2:0),c=e.parent;for(let d=e.startIndex,h=e.endIndex,f=!0;d<h;d++,f=!1)!f&&Mi(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=c.child(d).nodeSize;return t}function HM(t){return function(e,n){let{$from:s,$to:r}=e.selection,i=s.blockRange(r,o=>o.childCount>0&&o.firstChild.type==t);return i?n?s.node(i.depth-1).type==t?UM(e,n,t,i):jM(e,n,i):!0:!1}}function UM(t,e,n,s){let r=t.tr,i=s.end,o=s.$to.end(s.depth);i<o&&(r.step(new ft(i-1,o,i,o,new te(q.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new qa(r.doc.resolve(s.$from.pos),r.doc.resolve(o),s.depth));const l=Xi(s);if(l==null)return!1;r.lift(s,l);let a=r.mapping.map(i,-1)-1;return fr(r.doc,a)&&r.join(a),e(r.scrollIntoView()),!0}function jM(t,e,n){let s=t.tr,r=n.parent;for(let p=n.end,y=n.endIndex-1,v=n.startIndex;y>v;y--)p-=r.child(y).nodeSize,s.delete(p-1,p+1);let i=s.doc.resolve(n.start),o=i.nodeAfter;if(s.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==r.childCount,c=i.node(-1),d=i.index(-1);if(!c.canReplace(d+(l?0:1),d+1,o.content.append(a?q.empty:q.from(r))))return!1;let h=i.pos,f=h+o.nodeSize;return s.step(new ft(h-(l?1:0),f+(a?1:0),h+1,f-1,new te((l?q.empty:q.from(r.copy(q.empty))).append(a?q.empty:q.from(r.copy(q.empty))),l?0:1,a?0:1),l?0:1)),e(s.scrollIntoView()),!0}function zM(t){return function(e,n){let{$from:s,$to:r}=e.selection,i=s.blockRange(r,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,a=l.child(o-1);if(a.type!=t)return!1;if(n){let c=a.lastChild&&a.lastChild.type==l.type,d=q.from(c?t.create():null),h=new te(q.from(t.create(null,q.from(l.type.create(null,d)))),c?3:1,0),f=i.start,p=i.end;n(e.tr.step(new ft(f-(c?3:1),p,f,p,h,1,!0)).scrollIntoView())}return!0}}function Fc(t){const{state:e,transaction:n}=t;let{selection:s}=n,{doc:r}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return s},get doc(){return r},get tr(){return s=n.selection,r=n.doc,i=n.storedMarks,n}}}class Bc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:s}=this,{view:r}=n,{tr:i}=s,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...d)=>{const h=a(...d)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:s,editor:r,state:i}=this,{view:o}=r,l=[],a=!!e,c=e||i.tr,d=()=>(!a&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),l.every(f=>f===!0)),h={...Object.fromEntries(Object.entries(s).map(([f,p])=>[f,(...v)=>{const k=this.buildProps(c,n),S=p(...v)(k);return l.push(S),h}])),run:d};return h}createCan(e){const{rawCommands:n,state:s}=this,r=!1,i=e||s.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(n).map(([a,c])=>[a,(...d)=>c(...d)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,n=!0){const{rawCommands:s,editor:r,state:i}=this,{view:o}=r,l={tr:e,editor:r,view:o,state:Fc({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(s).map(([a,c])=>[a,(...d)=>c(...d)(l)]))}};return l}}class WM{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const s=this.callbacks[e];return s&&s.forEach(r=>r.apply(this,n)),this}off(e,n){const s=this.callbacks[e];return s&&(n?this.callbacks[e]=s.filter(r=>r!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ce(t,e,n){return t.config[e]===void 0&&t.parent?ce(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ce(t.parent,e,n):null}):t.config[e]}function Vc(t){const e=t.filter(r=>r.type==="extension"),n=t.filter(r=>r.type==="node"),s=t.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:s}}function Jg(t){const e=[],{nodeExtensions:n,markExtensions:s}=Vc(t),r=[...n,...s],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:r},a=ce(o,"addGlobalAttributes",l);if(!a)return;a().forEach(d=>{d.types.forEach(h=>{Object.entries(d.attributes).forEach(([f,p])=>{e.push({type:h,name:f,attribute:{...i,...p}})})})})}),r.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},a=ce(o,"addAttributes",l);if(!a)return;const c=a();Object.entries(c).forEach(([d,h])=>{const f={...i,...h};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:o.name,name:d,attribute:f})})}),e}function mt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Pt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const s={...e};return Object.entries(n).forEach(([r,i])=>{if(!s[r]){s[r]=i;return}if(r==="class"){const l=i?i.split(" "):[],a=s[r]?s[r].split(" "):[],c=l.filter(d=>!a.includes(d));s[r]=[...a,...c].join(" ")}else if(r==="style"){const l=i?i.split(";").map(d=>d.trim()).filter(Boolean):[],a=s[r]?s[r].split(";").map(d=>d.trim()).filter(Boolean):[],c=new Map;a.forEach(d=>{const[h,f]=d.split(":").map(p=>p.trim());c.set(h,f)}),l.forEach(d=>{const[h,f]=d.split(":").map(p=>p.trim());c.set(h,f)}),s[r]=Array.from(c.entries()).map(([d,h])=>`${d}: ${h}`).join("; ")}else s[r]=i}),s},{})}function zd(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,s)=>Pt(n,s),{})}function Zg(t){return typeof t=="function"}function Se(t,e=void 0,...n){return Zg(t)?e?t.bind(e)(...n):t(...n):t}function qM(t={}){return Object.keys(t).length===0&&t.constructor===Object}function KM(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function K2(t,e){return"style"in t?t:{...t,getAttrs:n=>{const s=t.getAttrs?t.getAttrs(n):t.attrs;if(s===!1)return!1;const r=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):KM(n.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...s,...r}}}}function G2(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&qM(n)?!1:n!=null))}function GM(t,e){var n;const s=Jg(t),{nodeExtensions:r,markExtensions:i}=Vc(t),o=(n=r.find(c=>ce(c,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(r.map(c=>{const d=s.filter(S=>S.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((S,E)=>{const T=ce(E,"extendNodeSchema",h);return{...S,...T?T(c):{}}},{}),p=G2({...f,content:Se(ce(c,"content",h)),marks:Se(ce(c,"marks",h)),group:Se(ce(c,"group",h)),inline:Se(ce(c,"inline",h)),atom:Se(ce(c,"atom",h)),selectable:Se(ce(c,"selectable",h)),draggable:Se(ce(c,"draggable",h)),code:Se(ce(c,"code",h)),whitespace:Se(ce(c,"whitespace",h)),defining:Se(ce(c,"defining",h)),isolating:Se(ce(c,"isolating",h)),attrs:Object.fromEntries(d.map(S=>{var E;return[S.name,{default:(E=S==null?void 0:S.attribute)===null||E===void 0?void 0:E.default}]}))}),y=Se(ce(c,"parseHTML",h));y&&(p.parseDOM=y.map(S=>K2(S,d)));const v=ce(c,"renderHTML",h);v&&(p.toDOM=S=>v({node:S,HTMLAttributes:zd(S,d)}));const k=ce(c,"renderText",h);return k&&(p.toText=k),[c.name,p]})),a=Object.fromEntries(i.map(c=>{const d=s.filter(k=>k.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},f=t.reduce((k,S)=>{const E=ce(S,"extendMarkSchema",h);return{...k,...E?E(c):{}}},{}),p=G2({...f,inclusive:Se(ce(c,"inclusive",h)),excludes:Se(ce(c,"excludes",h)),group:Se(ce(c,"group",h)),spanning:Se(ce(c,"spanning",h)),code:Se(ce(c,"code",h)),attrs:Object.fromEntries(d.map(k=>{var S;return[k.name,{default:(S=k==null?void 0:k.attribute)===null||S===void 0?void 0:S.default}]}))}),y=Se(ce(c,"parseHTML",h));y&&(p.parseDOM=y.map(k=>K2(k,d)));const v=ce(c,"renderHTML",h);return v&&(p.toDOM=k=>v({mark:k,HTMLAttributes:zd(k,d)})),[c.name,p]}));return new z3({topNode:o,nodes:l,marks:a})}function Wu(t,e){return e.nodes[t]||e.marks[t]||null}function J2(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const JM=(t,e=500)=>{let n="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-e),s,(r,i,o,l)=>{var a,c;const d=((c=(a=r.type.spec).toText)===null||c===void 0?void 0:c.call(a,{node:r,pos:i,parent:o,index:l}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?d:d.slice(0,Math.max(0,s-i))}),n};function df(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Hc{constructor(e){this.find=e.find,this.handler=e.handler}}const ZM=(t,e)=>{if(df(e))return e.exec(t);const n=e(t);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=t,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function Ql(t){var e;const{editor:n,from:s,to:r,text:i,rules:o,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const c=a.state.doc.resolve(s);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let d=!1;const h=JM(c)+i;return o.forEach(f=>{if(d)return;const p=ZM(h,f.find);if(!p)return;const y=a.state.tr,v=Fc({state:a.state,transaction:y}),k={from:s-(p[0].length-i.length),to:r},{commands:S,chain:E,can:T}=new Bc({editor:n,state:v});f.handler({state:v,range:k,match:p,commands:S,chain:E,can:T})===null||!y.steps.length||(y.setMeta(l,{transform:y,from:s,to:r,text:i}),a.dispatch(y),d=!0)}),d}function YM(t){const{editor:e,rules:n}=t,s=new sn({state:{init(){return null},apply(r,i){const o=r.getMeta(s);if(o)return o;const l=r.getMeta("applyInputRules");return!!l&&setTimeout(()=>{const{from:c,text:d}=l,h=c+d.length;Ql({editor:e,from:c,to:h,text:d,rules:n,plugin:s})}),r.selectionSet||r.docChanged?null:i}},props:{handleTextInput(r,i,o,l){return Ql({editor:e,from:i,to:o,text:l,rules:n,plugin:s})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:i}=r.state.selection;i&&Ql({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(r,i){if(i.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?Ql({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function XM(t){return Object.prototype.toString.call(t).slice(8,-1)}function ea(t){return XM(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Uc(t,e){const n={...t};return ea(t)&&ea(e)&&Object.keys(e).forEach(s=>{ea(e[s])&&ea(t[s])?n[s]=Uc(t[s],e[s]):n[s]=e[s]}),n}class ks{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Se(ce(this,"addOptions",{name:this.name}))),this.storage=Se(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ks(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Uc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ks(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Se(ce(n,"addOptions",{name:n.name})),n.storage=Se(ce(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:s}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const a=o.find(c=>(c==null?void 0:c.type.name)===n.name);return a&&s.removeStoredMark(a),s.insertText(" ",r.pos),e.view.dispatch(s),!0}return!1}}function QM(t){return typeof t=="number"}class eA{constructor(e){this.find=e.find,this.handler=e.handler}}const tA=(t,e,n)=>{if(df(e))return[...t.matchAll(e)];const s=e(t,n);return s?s.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function nA(t){const{editor:e,state:n,from:s,to:r,rule:i,pasteEvent:o,dropEvent:l}=t,{commands:a,chain:c,can:d}=new Bc({editor:e,state:n}),h=[];return n.doc.nodesBetween(s,r,(p,y)=>{if(!p.isTextblock||p.type.spec.code)return;const v=Math.max(s,y),k=Math.min(r,y+p.content.size),S=p.textBetween(v-y,k-y,void 0,"￼");tA(S,i.find,o).forEach(T=>{if(T.index===void 0)return;const P=v+T.index+1,D=P+T[0].length,F={from:n.tr.mapping.map(P),to:n.tr.mapping.map(D)},M=i.handler({state:n,range:F,match:T,commands:a,chain:c,can:d,pasteEvent:o,dropEvent:l});h.push(M)})}),h.every(p=>p!==null)}const sA=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function rA(t){const{editor:e,rules:n}=t;let s=null,r=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;const a=({state:d,from:h,to:f,rule:p,pasteEvt:y})=>{const v=d.tr,k=Fc({state:d,transaction:v});if(!(!nA({editor:e,state:k,from:Math.max(h-1,0),to:f.b-1,rule:p,pasteEvent:y,dropEvent:l})||!v.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v};return n.map(d=>new sn({view(h){const f=p=>{var y;s=!((y=h.dom.parentElement)===null||y===void 0)&&y.contains(p.target)?h.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(h,f)=>(i=s===h.dom.parentElement,l=f,!1),paste:(h,f)=>{var p;const y=(p=f.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return o=f,r=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(h,f,p)=>{const y=h[0],v=y.getMeta("uiEvent")==="paste"&&!r,k=y.getMeta("uiEvent")==="drop"&&!i,S=y.getMeta("applyPasteRules"),E=!!S;if(!v&&!k&&!E)return;if(E){const{from:D,text:F}=S,M=D+F.length,b=sA(F);return a({rule:d,state:p,from:D,to:{b:M},pasteEvt:b})}const T=f.doc.content.findDiffStart(p.doc.content),P=f.doc.content.findDiffEnd(p.doc.content);if(!(!QM(T)||!P||T===P.b))return a({rule:d,state:p,from:T,to:P,pasteEvt:o})}}))}function iA(t){const e=t.filter((n,s)=>t.indexOf(n)!==s);return Array.from(new Set(e))}class gi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=gi.resolve(e),this.schema=GM(this.extensions,n),this.setupExtensions()}static resolve(e){const n=gi.sort(gi.flatten(e)),s=iA(n.map(r=>r.name));return s.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${s.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const s={name:n.name,options:n.options,storage:n.storage},r=ce(n,"addExtensions",s);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(e){return e.sort((s,r)=>{const i=ce(s,"priority")||100,o=ce(r,"priority")||100;return i>o?-1:i<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const s={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Wu(n.name,this.schema)},r=ce(n,"addCommands",s);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,n=gi.sort([...this.extensions].reverse()),s=[],r=[],i=n.map(o=>{const l={name:o.name,options:o.options,storage:o.storage,editor:e,type:Wu(o.name,this.schema)},a=[],c=ce(o,"addKeyboardShortcuts",l);let d={};if(o.type==="mark"&&ce(o,"exitable",l)&&(d.ArrowRight=()=>ks.handleExit({editor:e,mark:o})),c){const v=Object.fromEntries(Object.entries(c()).map(([k,S])=>[k,()=>S({editor:e})]));d={...d,...v}}const h=CM(d);a.push(h);const f=ce(o,"addInputRules",l);J2(o,e.options.enableInputRules)&&f&&s.push(...f());const p=ce(o,"addPasteRules",l);J2(o,e.options.enablePasteRules)&&p&&r.push(...p());const y=ce(o,"addProseMirrorPlugins",l);if(y){const v=y();a.push(...v)}return a}).flat();return[YM({editor:e,rules:s}),...rA({editor:e,rules:r}),...i]}get attributes(){return Jg(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Vc(this.extensions);return Object.fromEntries(n.filter(s=>!!ce(s,"addNodeView")).map(s=>{const r=this.attributes.filter(a=>a.type===s.name),i={name:s.name,options:s.options,storage:s.storage,editor:e,type:mt(s.name,this.schema)},o=ce(s,"addNodeView",i);if(!o)return[];const l=(a,c,d,h,f)=>{const p=zd(a,r);return o()({node:a,view:c,getPos:d,decorations:h,innerDecorations:f,editor:e,extension:s,HTMLAttributes:p})};return[s.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const s={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Wu(e.name,this.schema)};e.type==="mark"&&(!((n=Se(ce(e,"keepOnSplit",s)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const r=ce(e,"onBeforeCreate",s),i=ce(e,"onCreate",s),o=ce(e,"onUpdate",s),l=ce(e,"onSelectionUpdate",s),a=ce(e,"onTransaction",s),c=ce(e,"onFocus",s),d=ce(e,"onBlur",s),h=ce(e,"onDestroy",s);r&&this.editor.on("beforeCreate",r),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),c&&this.editor.on("focus",c),d&&this.editor.on("blur",d),h&&this.editor.on("destroy",h)})}}class Kt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Se(ce(this,"addOptions",{name:this.name}))),this.storage=Se(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Kt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Uc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Kt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Se(ce(n,"addOptions",{name:n.name})),n.storage=Se(ce(n,"addStorage",{name:n.name,options:n.options})),n}}function Yg(t,e,n){const{from:s,to:r}=e,{blockSeparator:i=`

`,textSerializers:o={}}=n||{};let l="";return t.nodesBetween(s,r,(a,c,d,h)=>{var f;a.isBlock&&c>s&&(l+=i);const p=o==null?void 0:o[a.type.name];if(p)return d&&(l+=p({node:a,pos:c,parent:d,index:h,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(s,c)-c,r-c))}),l}function Xg(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const oA=Kt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new sn({key:new Gn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:s,selection:r}=e,{ranges:i}=r,o=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),a=Xg(n);return Yg(s,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),lA=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),aA=(t=!1)=>({commands:e})=>e.setContent("",t),cA=()=>({state:t,tr:e,dispatch:n})=>{const{selection:s}=e,{ranges:r}=s;return n&&r.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,a)=>{if(l.type.isText)return;const{doc:c,mapping:d}=e,h=c.resolve(d.map(a)),f=c.resolve(d.map(a+l.nodeSize)),p=h.blockRange(f);if(!p)return;const y=Xi(p);if(l.type.isTextblock){const{defaultType:v}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(p.start,v)}(y||y===0)&&e.lift(p,y)})}),!0},uA=t=>e=>t(e),dA=()=>({state:t,dispatch:e})=>LM(t,e),hA=(t,e)=>({editor:n,tr:s})=>{const{state:r}=n,i=r.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const o=s.mapping.map(e);return s.insert(o,i.content),s.setSelection(new xe(s.doc.resolve(o-1))),!0},fA=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,s=n.$anchor.node();if(s.content.size>0)return!1;const r=t.selection.$anchor;for(let i=r.depth;i>0;i-=1)if(r.node(i).type===s.type){if(e){const l=r.before(i),a=r.after(i);t.delete(l,a).scrollIntoView()}return!0}return!1},pA=t=>({tr:e,state:n,dispatch:s})=>{const r=mt(t,n.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r){if(s){const a=i.before(o),c=i.after(o);e.delete(a,c).scrollIntoView()}return!0}return!1},mA=t=>({tr:e,dispatch:n})=>{const{from:s,to:r}=t;return n&&e.delete(s,r),!0},gA=()=>({state:t,dispatch:e})=>wM(t,e),yA=()=>({commands:t})=>t.keyboardShortcut("Enter"),vA=()=>({state:t,dispatch:e})=>OM(t,e);function nc(t,e,n={strict:!0}){const s=Object.keys(e);return s.length?s.every(r=>n.strict?e[r]===t[r]:df(e[r])?e[r].test(t[r]):e[r]===t[r]):!0}function Wd(t,e,n={}){return t.find(s=>s.type===e&&nc(s.attrs,n))}function CA(t,e,n={}){return!!Wd(t,e,n)}function hf(t,e,n={}){if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(c=>c.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(c=>c.type===e))return;const r=Wd([...s.node.marks],e,n);if(!r)return;let i=s.index,o=t.start()+s.offset,l=i+1,a=o+s.node.nodeSize;for(Wd([...s.node.marks],e,n);i>0&&r.isInSet(t.parent.child(i-1).marks);)i-=1,o-=t.parent.child(i).nodeSize;for(;l<t.parent.childCount&&CA([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:o,to:a}}function mr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const wA=(t,e={})=>({tr:n,state:s,dispatch:r})=>{const i=mr(t,s.schema),{doc:o,selection:l}=n,{$from:a,from:c,to:d}=l;if(r){const h=hf(a,i,e);if(h&&h.from<=c&&h.to>=d){const f=xe.create(o,h.from,h.to);n.setSelection(f)}}return!0},bA=t=>e=>{const n=typeof t=="function"?t(e):t;for(let s=0;s<n.length;s+=1)if(n[s](e))return!0;return!1};function Qg(t){return t instanceof xe}function Er(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function e5(t,e=null){if(!e)return null;const n=_e.atStart(t),s=_e.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return s;const r=n.from,i=s.to;return e==="all"?xe.create(t,Er(0,r,i),Er(t.content.size,r,i)):xe.create(t,Er(e,r,i),Er(e,r,i))}function ff(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const kA=(t=null,e={})=>({editor:n,view:s,tr:r,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{ff()&&s.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(s.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!Qg(n.state.selection))return o(),!0;const l=e5(r.doc,t)||n.state.selection,a=n.state.selection.eq(l);return i&&(a||r.setSelection(l),a&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},xA=(t,e)=>n=>t.every((s,r)=>e(s,{...n,index:r})),_A=(t,e)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),t5=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const s=e[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?t.removeChild(s):s.nodeType===1&&t5(s)}return t};function ta(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return t5(n)}function sc(t,e,n){n={slice:!0,parseOptions:{},...n};const s=typeof t=="object"&&t!==null,r=typeof t=="string";if(s)try{if(Array.isArray(t)&&t.length>0)return q.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),sc("",e,n)}if(r){if(n.errorOnInvalidContent){let o=!1,l="";const a=new z3({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,l=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?nr.fromSchema(a).parseSlice(ta(t),n.parseOptions):nr.fromSchema(a).parse(ta(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=nr.fromSchema(e);return n.slice?i.parseSlice(ta(t),n.parseOptions).content:i.parse(ta(t),n.parseOptions)}return sc("",e,n)}function SA(t,e,n){const s=t.steps.length-1;if(s<e)return;const r=t.steps[s];if(!(r instanceof ht||r instanceof ft))return;const i=t.mapping.maps[s];let o=0;i.forEach((l,a,c,d)=>{o===0&&(o=d)}),t.setSelection(_e.near(t.doc.resolve(o),n))}const TA=t=>!("type"in t),EA=(t,e,n)=>({tr:s,dispatch:r,editor:i})=>{var o;if(r){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=sc(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:i.options.enableContentCheck})}catch(y){return i.emit("contentError",{editor:i,error:y,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}}),!1}let{from:a,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},d=!0,h=!0;if((TA(l)?l:[l]).forEach(y=>{y.check(),d=d?y.isText&&y.marks.length===0:!1,h=h?y.isBlock:!1}),a===c&&h){const{parent:y}=s.doc.resolve(a);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(a-=1,c+=1)}let p;d?(Array.isArray(e)?p=e.map(y=>y.text||"").join(""):typeof e=="object"&&e&&e.text?p=e.text:p=e,s.insertText(p,a,c)):(p=l,s.replaceWith(a,c,p)),n.updateSelection&&SA(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:a,text:p}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:a,text:p})}return!0},MA=()=>({state:t,dispatch:e})=>EM(t,e),AA=()=>({state:t,dispatch:e})=>MM(t,e),IA=()=>({state:t,dispatch:e})=>bM(t,e),OA=()=>({state:t,dispatch:e})=>SM(t,e),LA=()=>({state:t,dispatch:e,tr:n})=>{try{const s=Lc(t.doc,t.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},PA=()=>({state:t,dispatch:e,tr:n})=>{try{const s=Lc(t.doc,t.selection.$from.pos,1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},NA=()=>({state:t,dispatch:e})=>kM(t,e),DA=()=>({state:t,dispatch:e})=>xM(t,e);function n5(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function RA(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let s,r,i,o;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))s=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))ff()||n5()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return s&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const $A=t=>({editor:e,view:n,tr:s,dispatch:r})=>{const i=RA(t).split(/-(?!$)/),o=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,l))});return a==null||a.steps.forEach(c=>{const d=c.map(s.mapping);d&&r&&s.maybeStep(d)}),!0};function ol(t,e,n={}){const{from:s,to:r,empty:i}=t.selection,o=e?mt(e,t.schema):null,l=[];t.doc.nodesBetween(s,r,(h,f)=>{if(h.isText)return;const p=Math.max(s,f),y=Math.min(r,f+h.nodeSize);l.push({node:h,from:p,to:y})});const a=r-s,c=l.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>nc(h.node.attrs,n,{strict:!1}));return i?!!c.length:c.reduce((h,f)=>h+f.to-f.from,0)>=a}const FA=(t,e={})=>({state:n,dispatch:s})=>{const r=mt(t,n.schema);return ol(n,r,e)?AM(n,s):!1},BA=()=>({state:t,dispatch:e})=>PM(t,e),VA=t=>({state:e,dispatch:n})=>{const s=mt(t,e.schema);return HM(s)(e,n)},HA=()=>({state:t,dispatch:e})=>IM(t,e);function jc(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Z2(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((s,r)=>(n.includes(r)||(s[r]=t[r]),s),{})}const UA=(t,e)=>({tr:n,state:s,dispatch:r})=>{let i=null,o=null;const l=jc(typeof t=="string"?t:t.name,s.schema);return l?(l==="node"&&(i=mt(t,s.schema)),l==="mark"&&(o=mr(t,s.schema)),r&&n.selection.ranges.forEach(a=>{s.doc.nodesBetween(a.$from.pos,a.$to.pos,(c,d)=>{i&&i===c.type&&n.setNodeMarkup(d,void 0,Z2(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(h=>{o===h.type&&n.addMark(d,d+c.nodeSize,o.create(Z2(h.attrs,e)))})})}),!0):!1},jA=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),zA=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),WA=()=>({state:t,dispatch:e})=>_M(t,e),qA=()=>({state:t,dispatch:e})=>TM(t,e),KA=()=>({state:t,dispatch:e})=>NM(t,e),GA=()=>({state:t,dispatch:e})=>$M(t,e),JA=()=>({state:t,dispatch:e})=>RM(t,e);function qd(t,e,n={},s={}){return sc(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}const ZA=(t,e=!1,n={},s={})=>({editor:r,tr:i,dispatch:o,commands:l})=>{var a,c;const{doc:d}=i;if(n.preserveWhitespace!=="full"){const h=qd(t,r.schema,n,{errorOnInvalidContent:(a=s.errorOnInvalidContent)!==null&&a!==void 0?a:r.options.enableContentCheck});return o&&i.replaceWith(0,d.content.size,h).setMeta("preventUpdate",!e),!0}return o&&i.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:d.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=s.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck})};function s5(t,e){const n=mr(e,t.schema),{from:s,to:r,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,r,a=>{o.push(...a.marks)});const l=o.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function YA(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function XA(t,e){for(let n=t.depth;n>0;n-=1){const s=t.node(n);if(e(s))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:s}}}function pf(t){return e=>XA(e.$from,t)}function QA(t,e){const n=Zr.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function eI(t,e){const n={from:0,to:t.content.size};return Yg(t,n,e)}function tI(t,e){const n=mt(e,t.schema),{from:s,to:r}=t.selection,i=[];t.doc.nodesBetween(s,r,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function nI(t,e){const n=jc(typeof e=="string"?e:e.name,t.schema);return n==="node"?tI(t,e):n==="mark"?s5(t,e):{}}function r5(t,e,n){const s=[];return t===e?n.resolve(t).marks().forEach(r=>{const i=n.resolve(t),o=hf(i,r.type);o&&s.push({mark:r,...o})}):n.nodesBetween(t,e,(r,i)=>{!r||(r==null?void 0:r.nodeSize)===void 0||s.push(...r.marks.map(o=>({from:i,to:i+r.nodeSize,mark:o})))}),s}function fa(t,e,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const r=t.find(i=>i.type===e&&i.name===s);return r?r.attribute.keepOnSplit:!1}))}function Kd(t,e,n={}){const{empty:s,ranges:r}=t.selection,i=e?mr(e,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(h=>i?i.name===h.type.name:!0).find(h=>nc(h.attrs,n,{strict:!1}));let o=0;const l=[];if(r.forEach(({$from:h,$to:f})=>{const p=h.pos,y=f.pos;t.doc.nodesBetween(p,y,(v,k)=>{if(!v.isText&&!v.marks.length)return;const S=Math.max(p,k),E=Math.min(y,k+v.nodeSize),T=E-S;o+=T,l.push(...v.marks.map(P=>({mark:P,from:S,to:E})))})}),o===0)return!1;const a=l.filter(h=>i?i.name===h.mark.type.name:!0).filter(h=>nc(h.mark.attrs,n,{strict:!1})).reduce((h,f)=>h+f.to-f.from,0),c=l.filter(h=>i?h.mark.type!==i&&h.mark.type.excludes(i):!0).reduce((h,f)=>h+f.to-f.from,0);return(a>0?a+c:a)>=o}function sI(t,e,n={}){if(!e)return ol(t,null,n)||Kd(t,null,n);const s=jc(e,t.schema);return s==="node"?ol(t,e,n):s==="mark"?Kd(t,e,n):!1}function Y2(t,e){const{nodeExtensions:n}=Vc(e),s=n.find(o=>o.name===t);if(!s)return!1;const r={name:s.name,options:s.options,storage:s.storage},i=Se(ce(s,"group",r));return typeof i!="string"?!1:i.split(" ").includes("list")}function mf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((s=t.text)!==null&&s!==void 0?s:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let r=!0;return t.content.forEach(i=>{r!==!1&&(mf(i,{ignoreWhitespace:n,checkChildren:e})||(r=!1))}),r}return!1}function rI(t){return t instanceof ge}function iI(t,e,n){var s;const{selection:r}=e;let i=null;if(Qg(r)&&(i=r.$cursor),i){const l=(s=t.storedMarks)!==null&&s!==void 0?s:i.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:o}=r;return o.some(({$from:l,$to:a})=>{let c=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(d,h,f)=>{if(c)return!1;if(d.isInline){const p=!f||f.type.allowsMarkType(n),y=!!n.isInSet(d.marks)||!d.marks.some(v=>v.type.excludes(n));c=p&&y}return!c}),c})}const oI=(t,e={})=>({tr:n,state:s,dispatch:r})=>{const{selection:i}=n,{empty:o,ranges:l}=i,a=mr(t,s.schema);if(r)if(o){const c=s5(s,a);n.addStoredMark(a.create({...c,...e}))}else l.forEach(c=>{const d=c.$from.pos,h=c.$to.pos;s.doc.nodesBetween(d,h,(f,p)=>{const y=Math.max(p,d),v=Math.min(p+f.nodeSize,h);f.marks.find(S=>S.type===a)?f.marks.forEach(S=>{a===S.type&&n.addMark(y,v,a.create({...S.attrs,...e}))}):n.addMark(y,v,a.create(e))})});return iI(s,n,a)},lI=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),aI=(t,e={})=>({state:n,dispatch:s,chain:r})=>{const i=mt(t,n.schema);return i.isTextblock?r().command(({commands:o})=>q2(i,e)(n)?!0:o.clearNodes()).command(({state:o})=>q2(i,e)(o,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},cI=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,r=Er(t,0,s.content.size),i=ge.create(s,r);e.setSelection(i)}return!0},uI=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,{from:r,to:i}=typeof t=="number"?{from:t,to:t}:t,o=xe.atStart(s).from,l=xe.atEnd(s).to,a=Er(r,o,l),c=Er(i,o,l),d=xe.create(s,a,c);e.setSelection(d)}return!0},dI=t=>({state:e,dispatch:n})=>{const s=mt(t,e.schema);return zM(s)(e,n)};function X2(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const s=n.filter(r=>e==null?void 0:e.includes(r.type.name));t.tr.ensureMarks(s)}}const hI=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:s,editor:r})=>{const{selection:i,doc:o}=e,{$from:l,$to:a}=i,c=r.extensionManager.attributes,d=fa(c,l.node().type.name,l.node().attrs);if(i instanceof ge&&i.node.isBlock)return!l.parentOffset||!Mi(o,l.pos)?!1:(s&&(t&&X2(n,r.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const h=a.parentOffset===a.parent.content.size,f=l.depth===0?void 0:YA(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=h&&f?[{type:f,attrs:d}]:void 0,y=Mi(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!y&&Mi(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(y=!0,p=f?[{type:f,attrs:d}]:void 0),s){if(y&&(i instanceof xe&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,p),f&&!h&&!l.parentOffset&&l.parent.type!==f)){const v=e.mapping.map(l.before()),k=e.doc.resolve(v);l.node(-1).canReplaceWith(k.index(),k.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&X2(n,r.extensionManager.splittableMarks),e.scrollIntoView()}return y},fI=(t,e={})=>({tr:n,state:s,dispatch:r,editor:i})=>{var o;const l=mt(t,s.schema),{$from:a,$to:c}=s.selection,d=s.selection.node;if(d&&d.isBlock||a.depth<2||!a.sameParent(c))return!1;const h=a.node(-1);if(h.type!==l)return!1;const f=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let S=q.empty;const E=a.index(-1)?1:a.index(-2)?2:3;for(let b=a.depth-E;b>=a.depth-3;b-=1)S=q.from(a.node(b).copy(S));const T=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,P={...fa(f,a.node().type.name,a.node().attrs),...e},D=((o=l.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(P))||void 0;S=S.append(q.from(l.createAndFill(null,D)||void 0));const F=a.before(a.depth-(E-1));n.replace(F,a.after(-T),new te(S,4-E,0));let M=-1;n.doc.nodesBetween(F,n.doc.content.size,(b,w)=>{if(M>-1)return!1;b.isTextblock&&b.content.size===0&&(M=w+1)}),M>-1&&n.setSelection(xe.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const p=c.pos===a.end()?h.contentMatchAt(0).defaultType:null,y={...fa(f,h.type.name,h.attrs),...e},v={...fa(f,a.node().type.name,a.node().attrs),...e};n.delete(a.pos,c.pos);const k=p?[{type:l,attrs:y},{type:p,attrs:v}]:[{type:l,attrs:y}];if(!Mi(n.doc,a.pos,2))return!1;if(r){const{selection:S,storedMarks:E}=s,{splittableMarks:T}=i.extensionManager,P=E||S.$to.parentOffset&&S.$from.marks();if(n.split(a.pos,2,k).scrollIntoView(),!P||!r)return!0;const D=P.filter(F=>T.includes(F.type.name));n.ensureMarks(D)}return!0},qu=(t,e)=>{const n=pf(o=>o.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const r=t.doc.nodeAt(s);return n.node.type===(r==null?void 0:r.type)&&fr(t.doc,n.pos)&&t.join(n.pos),!0},Ku=(t,e)=>{const n=pf(o=>o.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const r=t.doc.nodeAt(s);return n.node.type===(r==null?void 0:r.type)&&fr(t.doc,s)&&t.join(s),!0},pI=(t,e,n,s={})=>({editor:r,tr:i,state:o,dispatch:l,chain:a,commands:c,can:d})=>{const{extensions:h,splittableMarks:f}=r.extensionManager,p=mt(t,o.schema),y=mt(e,o.schema),{selection:v,storedMarks:k}=o,{$from:S,$to:E}=v,T=S.blockRange(E),P=k||v.$to.parentOffset&&v.$from.marks();if(!T)return!1;const D=pf(F=>Y2(F.type.name,h))(v);if(T.depth>=1&&D&&T.depth-D.depth<=1){if(D.node.type===p)return c.liftListItem(y);if(Y2(D.node.type.name,h)&&p.validContent(D.node.content)&&l)return a().command(()=>(i.setNodeMarkup(D.pos,p),!0)).command(()=>qu(i,p)).command(()=>Ku(i,p)).run()}return!n||!P||!l?a().command(()=>d().wrapInList(p,s)?!0:c.clearNodes()).wrapInList(p,s).command(()=>qu(i,p)).command(()=>Ku(i,p)).run():a().command(()=>{const F=d().wrapInList(p,s),M=P.filter(b=>f.includes(b.type.name));return i.ensureMarks(M),F?!0:c.clearNodes()}).wrapInList(p,s).command(()=>qu(i,p)).command(()=>Ku(i,p)).run()},mI=(t,e={},n={})=>({state:s,commands:r})=>{const{extendEmptyMarkRange:i=!1}=n,o=mr(t,s.schema);return Kd(s,o,e)?r.unsetMark(o,{extendEmptyMarkRange:i}):r.setMark(o,e)},gI=(t,e,n={})=>({state:s,commands:r})=>{const i=mt(t,s.schema),o=mt(e,s.schema),l=ol(s,i,n);let a;return s.selection.$anchor.sameParent(s.selection.$head)&&(a=s.selection.$anchor.parent.attrs),l?r.setNode(o,a):r.setNode(i,{...a,...n})},yI=(t,e={})=>({state:n,commands:s})=>{const r=mt(t,n.schema);return ol(n,r,e)?s.lift(r):s.wrapIn(r,e)},vI=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let s=0;s<n.length;s+=1){const r=n[s];let i;if(r.spec.isInputRules&&(i=r.getState(t))){if(e){const o=t.tr,l=i.transform;for(let a=l.steps.length-1;a>=0;a-=1)o.step(l.steps[a].invert(l.docs[a]));if(i.text){const a=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,a))}else o.delete(i.from,i.to)}return!0}}return!1},CI=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:s,ranges:r}=n;return s||e&&r.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},wI=(t,e={})=>({tr:n,state:s,dispatch:r})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=n,a=mr(t,s.schema),{$from:c,empty:d,ranges:h}=l;if(!r)return!0;if(d&&o){let{from:f,to:p}=l;const y=(i=c.marks().find(k=>k.type===a))===null||i===void 0?void 0:i.attrs,v=hf(c,a,y);v&&(f=v.from,p=v.to),n.removeMark(f,p,a)}else h.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},bI=(t,e={})=>({tr:n,state:s,dispatch:r})=>{let i=null,o=null;const l=jc(typeof t=="string"?t:t.name,s.schema);return l?(l==="node"&&(i=mt(t,s.schema)),l==="mark"&&(o=mr(t,s.schema)),r&&n.selection.ranges.forEach(a=>{const c=a.$from.pos,d=a.$to.pos;s.doc.nodesBetween(c,d,(h,f)=>{i&&i===h.type&&n.setNodeMarkup(f,void 0,{...h.attrs,...e}),o&&h.marks.length&&h.marks.forEach(p=>{if(o===p.type){const y=Math.max(f,c),v=Math.min(f+h.nodeSize,d);n.addMark(y,v,o.create({...p.attrs,...e}))}})})}),!0):!1},kI=(t,e={})=>({state:n,dispatch:s})=>{const r=mt(t,n.schema);return FM(r,e)(n,s)},xI=(t,e={})=>({state:n,dispatch:s})=>{const r=mt(t,n.schema);return BM(r,e)(n,s)};var _I=Object.freeze({__proto__:null,blur:lA,clearContent:aA,clearNodes:cA,command:uA,createParagraphNear:dA,cut:hA,deleteCurrentNode:fA,deleteNode:pA,deleteRange:mA,deleteSelection:gA,enter:yA,exitCode:vA,extendMarkRange:wA,first:bA,focus:kA,forEach:xA,insertContent:_A,insertContentAt:EA,joinBackward:IA,joinDown:AA,joinForward:OA,joinItemBackward:LA,joinItemForward:PA,joinTextblockBackward:NA,joinTextblockForward:DA,joinUp:MA,keyboardShortcut:$A,lift:FA,liftEmptyBlock:BA,liftListItem:VA,newlineInCode:HA,resetAttributes:UA,scrollIntoView:jA,selectAll:zA,selectNodeBackward:WA,selectNodeForward:qA,selectParentNode:KA,selectTextblockEnd:GA,selectTextblockStart:JA,setContent:ZA,setMark:oI,setMeta:lI,setNode:aI,setNodeSelection:cI,setTextSelection:uI,sinkListItem:dI,splitBlock:hI,splitListItem:fI,toggleList:pI,toggleMark:mI,toggleNode:gI,toggleWrap:yI,undoInputRule:vI,unsetAllMarks:CI,unsetMark:wI,updateAttributes:bI,wrapIn:kI,wrapInList:xI});const SI=Kt.create({name:"commands",addCommands(){return{..._I}}}),TI=Kt.create({name:"drop",addProseMirrorPlugins(){return[new sn({key:new Gn("tiptapDrop"),props:{handleDrop:(t,e,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:s})}}})]}}),EI=Kt.create({name:"editable",addProseMirrorPlugins(){return[new sn({key:new Gn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),MI=Kt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new sn({key:new Gn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,n)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),AI=Kt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:a,doc:c}=l,{empty:d,$anchor:h}=a,{pos:f,parent:p}=h,y=h.parent.isTextblock&&f>0?l.doc.resolve(f-1):h,v=y.parent.type.spec.isolating,k=h.pos-h.parentOffset,S=v&&y.parent.childCount===1?k===h.pos:_e.atStart(c).from===f;return!d||!p.type.isTextblock||p.textContent.length||!S||S&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...s},i={...s,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ff()||n5()?i:r},addProseMirrorPlugins(){return[new sn({key:new Gn("clearDocument"),appendTransaction:(t,e,n)=>{const s=t.some(v=>v.docChanged)&&!e.doc.eq(n.doc),r=t.some(v=>v.getMeta("preventClearDocument"));if(!s||r)return;const{empty:i,from:o,to:l}=e.selection,a=_e.atStart(e.doc).from,c=_e.atEnd(e.doc).to;if(i||!(o===a&&l===c)||!mf(n.doc))return;const f=n.tr,p=Fc({state:n,transaction:f}),{commands:y}=new Bc({editor:this.editor,state:p});if(y.clearNodes(),!!f.steps.length)return f}})]}}),II=Kt.create({name:"paste",addProseMirrorPlugins(){return[new sn({key:new Gn("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),OI=Kt.create({name:"tabindex",addProseMirrorPlugins(){return[new sn({key:new Gn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class xr{get name(){return this.node.type.name}constructor(e,n,s=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new xr(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new xr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new xr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,s)=>{const r=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,o=this.pos+s+(i?0:1),l=this.resolvedPos.doc.resolve(o);if(!r&&l.depth<=this.depth)return;const a=new xr(l,this.editor,r,r?n:null);r&&(a.actualDepth=this.depth+1),e.push(new xr(l,this.editor,r,r?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let s=null,r=this.parent;for(;r&&!s;){if(r.node.type.name===e)if(Object.keys(n).length>0){const i=r.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const a=o[l];if(i[a]!==n[a])break}}else s=r;r=r.parent}return s}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},s=!1){let r=[];if(!this.children||this.children.length===0)return r;const i=Object.keys(n);return this.children.forEach(o=>{s&&r.length>0||(o.node.type.name===e&&i.every(a=>n[a]===o.node.attrs[a])&&r.push(o),!(s&&r.length>0)&&(r=r.concat(o.querySelectorAll(e,n,s))))}),r}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const LI=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function PI(t,e,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}let NI=class extends WM{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:r})=>this.options.onDrop(n,s,r)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=PI(LI,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const s=Zg(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:s});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let s=n;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;s=n.filter(l=>!l.key.startsWith(o))}),n.length===s.length)return;const r=this.state.reconfigure({plugins:s});return this.view.updateState(r),r}createExtensionManager(){var e,n;const r=[...this.options.enableCoreExtensions?[EI,oA.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),SI,MI,AI,OI,TI,II].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new gi(r,this)}createCommandManager(){this.commandManager=new Bc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=qd(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(i){if(!(i instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(i.message))throw i;this.emit("contentError",{editor:this,error:i,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=qd(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=e5(e,this.options.autofocus);this.view=new uM(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:mi.create({doc:e,selection:n||void 0})}),this.view.dom.setAttribute("role","textbox"),this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(o)});return}const n=this.state.apply(e),s=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),s&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),i=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),i&&this.emit("blur",{editor:this,event:i.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return nI(this.state,e)}isActive(e,n){const s=typeof e=="string"?e:null,r=typeof e=="string"?n:e;return sI(this.state,s,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return QA(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:s={}}=e||{};return eI(this.state.doc,{blockSeparator:n,textSerializers:{...Xg(this.schema),...s}})}get isEmpty(){return mf(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelector(e,n))||null}$nodes(e,n){var s;return((s=this.$doc)===null||s===void 0?void 0:s.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new xr(n,this)}get $doc(){return this.$pos(0)}};function zi(t){return new Hc({find:t.find,handler:({state:e,range:n,match:s})=>{const r=Se(t.getAttributes,void 0,s);if(r===!1||r===null)return null;const{tr:i}=e,o=s[s.length-1],l=s[0];if(o){const a=l.search(/\S/),c=n.from+l.indexOf(o),d=c+o.length;if(r5(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(v=>v===t.type&&v!==p.mark.type)).filter(p=>p.to>c).length)return null;d<n.to&&i.delete(d,n.to),c>n.from&&i.delete(n.from+a,c);const f=n.from+a+o.length;i.addMark(n.from+a,f,t.type.create(r||{})),i.removeStoredMark(t.type)}}})}function DI(t){return new Hc({find:t.find,handler:({state:e,range:n,match:s})=>{const r=Se(t.getAttributes,void 0,s)||{},{tr:i}=e,o=n.from;let l=n.to;const a=t.type.create(r);if(s[1]){const c=s[0].lastIndexOf(s[1]);let d=o+c;d>l?d=l:l=d+s[1].length;const h=s[0][s[0].length-1];i.insertText(h,o+s[0].length-1),i.replaceWith(d,l,a)}else if(s[0]){const c=t.type.isInline?o:o-1;i.insert(c,t.type.create(r)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()}})}function Gd(t){return new Hc({find:t.find,handler:({state:e,range:n,match:s})=>{const r=e.doc.resolve(n.from),i=Se(t.getAttributes,void 0,s)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function ll(t){return new Hc({find:t.find,handler:({state:e,range:n,match:s,chain:r})=>{const i=Se(t.getAttributes,void 0,s)||{},o=e.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),c=a&&Xh(a,t.type,i);if(!c)return null;if(o.wrap(a,c),t.keepMarks&&t.editor){const{selection:h,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,y=f||h.$to.parentOffset&&h.$from.marks();if(y){const v=y.filter(k=>p.includes(k.type.name));o.ensureMarks(v)}}if(t.keepAttributes){const h=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(h,i).run()}const d=o.doc.resolve(n.from-1).nodeBefore;d&&d.type===t.type&&fr(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(s,d))&&o.join(n.from-1)}})}class tn{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Se(ce(this,"addOptions",{name:this.name}))),this.storage=Se(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new tn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Uc(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new tn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Se(ce(n,"addOptions",{name:n.name})),n.storage=Se(ce(n,"addStorage",{name:n.name,options:n.options})),n}}function Wi(t){return new eA({find:t.find,handler:({state:e,range:n,match:s,pasteEvent:r})=>{const i=Se(t.getAttributes,void 0,s,r);if(i===!1||i===null)return null;const{tr:o}=e,l=s[s.length-1],a=s[0];let c=n.to;if(l){const d=a.search(/\S/),h=n.from+a.indexOf(l),f=h+l.length;if(r5(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(k=>k===t.type&&k!==y.mark.type)).filter(y=>y.to>h).length)return null;f<n.to&&o.delete(f,n.to),h>n.from&&o.delete(n.from+d,h),c=n.from+d+l.length,o.addMark(n.from+d,c,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function Q2(t){return uh((e,n)=>({get(){return e(),t},set(s){t=s,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class RI extends NI{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=Q2(this.view.state),this.reactiveExtensionStorage=Q2(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),dl(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,n){const s=super.registerPlugin(e,n);return this.reactiveState&&(this.reactiveState.value=s),s}unregisterPlugin(e){const n=super.unregisterPlugin(e);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const $I=Gi({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const e=ue(),n=cn();return xh(()=>{const s=t.editor;s&&s.options.element&&e.value&&Gr(()=>{if(!e.value||!s.options.element.firstChild)return;const r=st(e.value);e.value.append(...s.options.element.childNodes),s.contentComponent=n.ctx._,n&&(s.appContext={...n.appContext,provides:n.provides}),s.setOptions({element:r}),s.createNodeViews()})}),fl(()=>{const s=t.editor;s&&(s.contentComponent=null,s.appContext=null)}),{rootEl:e}},render(){return gl("div",{ref:t=>{this.rootEl=t}})}}),FI=/^\s*>\s$/,BI=tn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ll({find:FI,type:this.type})]}}),VI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,HI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,UI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,jI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,zI=ks.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[zi({find:VI,type:this.type}),zi({find:UI,type:this.type})]},addPasteRules(){return[Wi({find:HI,type:this.type}),Wi({find:jI,type:this.type})]}}),WI="listItem",e0="textStyle",t0=/^\s*([-+*])\s$/,qI=tn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(WI,this.editor.getAttributes(e0)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ll({find:t0,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ll({find:t0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(e0),editor:this.editor})),[t]}}),KI=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,GI=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,JI=ks.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[zi({find:KI,type:this.type})]},addPasteRules(){return[Wi({find:GI,type:this.type})]}}),ZI=/^```([a-z]+)?[\s\n]$/,YI=/^~~~([a-z]+)?[\s\n]$/,XI=tn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,i=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Pt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:r}=n;if(!r||s.parent.type!==this.type)return!1;const i=s.parentOffset===s.parent.nodeSize-2,o=s.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const l=r.after();return l===void 0?!1:s.nodeAt(l)?t.commands.command(({tr:c})=>(c.setSelection(_e.near(s.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[Gd({find:ZI,type:this.type,getAttributes:t=>({language:t[1]})}),Gd({find:YI,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new sn({key:new Gn("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),r=s?JSON.parse(s):void 0,i=r==null?void 0:r.mode;if(!n||!i)return!1;const{tr:o,schema:l}=t.state,a=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},a)),o.selection.$from.parent.type!==this.type&&o.setSelection(xe.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),QI=tn.create({name:"doc",topNode:!0,content:"block+"});function eO(t={}){return new sn({view(e){return new tO(e,t)}})}class tO{constructor(e,n){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,s;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let c=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(c){let d=c.getBoundingClientRect(),h=l?d.bottom:d.top;l&&a&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),s={left:d.left,right:d.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!s){let l=this.editorView.coordsAtPos(this.cursorPos);s={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,o=-pageYOffset;else{let l=r.getBoundingClientRect();i=l.left-r.scrollLeft,o=l.top-r.scrollTop}this.element.style.left=s.left-i+"px",this.element.style.top=s.top-o+"px",this.element.style.width=s.right-s.left+"px",this.element.style.height=s.bottom-s.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=s&&s.type.spec.disableDropCursor,i=typeof r=="function"?r(this.editorView,n,e):r;if(n&&!i){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=tg(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const nO=Kt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[eO(this.options)]}});class nt extends _e{constructor(e){super(e,e)}map(e,n){let s=e.resolve(n.map(this.head));return nt.valid(s)?new nt(s):_e.near(s)}content(){return te.empty}eq(e){return e instanceof nt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new nt(e.resolve(n.pos))}getBookmark(){return new gf(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!sO(e)||!rO(e))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let r=n.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,n,s=!1){e:for(;;){if(!s&&nt.valid(e))return e;let r=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;r+=n;let a=e.doc.resolve(r);if(nt.valid(a))return a}for(;;){let o=n>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!ge.isSelectable(i)){e=e.doc.resolve(r+i.nodeSize*n),s=!1;continue e}break}i=o,r+=n;let l=e.doc.resolve(r);if(nt.valid(l))return l}return null}}}nt.prototype.visible=!1;nt.findFrom=nt.findGapCursorFrom;_e.jsonID("gapcursor",nt);class gf{constructor(e){this.pos=e}map(e){return new gf(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return nt.valid(n)?new nt(n):_e.near(n)}}function sO(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function rO(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function iO(){return new sn({props:{decorations:cO,createSelectionBetween(t,e,n){return e.pos==n.pos&&nt.valid(n)?new nt(n):null},handleClick:lO,handleKeyDown:oO,handleDOMEvents:{beforeinput:aO}}})}const oO=Ug({ArrowLeft:na("horiz",-1),ArrowRight:na("horiz",1),ArrowUp:na("vert",-1),ArrowDown:na("vert",1)});function na(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,r,i){let o=s.selection,l=e>0?o.$to:o.$from,a=o.empty;if(o instanceof xe){if(!i.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=s.doc.resolve(e>0?l.after():l.before())}let c=nt.findGapCursorFrom(l,e,a);return c?(r&&r(s.tr.setSelection(new nt(c))),!0):!1}}function lO(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!nt.valid(s))return!1;let r=t.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&ge.isSelectable(t.state.doc.nodeAt(r.inside))?!1:(t.dispatch(t.state.tr.setSelection(new nt(s))),!0)}function aO(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof nt))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let r=q.empty;for(let o=s.length-1;o>=0;o--)r=q.from(s[o].createAndFill(null,r));let i=t.state.tr.replace(n.pos,n.pos,new te(r,0,0));return i.setSelection(xe.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function cO(t){if(!(t.selection instanceof nt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",lt.create(t.doc,[yn.widget(t.selection.head,e,{key:"gapcursor"})])}const uO=Kt.create({name:"gapCursor",addProseMirrorPlugins(){return[iO()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Se(ce(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),dO=tn.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Pt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:r,storedMarks:i}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=s.extensionManager,a=i||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&a&&o){const h=a.filter(f=>l.includes(f.type.name));c.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),hO=tn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Pt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Gd({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var rc=200,pt=function(){};pt.prototype.append=function(e){return e.length?(e=pt.from(e),!this.length&&e||e.length<rc&&this.leafAppend(e)||this.length<rc&&e.leafPrepend(this)||this.appendInner(e)):this};pt.prototype.prepend=function(e){return e.length?pt.from(e).append(this):this};pt.prototype.appendInner=function(e){return new fO(this,e)};pt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?pt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};pt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};pt.prototype.forEach=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(e,n,s,0):this.forEachInvertedInner(e,n,s,0)};pt.prototype.map=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var r=[];return this.forEach(function(i,o){return r.push(e(i,o))},n,s),r};pt.from=function(e){return e instanceof pt?e:e&&e.length?new i5(e):pt.empty};var i5=function(t){function e(s){t.call(this),this.values=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,i){return r==0&&i==this.length?this:new e(this.values.slice(r,i))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,i,o,l){for(var a=i;a<o;a++)if(r(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){for(var a=i-1;a>=o;a--)if(r(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=rc)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=rc)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(pt);pt.empty=new i5([]);var fO=function(t){function e(n,s){t.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,r,i,o){var l=this.left.length;if(r<l&&this.left.forEachInner(s,r,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(s,Math.max(r-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(s,r,i,o){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(s,r-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(s,Math.min(r,l),i,o)===!1)return!1},e.prototype.sliceInner=function(s,r){if(s==0&&r==this.length)return this;var i=this.left.length;return r<=i?this.left.slice(s,r):s>=i?this.right.slice(s-i,r-i):this.left.slice(s,i).append(this.right.slice(0,r-i))},e.prototype.leafAppend=function(s){var r=this.right.leafAppend(s);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(s){var r=this.left.leafPrepend(s);if(r)return new e(r,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e}(pt);const pO=500;class Tn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let r,i;n&&(r=this.remapping(s,this.items.length),i=r.maps.length);let o=e.tr,l,a,c=[],d=[];return this.items.forEach((h,f)=>{if(!h.step){r||(r=this.remapping(s,f+1),i=r.maps.length),i--,d.push(h);return}if(r){d.push(new Fn(h.map));let p=h.step.map(r.slice(i)),y;p&&o.maybeStep(p).doc&&(y=o.mapping.maps[o.mapping.maps.length-1],c.push(new Fn(y,void 0,void 0,c.length+d.length))),i--,y&&r.appendMap(y,i)}else o.maybeStep(h.step);if(h.selection)return l=r?h.selection.map(r.slice(i)):h.selection,a=new Tn(this.items.slice(0,s).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:o,selection:l}}addTransform(e,n,s,r){let i=[],o=this.eventCount,l=this.items,a=!r&&l.length?l.get(l.length-1):null;for(let d=0;d<e.steps.length;d++){let h=e.steps[d].invert(e.docs[d]),f=new Fn(e.mapping.maps[d],h,n),p;(p=a&&a.merge(f))&&(f=p,d?i.pop():l=l.slice(0,l.length-1)),i.push(f),n&&(o++,n=void 0),r||(a=f)}let c=o-s.depth;return c>gO&&(l=mO(l,c),o-=c),new Tn(l.append(i),o)}remapping(e,n){let s=new Ei;return this.items.forEach((r,i)=>{let o=r.mirrorOffset!=null&&i-r.mirrorOffset>=e?s.maps.length-r.mirrorOffset:void 0;s.appendMap(r.map,o)},e,n),s}addMaps(e){return this.eventCount==0?this:new Tn(this.items.append(e.map(n=>new Fn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let s=[],r=Math.max(0,this.items.length-n),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},r);let a=n;this.items.forEach(f=>{let p=i.getMirror(--a);if(p==null)return;o=Math.min(o,p);let y=i.maps[p];if(f.step){let v=e.steps[p].invert(e.docs[p]),k=f.selection&&f.selection.map(i.slice(a+1,p));k&&l++,s.push(new Fn(y,v,k))}else s.push(new Fn(y))},r);let c=[];for(let f=n;f<o;f++)c.push(new Fn(i.maps[f]));let d=this.items.slice(0,r).append(c).append(s),h=new Tn(d,l);return h.emptyItemCount()>pO&&(h=h.compress(this.items.length-s.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),s=n.maps.length,r=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)r.push(o),o.selection&&i++;else if(o.step){let a=o.step.map(n.slice(s)),c=a&&a.getMap();if(s--,c&&n.appendMap(c,s),a){let d=o.selection&&o.selection.map(n.slice(s));d&&i++;let h=new Fn(c.invert(),a,d),f,p=r.length-1;(f=r.length&&r[p].merge(h))?r[p]=f:r.push(h)}}else o.map&&s--},this.items.length,0),new Tn(pt.from(r.reverse()),i)}}Tn.empty=new Tn(pt.empty,0);function mO(t,e){let n;return t.forEach((s,r)=>{if(s.selection&&e--==0)return n=r,!1}),t.slice(n)}class Fn{constructor(e,n,s,r){this.map=e,this.step=n,this.selection=s,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Fn(n.getMap().invert(),n,this.selection)}}}class Us{constructor(e,n,s,r,i){this.done=e,this.undone=n,this.prevRanges=s,this.prevTime=r,this.prevComposition=i}}const gO=20;function yO(t,e,n,s){let r=n.getMeta($r),i;if(r)return r.historyState;n.getMeta(wO)&&(t=new Us(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta($r))return o.getMeta($r).redo?new Us(t.done.addTransform(n,void 0,s,pa(e)),t.undone,n0(n.mapping.maps),t.prevTime,t.prevComposition):new Us(t.done,t.undone.addTransform(n,void 0,s,pa(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-s.newGroupDelay||!vO(n,t.prevRanges)),c=o?Gu(t.prevRanges,n.mapping):n0(n.mapping.maps);return new Us(t.done.addTransform(n,a?e.selection.getBookmark():void 0,s,pa(e)),Tn.empty,c,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Us(t.done.rebased(n,i),t.undone.rebased(n,i),Gu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Us(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Gu(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function vO(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((s,r)=>{for(let i=0;i<e.length;i+=2)s<=e[i+1]&&r>=e[i]&&(n=!0)}),n}function n0(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((s,r,i,o)=>e.push(i,o));return e}function Gu(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let r=e.map(t[s],1),i=e.map(t[s+1],-1);r<=i&&n.push(r,i)}return n}function CO(t,e,n){let s=pa(e),r=$r.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,s);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),r,s),a=new Us(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta($r,{redo:n,historyState:a})}let Ju=!1,s0=null;function pa(t){let e=t.plugins;if(s0!=e){Ju=!1,s0=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Ju=!0;break}}return Ju}const $r=new Gn("history"),wO=new Gn("closeHistory");function bO(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new sn({key:$r,state:{init(){return new Us(Tn.empty,Tn.empty,null,0,-1)},apply(e,n,s){return yO(n,s,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let s=n.inputType,r=s=="historyUndo"?l5:s=="historyRedo"?a5:null;return r?(n.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function o5(t,e){return(n,s)=>{let r=$r.getState(n);if(!r||(t?r.undone:r.done).eventCount==0)return!1;if(s){let i=CO(r,n,t);i&&s(e?i.scrollIntoView():i)}return!0}}const l5=o5(!1,!0),a5=o5(!0,!0),kO=Kt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>l5(t,e),redo:()=>({state:t,dispatch:e})=>a5(t,e)}},addProseMirrorPlugins(){return[bO(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),xO=tn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Pt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:s,$to:r}=n,i=t();return s.parentOffset===0?i.insertContentAt({from:Math.max(s.pos-1,0),to:r.pos},{type:this.name}):rI(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:o,dispatch:l})=>{var a;if(l){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(xe.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(ge.create(o.doc,c.pos)):o.setSelection(xe.create(o.doc,c.pos));else{const h=(a=c.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();h&&(o.insert(d,h),o.setSelection(xe.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[DI({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),_O=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,SO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,TO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,EO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,MO=ks.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[zi({find:_O,type:this.type}),zi({find:TO,type:this.type})]},addPasteRules(){return[Wi({find:SO,type:this.type}),Wi({find:EO,type:this.type})]}}),AO=tn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Pt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),IO="listItem",r0="textStyle",i0=/^(\d+)\.\s$/,OO=tn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Pt(this.options.HTMLAttributes,n),0]:["ol",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(IO,this.editor.getAttributes(r0)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ll({find:i0,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ll({find:i0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(r0)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),LO=tn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),PO=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,NO=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,DO=ks.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[zi({find:PO,type:this.type})]},addPasteRules(){return[Wi({find:NO,type:this.type})]}}),RO=tn.create({name:"text",group:"inline"}),$O=Kt.create({name:"starterKit",addExtensions(){var t,e,n,s,r,i,o,l,a,c,d,h,f,p,y,v,k,S;const E=[];return this.options.bold!==!1&&E.push(zI.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&E.push(BI.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&E.push(qI.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&E.push(JI.configure((s=this.options)===null||s===void 0?void 0:s.code)),this.options.codeBlock!==!1&&E.push(XI.configure((r=this.options)===null||r===void 0?void 0:r.codeBlock)),this.options.document!==!1&&E.push(QI.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&E.push(nO.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&E.push(uO.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&E.push(dO.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&E.push(hO.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&E.push(kO.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&E.push(xO.configure((h=this.options)===null||h===void 0?void 0:h.horizontalRule)),this.options.italic!==!1&&E.push(MO.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&E.push(AO.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&E.push(OO.configure((y=this.options)===null||y===void 0?void 0:y.orderedList)),this.options.paragraph!==!1&&E.push(LO.configure((v=this.options)===null||v===void 0?void 0:v.paragraph)),this.options.strike!==!1&&E.push(DO.configure((k=this.options)===null||k===void 0?void 0:k.strike)),this.options.text!==!1&&E.push(RO.configure((S=this.options)===null||S===void 0?void 0:S.text)),E}}),FO=ks.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Pt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),BO={name:"RichTextInput",props:{modelValue:{type:String,default:""}},components:{EditorContent:$I},emits:["update:modelValue"],data(){return{editor:null}},watch:{modelValue(t){t!==this.editor.getHTML()&&this.editor.commands.setContent(t)}},computed:{isBoldActive(){return this.editor&&this.editor.isActive("bold")},isItalicActive(){return this.editor&&this.editor.isActive("italic")},isUnderlineActive(){return this.editor&&this.editor.isActive("underline")},isHeadingActive(){return t=>this.editor&&this.editor.isActive("heading",{level:t})},isBulletListActive(){return this.editor&&this.editor.isActive("bulletList")},isOrderedListActive(){return this.editor&&this.editor.isActive("orderedList")}},mounted(){this.editor=new RI({extensions:[FO,$O],content:this.modelValue,onUpdate:({editor:t})=>{this.$emit("update:modelValue",t.getHTML())}})},methods:{toggleBold(){this.editor.chain().focus().toggleBold().run()},toggleItalic(){this.editor.chain().focus().toggleItalic().run()},toggleUnderline(){this.editor.chain().focus().toggleUnderline().run()},toggleHeading(t){this.editor.chain().focus().toggleHeading({level:t}).run()},toggleBulletList(){this.editor.chain().focus().toggleBulletList().run()},toggleOrderedList(){this.editor.chain().focus().toggleOrderedList().run()}},beforeUnmount(){this.editor.destroy()}},VO={class:"editor-toolbar"};function HO(t,e,n,s,r,i){const o=hr("EditorContent");return $(),H("div",null,[g("div",VO,[g("button",{onClick:e[0]||(e[0]=(...l)=>i.toggleBold&&i.toggleBold(...l)),class:Fe({active:i.isBoldActive})},e[11]||(e[11]=[g("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M16.457 11.868A4.47 4.47 0 0 0 18 8.5 5.506 5.506 0 0 0 12.5 3H5v19h8.5a5.497 5.497 0 0 0 2.957-10.132zM8 6h4.5a2.5 2.5 0 0 1 0 5H8zm5.5 13H8v-5h5.5a2.5 2.5 0 0 1 0 5z"}),g("path",{fill:"none",d:"M0 0h24v24H0z"})],-1)]),2),g("button",{onClick:e[1]||(e[1]=(...l)=>i.toggleItalic&&i.toggleItalic(...l)),class:Fe({active:i.isItalicActive})},e[12]||(e[12]=[g("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("g",{id:"Edit / Italic"},[g("path",{id:"Vector",d:"M8 19H10M10 19H12M10 19L14 5M12 5H14M14 5H16",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)]),2),g("button",{onClick:e[2]||(e[2]=(...l)=>i.toggleUnderline&&i.toggleUnderline(...l)),class:Fe({active:i.isUnderlineActive})},e[13]||(e[13]=[g("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M4 21H20M18 4V11C18 14.3137 15.3137 17 12 17C8.68629 17 6 14.3137 6 11V4M4 3H8M16 3H20",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2),g("button",{onClick:e[3]||(e[3]=l=>i.toggleHeading(1)),class:Fe({active:i.isHeadingActive(1)})},"H1",2),g("button",{onClick:e[4]||(e[4]=l=>i.toggleHeading(2)),class:Fe({active:i.isHeadingActive(2)})},"H2",2),g("button",{onClick:e[5]||(e[5]=l=>i.toggleHeading(3)),class:Fe({active:i.isHeadingActive(3)})},"H3",2),g("button",{onClick:e[6]||(e[6]=l=>i.toggleHeading(4)),class:Fe({active:i.isHeadingActive(4)})},"H4",2),g("button",{onClick:e[7]||(e[7]=l=>i.toggleHeading(5)),class:Fe({active:i.isHeadingActive(5)})},"H5",2),g("button",{onClick:e[8]||(e[8]=l=>i.toggleHeading(6)),class:Fe({active:i.isHeadingActive(6)})},"H6",2),g("button",{onClick:e[9]||(e[9]=(...l)=>i.toggleBulletList&&i.toggleBulletList(...l)),class:Fe({active:i.isBulletListActive})},e[14]||(e[14]=[g("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M8 6.00067L21 6.00139M8 12.0007L21 12.0015M8 18.0007L21 18.0015M3.5 6H3.51M3.5 12H3.51M3.5 18H3.51M4 6C4 6.27614 3.77614 6.5 3.5 6.5C3.22386 6.5 3 6.27614 3 6C3 5.72386 3.22386 5.5 3.5 5.5C3.77614 5.5 4 5.72386 4 6ZM4 12C4 12.2761 3.77614 12.5 3.5 12.5C3.22386 12.5 3 12.2761 3 12C3 11.7239 3.22386 11.5 3.5 11.5C3.77614 11.5 4 11.7239 4 12ZM4 18C4 18.2761 3.77614 18.5 3.5 18.5C3.22386 18.5 3 18.2761 3 18C3 17.7239 3.22386 17.5 3.5 17.5C3.77614 17.5 4 17.7239 4 18Z",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2),g("button",{onClick:e[10]||(e[10]=(...l)=>i.toggleOrderedList&&i.toggleOrderedList(...l)),class:Fe({active:i.isOrderedListActive})},e[15]||(e[15]=[g("svg",{width:"16px",height:"16px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M10 6L21 6.00066M10 12L21 12.0007M10 18L21 18.0007M3 5L5 4V10M5 10H3M5 10H7M7 20H3L6.41274 17.0139C6.78593 16.6873 7 16.2156 7 15.7197C7 14.7699 6.23008 14 5.28033 14H5C4.06808 14 3.28503 14.6374 3.06301 15.5",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),2)]),Y(o,{editor:r.editor},null,8,["editor"])])}const UO=Sc(BO,[["render",HO]]),jO={class:"section"},zO={class:"container create-agreement-page"},WO={class:"col form-col create-agreement-form",style:{height:"fit-content"}},qO={class:"multi-setp-form-content"},KO={class:"input-group mb-1"},GO={class:"agreement-type-select"},JO={class:"select-item",for:"AT-nda-from"},ZO={class:"select-item",for:"AT-fixed-price-contract"},YO={class:"select-item",for:"AT-hourly-contract"},XO={class:"select-item",for:"AT-reimbursement-contract"},QO={class:"select-item",for:"AT-cost-plus-contract"},eL={class:"select-item",for:"AT-bilateral-contract"},tL={class:"select-item",for:"AT-time-and-material-contract"},nL={class:"select-item",for:"AT-other"},sL={class:"input-group"},rL={class:"multi-setp-form-content"},iL={class:"input-group"},oL={class:"input-group"},lL={class:"label",style:{display:"flex","align-items":"center",gap:"10px"}},aL={key:0,class:"selected-agreement-type-info warning mt-1"},cL={class:"multi-setp-form-content"},uL={class:"required-documents-select"},dL={class:"required-document-item",for:"RD-photo"},hL={class:"required-document-item",for:"RD-id-card"},fL={class:"required-document-item",for:"RD-passport"},pL={class:"required-document-item",for:"RD-drivers-license"},mL={class:"required-document-item",for:"RD-custom"},gL={class:"input-group mt-1 custom-doc-name-input"},yL={class:"multi-setp-form-footer"},vL={style:{transform:"rotate(180deg)"},width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},CL={class:"col preview-col"},wL=3,bL={__name:"CreateAgreement",setup(t){const e=Nt.useToast(),s=un().setGlobalLoading,r=nn(),i=he(()=>(r.userProfile||{}).organizationName),o=Yi(),l=ue(1),a=ue({agreementType:"nda-from",agreementName:"",agreementFile:"",agreementText:"",requiredDocuments:[],customDocumentName:""});function c(y){a.value.agreementText=y}function d(){if(l.value===wL){p();return}window.scrollTo(0,0),l.value++}function h(){l.value!==1&&l.value--}const f=he(()=>a.value.agreementFile&&a.value.agreementText.trim()&&a.value.agreementText.trim()!=="<p></p>");async function p(){if(a.value.agreementName.trim()){if(a.value.agreementName.trim().length<10){e.error("Agreement name must be at least 10 characters"),l.value=1;return}}else{e.error("Agreement name is required"),l.value=1;return}if(!a.value.agreementFile&&!a.value.agreementText){e.error("Agreement file or text is required"),l.value=2;return}if(!a.value.agreementFile){if(a.value.agreementText&&a.value.agreementText.trim().length<100){e.error("Agreement text must be at least 100 characters"),l.value=2;return}else if(a.value.agreementText&&a.value.agreementText.trim().length>1e5){e.error("Agreement text must not exceed 100,000 characters"),l.value=2;return}}if(a.value.requiredDocuments.includes("custom")&&!a.value.customDocumentName.trim()){e.error("Custom document name is required"),l.value=3;return}s(!0);try{const y=await Sb({...a.value,agreementType:a.value.agreementType.replace(/-/g," ").toLowerCase()}),{success:v,content:k,message:S}=y;if(!v){e.error(S||"Error saving agreement"),s(!1);return}e.success("Agreement saved successfully"),o.addAgreement(k),Ct.push("/dashboard")}catch(y){e.error("Failed to save agreement"),console.error(y)}s(!1)}return(y,v)=>{const k=ys("gradientbg");return ye(($(),H("section",jO,[g("div",zO,[g("div",WO,[v[44]||(v[44]=g("h2",{class:"title"},"Create new agreement",-1)),Y(aS,{step:l.value},null,8,["step"]),ye(g("div",qO,[g("div",KO,[v[25]||(v[25]=g("label",{class:"label"},"Agreement type",-1)),g("div",GO,[g("label",JO,[ye(g("input",{type:"radio",name:"agreement-type",value:"nda-from",checked:"",id:"AT-nda-from","onUpdate:modelValue":v[0]||(v[0]=S=>a.value.agreementType=S)},null,512),[[xn,a.value.agreementType]]),v[17]||(v[17]=g("span",null,"NDA Form",-1))]),g("label",ZO,[ye(g("input",{type:"radio",name:"agreement-type",value:"fixed-price-contract",id:"AT-fixed-price-contract","onUpdate:modelValue":v[1]||(v[1]=S=>a.value.agreementType=S)},null,512),[[xn,a.value.agreementType]]),v[18]||(v[18]=g("span",null,"Fixed Price Contract",-1))]),g("label",YO,[ye(g("input",{type:"radio",name:"agreement-type",value:"hourly-contract",id:"AT-hourly-contract","onUpdate:modelValue":v[2]||(v[2]=S=>a.value.agreementType=S)},null,512),[[xn,a.value.agreementType]]),v[19]||(v[19]=g("span",null,"Hourly Contract",-1))]),g("label",XO,[ye(g("input",{type:"radio",name:"agreement-type",value:"reimbursement-contract",id:"AT-reimbursement-contract","onUpdate:modelValue":v[3]||(v[3]=S=>a.value.agreementType=S)},null,512),[[xn,a.value.agreementType]]),v[20]||(v[20]=g("span",null,"Reimbursement Contract",-1))]),g("label",QO,[ye(g("input",{type:"radio",name:"agreement-type",value:"cost-plus-contract",id:"AT-cost-plus-contract","onUpdate:modelValue":v[4]||(v[4]=S=>a.value.agreementType=S)},null,512),[[xn,a.value.agreementType]]),v[21]||(v[21]=g("span",null,"Cost Plus Contract",-1))]),g("label",eL,[ye(g("input",{type:"radio",name:"agreement-type",value:"bilateral-contract",id:"AT-bilateral-contract","onUpdate:modelValue":v[5]||(v[5]=S=>a.value.agreementType=S)},null,512),[[xn,a.value.agreementType]]),v[22]||(v[22]=g("span",null,"Bilateral Contract",-1))]),g("label",tL,[ye(g("input",{type:"radio",name:"agreement-type",value:"time-and-material-contract",id:"AT-time-and-material-contract","onUpdate:modelValue":v[6]||(v[6]=S=>a.value.agreementType=S)},null,512),[[xn,a.value.agreementType]]),v[23]||(v[23]=g("span",null,"Time and Material Contract",-1))]),g("label",nL,[ye(g("input",{type:"radio",name:"agreement-type",value:"other",id:"AT-other","onUpdate:modelValue":v[7]||(v[7]=S=>a.value.agreementType=S)},null,512),[[xn,a.value.agreementType]]),v[24]||(v[24]=g("span",null,"Other (Custom)",-1))])])]),Y(hS,{seletedForm:a.value.agreementType},null,8,["seletedForm"]),g("div",sL,[v[26]||(v[26]=g("label",{class:"label"},"Agreement name",-1)),v[27]||(v[27]=g("p",{class:"sublabel"},"Give your agreement a name that will help you identify it later",-1)),ye(g("input",{maxlength:"80",type:"text",class:"input",placeholder:"Agreement name","onUpdate:modelValue":v[8]||(v[8]=S=>a.value.agreementName=S)},null,512),[[Ue,a.value.agreementName]])])],512),[[Oo,l.value===1]]),ye(g("div",rL,[g("div",iL,[v[28]||(v[28]=g("label",{class:"label"},"Agreement file",-1)),Y(rn,{onFileSelected:v[9]||(v[9]=S=>a.value.agreementFile=S)})]),v[31]||(v[31]=g("div",{class:"or-indicator my-1-5"},[g("div",{class:"hr"}),g("span",{class:"text"},"or"),g("div",{class:"hr"})],-1)),g("div",oL,[g("label",lL,[v[29]||(v[29]=g("span",null,"Write agreement",-1)),Y(RS,{agreementType:a.value.agreementType.replace(/-/g," "),orgName:i.value,onContent:c},null,8,["agreementType","orgName"])]),Y(UO,{modelValue:a.value.agreementText,"onUpdate:modelValue":v[10]||(v[10]=S=>a.value.agreementText=S)},null,8,["modelValue"])]),f.value?($(),H("div",aL,v[30]||(v[30]=[g("p",{class:"title"},"Warning",-1),g("p",{class:"info main"},"You have a file selected but also some text in input box! Only the text in the input box will be saved.",-1),g("p",{class:"info"},"Clear the text in the input box if you want to save the file instead.",-1)]))):de("",!0)],512),[[Oo,l.value===2]]),ye(g("div",cL,[v[41]||(v[41]=g("div",{class:"input-group"},[g("label",{class:"label"},"Required documents"),g("p",{class:"sublabel"},"Select the documents that the signee must provide")],-1)),g("div",uL,[g("label",dL,[ye(g("input",{type:"checkbox",name:"required-document",value:"photo",id:"RD-photo","onUpdate:modelValue":v[11]||(v[11]=S=>a.value.requiredDocuments=S)},null,512),[[Vn,a.value.requiredDocuments]]),v[32]||(v[32]=et('<svg class="icon" viewBox="0 -1 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Dribbble-Light-Preview" transform="translate(-260.000000, -2199.000000)" fill="#000000"><g id="icons" transform="translate(56.000000, 160.000000)"><path d="M226,2058 C226,2058.552 225.552,2059 225,2059 L221,2059 C220.448,2059 220,2058.552 220,2058 C220,2057.448 220.448,2057 221,2057 L225,2057 C225.552,2057 226,2057.448 226,2058 M214.623,2048.933 C214.037,2048.885 213.864,2048.893 213.368,2048.93 C212.017,2048.639 211,2047.437 211,2046 C211,2044.346 212.346,2043 214,2043 C215.654,2043 217,2044.346 217,2046 C217,2047.44 215.979,2048.645 214.623,2048.933 M206.012,2056.059 C206.011,2056.038 206,2056.021 206,2056 L206,2042 C206,2041.448 206.448,2041 207,2041 L213.936,2041 C211.205,2041.035 209,2043.257 209,2045.997 C209,2047.441 209.622,2048.734 210.602,2049.647 C208.107,2050.805 206.307,2053.204 206.012,2056.059 M214.064,2041 L221,2041 C221.552,2041 222,2041.448 222,2042 L222,2051.09 C222,2051.593 222.408,2052 222.91,2052 C223.668,2052 224,2051.594 224,2051.09 L224,2041 C224,2039.895 223.105,2039 222,2039 L206,2039 C204.895,2039 204,2039.895 204,2041 L204,2057 C204,2058.104 204.895,2059 206,2059 L216.09,2059 C216.593,2059 217,2058.593 217,2058.09 C217,2057.332 216.594,2057 216.09,2057 L207.975,2057 C207.974,2057 207.969,2056.934 207.969,2056.893 C207.969,2050.795 215.355,2049.989 217.21,2051.713 C218.221,2052.652 219.716,2051.151 218.596,2050.356 C218.214,2050.084 217.806,2049.845 217.375,2049.642 C218.368,2048.728 219,2047.443 219,2045.987 C219,2043.248 216.795,2041.035 214.064,2041" id="profile_image_minus_round-[#1329]"></path></g></g></g></svg><span class="text">Photo</span>',2))]),g("label",hL,[ye(g("input",{type:"checkbox",name:"required-document",value:"id-card",id:"RD-id-card","onUpdate:modelValue":v[12]||(v[12]=S=>a.value.requiredDocuments=S)},null,512),[[Vn,a.value.requiredDocuments]]),v[33]||(v[33]=et('<svg class="icon" viewBox="0 -0.5 25 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.5 7V17C3.5 18.1046 4.39543 19 5.5 19H19.5C20.6046 19 21.5 18.1046 21.5 17V7C21.5 5.89543 20.6046 5 19.5 5H5.5C4.39543 5 3.5 5.89543 3.5 7Z" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15.5 10H18.5" stroke="#000000" stroke-width="1.5" stroke-linecap="round"></path><path d="M15.5 13H18.5" stroke="#000000" stroke-width="1.5" stroke-linecap="round"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 10C11.5 11.1046 10.6046 12 9.5 12C8.39543 12 7.5 11.1046 7.5 10C7.5 8.89543 8.39543 8 9.5 8C10.0304 8 10.5391 8.21071 10.9142 8.58579C11.2893 8.96086 11.5 9.46957 11.5 10Z" stroke="#000000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 16C8.283 12.863 11.552 13.849 13.5 16" stroke="#000000" stroke-width="1.5" stroke-linecap="round"></path></svg><span class="text">ID Card</span>',2))]),g("label",fL,[ye(g("input",{type:"checkbox",name:"required-document",value:"passport",id:"RD-passport","onUpdate:modelValue":v[13]||(v[13]=S=>a.value.requiredDocuments=S)},null,512),[[Vn,a.value.requiredDocuments]]),v[34]||(v[34]=g("svg",{class:"icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5 18.5357V2.25L7.75991 2.25C5.97624 2.25254 4.5 3.66931 4.5 5.45455V21.75H19.5V20.25H6C6 19.3221 6.77841 18.5357 7.78125 18.5357H19.5ZM6 5.45455C6 4.53017 6.77286 3.75 7.76471 3.75H18V17.0357H7.78125C7.12794 17.0357 6.51512 17.2242 6 17.5507V5.45455ZM9.34805 9.75L8.32501 9.75C8.52407 8.76938 9.10577 7.92771 9.90749 7.38764C9.64746 8.0369 9.42796 8.82887 9.34805 9.75ZM6.75 10.5C6.75 7.89002 8.65454 5.72488 11.1497 5.31851L11.1523 5.31562L11.1735 5.2928L11.1807 5.28524L11.1834 5.28244L11.185 5.28075C11.1851 5.28066 11.1852 5.28057 11.2141 5.30843C11.4704 5.26995 11.7329 5.25 12 5.25C12.2671 5.25 12.5296 5.26995 12.7859 5.30843C12.8148 5.28057 12.8154 5.28118 12.8155 5.28128L12.8166 5.28244L12.8193 5.28525L12.8265 5.2928L12.8477 5.31562L12.8503 5.31851C15.3455 5.72488 17.25 7.89002 17.25 10.5C17.25 13.11 15.3455 15.2751 12.8503 15.6815L12.8477 15.6844L12.8265 15.7072L12.8193 15.7148L12.8166 15.7176L12.815 15.7192C12.8149 15.7193 12.8148 15.7194 12.7859 15.6916C12.5296 15.7301 12.2671 15.75 12 15.75C11.7329 15.75 11.4704 15.7301 11.2141 15.6916C11.1852 15.7194 11.1846 15.7188 11.1845 15.7187L11.1834 15.7176L11.1807 15.7148L11.1735 15.7072L11.1593 15.692L11.1523 15.6844L11.1497 15.6815C8.65454 15.2751 6.75 13.11 6.75 10.5ZM12.4392 7.37513C12.3089 7.12343 12.1794 6.91446 12.0674 6.75059C12.045 6.7502 12.0225 6.75 12 6.75C11.9775 6.75 11.955 6.7502 11.9326 6.75059C11.8206 6.91446 11.6911 7.12343 11.5608 7.37513C11.2617 7.95281 10.9602 8.75233 10.8549 9.75L13.1451 9.75C13.0398 8.75233 12.7383 7.95281 12.4392 7.37513ZM8.32501 11.25L9.34805 11.25C9.42796 12.1711 9.64746 12.9631 9.90749 13.6124C9.10578 13.0723 8.52407 12.2306 8.32501 11.25ZM11.5608 13.6249C11.6911 13.8766 11.8206 14.0855 11.9326 14.2494C11.955 14.2498 11.9775 14.25 12 14.25C12.0225 14.25 12.045 14.2498 12.0674 14.2494C12.1794 14.0855 12.3089 13.8766 12.4392 13.6249C12.7383 13.0472 13.0398 12.2477 13.1451 11.25L10.8549 11.25C10.9602 12.2477 11.2617 13.0472 11.5608 13.6249ZM15.675 11.25C15.4759 12.2306 14.8942 13.0723 14.0925 13.6124C14.3525 12.9631 14.572 12.1711 14.6519 11.25H15.675ZM14.0925 7.38764C14.3525 8.0369 14.572 8.82887 14.6519 9.75L15.675 9.75C15.4759 8.76938 14.8942 7.92771 14.0925 7.38764Z",fill:"#000"})],-1)),v[35]||(v[35]=g("span",{class:"text"},"Passport",-1))]),g("label",pL,[ye(g("input",{type:"checkbox",name:"required-document",value:"drivers-license",id:"RD-drivers-license","onUpdate:modelValue":v[14]||(v[14]=S=>a.value.requiredDocuments=S)},null,512),[[Vn,a.value.requiredDocuments]]),v[36]||(v[36]=et(`<svg fill="#000000" class="icon" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 60 60" xml:space="preserve"><g><path d="M52.29,44.29C52.109,44.479,52,44.74,52,45s0.1,0.52,0.29,0.71C52.479,45.89,52.74,46,53,46s0.52-0.11,0.71-0.29
                                        C53.89,45.52,54,45.26,54,45s-0.11-0.521-0.29-0.71C53.34,43.93,52.67,43.92,52.29,44.29z"></path><path d="M23.642,42.265L20,40.405v-0.387c1.628-0.889,2.773-2.353,3.412-4.365C24.381,35.14,25,34.14,25,33.018v-1
                                        c0-0.927-0.431-1.786-1.151-2.35c-0.624-3.78-3.262-5.696-7.849-5.696c-0.217,0-0.429,0.009-0.636,0.025
                                        c-1.206,0.099-2.364-0.161-3.224-0.741c-0.41-0.276-0.719-0.544-0.917-0.796c-0.444-0.563-1.368-0.587-1.841-0.059
                                        c-0.227,0.254-0.333,0.596-0.294,0.938c0.042,0.372,0.105,0.808,0.2,1.285c0.193,0.975,0.193,0.975-0.078,1.558
                                        c-0.102,0.221-0.228,0.49-0.376,0.853c-0.331,0.81-0.566,1.697-0.701,2.646C7.424,30.245,7,31.1,7,32.018v1
                                        c0,1.122,0.619,2.122,1.588,2.636c0.639,2.013,1.784,3.477,3.412,4.365v0.376l-3.77,1.857C6.854,43.003,6,44.443,6,46.011v1.324
                                        c0,0.803,0,2.683,10,2.683s10-1.88,10-2.683v-1.244C26,44.46,25.094,42.992,23.642,42.265z"></path><path d="M31,29.018h10c0.553,0,1-0.447,1-1s-0.447-1-1-1H31c-0.553,0-1,0.447-1,1S30.447,29.018,31,29.018z"></path><path d="M32,44.018h-1c-0.553,0-1,0.447-1,1s0.447,1,1,1h1c0.553,0,1-0.447,1-1S32.553,44.018,32,44.018z"></path><path d="M38,44.018h-2c-0.553,0-1,0.447-1,1s0.447,1,1,1h2c0.553,0,1-0.447,1-1S38.553,44.018,38,44.018z"></path><path d="M43,44.018h-1c-0.553,0-1,0.447-1,1s0.447,1,1,1h1c0.553,0,1-0.447,1-1S43.553,44.018,43,44.018z"></path><path d="M49,44.018h-2c-0.553,0-1,0.447-1,1s0.447,1,1,1h2c0.553,0,1-0.447,1-1S49.553,44.018,49,44.018z"></path><path d="M53,33.018H31c-0.553,0-1,0.447-1,1s0.447,1,1,1h22c0.553,0,1-0.447,1-1S53.553,33.018,53,33.018z"></path><path d="M53,39.018H31c-0.553,0-1,0.447-1,1s0.447,1,1,1h22c0.553,0,1-0.447,1-1S53.553,39.018,53,39.018z"></path><path d="M55.322,14H37V6.313C37,5.037,35.963,4,34.687,4h-9.375C24.037,4,23,5.037,23,6.313V14H4.678C2.099,14,0,16.099,0,18.678
                                        v32.645C0,53.901,2.099,56,4.678,56h50.645C57.901,56,60,53.901,60,51.322V18.678C60,16.099,57.901,14,55.322,14z M30,7
                                        c2.206,0,4,1.794,4,4s-1.794,4-4,4s-4-1.794-4-4S27.794,7,30,7z M58,51.322C58,52.799,56.799,54,55.322,54H4.678
                                        C3.201,54,2,52.799,2,51.322V18.678C2,17.201,3.201,16,4.678,16H23v3.688C23,20.963,24.037,22,25.312,22h9.375
                                        C35.963,22,37,20.963,37,19.688V16h18.322C56.799,16,58,17.201,58,18.678V51.322z"></path></g></svg><span class="text">Drivers License</span>`,2))]),g("label",mL,[ye(g("input",{type:"checkbox",name:"required-document",value:"custom",id:"RD-custom","onUpdate:modelValue":v[15]||(v[15]=S=>a.value.requiredDocuments=S)},null,512),[[Vn,a.value.requiredDocuments]]),v[37]||(v[37]=g("svg",{class:"icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M9 17H15M9 13H15M9 9H10M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H15.8C16.9201 21 17.4802 21 17.908 20.782C18.2843 20.5903 18.5903 20.2843 18.782 19.908C19 19.4802 19 18.9201 19 17.8V9M13 3L19 9M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),v[38]||(v[38]=g("span",{class:"text"},"Custom",-1))])]),g("div",gL,[v[39]||(v[39]=g("label",{class:"label"},"Custom document name",-1)),v[40]||(v[40]=g("p",{class:"sublabel"},"Signee will be able to upload any file of up to 100MB",-1)),ye(g("input",{placeholder:"eg. Introduction video",type:"text",class:"input","onUpdate:modelValue":v[16]||(v[16]=S=>a.value.customDocumentName=S)},null,512),[[Ue,a.value.customDocumentName]])])],512),[[Oo,l.value===3]]),g("div",yL,[g("span",{onClick:h,class:Fe(["back-link",{disabled:l.value===1}])},v[42]||(v[42]=[g("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z",fill:"#000000"})],-1),g("span",null,"back",-1)]),2),g("span",{onClick:d,class:"btn btn-sm",style:{gap:"1px"}},[g("span",null,fe(l.value===3?"Finish":"Next"),1),($(),H("svg",vL,v[43]||(v[43]=[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.7071 4.29289C16.0976 4.68342 16.0976 5.31658 15.7071 5.70711L9.41421 12L15.7071 18.2929C16.0976 18.6834 16.0976 19.3166 15.7071 19.7071C15.3166 20.0976 14.6834 20.0976 14.2929 19.7071L7.29289 12.7071C7.10536 12.5196 7 12.2652 7 12C7 11.7348 7.10536 11.4804 7.29289 11.2929L14.2929 4.29289C14.6834 3.90237 15.3166 3.90237 15.7071 4.29289Z",fill:"#fff"},null,-1)])))])])]),g("div",CL,[v[45]||(v[45]=g("p",{class:"title"},"Preview",-1)),Y(E3,{agreementModel:a.value},null,8,["agreementModel"])])])])),[[k]])}}},kL={key:0,class:"create-profile-info"},xL={__name:"CreateProfileMessage",setup(t){const e=ue(!0);return(n,s)=>e.value?($(),H("div",kL,[s[2]||(s[2]=g("p",{class:"text"},"You need to create a profile to continue using full features",-1)),($(),H("svg",{onClick:s[0]||(s[0]=r=>e.value=!1),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s[1]||(s[1]=[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))])):de("",!0)}},_L={key:0,class:"modal-wrapper"},SL={class:"modal-content"},TL={class:"modal-header"},EL={class:"modal-body"},ML=["src"],AL={class:"modal-footer"},c5={__name:"ImgUploader",props:["label","handler"],setup(t){const e=Nt.useToast(),n=t,s=ue(!1),r=ue(null),i=ue(null),o=ue(!1);async function l(){c.value&&(s.value=!1,n.handler(i.value))}async function a(d){if(!d){r.value=null,i.value=null;return}o.value=!0;try{const{blob:h,dataUrl:f}=await Kh(d,1e3,1e3);r.value=f,i.value=h}catch(h){console.log(h),e.error("Error resizing image")}o.value=!1}const c=he(()=>!o.value&&i.value);return(d,h)=>($(),H(Le,null,[g("button",{onClick:h[0]||(h[0]=f=>s.value=!0),class:"btn btn-outline btn-sm"},fe(t.label||"Upload photo"),1),($(),De(V0,{to:"body"},[s.value?($(),H("div",_L,[g("div",SL,[g("div",TL,[h[4]||(h[4]=g("h4",{class:"modal-title"},"Upload image",-1)),($(),H("svg",{onClick:h[1]||(h[1]=f=>s.value=!1),class:"cursor-pointer",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h[3]||(h[3]=[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM8.96963 8.96965C9.26252 8.67676 9.73739 8.67676 10.0303 8.96965L12 10.9393L13.9696 8.96967C14.2625 8.67678 14.7374 8.67678 15.0303 8.96967C15.3232 9.26256 15.3232 9.73744 15.0303 10.0303L13.0606 12L15.0303 13.9696C15.3232 14.2625 15.3232 14.7374 15.0303 15.0303C14.7374 15.3232 14.2625 15.3232 13.9696 15.0303L12 13.0607L10.0303 15.0303C9.73742 15.3232 9.26254 15.3232 8.96965 15.0303C8.67676 14.7374 8.67676 14.2625 8.96965 13.9697L10.9393 12L8.96963 10.0303C8.67673 9.73742 8.67673 9.26254 8.96963 8.96965Z",fill:"#1C274C"},null,-1)])))]),g("div",EL,[Y(rn,{accept:"image/jpeg, image/png",label:"Drag and drop or click to upload image",onFileSelected:a}),o.value?($(),De(bs,{key:0})):de("",!0),r.value?($(),H("img",{key:1,class:"mt-1",src:r.value,alt:"preview"},null,8,ML)):de("",!0)]),g("div",AL,[g("button",{onClick:h[2]||(h[2]=f=>s.value=!1),type:"button",class:"btn btn-md btn-outline"},"Cancel"),g("button",{onClick:l,class:Fe([{disabled:!c.value},"btn btn-md"]),type:"button"},"Save image",2)])])])):de("",!0)]))],64))}},IL={class:"profile-dp-form"},OL=["src"],LL={class:"data"},PL={class:"name"},NL={class:"email"},Jd={__name:"ProfileDP",props:["name","email","profilePicture"],emits:["update"],setup(t,{emit:e}){const s=un().setGlobalLoading,r=Nt.useToast(),i=e;async function o(l){s(!0);try{const{success:a,message:c,content:d}=await Db(l);if(!a){r.error(c||"Error saving image"),s(!1);return}r.success("Image saved successfully"),i("update",d)}catch(a){r.error(typeof a=="string"?a:a.message||"Error saving image")}s(!1)}return(l,a)=>($(),H("div",IL,[t.profilePicture?($(),H("img",{key:0,class:"dp-img",src:t.profilePicture,alt:""},null,8,OL)):de("",!0),g("div",LL,[g("p",PL,fe(t.name),1),g("p",NL,fe(t.email),1),Y(c5,{label:"Change photo",handler:o})])]))}},DL={key:0,class:"subscription-upgrade-overlay"},RL={class:"info"},$L={__name:"SubscriptionUpgradeOverlay",props:{message:{type:String,default:"You need to upgrade your subscription to access this feature."}},setup(t){const e=nn(),n=he(()=>e.subscription||{}),s=he(()=>(n.value.packageName||"").toLowerCase());return(r,i)=>{const o=hr("router-link");return s.value!=="standard"&&s.value!=="enterprise"?($(),H("div",DL,[g("p",RL,fe(t.message),1),Y(o,{to:"/pricing",class:"btn btn-md btn-outline",style:{"--Dark":"#fff"}},{default:Ze(()=>i[0]||(i[0]=[ke(" Change plan ")])),_:1})])):de("",!0)}}},FL={class:"input-group mb-1-5"},BL={class:"input-group mb-2"},VL={class:"branding-form"},HL={class:"input-group mb-1-5"},UL={class:"input-group"},jL={class:"org-logo"},zL=["src"],WL={__name:"ProfileDetailsForm",props:["userProfile"],emits:["logoUpdate","profileUpdate"],setup(t,{emit:e}){const n=Nt.useToast(),r=un().setGlobalLoading,i=t,o=ue(JSON.parse(JSON.stringify(i.userProfile||{})));fs(()=>i.userProfile,d=>{o.value=JSON.parse(JSON.stringify(d||{}))});const l=e;async function a(d){r(!0);try{const{success:h,message:f,content:p}=await Rb(d);if(!h){n.error(f||"Error saving image"),r(!1);return}n.success("Image saved successfully"),console.log(p),o.value.organizationLogo=p,l("logoUpdate",p)}catch(h){n.error(typeof h=="string"?h:h.message||"Error saving image")}r(!1)}async function c(){const d=["fullName","organizationName","organizationTagline"];for(let h of d)if(!o.value[h]){n.error("Please fill all the fields");return}for(let h of d)if(o.value[h].trim().length<3){console.log(h,o.value[h].trim()),n.error("All fields must be atleast 3 characters long");return}r(!0);try{const{success:h,message:f,content:p}=await $b(o.value.fullName,o.value.organizationName,o.value.organizationTagline);if(!h){n.error(f||"Error saving details"),r(!1);return}n.success("Details saved successfully"),l("profileUpdate",p)}catch(h){n.error(typeof h=="string"?h:h.message||"Error saving details")}r(!1)}return(d,h)=>($(),H(Le,null,[g("div",FL,[h[3]||(h[3]=g("label",{class:"label"},"Full name",-1)),ye(g("input",{maxlength:"100",type:"text",placeholder:"Enter your full name",class:"input","onUpdate:modelValue":h[0]||(h[0]=f=>o.value.fullName=f)},null,512),[[Ue,o.value.fullName]])]),g("div",BL,[h[4]||(h[4]=g("label",{class:"label"},"Organization name",-1)),h[5]||(h[5]=g("p",{class:"sublabel"},"Copmany name or just use your own name",-1)),ye(g("input",{maxlength:"100",type:"text",placeholder:"Enter organization name",class:"input","onUpdate:modelValue":h[1]||(h[1]=f=>o.value.organizationName=f)},null,512),[[Ue,o.value.organizationName]])]),g("div",VL,[Y($L),h[10]||(h[10]=g("h3",{class:"title"},"Branding",-1)),h[11]||(h[11]=g("h5",{class:"subtitle"}," These details will be shown on agreement signing page and emails to the signee",-1)),g("div",HL,[h[6]||(h[6]=g("label",{class:"label"},"Tagline",-1)),h[7]||(h[7]=g("p",{class:"sublabel"},"Write a short tagline/motto of your organization",-1)),ye(g("textarea",{class:"input","onUpdate:modelValue":h[2]||(h[2]=f=>o.value.organizationTagline=f),maxlength:"100"},null,512),[[Ue,o.value.organizationTagline]])]),g("div",UL,[h[8]||(h[8]=g("label",{class:"label"},"Logo/Banner",-1)),h[9]||(h[9]=g("p",{class:"sublabel"},"A logo or cover photo of your organization",-1)),g("div",jL,[o.value.organizationLogo?($(),H("img",{key:0,class:"logo",src:o.value.organizationLogo,alt:""},null,8,zL)):de("",!0),Y(c5,{handler:a})])])]),g("div",{class:"text-right mt-2"},[g("button",{onClick:c,class:"btn btn-md"},"Save details")])],64))}},qL={class:"section"},KL={class:"profile-page-wrapper"},GL={class:"dp-col col"},JL=["src"],ZL={class:"form-col col"},o0="/assets/images/default-dp.jpg",YL={__name:"ProfileView",setup(t){const e=nn(),n=he(()=>e.profileNotFound),s=he(()=>e.userProfile||{}),r=Ee.currentUser||{},i=he(()=>s.value.fullName||r.displayName||""),o=he(()=>r.email||""),l=he(()=>s.value.profilePicture||r.photoURL||o0);function a(c){console.log(1),console.log(c),e.setUserProfile({...s.value,...c})}return(c,d)=>{const h=ys("gradientbg");return $(),H(Le,null,[n.value?($(),De(xL,{key:0})):de("",!0),ye(($(),H("section",qL,[g("div",KL,[g("div",GL,[g("img",{class:"dp-col-bg",src:s.value.profilePicture||o0,alt:""},null,8,JL),Y(Jd,{name:i.value,email:o.value,profilePicture:l.value,onUpdate:d[0]||(d[0]=f=>s.value.profilePicture=f)},null,8,["name","email","profilePicture"])]),g("div",ZL,[d[2]||(d[2]=g("h3",{class:"title"},"Profile details",-1)),Y(Jd,{name:i.value,email:o.value,profilePicture:l.value,onUpdate:d[1]||(d[1]=f=>s.value.profilePicture=f)},null,8,["name","email","profilePicture"]),Y(WL,{userProfile:s.value,onProfileUpdate:a},null,8,["userProfile"])])])])),[[h]])],64)}}},XL={};function QL(t,e){const n=hr("RouterLink");return $(),De(n,{to:"/pricing",class:"btn btn-md"},{default:Ze(()=>e[0]||(e[0]=[ke("Change Plan")])),_:1})}const eP=Sc(XL,[["render",QL]]),tP={class:"section"},nP={class:"profile-page-wrapper"},sP={class:"dp-col col"},rP=["src"],iP={key:0,class:"form-col col"},oP={class:"subscription-detail-item"},lP={class:"value text-capitalize"},aP={class:"subscription-detail-item"},cP={class:"value"},uP={key:0,class:"subscription-detail-item"},dP={class:"value text-bold text-uppercase"},hP={key:1,class:"subscription-detail-item"},fP={class:"value"},pP={class:"subscription-cta"},mP={key:0,class:"btn btn-danger btn-md"},gP={key:1,class:"form-col col"},yP={class:"create-profile-info flex-default"},l0="/assets/images/default-dp.jpg",vP={__name:"ManageSubscriptionView",setup(t){const e=nn(),n=he(()=>e.userProfile||{}),s=Ee.currentUser||{},r=he(()=>n.value.fullName||s.displayName||""),i=he(()=>s.email||""),o=he(()=>n.value.profilePicture||s.photoURL||l0);un().setGlobalLoading,Nt.useToast(),he(()=>e.notSubscribed);const a=he(()=>e.subscription),c=he(()=>{if(!a.value)return"";const h=a.value.renews_at,f=new Date(h),p={year:"numeric",month:"long",day:"numeric"};return f.toLocaleDateString("en-US",p)}),d=he(()=>a.value?a.value.card_brand+" ("+(a.value.card_last_four||"")+")":"");return(h,f)=>{var v,k,S,E,T;const p=hr("RouterLink"),y=ys("gradientbg");return ye(($(),H("section",tP,[g("div",nP,[g("div",sP,[g("img",{class:"dp-col-bg",src:n.value.profilePicture||l0,alt:""},null,8,rP),Y(Jd,{name:r.value,email:i.value,profilePicture:o.value,onUpdate:f[0]||(f[0]=P=>n.value.profilePicture=P)},null,8,["name","email","profilePicture"])]),a.value?($(),H("div",iP,[f[5]||(f[5]=g("h3",{class:"title",style:{"margin-bottom":"36px"}},"Subscription details",-1)),g("div",oP,[f[1]||(f[1]=g("p",{class:"label"},"Current Plan",-1)),g("p",lP,[g("b",null,fe((v=a.value)==null?void 0:v.packageName),1),ke(" ($"+fe((k=a.value)==null?void 0:k.price)+")",1)])]),g("div",aP,[f[2]||(f[2]=g("p",{class:"label"},"Subscription Status",-1)),g("p",cP,[g("span",{class:Fe("subscription-status-badge "+((S=a.value)==null?void 0:S.status))},fe((T=(E=a.value)==null?void 0:E.status)==null?void 0:T.replace("_"," ")),3)])]),d.value?($(),H("div",uP,[f[3]||(f[3]=g("p",{class:"label"},"Payment method",-1)),g("p",dP,fe(d.value),1)])):de("",!0),c.value?($(),H("div",hP,[f[4]||(f[4]=g("p",{class:"label"},"Next Billing Date",-1)),g("p",fP,fe(c.value),1)])):de("",!0),g("div",pP,[a.value.status==="active"?($(),H("button",mP,"Cancel Subscription")):de("",!0),Y(eP)])])):($(),H("div",gP,[g("div",yP,[f[7]||(f[7]=g("p",{class:"text"},"You do not have an active subscription",-1)),Y(p,{to:"/pricing",class:"btn btn-sm btn-outline"},{default:Ze(()=>f[6]||(f[6]=[ke("Select Plan")])),_:1})])]))])])),[[y]])}}},CP={class:"section pricing-section"},wP={class:"container"},bP={class:"billing-frequency",style:{"margin-top":"64px"}},kP={class:"toggle"},xP={class:"pricing-grid"},_P={class:"info-graphic",width:"220",height:"88",viewBox:"0 0 220 88",fill:"none",xmlns:"http://www.w3.org/2000/svg"},SP={key:0,class:"modal-wrapper",style:{"--modal-max-width":"600px"}},TP={__name:"PricingView",setup(t){const e=Nt.useToast(),s=un().setGlobalLoading,r=ue(!1),i=nn(),o=he(()=>i.subscription),l=he(()=>{var v;return((v=o.value)==null?void 0:v.packageName)||""}),a=he(()=>l.value),c=he(()=>{var v;return((v=o.value)==null?void 0:v.billing)||""}),d=he(()=>o.value&&o.value.status==="active");he(()=>i.user);function h(v){return!(!(a.value.toLowerCase()===v)||!(c.value===(r.value?"yearly":"monthly")))}function f(v){return d.value?h(v)?"Current Plan":"Switch Plan":"Select Package"}const p=ue(!1);async function y(v){if(!Ee.currentUser){Ct.push({path:"/authentication",query:{auth_rdr:"/pricing"}});return}try{if(s(!0),d.value){const{success:k,message:S}=await Bb(v,r.value);if(!k){e.error(S||"Error switching plan"),s(!1);return}p.value=!0}else{const{success:k,message:S,content:E}=await Fb(v,r.value);if(!k){e.error(S||"Error selecting package"),s(!1);return}window.open(E)}}catch(k){console.error(k),e.error(typeof k=="string"?k:k.message||"Error selecting package")}s(!1)}return(v,k)=>{const S=ys("scrollreveal"),E=ys("gradientbg");return $(),H(Le,null,[ye(($(),H("section",CP,[g("div",wP,[k[14]||(k[14]=g("h1",{class:"section-title",style:{"max-width":"750px"}},[ke("Choose A Plan Thats "),g("span",{class:"character-popin"},"Right For You")],-1)),g("div",bP,[k[5]||(k[5]=g("span",{class:"text"},"Monthly",-1)),g("label",kP,[ye(g("input",{id:"yearly-billing-toggle",class:"toggle-checkbox",type:"checkbox","onUpdate:modelValue":k[0]||(k[0]=T=>r.value=T)},null,512),[[Vn,r.value]]),k[4]||(k[4]=g("div",{class:"toggle-switch"},null,-1))]),k[6]||(k[6]=g("span",{class:"text"},"Yearly",-1))]),g("div",xP,[g("div",{class:Fe(["pricing-card basic",{subscribed:h("basic")}])},[k[7]||(k[7]=et('<p class="title">Basic</p><p class="info">Perfect if you are a new freelancer or entrepreneur who is just starting out.</p><div class="price monthly-price"><span class="text currency">$</span><span class="text amount">6<span class="sub">.99</span></span><span class="period">/mo</span></div><div class="price yearly-price"><span class="text currency">$</span><span class="text amount">69<span class="sub">.99</span></span><span class="period">/yr</span></div>',4)),g("button",{onClick:k[1]||(k[1]=T=>y("basic")),class:"btn btn-block select-plan-btn","data-plan":"basic"},fe(f("basic")),1),k[8]||(k[8]=et('<div class="features"><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 10 active agreements</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 3 signees per agreement</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Email support</span></div><div class="feature-item not-included"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#F2F2F2"></rect><path d="M20.2422 20.2426C20.5025 19.9823 20.5025 19.5602 20.2422 19.2998L16.9428 16.0005L20.2431 12.7002C20.5034 12.4398 20.5034 12.0177 20.2431 11.7574C19.9827 11.497 19.5606 11.497 19.3003 11.7574L16 15.0577L12.6997 11.7574C12.4394 11.497 12.0173 11.497 11.7569 11.7574C11.4966 12.0177 11.4966 12.4398 11.7569 12.7002L15.0572 16.0005L11.7578 19.2998C11.4975 19.5602 11.4975 19.9823 11.7578 20.2426C12.0182 20.503 12.4403 20.503 12.7006 20.2426L16 16.9433L19.2994 20.2426C19.5597 20.503 19.9818 20.503 20.2422 20.2426Z" fill="#003366"></path></svg><span class="text">Custom branding</span></div><div class="feature-item not-included"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#F2F2F2"></rect><path d="M20.2422 20.2426C20.5025 19.9823 20.5025 19.5602 20.2422 19.2998L16.9428 16.0005L20.2431 12.7002C20.5034 12.4398 20.5034 12.0177 20.2431 11.7574C19.9827 11.497 19.5606 11.497 19.3003 11.7574L16 15.0577L12.6997 11.7574C12.4394 11.497 12.0173 11.497 11.7569 11.7574C11.4966 12.0177 11.4966 12.4398 11.7569 12.7002L15.0572 16.0005L11.7578 19.2998C11.4975 19.5602 11.4975 19.9823 11.7578 20.2426C12.0182 20.503 12.4403 20.503 12.7006 20.2426L16 16.9433L19.2994 20.2426C19.5597 20.503 19.9818 20.503 20.2422 20.2426Z" fill="#003366"></path></svg><span class="text"><span class="highlight">AI</span> powered agreement generation</span></div><div class="feature-item not-included"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#F2F2F2"></rect><path d="M20.2422 20.2426C20.5025 19.9823 20.5025 19.5602 20.2422 19.2998L16.9428 16.0005L20.2431 12.7002C20.5034 12.4398 20.5034 12.0177 20.2431 11.7574C19.9827 11.497 19.5606 11.497 19.3003 11.7574L16 15.0577L12.6997 11.7574C12.4394 11.497 12.0173 11.497 11.7569 11.7574C11.4966 12.0177 11.4966 12.4398 11.7569 12.7002L15.0572 16.0005L11.7578 19.2998C11.4975 19.5602 11.4975 19.9823 11.7578 20.2426C12.0182 20.503 12.4403 20.503 12.7006 20.2426L16 16.9433L19.2994 20.2426C19.5597 20.503 19.9818 20.503 20.2422 20.2426Z" fill="#003366"></path></svg><span class="text">Require document(NID, Passport etc.) from signees</span></div></div>',1))],2),g("div",{class:Fe(["pricing-card standard",{subscribed:h("standard")}])},[k[10]||(k[10]=et('<p class="title">Standard</p><p class="info">Perfect if you an experienced freelancer or entrepreneur who is rapidly growing their business.</p><div class="price monthly-price"><span class="text currency">$</span><span class="text amount">9<span class="sub">.99</span></span><span class="period">/mo</span></div><div class="price yearly-price"><span class="text currency">$</span><span class="text amount">99<span class="sub">.99</span></span><span class="period">/yr</span></div>',4)),g("button",{onClick:k[2]||(k[2]=T=>y("standard")),class:"btn btn-block select-plan-btn","data-plan":"basic"},fe(f("standard")),1),k[11]||(k[11]=et('<div class="features"><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 50 active agreements</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 15 signees per agreement</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Email support</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Custom branding</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text"><span class="highlight">AI</span> powered agreement generation</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Require document(NID, Passport etc.) from signees</span></div></div>',1)),ye(($(),H("svg",_P,k[9]||(k[9]=[g("path",{class:"arrow-line",d:"M95.4465 61.5974C83.1574 64.6611 68.4839 65.2432 57.684 57.5059C50.7821 52.5613 47.1172 42.5627 49.6965 34.4471C52.1326 26.7825 57.8213 20.0481 66.3458 20.2534C70.7891 20.3604 74.6203 22.4047 75.4291 27.084C76.6649 34.2328 69.5332 41.6308 63.863 44.7404C46.1673 54.4451 21.1342 53.9051 4.27699 42.6406",stroke:"#00C79F","stroke-width":"3","stroke-linecap":"round"},null,-1),g("path",{class:"arrow-line alt",d:"M11.7068 55.8447C9.64482 52.9634 5.14208 46.2418 3.62681 42.4054",stroke:"#00C79F","stroke-width":"3","stroke-linecap":"round"},null,-1),g("path",{class:"arrow-line alt",d:"M3.62695 42.4054C7.1396 41.942 15.124 40.6362 18.9603 39.1209",stroke:"#00C79F","stroke-width":"3","stroke-linecap":"round"},null,-1),g("path",{d:"M105.242 69V56.4H108.14L111.992 64.266L115.808 56.4H118.706V69H116.276V60.54L112.946 67.236H111.02L107.672 60.54V69H105.242ZM125.415 69.216C124.551 69.216 123.771 69.018 123.075 68.622C122.391 68.214 121.845 67.656 121.437 66.948C121.041 66.228 120.843 65.406 120.843 64.482C120.843 63.534 121.041 62.706 121.437 61.998C121.845 61.278 122.397 60.72 123.093 60.324C123.789 59.916 124.569 59.712 125.433 59.712C126.309 59.712 127.089 59.916 127.773 60.324C128.469 60.72 129.015 61.278 129.411 61.998C129.819 62.706 130.023 63.528 130.023 64.464C130.023 65.4 129.819 66.228 129.411 66.948C129.015 67.656 128.469 68.214 127.773 68.622C127.077 69.018 126.291 69.216 125.415 69.216ZM125.415 67.11C125.823 67.11 126.183 67.014 126.495 66.822C126.819 66.63 127.071 66.336 127.251 65.94C127.443 65.544 127.539 65.052 127.539 64.464C127.539 63.876 127.443 63.39 127.251 63.006C127.071 62.61 126.819 62.316 126.495 62.124C126.183 61.92 125.829 61.818 125.433 61.818C125.049 61.818 124.695 61.92 124.371 62.124C124.047 62.316 123.789 62.61 123.597 63.006C123.417 63.39 123.327 63.876 123.327 64.464C123.327 65.052 123.417 65.544 123.597 65.94C123.789 66.336 124.041 66.63 124.353 66.822C124.677 67.014 125.031 67.11 125.415 67.11ZM135.826 69.216C134.998 69.216 134.278 69.084 133.666 68.82C133.054 68.556 132.574 68.19 132.226 67.722C131.878 67.254 131.68 66.726 131.632 66.138H134.044C134.104 66.366 134.206 66.576 134.35 66.768C134.494 66.948 134.686 67.092 134.926 67.2C135.166 67.308 135.454 67.362 135.79 67.362C136.114 67.362 136.378 67.32 136.582 67.236C136.786 67.14 136.936 67.014 137.032 66.858C137.14 66.702 137.194 66.54 137.194 66.372C137.194 66.12 137.122 65.928 136.978 65.796C136.834 65.652 136.624 65.538 136.348 65.454C136.072 65.37 135.736 65.286 135.34 65.202C134.908 65.118 134.482 65.016 134.062 64.896C133.654 64.764 133.288 64.602 132.964 64.41C132.64 64.218 132.382 63.972 132.19 63.672C131.998 63.372 131.902 63 131.902 62.556C131.902 62.016 132.046 61.536 132.334 61.116C132.622 60.684 133.042 60.342 133.594 60.09C134.146 59.838 134.812 59.712 135.592 59.712C136.684 59.712 137.548 59.958 138.184 60.45C138.82 60.942 139.198 61.62 139.318 62.484H137.032C136.96 62.208 136.798 61.992 136.546 61.836C136.306 61.668 135.982 61.584 135.574 61.584C135.142 61.584 134.812 61.662 134.584 61.818C134.356 61.974 134.242 62.178 134.242 62.43C134.242 62.598 134.314 62.748 134.458 62.88C134.614 63.012 134.83 63.126 135.106 63.222C135.382 63.306 135.718 63.39 136.114 63.474C136.81 63.618 137.422 63.786 137.95 63.978C138.478 64.158 138.892 64.422 139.192 64.77C139.492 65.106 139.642 65.598 139.642 66.246C139.642 66.822 139.486 67.338 139.174 67.794C138.862 68.238 138.418 68.586 137.842 68.838C137.278 69.09 136.606 69.216 135.826 69.216ZM145.503 69C144.867 69 144.309 68.904 143.829 68.712C143.361 68.508 142.995 68.178 142.731 67.722C142.467 67.254 142.335 66.618 142.335 65.814V61.962H140.787V59.928H142.335L142.605 57.462H144.765V59.928H147.159V61.962H144.765V65.85C144.765 66.258 144.855 66.54 145.035 66.696C145.215 66.852 145.521 66.93 145.953 66.93H147.141V69H145.503ZM153.494 69V56.4H158.21C159.23 56.4 160.076 56.574 160.748 56.922C161.42 57.27 161.918 57.738 162.242 58.326C162.566 58.914 162.728 59.586 162.728 60.342C162.728 61.038 162.572 61.68 162.26 62.268C161.948 62.856 161.456 63.336 160.784 63.708C160.112 64.068 159.254 64.248 158.21 64.248H155.924V69H153.494ZM155.924 62.286H158.066C158.846 62.286 159.404 62.112 159.74 61.764C160.088 61.404 160.262 60.93 160.262 60.342C160.262 59.718 160.088 59.238 159.74 58.902C159.404 58.554 158.846 58.38 158.066 58.38H155.924V62.286ZM168.324 69.216C167.46 69.216 166.68 69.018 165.984 68.622C165.3 68.214 164.754 67.656 164.346 66.948C163.95 66.228 163.752 65.406 163.752 64.482C163.752 63.534 163.95 62.706 164.346 61.998C164.754 61.278 165.306 60.72 166.002 60.324C166.698 59.916 167.478 59.712 168.342 59.712C169.218 59.712 169.998 59.916 170.682 60.324C171.378 60.72 171.924 61.278 172.32 61.998C172.728 62.706 172.932 63.528 172.932 64.464C172.932 65.4 172.728 66.228 172.32 66.948C171.924 67.656 171.378 68.214 170.682 68.622C169.986 69.018 169.2 69.216 168.324 69.216ZM168.324 67.11C168.732 67.11 169.092 67.014 169.404 66.822C169.728 66.63 169.98 66.336 170.16 65.94C170.352 65.544 170.448 65.052 170.448 64.464C170.448 63.876 170.352 63.39 170.16 63.006C169.98 62.61 169.728 62.316 169.404 62.124C169.092 61.92 168.738 61.818 168.342 61.818C167.958 61.818 167.604 61.92 167.28 62.124C166.956 62.316 166.698 62.61 166.506 63.006C166.326 63.39 166.236 63.876 166.236 64.464C166.236 65.052 166.326 65.544 166.506 65.94C166.698 66.336 166.95 66.63 167.262 66.822C167.586 67.014 167.94 67.11 168.324 67.11ZM175.026 72.96V59.928H177.186L177.456 61.188C177.648 60.924 177.876 60.684 178.14 60.468C178.404 60.24 178.716 60.06 179.076 59.928C179.448 59.784 179.88 59.712 180.372 59.712C181.224 59.712 181.974 59.922 182.622 60.342C183.27 60.762 183.78 61.332 184.152 62.052C184.536 62.76 184.728 63.57 184.728 64.482C184.728 65.394 184.536 66.21 184.152 66.93C183.768 67.638 183.252 68.196 182.604 68.604C181.956 69.012 181.218 69.216 180.39 69.216C179.718 69.216 179.136 69.096 178.644 68.856C178.164 68.604 177.768 68.262 177.456 67.83V72.96H175.026ZM179.814 67.092C180.294 67.092 180.714 66.984 181.074 66.768C181.446 66.552 181.734 66.246 181.938 65.85C182.142 65.454 182.244 64.998 182.244 64.482C182.244 63.966 182.142 63.51 181.938 63.114C181.734 62.706 181.446 62.394 181.074 62.178C180.714 61.95 180.294 61.836 179.814 61.836C179.346 61.836 178.926 61.95 178.554 62.178C178.194 62.394 177.906 62.7 177.69 63.096C177.486 63.492 177.384 63.948 177.384 64.464C177.384 64.98 177.486 65.442 177.69 65.85C177.906 66.246 178.194 66.552 178.554 66.768C178.926 66.984 179.346 67.092 179.814 67.092ZM190.205 69.216C189.473 69.216 188.843 69.066 188.315 68.766C187.799 68.454 187.403 68.004 187.127 67.416C186.851 66.816 186.713 66.078 186.713 65.202V59.928H189.143V64.95C189.143 65.682 189.293 66.234 189.593 66.606C189.905 66.978 190.379 67.164 191.015 67.164C191.423 67.164 191.783 67.074 192.095 66.894C192.407 66.702 192.653 66.432 192.833 66.084C193.025 65.724 193.121 65.286 193.121 64.77V59.928H195.533V69H193.409L193.211 67.524C192.947 68.04 192.557 68.454 192.041 68.766C191.525 69.066 190.913 69.216 190.205 69.216ZM197.913 69V56.04H200.343V69H197.913ZM205.771 69.216C205.015 69.216 204.391 69.096 203.899 68.856C203.407 68.604 203.041 68.274 202.801 67.866C202.573 67.446 202.459 66.984 202.459 66.48C202.459 65.928 202.597 65.442 202.873 65.022C203.161 64.602 203.587 64.272 204.151 64.032C204.727 63.792 205.447 63.672 206.311 63.672H208.561C208.561 63.228 208.501 62.862 208.381 62.574C208.261 62.274 208.075 62.052 207.823 61.908C207.571 61.764 207.235 61.692 206.815 61.692C206.359 61.692 205.969 61.794 205.645 61.998C205.333 62.19 205.141 62.49 205.069 62.898H202.711C202.771 62.25 202.981 61.692 203.341 61.224C203.713 60.744 204.199 60.372 204.799 60.108C205.411 59.844 206.089 59.712 206.833 59.712C207.685 59.712 208.423 59.856 209.047 60.144C209.671 60.432 210.151 60.846 210.487 61.386C210.823 61.926 210.991 62.592 210.991 63.384V69H208.939L208.669 67.614C208.537 67.854 208.381 68.07 208.201 68.262C208.021 68.454 207.811 68.622 207.571 68.766C207.331 68.91 207.061 69.018 206.761 69.09C206.461 69.174 206.131 69.216 205.771 69.216ZM206.347 67.344C206.659 67.344 206.935 67.29 207.175 67.182C207.427 67.062 207.643 66.906 207.823 66.714C208.003 66.51 208.141 66.282 208.237 66.03C208.345 65.766 208.417 65.484 208.453 65.184V65.166H206.599C206.227 65.166 205.921 65.214 205.681 65.31C205.453 65.394 205.285 65.52 205.177 65.688C205.069 65.856 205.015 66.048 205.015 66.264C205.015 66.504 205.069 66.702 205.177 66.858C205.285 67.014 205.441 67.134 205.645 67.218C205.849 67.302 206.083 67.344 206.347 67.344ZM213.258 69V59.928H215.418L215.652 61.602C215.868 61.206 216.138 60.87 216.462 60.594C216.798 60.318 217.176 60.102 217.596 59.946C218.028 59.79 218.502 59.712 219.018 59.712V62.286H218.19C217.83 62.286 217.494 62.328 217.182 62.412C216.882 62.496 216.618 62.634 216.39 62.826C216.162 63.006 215.988 63.258 215.868 63.582C215.748 63.906 215.688 64.314 215.688 64.806V69H213.258Z",fill:"#00C79F"},null,-1)]))),[[S]])],2),g("div",{class:Fe(["pricing-card enterprise",{subscribed:h("enterprise")}])},[k[12]||(k[12]=et('<p class="title">Enterprise</p><p class="info">Ideal for established businesses with a large number of agreements and signees.</p><div class="price monthly-price"><span class="text currency">$</span><span class="text amount">99<span class="sub">.99</span></span><span class="period">/mo</span></div><div class="price yearly-price"><span class="text currency">$</span><span class="text amount">999<span class="sub">.99</span></span><span class="period">/yr</span></div>',4)),g("button",{onClick:k[3]||(k[3]=T=>y("enterprise")),class:"btn btn-block select-plan-btn","data-plan":"basic"},fe(f("enterprise")),1),k[13]||(k[13]=et('<div class="features"><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 200 active agreements</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Upto 150 signees per agreement</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Email support</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Custom branding</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text"><span class="highlight">AI</span> powered agreement generation</span></div><div class="feature-item"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="32" height="32" rx="16" fill="#D4E9FF"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M21.8162 12.207C22.0701 12.4737 22.0597 12.8957 21.793 13.1495L14.0893 20.4829C13.9577 20.6081 13.7808 20.6742 13.5993 20.666C13.4179 20.6577 13.2477 20.5758 13.128 20.4391L10.1651 17.0545C9.92254 16.7775 9.95052 16.3563 10.2276 16.1138C10.5046 15.8713 10.9258 15.8992 11.1683 16.1763L13.6734 19.0379L20.8737 12.1838C21.1404 11.9299 21.5624 11.9403 21.8162 12.207Z" fill="#3597FF"></path></svg><span class="text">Require document(NID, Passport etc.) from signees</span></div></div>',1))],2)])])])),[[E]]),p.value?($(),H("div",SP,k[15]||(k[15]=[et('<div class="modal-content text-center"><img style="max-width:300px;" src="'+_3+'" alt=""><h1 class="title">Plan changed successfully!</h1><div class="modal-body"><p style="line-height:1.5;margin:32px 0;">You have successfully changed your plan. You can now enjoy the benefits of your new plan. <br><small class="highlight">If you don&#39;t see the changes, please refresh the page after some time.</small></p></div><a href="/dashboard" class="btn btn-primary">Go to dashboard</a></div>',1)]))):de("",!0)],64)}}},EP={class:"auth-container-wrapper section"},MP={__name:"Authentication",setup(t){nn();async function e(){try{await Cb()}catch(n){console.error(n)}}return(n,s)=>{const r=ys("gradientbg");return ye(($(),H("section",EP,[g("div",{class:"auth-container"},[s[1]||(s[1]=et('<div class="auth-page-logo"><svg width="197" height="91" viewBox="0 0 197 91" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_130_66)"><rect x="69.5" width="58" height="58" rx="29" fill="#F5FBFF"></rect><path d="M73.6626 7.68165L66.262 29.2607L75.0826 32.2858L82.4832 10.7067L73.6626 7.68165Z" fill="#00C79F"></path><path d="M88.8909 9.50872L88.0329 9.93069C86.9639 10.4511 85.7121 10.5214 84.6009 10.1276L83.1662 9.62125C83.0818 9.56498 82.9975 9.52279 82.9131 9.49466L74.08 6.47059C73.4189 6.24554 72.6875 6.59718 72.4624 7.25825L65.05 28.8487C64.9374 29.1722 64.9656 29.5238 65.1062 29.8192C65.2469 30.1146 65.5141 30.3537 65.8376 30.4662L74.6567 33.4903C74.7973 33.5325 74.938 33.5606 75.0646 33.5606C75.599 33.5606 76.0913 33.223 76.2742 32.7026L83.2647 12.364L83.7429 12.5328C85.5011 13.1517 87.4703 13.0391 89.1581 12.2234L90.0161 11.8014C91.071 11.281 92.3088 11.2106 93.4199 11.5904L109.637 17.1744C109.469 17.8495 109.131 18.6513 108.512 19.0873C107.823 19.5655 106.796 19.5655 105.446 19.1013L98.2163 16.6258C97.8787 16.5133 97.513 16.5414 97.2035 16.7102C96.8941 16.879 96.6691 17.1744 96.5706 17.512C96.5565 17.5541 95.5579 21.2956 92.365 23.0115C90.3537 24.0946 87.85 24.1368 84.9104 23.1381C84.2493 22.9131 83.5179 23.2647 83.2928 23.9258C83.0678 24.5869 83.4194 25.3183 84.0805 25.5433C85.7683 26.12 87.3577 26.4154 88.8346 26.4154C90.5506 26.4154 92.1259 26.0356 93.5606 25.262C96.4159 23.7289 97.8928 21.0424 98.5679 19.4389L104.602 21.5065C106.754 22.252 108.554 22.1395 109.947 21.169C112.183 19.6218 112.296 16.4852 112.31 16.3445C112.324 15.7819 111.972 15.2896 111.452 15.1068L94.2357 9.17115C92.5057 8.5804 90.5506 8.70699 88.8909 9.50872ZM74.291 30.6631L67.8771 28.4689L74.4457 9.29774L80.8595 11.4919L74.291 30.6631Z" fill="#2D2B2B"></path><path d="M114.208 11.9243L124.234 32.4144L132.61 28.3163L122.584 7.82616L114.208 11.9243Z" fill="#3597FF"></path><path d="M122.676 32.1119L119.652 34.8969C116.909 37.4146 113.815 39.5385 110.467 41.1701L94.4186 49.0186C93.7153 49.3702 92.8573 49.0748 92.5057 48.3575C92.1541 47.6542 92.4494 46.7962 93.1668 46.4446L93.3637 46.3462L102.141 42.0562C102.773 41.7468 103.041 40.9872 102.731 40.3543C102.422 39.7213 101.662 39.4541 101.029 39.7635L92.2525 44.0535L87.836 46.2196C87.1327 46.5712 86.2747 46.2758 85.9231 45.5585C85.7543 45.2209 85.7262 44.8271 85.8528 44.4754C85.9793 44.1097 86.2325 43.8284 86.5701 43.6597L89.9036 42.0281L99.44 37.3583C100.073 37.0489 100.34 36.2894 100.031 35.6564C99.7213 35.0235 98.9617 34.7562 98.3288 35.0657L88.7784 39.7495L88.4127 39.9323L83.8555 42.1687C83.5179 42.3375 83.1241 42.3656 82.7724 42.239C82.4067 42.1125 82.1254 41.8593 81.9566 41.5217C81.605 40.8184 81.9004 39.9604 82.6177 39.6088L84.193 38.8352L87.414 37.2599L88.3142 36.8238L95.7126 33.195C96.3456 32.8855 96.6128 32.126 96.3034 31.4931C95.9939 30.8601 95.2344 30.5929 94.6015 30.9023L86.5842 34.8266L83.0819 36.5425C82.3786 36.8801 81.5206 36.5988 81.169 35.8815C81.0002 35.5439 80.9721 35.1501 81.0986 34.7984C81.2252 34.4327 81.4784 34.1514 81.816 33.9826L87.9344 30.9867C88.5674 30.6773 88.8346 29.9177 88.5252 29.2848C88.2158 28.6518 87.4562 28.3846 86.8233 28.694L80.7048 31.69C79.7484 32.1541 79.031 32.9699 78.6935 33.9686C78.3559 34.9672 78.4121 36.0502 78.8763 37.0067C79.1717 37.5974 79.5936 38.0897 80.1 38.4554C79.2139 39.6229 78.9888 41.2263 79.678 42.6329C80.1422 43.5893 80.958 44.3067 81.9566 44.6442C82.3786 44.7849 82.8006 44.8552 83.2225 44.8552C83.2085 45.4882 83.335 46.1211 83.6304 46.6978C84.3196 48.1043 85.7402 48.9201 87.203 48.9201C87.7938 48.9201 88.3845 48.7935 88.9472 48.5122L89.8473 48.0762C89.8895 48.5544 90.0161 49.0186 90.2271 49.4687C90.9163 50.8752 92.3369 51.691 93.7997 51.691C94.3905 51.691 94.9812 51.5644 95.5438 51.2831L111.593 43.4346C115.165 41.6905 118.456 39.44 121.382 36.7535L124.969 33.4481L133.183 29.4254C133.816 29.116 134.083 28.3565 133.774 27.7235L123.731 7.25831C123.576 6.94887 123.323 6.72383 123 6.6113C122.676 6.49878 122.324 6.52691 122.029 6.66756L113.646 10.7606C113.013 11.07 112.746 11.8296 113.055 12.4625L122.676 32.1119ZM122.001 9.52285L130.904 27.7376L124.814 30.7195L115.911 12.5047L122.001 9.52285Z" fill="#2D2B2B"></path></g><path d="M2.256 85V68.2H4.824L12.168 80.464H10.824L18.048 68.2H20.616L20.64 85H17.688L17.664 72.832H18.288L12.144 83.08H10.752L4.512 72.832H5.232V85H2.256ZM25.9459 89.824C25.3219 89.824 24.6979 89.72 24.0739 89.512C23.4499 89.304 22.9299 89.016 22.5139 88.648L23.7139 86.44C24.0179 86.712 24.3619 86.928 24.7459 87.088C25.1299 87.248 25.5219 87.328 25.9219 87.328C26.4659 87.328 26.9059 87.192 27.2419 86.92C27.5779 86.648 27.8899 86.192 28.1779 85.552L28.9219 83.872L29.1619 83.512L34.0099 72.184H36.8899L30.8899 86.032C30.4899 86.992 30.0419 87.752 29.5459 88.312C29.0659 88.872 28.5219 89.264 27.9139 89.488C27.3219 89.712 26.6659 89.824 25.9459 89.824ZM28.5859 85.456L22.8019 72.184H25.9219L30.6259 83.248L28.5859 85.456ZM43.3097 85L50.8697 68.2H53.9417L61.5257 85H58.2617L51.7577 69.856H53.0057L46.5257 85H43.3097ZM46.7897 81.112L47.6297 78.664H56.7017L57.5417 81.112H46.7897ZM69.0651 89.824C67.8811 89.824 66.7211 89.664 65.5851 89.344C64.4651 89.04 63.5451 88.592 62.8251 88L64.1691 85.744C64.7291 86.208 65.4331 86.576 66.2811 86.848C67.1451 87.136 68.0171 87.28 68.8971 87.28C70.3051 87.28 71.3371 86.952 71.9931 86.296C72.6491 85.656 72.9771 84.688 72.9771 83.392V81.112L73.2171 78.208L73.1211 75.304V72.184H75.9771V83.056C75.9771 85.376 75.3851 87.08 74.2011 88.168C73.0171 89.272 71.3051 89.824 69.0651 89.824ZM68.6811 84.424C67.4651 84.424 66.3611 84.168 65.3691 83.656C64.3931 83.128 63.6171 82.4 63.0411 81.472C62.4811 80.544 62.2011 79.456 62.2011 78.208C62.2011 76.976 62.4811 75.896 63.0411 74.968C63.6171 74.04 64.3931 73.32 65.3691 72.808C66.3611 72.296 67.4651 72.04 68.6811 72.04C69.7691 72.04 70.7451 72.256 71.6091 72.688C72.4731 73.12 73.1611 73.792 73.6731 74.704C74.2011 75.616 74.4651 76.784 74.4651 78.208C74.4651 79.632 74.2011 80.808 73.6731 81.736C73.1611 82.648 72.4731 83.328 71.6091 83.776C70.7451 84.208 69.7691 84.424 68.6811 84.424ZM69.1371 81.88C69.8891 81.88 70.5611 81.728 71.1531 81.424C71.7451 81.104 72.2011 80.672 72.5211 80.128C72.8571 79.568 73.0251 78.928 73.0251 78.208C73.0251 77.488 72.8571 76.856 72.5211 76.312C72.2011 75.752 71.7451 75.328 71.1531 75.04C70.5611 74.736 69.8891 74.584 69.1371 74.584C68.3851 74.584 67.7051 74.736 67.0971 75.04C66.5051 75.328 66.0411 75.752 65.7051 76.312C65.3851 76.856 65.2251 77.488 65.2251 78.208C65.2251 78.928 65.3851 79.568 65.7051 80.128C66.0411 80.672 66.5051 81.104 67.0971 81.424C67.7051 81.728 68.3851 81.88 69.1371 81.88ZM79.9211 85V72.184H82.7771V75.712L82.4411 74.68C82.8251 73.816 83.4251 73.16 84.2411 72.712C85.0731 72.264 86.1051 72.04 87.3371 72.04V74.896C87.2091 74.864 87.0891 74.848 86.9771 74.848C86.8651 74.832 86.7531 74.824 86.6411 74.824C85.5051 74.824 84.6011 75.16 83.9291 75.832C83.2571 76.488 82.9211 77.472 82.9211 78.784V85H79.9211ZM95.7889 85.168C94.3649 85.168 93.1169 84.888 92.0449 84.328C90.9889 83.752 90.1649 82.968 89.5729 81.976C88.9969 80.984 88.7089 79.856 88.7089 78.592C88.7089 77.312 88.9889 76.184 89.5489 75.208C90.1249 74.216 90.9089 73.44 91.9009 72.88C92.9089 72.32 94.0529 72.04 95.3329 72.04C96.5809 72.04 97.6929 72.312 98.6689 72.856C99.6449 73.4 100.413 74.168 100.973 75.16C101.533 76.152 101.813 77.32 101.813 78.664C101.813 78.792 101.805 78.936 101.789 79.096C101.789 79.256 101.781 79.408 101.765 79.552H91.0849V77.56H100.181L99.0049 78.184C99.0209 77.448 98.8689 76.8 98.5489 76.24C98.2289 75.68 97.7889 75.24 97.2289 74.92C96.6849 74.6 96.0529 74.44 95.3329 74.44C94.5969 74.44 93.9489 74.6 93.3889 74.92C92.8449 75.24 92.4129 75.688 92.0929 76.264C91.7889 76.824 91.6369 77.488 91.6369 78.256V78.736C91.6369 79.504 91.8129 80.184 92.1649 80.776C92.5169 81.368 93.0129 81.824 93.6529 82.144C94.2929 82.464 95.0289 82.624 95.8609 82.624C96.5809 82.624 97.2289 82.512 97.8049 82.288C98.3809 82.064 98.8929 81.712 99.3409 81.232L100.949 83.08C100.373 83.752 99.6449 84.272 98.7649 84.64C97.9009 84.992 96.9089 85.168 95.7889 85.168ZM110.719 85.168C109.295 85.168 108.047 84.888 106.975 84.328C105.919 83.752 105.095 82.968 104.503 81.976C103.927 80.984 103.639 79.856 103.639 78.592C103.639 77.312 103.919 76.184 104.479 75.208C105.055 74.216 105.839 73.44 106.831 72.88C107.839 72.32 108.983 72.04 110.263 72.04C111.511 72.04 112.623 72.312 113.599 72.856C114.575 73.4 115.343 74.168 115.903 75.16C116.463 76.152 116.743 77.32 116.743 78.664C116.743 78.792 116.735 78.936 116.719 79.096C116.719 79.256 116.711 79.408 116.695 79.552H106.015V77.56H115.111L113.935 78.184C113.951 77.448 113.799 76.8 113.479 76.24C113.159 75.68 112.719 75.24 112.159 74.92C111.615 74.6 110.983 74.44 110.263 74.44C109.527 74.44 108.879 74.6 108.319 74.92C107.775 75.24 107.343 75.688 107.023 76.264C106.719 76.824 106.567 77.488 106.567 78.256V78.736C106.567 79.504 106.743 80.184 107.095 80.776C107.447 81.368 107.943 81.824 108.583 82.144C109.223 82.464 109.959 82.624 110.791 82.624C111.511 82.624 112.159 82.512 112.735 82.288C113.311 82.064 113.823 81.712 114.271 81.232L115.879 83.08C115.303 83.752 114.575 84.272 113.695 84.64C112.831 84.992 111.839 85.168 110.719 85.168ZM135.8 72.04C136.824 72.04 137.728 72.24 138.512 72.64C139.312 73.04 139.936 73.656 140.384 74.488C140.832 75.304 141.056 76.36 141.056 77.656V85H138.056V78.04C138.056 76.904 137.808 76.056 137.312 75.496C136.816 74.936 136.104 74.656 135.176 74.656C134.52 74.656 133.936 74.8 133.424 75.088C132.928 75.376 132.536 75.8 132.248 76.36C131.976 76.92 131.84 77.632 131.84 78.496V85H128.84V78.04C128.84 76.904 128.592 76.056 128.096 75.496C127.6 74.936 126.888 74.656 125.96 74.656C125.304 74.656 124.72 74.8 124.208 75.088C123.712 75.376 123.32 75.8 123.032 76.36C122.76 76.92 122.624 77.632 122.624 78.496V85H119.624V72.184H122.48V75.592L121.976 74.584C122.408 73.752 123.032 73.12 123.848 72.688C124.68 72.256 125.624 72.04 126.68 72.04C127.88 72.04 128.92 72.336 129.8 72.928C130.696 73.52 131.288 74.416 131.576 75.616L130.4 75.208C130.816 74.248 131.504 73.48 132.464 72.904C133.424 72.328 134.536 72.04 135.8 72.04ZM150.937 85.168C149.513 85.168 148.265 84.888 147.193 84.328C146.137 83.752 145.313 82.968 144.721 81.976C144.145 80.984 143.857 79.856 143.857 78.592C143.857 77.312 144.137 76.184 144.697 75.208C145.273 74.216 146.057 73.44 147.049 72.88C148.057 72.32 149.201 72.04 150.481 72.04C151.729 72.04 152.841 72.312 153.817 72.856C154.793 73.4 155.561 74.168 156.121 75.16C156.681 76.152 156.961 77.32 156.961 78.664C156.961 78.792 156.953 78.936 156.937 79.096C156.937 79.256 156.929 79.408 156.913 79.552H146.233V77.56H155.329L154.153 78.184C154.169 77.448 154.017 76.8 153.697 76.24C153.377 75.68 152.937 75.24 152.377 74.92C151.833 74.6 151.201 74.44 150.481 74.44C149.745 74.44 149.097 74.6 148.537 74.92C147.993 75.24 147.561 75.688 147.241 76.264C146.937 76.824 146.785 77.488 146.785 78.256V78.736C146.785 79.504 146.961 80.184 147.313 80.776C147.665 81.368 148.161 81.824 148.801 82.144C149.441 82.464 150.177 82.624 151.009 82.624C151.729 82.624 152.377 82.512 152.953 82.288C153.529 82.064 154.041 81.712 154.489 81.232L156.097 83.08C155.521 83.752 154.793 84.272 153.913 84.64C153.049 84.992 152.057 85.168 150.937 85.168ZM167.115 72.04C168.139 72.04 169.051 72.24 169.851 72.64C170.667 73.04 171.307 73.656 171.771 74.488C172.235 75.304 172.467 76.36 172.467 77.656V85H169.467V78.04C169.467 76.904 169.195 76.056 168.651 75.496C168.123 74.936 167.379 74.656 166.419 74.656C165.715 74.656 165.091 74.8 164.547 75.088C164.003 75.376 163.579 75.808 163.275 76.384C162.987 76.944 162.843 77.656 162.843 78.52V85H159.843V72.184H162.699V75.64L162.195 74.584C162.643 73.768 163.291 73.144 164.139 72.712C165.003 72.264 165.995 72.04 167.115 72.04ZM181.097 85.168C179.689 85.168 178.601 84.808 177.833 84.088C177.065 83.352 176.681 82.272 176.681 80.848V69.352H179.681V80.776C179.681 81.384 179.833 81.856 180.137 82.192C180.457 82.528 180.897 82.696 181.457 82.696C182.129 82.696 182.689 82.52 183.137 82.168L183.977 84.304C183.625 84.592 183.193 84.808 182.681 84.952C182.169 85.096 181.641 85.168 181.097 85.168ZM174.569 74.68V72.28H183.113V74.68H174.569ZM190.405 85.168C189.333 85.168 188.301 85.032 187.309 84.76C186.333 84.472 185.557 84.128 184.981 83.728L186.133 81.448C186.709 81.816 187.397 82.12 188.197 82.36C188.997 82.6 189.797 82.72 190.597 82.72C191.541 82.72 192.221 82.592 192.637 82.336C193.069 82.08 193.285 81.736 193.285 81.304C193.285 80.952 193.141 80.688 192.853 80.512C192.565 80.32 192.189 80.176 191.725 80.08C191.261 79.984 190.741 79.896 190.165 79.816C189.605 79.736 189.037 79.632 188.461 79.504C187.901 79.36 187.389 79.16 186.925 78.904C186.461 78.632 186.085 78.272 185.797 77.824C185.509 77.376 185.365 76.784 185.365 76.048C185.365 75.232 185.597 74.528 186.061 73.936C186.525 73.328 187.173 72.864 188.005 72.544C188.853 72.208 189.853 72.04 191.005 72.04C191.869 72.04 192.741 72.136 193.621 72.328C194.501 72.52 195.229 72.792 195.805 73.144L194.653 75.424C194.045 75.056 193.429 74.808 192.805 74.68C192.197 74.536 191.589 74.464 190.981 74.464C190.069 74.464 189.389 74.6 188.941 74.872C188.509 75.144 188.293 75.488 188.293 75.904C188.293 76.288 188.437 76.576 188.725 76.768C189.013 76.96 189.389 77.112 189.853 77.224C190.317 77.336 190.829 77.432 191.389 77.512C191.965 77.576 192.533 77.68 193.093 77.824C193.653 77.968 194.165 78.168 194.629 78.424C195.109 78.664 195.493 79.008 195.781 79.456C196.069 79.904 196.213 80.488 196.213 81.208C196.213 82.008 195.973 82.704 195.493 83.296C195.029 83.888 194.365 84.352 193.501 84.688C192.637 85.008 191.605 85.168 190.405 85.168Z" fill="#2D2B2B"></path><defs><clipPath id="clip0_130_66"><rect x="69.5" width="58" height="58" rx="29" fill="white"></rect></clipPath></defs></svg></div>',1)),g("button",{class:"google-login-btn",onClick:e},s[0]||(s[0]=[et('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 48 48"><g><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path><path fill="none" d="M0 0h48v48H0z"></path></g></svg><span>Continue <span class="extra-text">With Google</span></span>',2)])),s[2]||(s[2]=g("p",{class:"auth-page-info"},[ke(" By continuing, you agree to our "),g("a",{href:"https://www.my-agreements.com/terms-of-service.html",target:"_blank",class:"link"},"Privacy Policy")],-1))])])),[[r]])}}},AP={key:1,class:"section",style:{"padding-top":"48px"}},IP={class:"view-ageement-form"},OP={key:0,class:"branding-section"},LP=["src"],PP={class:"company-name"},NP={class:"creator-email"},DP={key:0,class:"agreement-dates"},RP={class:"agreement-signee-description"},$P={style:{"font-size":"32px",display:"inline-flex","align-items":"center",gap:"12px","flex-wrap":"wrap"}},FP={class:"ageement-type-badge"},BP={key:0},VP={class:"title"},HP={class:"text"},UP={style:{"font-weight":"600"}},jP={key:1},zP={class:"text"},WP={key:1,class:"label mt-3",style:{"font-weight":"600"}},qP={key:2,class:"required-documents-form"},KP={class:"flex-default",style:{"justify-content":"center"}},GP=["disabled"],JP={__name:"SignAgreemeentView",setup(t){const e=Nt.useToast(),s=un().setGlobalLoading,r=ue(!0),i=ue(null),o=ue(null),l=ue(null),c=Mh().currentRoute.value.params.id,d=he(()=>{var T,P,D,F;if(!o.value)return"";const S=(P=(T=l.value)==null?void 0:T.startDate)==null?void 0:P._seconds,E=(F=(D=l.value)==null?void 0:D.endDate)==null?void 0:F._seconds;if(!S||!E)return"";if(S&&E){const M=new Date(S*1e3),b=new Date(E*1e3);return`${M.toDateString().split(" ").slice(1,3).join(" ")} - ${b.toDateString().split(" ").slice(1,3).join(" ")} ${b.getFullYear()}`}if(S){const M=new Date(S*1e3);return`Starts on ${M.toDateString().split(" ").slice(1,3).join(" ")} ${M.getFullYear()}`}if(E){const M=new Date(E*1e3);return`Ends on ${M.toDateString().split(" ").slice(1,3).join(" ")} ${M.getFullYear()}`}return""});async function h(){try{const{success:S,content:E,message:T}=await Mb(c);if(!S){alert(T||"An error occured");return}i.value=E.user,o.value=E.agreement,l.value=E.meta,r.value=!1}catch(S){console.log(S),alert(S.message||"An error occured")}}h();const f=ue({photo:null,"id-card":null,passport:null,"drivers-license":null,custom:null,signature:null});async function p(S,E){if(!E){f.value[S]=null;return}if(E.type==="application/pdf"||E.type==="image/gif"){f.value[S]=E;return}try{const{blob:T}=await Kh(E,1e3,1e3);f.value[S]=T}catch{alert("Error resizing image")}}const y=he(()=>{if(!f.value.signature)return!1;if(o.value.requiredDocuments){for(let S of o.value.requiredDocuments)if(!f.value[S])return!1}return!0});async function v(){const S={signature:f.value.signature,id:c};if(o.value.requiredDocuments)for(let E of o.value.requiredDocuments)S[E]=f.value[E];s(!0);try{const{success:E,message:T,content:P}=await Ab(S);if(!E){e.error(T||"An error occured"),s(!1);return}e.success("Agreement signed successfully"),setTimeout(()=>{window.location.href="https://www.my-agreements.com/"},1e3)}catch(E){console.log(E),e.error(E.message||"An error occured")}s(!1)}const k=he(()=>{switch(o.value.agreementType){case"hourly contract":return"Hourly rate";case"cost plus contract":return"Cost plus amount";default:return"Amount"}});return(S,E)=>{var T;return r.value?($(),De(k6,{key:0})):($(),H("section",AP,[g("div",IP,[i.value?($(),H("div",OP,[i.value.organizationLogo||i.value.profilePicture?($(),H("img",{key:0,src:i.value.organizationLogo||i.value.profilePicture,class:"logo",alt:""},null,8,LP)):de("",!0),g("div",null,[g("p",PP,fe(i.value.organizationName||i.value.fullName),1),g("p",NP,fe(i.value.email),1),d.value?($(),H("div",DP,fe(d.value),1)):de("",!0)])])):de("",!0),g("div",RP,[g("h3",$P,[ke(fe(o.value.agreementName)+" ",1),g("span",FP,fe((T=o.value.agreementType)==null?void 0:T.split(" ").slice(0,-1).join(" ")),1)]),l.value.amount?($(),H("div",BP,[g("p",VP,fe(k.value),1),g("p",HP,[g("span",UP,fe(l.value.amount),1),ke(" "+fe(o.value.agreementType==="hourly contract"?"/hr":""),1)])])):de("",!0),l.value.description?($(),H("div",jP,[E[6]||(E[6]=g("p",{class:"title"},"Desciption",-1)),g("p",zP,fe(l.value.description),1)])):de("",!0)]),Y(Jh,{style:{"margin-top":"36px"},agreement:o.value},null,8,["agreement"]),o.value.requiredDocuments?($(),H("p",WP,"Required documents")):de("",!0),o.value.requiredDocuments?($(),H("div",qP,[o.value.requiredDocuments.includes("photo")?($(),De(rn,{key:0,accept:"image/*",label:"Your Photo",maxSize:10*1024*1024,onFileSelected:E[0]||(E[0]=P=>p("photo",P))})):de("",!0),o.value.requiredDocuments.includes("id-card")?($(),De(rn,{key:1,accept:"image/*,application/pdf",label:"Your ID",maxSize:10*1024*1024,onFileSelected:E[1]||(E[1]=P=>p("id-card",P))})):de("",!0),o.value.requiredDocuments.includes("passport")?($(),De(rn,{key:2,accept:"image/*,application/pdf",label:"Passport",maxSize:10*1024*1024,onFileSelected:E[2]||(E[2]=P=>p("passport",P))})):de("",!0),o.value.requiredDocuments.includes("drivers-license")?($(),De(rn,{key:3,accept:"image/*,application/pdf",label:"Driver's License",maxSize:10*1024*1024,onFileSelected:E[3]||(E[3]=P=>p("drivers-license",P))})):de("",!0),o.value.requiredDocuments.includes("custom")?($(),De(rn,{key:4,accept:"*",label:o.value.customDocumentName||"Upload file",maxSize:100*1024*1024,onFileSelected:E[4]||(E[4]=P=>p("custom",P))},null,8,["label"])):de("",!0)])):de("",!0),Y(T3,{style:{"margin-top":"36px"},onSign:E[5]||(E[5]=P=>f.value.signature=P)}),E[7]||(E[7]=g("p",{class:"submit-agreement-text text-center"},[ke(" By clicking submit, you agree to the terms & conditions of the agreement as well as our "),g("a",{href:"https://my-agreemeents.com/terms-and-conditions.html",target:"_blank"},"terms & conditions"),ke(". ")],-1)),g("div",KP,[g("button",{class:Fe(["btn btn-block mt-1-5",{disabled:!y.value}]),style:{"max-width":"600px"},disabled:!y.value,onClick:v},"Submit",10,GP)])])]))}}},ZP={class:"modal-wrapper"},YP={__name:"NotFoundView",setup(t){const e=Mh();function n(){e.push("/dashboard")}return(s,r)=>($(),H("div",ZP,[g("div",{class:"modal-content"},[r[0]||(r[0]=et('<p class="text-center mb-0-5"><svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="120" height="120" rx="60" fill="#DFEEFF"></rect><path d="M32.9991 86.4531H86.2585C87.1235 86.453 87.9737 86.2284 88.726 85.8014C89.4782 85.3743 90.1068 84.7594 90.5503 84.0168C90.9939 83.2741 91.2371 82.4291 91.2564 81.5643C91.2756 80.6995 91.0701 79.8445 90.66 79.0828L64.0319 29.6297C62.1429 26.1234 57.1147 26.1234 55.2257 29.6297L28.5975 79.0828C28.1875 79.8445 27.982 80.6995 28.0012 81.5643C28.0205 82.4291 28.2637 83.2741 28.7072 84.0168C29.1508 84.7594 29.7794 85.3743 30.5316 85.8014C31.2839 86.2284 32.1341 86.453 32.9991 86.4531Z" stroke="#3597FF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M58.7318 47.2563L59.6287 66.3188L60.524 47.2641C60.5295 47.1423 60.5102 47.0206 60.4671 46.9065C60.424 46.7925 60.3581 46.6884 60.2734 46.6006C60.1887 46.5129 60.0871 46.4433 59.9746 46.3962C59.8621 46.3491 59.7412 46.3254 59.6193 46.3266C59.4995 46.3278 59.3812 46.3529 59.2712 46.4006C59.1613 46.4483 59.0621 46.5175 58.9793 46.6041C58.8966 46.6908 58.8321 46.7931 58.7896 46.9051C58.7471 47.0172 58.7274 47.1365 58.7318 47.2563Z" stroke="#3597FF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M59.6287 78.7188C59.026 78.7188 58.437 78.5401 57.9359 78.2053C57.4349 77.8705 57.0443 77.3946 56.8137 76.8379C56.5831 76.2811 56.5228 75.6685 56.6403 75.0775C56.7579 74.4864 57.0481 73.9435 57.4742 73.5174C57.9003 73.0913 58.4432 72.8011 59.0342 72.6835C59.6253 72.566 60.2379 72.6263 60.7947 72.8569C61.3514 73.0875 61.8273 73.4781 62.162 73.9791C62.4968 74.4802 62.6755 75.0693 62.6755 75.6719C62.6755 76.48 62.3545 77.2549 61.7831 77.8263C61.2117 78.3977 60.4367 78.7188 59.6287 78.7188Z" fill="#3597FF" stroke="#3597FF" stroke-width="0.15625"></path></svg></p><p class="modal-title text-center mb-0-5" style="font-size:32px;">Page not found</p><p class="modal-info text-center mb-1-5">The page you are looking for does not exist.</p>',3)),g("div",{class:"modal-footer",style:{"justify-content":"center"}},[g("button",{onClick:n,class:"btn"},"Back to dashboard")])])]))}},Ct=uy({history:U8("/"),routes:[{path:"/",name:"home",component:xb,meta:{requiresAuth:!0}},{path:"/dashboard",name:"dashboard",component:ax,meta:{requiresAuth:!0}},{path:"/agreement/:id",name:"agreement",component:oS,meta:{requiresAuth:!0}},{path:"/create-agreement",name:"create-agreement",component:bL,meta:{requiresAuth:!0}},{path:"/sign/:id",name:"sign-agreement",component:JP},{path:"/profile",name:"profile",component:YL,meta:{requiresAuth:!0}},{path:"/manage-subscription",name:"manage-subscription",component:vP,meta:{requiresAuth:!0}},{path:"/pricing",name:"pricing",component:TP},{path:"/authentication",name:"authentication",component:MP},{path:"/:pathMatch(.*)*",name:"not-found",component:YP}]}),XP={class:"navbar app-navbar"},QP={class:"container"},eN={class:"nav-links"},tN={key:0,class:"icon"},nN=["src"],sN={__name:"Navbar",setup(t){const e=he(()=>Ct.currentRoute.value.path);async function n(){await wb()}const s=nn(),r=he(()=>{var i;return(i=s.userProfile)==null?void 0:i.profilePicture});return(i,o)=>($(),H("div",XP,[g("div",QP,[Y(st(ps),{to:"/dashboard",class:"logo"},{default:Ze(()=>o[0]||(o[0]=[g("svg",{width:"58",height:"58",viewBox:"0 0 58 58",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("g",{"clip-path":"url(#clip0_14_986)"},[g("rect",{width:"58",height:"58",rx:"29",fill:"#F5FBFF"}),g("path",{d:"M4.16259 7.68165L-3.23804 29.2607L5.58257 32.2858L12.9832 10.7067L4.16259 7.68165Z",fill:"#00C79F"}),g("path",{d:"M19.3909 9.50872L18.5329 9.93069C17.4639 10.4511 16.2121 10.5214 15.1009 10.1276L13.6662 9.62125C13.5818 9.56498 13.4974 9.52279 13.413 9.49466L4.57996 6.47059C3.91888 6.24554 3.18748 6.59718 2.96243 7.25825L-4.45005 28.8487C-4.56258 29.1722 -4.53444 29.5238 -4.39379 29.8192C-4.25314 30.1146 -3.98589 30.3537 -3.66239 30.4662L5.15664 33.4903C5.29729 33.5325 5.43795 33.5606 5.56454 33.5606C6.09902 33.5606 6.59131 33.223 6.77416 32.7026L13.7647 12.364L14.2429 12.5328C16.0011 13.1517 17.9702 13.0391 19.6581 12.2234L20.5161 11.8014C21.571 11.281 22.8088 11.2106 23.9199 11.5904L40.1374 17.1744C39.9686 17.8495 39.631 18.6513 39.0121 19.0873C38.3229 19.5655 37.2962 19.5655 35.9459 19.1013L28.7162 16.6258C28.3787 16.5133 28.013 16.5414 27.7035 16.7102C27.3941 16.879 27.169 17.1744 27.0706 17.512C27.0565 17.5541 26.0579 21.2956 22.865 23.0115C20.8537 24.0946 18.35 24.1368 15.4103 23.1381C14.7493 22.9131 14.0179 23.2647 13.7928 23.9258C13.5678 24.5869 13.9194 25.3183 14.5805 25.5433C16.2683 26.12 17.8577 26.4154 19.3346 26.4154C21.0506 26.4154 22.6259 26.0356 24.0606 25.262C26.9159 23.7289 28.3927 21.0424 29.0679 19.4389L35.1019 21.5065C37.254 22.252 39.0543 22.1395 40.4468 21.169C42.6832 19.6218 42.7957 16.4852 42.8098 16.3445C42.8239 15.7819 42.4722 15.2896 41.9518 15.1068L24.7357 9.17115C23.0057 8.5804 21.0506 8.70699 19.3909 9.50872ZM4.79094 30.6631L-1.6229 28.4689L4.94566 9.29774L11.3595 11.4919L4.79094 30.6631Z",fill:"#2D2B2B"}),g("path",{d:"M44.7084 11.9243L54.7345 32.4144L63.1098 28.3163L53.0837 7.82616L44.7084 11.9243Z",fill:"#3597FF"}),g("path",{d:"M53.176 32.1119L50.152 34.8969C47.4092 37.4146 44.3148 39.5385 40.9672 41.1701L24.9186 49.0186C24.2153 49.3702 23.3573 49.0748 23.0057 48.3575C22.654 47.6542 22.9494 46.7962 23.6668 46.4446L23.8637 46.3462L32.6405 42.0562C33.2734 41.7468 33.5407 40.9872 33.2312 40.3543C32.9218 39.7213 32.1623 39.4541 31.5293 39.7635L22.7525 44.0535L18.336 46.2196C17.6327 46.5712 16.7747 46.2758 16.4231 45.5585C16.2543 45.2209 16.2261 44.8271 16.3527 44.4754C16.4793 44.1097 16.7325 43.8284 17.0701 43.6597L20.4036 42.0281L29.9399 37.3583C30.5729 37.0489 30.8401 36.2894 30.5307 35.6564C30.2212 35.0235 29.4617 34.7562 28.8288 35.0657L19.2783 39.7495L18.9126 39.9323L14.3554 42.1687C14.0179 42.3375 13.624 42.3656 13.2724 42.239C12.9067 42.1125 12.6254 41.8593 12.4566 41.5217C12.105 40.8184 12.4003 39.9604 13.1177 39.6088L14.693 38.8352L17.914 37.2599L18.8142 36.8239L26.2126 33.195C26.8455 32.8855 27.1128 32.126 26.8033 31.4931C26.4939 30.8601 25.7344 30.5929 25.1014 30.9023L17.0841 34.8266L13.5818 36.5425C12.8786 36.8801 12.0206 36.5988 11.6689 35.8815C11.5002 35.5439 11.472 35.1501 11.5986 34.7984C11.7252 34.4327 11.9784 34.1514 12.3159 33.9826L18.4344 30.9867C19.0674 30.6773 19.3346 29.9177 19.0252 29.2848C18.7157 28.6518 17.9562 28.3846 17.3232 28.694L11.2048 31.69C10.2483 32.1541 9.53099 32.9699 9.19342 33.9686C8.85585 34.9672 8.91211 36.0502 9.37627 37.0067C9.67165 37.5974 10.0936 38.0897 10.6 38.4554C9.71384 39.6229 9.4888 41.2263 10.178 42.6329C10.6422 43.5893 11.458 44.3067 12.4566 44.6442C12.8786 44.7849 13.3005 44.8552 13.7225 44.8552C13.7084 45.4882 13.835 46.1211 14.1304 46.6978C14.8196 48.1043 16.2402 48.9201 17.703 48.9201C18.2938 48.9201 18.8845 48.7935 19.4471 48.5122L20.3473 48.0762C20.3895 48.5544 20.5161 49.0186 20.7271 49.4687C21.4163 50.8752 22.8369 51.691 24.2997 51.691C24.8904 51.691 25.4812 51.5644 26.0438 51.2831L42.0925 43.4346C45.6651 41.6905 48.9564 39.44 51.882 36.7535L55.4687 33.4481L63.6829 29.4254C64.3159 29.116 64.5831 28.3565 64.2737 27.7235L54.2309 7.25831C54.0762 6.94887 53.823 6.72383 53.4995 6.6113C53.176 6.49878 52.8244 6.52691 52.529 6.66756L44.146 10.7606C43.5131 11.07 43.2458 11.8296 43.5553 12.4625L53.176 32.1119ZM52.5009 9.52285L61.4043 27.7376L55.314 30.7195L46.4106 12.5047L52.5009 9.52285Z",fill:"#2D2B2B"})]),g("defs",null,[g("clipPath",{id:"clip0_14_986"},[g("rect",{width:"58",height:"58",rx:"29",fill:"white"})])])],-1),g("span",{class:"logo-text"}," My Agreements ",-1)])),_:1}),g("nav",eN,[o[4]||(o[4]=g("a",{href:"mailto:contact@my-agreements.com",class:"link-item hint--bottom","aria-label":"Contact Us"},[g("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.7501 12.725C24.3626 8.75 22.0126 2.5 14.7501 2.5C7.48756 2.5 5.13756 8.75 4.75006 12.725C3.3907 13.2409 2.49404 14.546 2.50003 16V17.75C2.50003 19.683 4.06706 21.25 6.00006 21.25C7.93306 21.25 9.50006 19.683 9.50006 17.75V16C9.49377 14.5774 8.63005 13.2991 7.31256 12.7625C7.56256 10.4625 8.78756 5 14.7501 5C20.7126 5 21.9251 10.4625 22.1751 12.7625C20.8602 13.3003 20.0009 14.5794 20.0001 16V17.75C20.0055 19.0937 20.7771 20.3166 21.9876 20.9C21.4626 21.8875 20.1251 23.225 16.8376 23.625C16.1804 22.6271 14.909 22.2337 13.8031 22.6861C12.6972 23.1385 12.066 24.3102 12.2967 25.4825C12.5273 26.6549 13.5552 27.5 14.7501 27.5C15.6942 27.4948 16.5549 26.9581 16.9751 26.1125C22.3376 25.5 24.0501 22.7375 24.5876 21.1125C26.0417 20.6415 27.0197 19.2784 27.0001 17.75V16C27.0061 14.546 26.1094 13.2409 24.7501 12.725ZM7.00006 17.75C7.00006 18.3023 6.55234 18.75 6.00006 18.75C5.44777 18.75 5.00006 18.3023 5.00006 17.75V16C5.00006 15.6427 5.19066 15.3126 5.50006 15.134C5.80946 14.9553 6.19066 14.9553 6.50006 15.134C6.80946 15.3126 7.00006 15.6427 7.00006 16V17.75ZM22.5001 16C22.5001 15.4477 22.9478 15 23.5001 15C24.0523 15 24.5001 15.4477 24.5001 16V17.75C24.5001 18.3023 24.0523 18.75 23.5001 18.75C22.9478 18.75 22.5001 18.3023 22.5001 17.75V16Z",fill:"#003366"})])],-1)),e.value!=="/dashboard"?($(),De(st(ps),{key:0,to:"/dashboard",class:"dashboard-nav-item hint--bottom","aria-label":"Dashboard"},{default:Ze(()=>o[1]||(o[1]=[g("div",{class:"icon"},[g("svg",{width:"45",height:"46",viewBox:"0 0 45 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("rect",{y:"0.5",width:"45",height:"45",rx:"22.5",fill:"url(#paint0_radial_139_48)"}),g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.6017 15.9352C24.3332 16.2037 24.3332 16.6358 24.3332 17.5C24.3332 18.3643 24.3332 18.7964 24.6017 19.0649C24.8702 19.3334 25.3023 19.3334 26.1665 19.3334H27.9998C28.8641 19.3334 29.2962 19.3334 29.5647 19.0649C29.8332 18.7964 29.8332 18.3643 29.8332 17.5C29.8332 16.6358 29.8332 16.2037 29.5647 15.9352C29.2962 15.6667 28.8641 15.6667 27.9998 15.6667H26.1665C25.3023 15.6667 24.8702 15.6667 24.6017 15.9352ZM15.435 26.9352C15.1665 27.2037 15.1665 27.6358 15.1665 28.5C15.1665 29.3643 15.1665 29.7964 15.435 30.0649C15.7035 30.3334 16.1356 30.3334 16.9998 30.3334H18.8332C19.6974 30.3334 20.1295 30.3334 20.398 30.0649C20.6665 29.7964 20.6665 29.3643 20.6665 28.5C20.6665 27.6358 20.6665 27.2037 20.398 26.9352C20.1295 26.6667 19.6974 26.6667 18.8332 26.6667H16.9998C16.1356 26.6667 15.7035 26.6667 15.435 26.9352ZM24.3332 24.8334C24.3332 23.9691 24.3332 23.537 24.6017 23.2685C24.8702 23 25.3023 23 26.1665 23H27.9998C28.8641 23 29.2962 23 29.5647 23.2685C29.8332 23.537 29.8332 23.9691 29.8332 24.8334V28.5C29.8332 29.3643 29.8332 29.7964 29.5647 30.0649C29.2962 30.3334 28.8641 30.3334 27.9998 30.3334H26.1665C25.3023 30.3334 24.8702 30.3334 24.6017 30.0649C24.3332 29.7964 24.3332 29.3643 24.3332 28.5V24.8334ZM15.435 15.9352C15.1665 16.2037 15.1665 16.6358 15.1665 17.5V21.1667C15.1665 22.0309 15.1665 22.463 15.435 22.7315C15.7035 23 16.1356 23 16.9998 23H18.8332C19.6974 23 20.1295 23 20.398 22.7315C20.6665 22.463 20.6665 22.0309 20.6665 21.1667V17.5C20.6665 16.6358 20.6665 16.2037 20.398 15.9352C20.1295 15.6667 19.6974 15.6667 18.8332 15.6667H16.9998C16.1356 15.6667 15.7035 15.6667 15.435 15.9352Z",fill:"white"}),g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.9211 16.4213L15.9234 16.4201C15.9251 16.4191 15.9282 16.4177 15.9328 16.4158C15.9528 16.4075 15.9971 16.3935 16.0856 16.3816C16.2788 16.3557 16.5483 16.3542 16.9998 16.3542H18.8332C19.2847 16.3542 19.5542 16.3557 19.7474 16.3816C19.8359 16.3935 19.8802 16.4075 19.9002 16.4158C19.9048 16.4177 19.9079 16.4191 19.9096 16.4201L19.9119 16.4213L19.9131 16.4236C19.9141 16.4253 19.9155 16.4284 19.9174 16.433C19.9257 16.453 19.9397 16.4973 19.9516 16.5858C19.9776 16.779 19.979 17.0485 19.979 17.5V21.1667C19.979 21.6182 19.9776 21.8877 19.9516 22.0809C19.9397 22.1694 19.9257 22.2138 19.9174 22.2337C19.9155 22.2384 19.9141 22.2414 19.9131 22.2431L19.9119 22.2454L19.9096 22.2466C19.9079 22.2476 19.9048 22.2491 19.9002 22.2509C19.8802 22.2592 19.8359 22.2732 19.7474 22.2851C19.5542 22.3111 19.2847 22.3125 18.8332 22.3125H16.9998C16.5483 22.3125 16.2788 22.3111 16.0856 22.2851C15.9971 22.2732 15.9528 22.2592 15.9328 22.2509C15.9282 22.2491 15.9251 22.2476 15.9234 22.2466L15.9211 22.2454L15.9199 22.2431C15.919 22.2414 15.9175 22.2384 15.9156 22.2337C15.9074 22.2138 15.8933 22.1694 15.8814 22.0809C15.8555 21.8877 15.854 21.6182 15.854 21.1667V17.5C15.854 17.0485 15.8555 16.779 15.8814 16.5858C15.8933 16.4973 15.9074 16.453 15.9156 16.433C15.9175 16.4284 15.919 16.4253 15.9199 16.4236L15.9211 16.4213ZM16.9588 14.9792C16.9725 14.9792 16.9861 14.9792 16.9998 14.9792H18.8332C18.8469 14.9792 18.8606 14.9792 18.8742 14.9792C19.2709 14.9791 19.6347 14.9791 19.9306 15.0189C20.2565 15.0627 20.6009 15.1658 20.8841 15.449C21.1675 15.7323 21.2705 16.0767 21.3143 16.4026C21.3541 16.6985 21.3541 17.0623 21.354 17.459C21.354 17.4727 21.354 17.4863 21.354 17.5V21.1667C21.354 21.1804 21.354 21.1941 21.354 21.2078C21.3541 21.6045 21.3541 21.9682 21.3143 22.2641C21.2705 22.59 21.1675 22.9344 20.8841 23.2176C20.6009 23.501 20.2565 23.604 19.9306 23.6478C19.6347 23.6876 19.2709 23.6876 18.8742 23.6875C18.8606 23.6875 18.8469 23.6875 18.8332 23.6875H16.9998C16.9861 23.6875 16.9725 23.6875 16.9588 23.6875C16.5621 23.6876 16.1983 23.6876 15.9024 23.6478C15.5765 23.604 15.2321 23.501 14.9489 23.2176C14.6656 22.9344 14.5625 22.59 14.5187 22.2641C14.4789 21.9682 14.479 21.6045 14.479 21.2078C14.479 21.1941 14.479 21.1804 14.479 21.1667V17.5C14.479 17.4863 14.479 17.4726 14.479 17.459C14.479 17.0623 14.4789 16.6985 14.5187 16.4026C14.5625 16.0767 14.6656 15.7323 14.9489 15.449C15.2321 15.1658 15.5765 15.0627 15.9024 15.0189C16.1983 14.9791 16.5621 14.9791 16.9588 14.9792ZM25.0901 16.4201L25.0878 16.4213L25.0866 16.4236C25.0857 16.4253 25.0841 16.4284 25.0823 16.433C25.074 16.453 25.06 16.4973 25.0481 16.5858C25.0221 16.779 25.0207 17.0485 25.0207 17.5C25.0207 17.9516 25.0221 18.2211 25.0481 18.4143C25.06 18.5028 25.074 18.5471 25.0823 18.5671C25.083 18.5689 25.0843 18.5719 25.0843 18.5719C25.0852 18.5739 25.0866 18.5765 25.0866 18.5765L25.0878 18.5787L25.0901 18.58C25.0918 18.5809 25.0948 18.5824 25.0995 18.5843C25.1194 18.5925 25.1638 18.6065 25.2523 18.6184C25.4455 18.6444 25.715 18.6459 26.1665 18.6459H27.9998C28.4514 18.6459 28.7209 18.6444 28.914 18.6184C29.0026 18.6065 29.0469 18.5925 29.0668 18.5843C29.0715 18.5824 29.0745 18.5809 29.0763 18.58L29.0786 18.5787L29.0798 18.5765C29.0807 18.5747 29.0822 18.5717 29.0841 18.5671C29.0923 18.5471 29.1063 18.5028 29.1183 18.4143C29.1442 18.2211 29.1457 17.9516 29.1457 17.5C29.1457 17.0485 29.1442 16.779 29.1183 16.5858C29.1063 16.4973 29.0923 16.453 29.0841 16.433C29.0822 16.4284 29.0807 16.4253 29.0798 16.4236L29.0786 16.4213L29.0763 16.4201C29.0745 16.4191 29.0715 16.4177 29.0668 16.4158C29.0469 16.4075 29.0026 16.3935 28.914 16.3816C28.7209 16.3557 28.4514 16.3542 27.9998 16.3542H26.1665C25.715 16.3542 25.4455 16.3557 25.2523 16.3816C25.1638 16.3935 25.1194 16.4075 25.0995 16.4158C25.0948 16.4177 25.0918 16.4191 25.0901 16.4201ZM26.1255 14.9792H28.0408C28.4376 14.9791 28.8014 14.9791 29.0973 15.0189C29.4231 15.0627 29.7675 15.1658 30.0508 15.449C30.3341 15.7323 30.4372 16.0767 30.481 16.4026C30.5208 16.6985 30.5208 17.0623 30.5207 17.459V17.541C30.5208 17.9378 30.5208 18.3016 30.481 18.5975C30.4372 18.9233 30.3341 19.2677 30.0508 19.551C29.7675 19.8343 29.4231 19.9374 29.0973 19.9812C28.8014 20.021 28.4376 20.0209 28.0408 20.0209H26.1255C25.7287 20.0209 25.365 20.021 25.0691 19.9812C24.7432 19.9374 24.3988 19.8343 24.1156 19.551C23.8322 19.2677 23.7292 18.9233 23.6854 18.5975C23.6456 18.3016 23.6456 17.9378 23.6457 17.541C23.6457 17.5274 23.6457 17.5137 23.6457 17.5C23.6457 17.4863 23.6457 17.4727 23.6457 17.459C23.6456 17.0623 23.6456 16.6985 23.6854 16.4026C23.7292 16.0767 23.8322 15.7323 24.1156 15.449C24.3988 15.1658 24.7432 15.0627 25.0691 15.0189C25.365 14.9791 25.7287 14.9791 26.1255 14.9792ZM26.1255 22.3125H28.0408C28.4376 22.3125 28.8014 22.3124 29.0973 22.3522C29.4231 22.396 29.7675 22.4991 30.0508 22.7824C30.3341 23.0657 30.4372 23.41 30.481 23.7359C30.5208 24.0318 30.5208 24.3956 30.5207 24.7924V28.5411C30.5208 28.9378 30.5208 29.3016 30.481 29.5975C30.4372 29.9233 30.3341 30.2677 30.0508 30.551C29.7675 30.8343 29.4231 30.9373 29.0973 30.9812C28.8014 31.0209 28.4376 31.0209 28.0408 31.0209H26.1255C25.7287 31.0209 25.365 31.0209 25.0691 30.9812C24.7432 30.9373 24.3988 30.8343 24.1156 30.551C23.8322 30.2677 23.7292 29.9233 23.6854 29.5975C23.6456 29.3016 23.6456 28.9378 23.6457 28.5411V24.8334C23.6457 24.8197 23.6457 24.8059 23.6457 24.7924C23.6456 24.3956 23.6456 24.0318 23.6854 23.7359C23.7292 23.41 23.8322 23.0657 24.1156 22.7824C24.3988 22.4991 24.7432 22.396 25.0691 22.3522C25.365 22.3124 25.7287 22.3125 26.1255 22.3125ZM25.0901 23.7534L25.0878 23.7546L25.0866 23.7569C25.0857 23.7587 25.0841 23.7617 25.0823 23.7664C25.074 23.7863 25.06 23.8306 25.0481 23.9192C25.0221 24.1123 25.0207 24.3818 25.0207 24.8334V28.5C25.0207 28.9516 25.0221 29.2211 25.0481 29.4142C25.06 29.5028 25.074 29.5471 25.0823 29.567C25.0841 29.5717 25.0857 29.5747 25.0866 29.5765L25.0878 29.5788L25.0901 29.5799C25.0918 29.581 25.0948 29.5824 25.0995 29.5843C25.1194 29.5925 25.1638 29.6065 25.2523 29.6184C25.4455 29.6444 25.715 29.6459 26.1665 29.6459H27.9998C28.4514 29.6459 28.7209 29.6444 28.914 29.6184C29.0026 29.6065 29.0469 29.5925 29.0668 29.5843C29.0715 29.5824 29.0745 29.581 29.0763 29.5799L29.0786 29.5788L29.0798 29.5765C29.0807 29.5747 29.0822 29.5717 29.0841 29.567C29.0923 29.5471 29.1063 29.5028 29.1183 29.4142C29.1442 29.2211 29.1457 28.9516 29.1457 28.5V24.8334C29.1457 24.3818 29.1442 24.1123 29.1183 23.9192C29.1063 23.8306 29.0923 23.7863 29.0841 23.7664C29.083 23.7636 29.082 23.7614 29.0812 23.7597L29.0798 23.7569L29.0786 23.7546L29.0763 23.7534C29.0745 23.7525 29.0715 23.751 29.0668 23.7491C29.0469 23.7409 29.0026 23.7268 28.914 23.7149C28.7209 23.689 28.4514 23.6875 27.9998 23.6875H26.1665C25.715 23.6875 25.4455 23.689 25.2523 23.7149C25.1638 23.7268 25.1194 23.7409 25.0995 23.7491C25.0948 23.751 25.0918 23.7525 25.0901 23.7534ZM15.9234 27.4201L15.9211 27.4213L15.9199 27.4236C15.919 27.4253 15.9175 27.4283 15.9156 27.433C15.9074 27.453 15.8933 27.4973 15.8814 27.5858C15.8555 27.779 15.854 28.0485 15.854 28.5C15.854 28.9516 15.8555 29.2211 15.8814 29.4142C15.8933 29.5028 15.9074 29.5471 15.9156 29.567C15.9175 29.5717 15.919 29.5747 15.9199 29.5765L15.9211 29.5788L15.9234 29.5799C15.9251 29.581 15.9282 29.5824 15.9328 29.5843C15.9528 29.5925 15.9971 29.6065 16.0856 29.6184C16.2788 29.6444 16.5483 29.6459 16.9998 29.6459H18.8332C19.2847 29.6459 19.5542 29.6444 19.7474 29.6184C19.8359 29.6065 19.8802 29.5925 19.9002 29.5843C19.9025 29.5833 19.906 29.5818 19.906 29.5818L19.9096 29.5799L19.9119 29.5788L19.9131 29.5765L19.9145 29.5738C19.9153 29.5721 19.9163 29.5699 19.9174 29.567C19.9257 29.5471 19.9397 29.5028 19.9516 29.4142C19.9776 29.2211 19.979 28.9516 19.979 28.5C19.979 28.0485 19.9776 27.779 19.9516 27.5858C19.9397 27.4973 19.9257 27.453 19.9174 27.433C19.9155 27.4283 19.9141 27.4253 19.9131 27.4236L19.9119 27.4213L19.9096 27.4201C19.9079 27.4192 19.9048 27.4176 19.9002 27.4158C19.8802 27.4075 19.8359 27.3935 19.7474 27.3816C19.5542 27.3557 19.2847 27.3542 18.8332 27.3542H16.9998C16.5483 27.3542 16.2788 27.3557 16.0856 27.3816C15.9971 27.3935 15.9528 27.4075 15.9328 27.4158C15.9282 27.4176 15.9251 27.4192 15.9234 27.4201ZM16.9588 25.9792H18.8742C19.2709 25.9792 19.6347 25.9791 19.9306 26.0189C20.2565 26.0627 20.6009 26.1657 20.8841 26.4491C21.1675 26.7323 21.2705 27.0767 21.3143 27.4026C21.3541 27.6985 21.3541 28.0622 21.354 28.459V28.5411C21.3541 28.9378 21.3541 29.3016 21.3143 29.5975C21.2705 29.9233 21.1675 30.2677 20.8841 30.551C20.6009 30.8343 20.2565 30.9373 19.9306 30.9812C19.6347 31.0209 19.2709 31.0209 18.8742 31.0209H16.9588C16.5621 31.0209 16.1983 31.0209 15.9024 30.9812C15.5765 30.9373 15.2321 30.8343 14.9489 30.551C14.6656 30.2677 14.5625 29.9233 14.5187 29.5975C14.4789 29.3016 14.479 28.9378 14.479 28.5411V28.459C14.479 28.0622 14.4789 27.6985 14.5187 27.4026C14.5625 27.0767 14.6656 26.7323 14.9489 26.4491C15.2321 26.1657 15.5765 26.0627 15.9024 26.0189C16.1983 25.9791 16.5621 25.9792 16.9588 25.9792Z",fill:"white"}),g("defs",null,[g("radialGradient",{id:"paint0_radial_139_48",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(13.5 14.3) rotate(73.9092) scale(32.4721)"},[g("stop",{"stop-color":"#78E7EB"}),g("stop",{offset:"1","stop-color":"#A0CEFF"})])])])],-1)])),_:1})):($(),De(st(ps),{key:1,to:"/profile",class:"dashboard-nav-item hint--bottom","aria-label":"Profile"},{default:Ze(()=>[r.value?($(),H("img",{key:1,src:r.value,style:{height:"45px",width:"45px","border-radius":"50%","box-shadow":"0px 1px 0 1px rgba(0, 0, 0, 0.2)"},alt:"User profile picture"},null,8,nN)):($(),H("div",tN,o[2]||(o[2]=[g("svg",{width:"45",height:"46",viewBox:"0 0 45 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("rect",{y:"0.5",width:"45",height:"45",rx:"22.5",fill:"#DAE6FF"}),g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.2095 17.4573C17.2095 14.5353 19.5782 12.1666 22.5002 12.1666C25.4222 12.1666 27.7909 14.5353 27.7909 17.4573C27.7909 20.3793 25.4222 22.748 22.5002 22.748C19.5782 22.748 17.2095 20.3793 17.2095 17.4573Z",fill:"#003366"}),g("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.6899 29.6223C14.6899 26.6606 17.0909 24.2596 20.0526 24.2596H24.9475C27.9091 24.2596 30.3101 26.6606 30.3101 29.6223C30.3101 31.948 28.4248 33.8333 26.0991 33.8333H18.9009C16.5753 33.8333 14.6899 31.948 14.6899 29.6223Z",fill:"#003366"})],-1)])))]),_:1})),g("div",{onClick:n,class:"dashboard-nav-item hint--bottom","aria-label":"Logout"},o[3]||(o[3]=[et('<div class="icon"><svg width="45" height="46" viewBox="0 0 45 46" fill="none" xmlns="http://www.w3.org/2000/svg"><rect y="0.5" width="45" height="45" rx="22.5" fill="#F5F5F5"></rect><path d="M25.0001 23H14.1667M14.1667 23L17.0834 20.5M14.1667 23L17.0834 25.5" stroke="#1C274C" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"></path><path d="M20.0017 18.8334C20.0118 17.0208 20.0922 16.0392 20.7325 15.3989C21.4648 14.6667 22.6433 14.6667 25.0003 14.6667H25.8336C28.1906 14.6667 29.3692 14.6667 30.1013 15.3989C30.8336 16.1312 30.8336 17.3097 30.8336 19.6667V26.3334C30.8336 28.6904 30.8336 29.8689 30.1013 30.6011C29.461 31.2414 28.4794 31.3219 26.6668 31.3319M20.0017 27.1667C20.0118 28.9792 20.0922 29.9608 20.7325 30.6011C21.2669 31.1355 22.039 31.2799 23.3334 31.3189" stroke="#1C274C" stroke-width="1.25" stroke-linecap="round"></path></svg></div>',1)]))])])]))}},rN={class:"navbar app-navbar"},iN={class:"container"},oN={__name:"NavbarNoAuth",setup(t){return(e,n)=>($(),H("div",rN,[g("div",iN,[Y(st(ps),{to:"/authentication",class:"logo"},{default:Ze(()=>n[0]||(n[0]=[g("svg",{width:"58",height:"58",viewBox:"0 0 58 58",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("g",{"clip-path":"url(#clip0_14_986)"},[g("rect",{width:"58",height:"58",rx:"29",fill:"#F5FBFF"}),g("path",{d:"M4.16259 7.68165L-3.23804 29.2607L5.58257 32.2858L12.9832 10.7067L4.16259 7.68165Z",fill:"#00C79F"}),g("path",{d:"M19.3909 9.50872L18.5329 9.93069C17.4639 10.4511 16.2121 10.5214 15.1009 10.1276L13.6662 9.62125C13.5818 9.56498 13.4974 9.52279 13.413 9.49466L4.57996 6.47059C3.91888 6.24554 3.18748 6.59718 2.96243 7.25825L-4.45005 28.8487C-4.56258 29.1722 -4.53444 29.5238 -4.39379 29.8192C-4.25314 30.1146 -3.98589 30.3537 -3.66239 30.4662L5.15664 33.4903C5.29729 33.5325 5.43795 33.5606 5.56454 33.5606C6.09902 33.5606 6.59131 33.223 6.77416 32.7026L13.7647 12.364L14.2429 12.5328C16.0011 13.1517 17.9702 13.0391 19.6581 12.2234L20.5161 11.8014C21.571 11.281 22.8088 11.2106 23.9199 11.5904L40.1374 17.1744C39.9686 17.8495 39.631 18.6513 39.0121 19.0873C38.3229 19.5655 37.2962 19.5655 35.9459 19.1013L28.7162 16.6258C28.3787 16.5133 28.013 16.5414 27.7035 16.7102C27.3941 16.879 27.169 17.1744 27.0706 17.512C27.0565 17.5541 26.0579 21.2956 22.865 23.0115C20.8537 24.0946 18.35 24.1368 15.4103 23.1381C14.7493 22.9131 14.0179 23.2647 13.7928 23.9258C13.5678 24.5869 13.9194 25.3183 14.5805 25.5433C16.2683 26.12 17.8577 26.4154 19.3346 26.4154C21.0506 26.4154 22.6259 26.0356 24.0606 25.262C26.9159 23.7289 28.3927 21.0424 29.0679 19.4389L35.1019 21.5065C37.254 22.252 39.0543 22.1395 40.4468 21.169C42.6832 19.6218 42.7957 16.4852 42.8098 16.3445C42.8239 15.7819 42.4722 15.2896 41.9518 15.1068L24.7357 9.17115C23.0057 8.5804 21.0506 8.70699 19.3909 9.50872ZM4.79094 30.6631L-1.6229 28.4689L4.94566 9.29774L11.3595 11.4919L4.79094 30.6631Z",fill:"#2D2B2B"}),g("path",{d:"M44.7084 11.9243L54.7345 32.4144L63.1098 28.3163L53.0837 7.82616L44.7084 11.9243Z",fill:"#3597FF"}),g("path",{d:"M53.176 32.1119L50.152 34.8969C47.4092 37.4146 44.3148 39.5385 40.9672 41.1701L24.9186 49.0186C24.2153 49.3702 23.3573 49.0748 23.0057 48.3575C22.654 47.6542 22.9494 46.7962 23.6668 46.4446L23.8637 46.3462L32.6405 42.0562C33.2734 41.7468 33.5407 40.9872 33.2312 40.3543C32.9218 39.7213 32.1623 39.4541 31.5293 39.7635L22.7525 44.0535L18.336 46.2196C17.6327 46.5712 16.7747 46.2758 16.4231 45.5585C16.2543 45.2209 16.2261 44.8271 16.3527 44.4754C16.4793 44.1097 16.7325 43.8284 17.0701 43.6597L20.4036 42.0281L29.9399 37.3583C30.5729 37.0489 30.8401 36.2894 30.5307 35.6564C30.2212 35.0235 29.4617 34.7562 28.8288 35.0657L19.2783 39.7495L18.9126 39.9323L14.3554 42.1687C14.0179 42.3375 13.624 42.3656 13.2724 42.239C12.9067 42.1125 12.6254 41.8593 12.4566 41.5217C12.105 40.8184 12.4003 39.9604 13.1177 39.6088L14.693 38.8352L17.914 37.2599L18.8142 36.8239L26.2126 33.195C26.8455 32.8855 27.1128 32.126 26.8033 31.4931C26.4939 30.8601 25.7344 30.5929 25.1014 30.9023L17.0841 34.8266L13.5818 36.5425C12.8786 36.8801 12.0206 36.5988 11.6689 35.8815C11.5002 35.5439 11.472 35.1501 11.5986 34.7984C11.7252 34.4327 11.9784 34.1514 12.3159 33.9826L18.4344 30.9867C19.0674 30.6773 19.3346 29.9177 19.0252 29.2848C18.7157 28.6518 17.9562 28.3846 17.3232 28.694L11.2048 31.69C10.2483 32.1541 9.53099 32.9699 9.19342 33.9686C8.85585 34.9672 8.91211 36.0502 9.37627 37.0067C9.67165 37.5974 10.0936 38.0897 10.6 38.4554C9.71384 39.6229 9.4888 41.2263 10.178 42.6329C10.6422 43.5893 11.458 44.3067 12.4566 44.6442C12.8786 44.7849 13.3005 44.8552 13.7225 44.8552C13.7084 45.4882 13.835 46.1211 14.1304 46.6978C14.8196 48.1043 16.2402 48.9201 17.703 48.9201C18.2938 48.9201 18.8845 48.7935 19.4471 48.5122L20.3473 48.0762C20.3895 48.5544 20.5161 49.0186 20.7271 49.4687C21.4163 50.8752 22.8369 51.691 24.2997 51.691C24.8904 51.691 25.4812 51.5644 26.0438 51.2831L42.0925 43.4346C45.6651 41.6905 48.9564 39.44 51.882 36.7535L55.4687 33.4481L63.6829 29.4254C64.3159 29.116 64.5831 28.3565 64.2737 27.7235L54.2309 7.25831C54.0762 6.94887 53.823 6.72383 53.4995 6.6113C53.176 6.49878 52.8244 6.52691 52.529 6.66756L44.146 10.7606C43.5131 11.07 43.2458 11.8296 43.5553 12.4625L53.176 32.1119ZM52.5009 9.52285L61.4043 27.7376L55.314 30.7195L46.4106 12.5047L52.5009 9.52285Z",fill:"#2D2B2B"})]),g("defs",null,[g("clipPath",{id:"clip0_14_986"},[g("rect",{width:"58",height:"58",rx:"29",fill:"white"})])])],-1),g("span",{class:"logo-text"}," My Agreements ",-1)])),_:1}),Y(st(ps),{to:"/authentication",class:"btn btn-sm"},{default:Ze(()=>n[1]||(n[1]=[ke(" Login ")])),_:1})])]))}},lN={__name:"App",setup(t){const e=nn(),n=he(()=>e.user),s=un(),r=he(()=>s.globalLoading);return(i,o)=>($(),H(Le,null,[r.value?($(),De(k6,{key:0})):de("",!0),n.value?($(),De(sN,{key:1})):($(),De(oN,{key:2})),Y(st(b6))],64))}},Qi=Oa(lN);Qi.directive("gradientbg",{mounted(t){t.classList.add("gredient-bg");const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("class","bg-shapes"),e.setAttribute("width","1440"),e.setAttribute("height","1450"),e.setAttribute("viewBox","0 0 1440 1450"),e.setAttribute("fill","none"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.innerHTML=`<g opacity="0.7" filter="url(#filter0_f_13_380)">
        <circle cx="523.5" cy="630.5" r="313.5" fill="#3597FF"/>
        </g>
        <g opacity="0.48" filter="url(#filter1_f_13_380)">
        <circle cx="864.5" cy="819.5" r="313.5" fill="#00C79F"/>
        </g>
        <defs>
        <filter id="filter0_f_13_380" x="-106.1" y="0.899994" width="1259.2" height="1259.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
        <feGaussianBlur stdDeviation="158.05" result="effect1_foregroundBlur_13_380"/>
        </filter>
        <filter id="filter1_f_13_380" x="234.9" y="189.9" width="1259.2" height="1259.2" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
        <feFlood flood-opacity="0" result="BackgroundImageFix"/>
        <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
        <feGaussianBlur stdDeviation="158.05" result="effect1_foregroundBlur_13_380"/>
        </filter>
        </defs>`,t.prepend(e),t.addEventListener("mousemove",n=>{const s=t.getBoundingClientRect(),r=(n.clientX-s.left)/s.width*2-1,i=(n.clientY-s.top)/s.height*2-1;e.style.transform=`translateX(-${parseInt(50-r*15)}%) translateY(-${parseInt(50-i*15)}%)`})}});Qi.directive("scrollreveal",{mounted(t){new IntersectionObserver(n=>{n.forEach(s=>{s.isIntersecting?s.target.classList.add("visible-in-view"):s.target.classList.remove("visible-in-view")})},{threshold:.5,rootMargin:"0px 0px -10% 0px"}).observe(t)}});Qi.use(yy());Qi.use(Ct);Qi.use(zb);Qi.mount("#app");const js=nn(),Zu=un();Ee.onAuthStateChanged(async t=>{if(t){if(js.setUser(t),Ct.currentRoute.value.name==="home"||Ct.currentRoute.value.name==="authentication"){const e=Ct.currentRoute.value.query.auth_rdr;e?Ct.push(e):Ct.push("/dashboard")}try{const e=await Nb();if(!e.success&&e.message==="not found"){js.setUserProfile(null),Zu.setGlobalLoading(!1),Ct.push("/profile");return}if(!e.success&&e.message==="not subscribed"){js.setUserProfile(null),Zu.setGlobalLoading(!1),Ct.push("/pricing");return}e.success||alert(e.message||"Failed to get user profile"),js.setUserProfile(e.content.profile),js.setSubscription(e.content.subscription)}catch(e){console.error(e),alert("Failed to get user profile")}}else js.setUser(null),Ct.currentRoute.value.meta.requiresAuth&&Ct.push("/authentication?auth_rdr="+Ct.currentRoute.value.fullPath);console.log("auth state changed"),Zu.setGlobalLoading(!1)});Ct.beforeEach((t,e,n)=>{const s=t.matched.some(r=>r.meta.requiresAuth);if(js.user&&(t.name==="home"||t.name==="authentication"))return n("/dashboard");if(s&&!js.user)return n("/authentication?auth_rdr="+t.fullPath);n()});
